{"version":3,"file":"request-818fa7bf.js","sources":["../../node_modules/@arcgis/core/core/workers/request.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../Error.js\";import{unwrap as t}from\"../maybe.js\";let s;function r(r,a){let n=a.responseType;n?\"array-buffer\"!==n&&\"blob\"!==n&&\"json\"!==n&&\"native\"!==n&&\"native-request-init\"!==n&&\"text\"!==n&&(n=\"text\"):n=\"json\",a.responseType=n;const o=t(a.signal);return delete a.signal,globalThis.invokeStaticMessage(\"request\",{url:r,options:a},{signal:o}).then((async t=>{let i,l,u,c,p;if(t.data)if(t.data instanceof ArrayBuffer){if(!(\"json\"!==n&&\"text\"!==n&&\"blob\"!==n||(i=new Blob([t.data]),\"json\"!==n&&\"text\"!==n||(s||(s=new FileReaderSync),c=s.readAsText(i),\"json\"!==n)))){try{l=JSON.parse(c||null)}catch(b){const t={...b,url:r,requestOptions:a};throw new e(\"request:server\",b.message,t)}if(l.error){const t={...l.error,url:r,requestOptions:a};throw new e(\"request:server\",l.error.message,t)}}}else\"native\"===n&&(t.data.signal=o,u=await fetch(t.data.url,t.data),t.httpStatus=u.status);switch(n){case\"blob\":p=i;break;case\"json\":p=l;break;case\"native\":p=u;break;case\"text\":p=c;break;default:p=t.data}return{data:p,httpStatus:t.httpStatus,requestOptions:a,ssl:t.ssl,url:r}}))}export{r as execute};\n"],"names":["s","r","a","n","o","t","l","u","c","p","b","e"],"mappings":"+CAIgE,IAAIA,EAAE,SAASC,EAAEA,EAAEC,EAAE,CAAC,IAAIC,EAAED,EAAE,aAAaC,EAAmBA,IAAjB,gBAA6BA,IAAT,QAAqBA,IAAT,QAAuBA,IAAX,UAAsCA,IAAxB,uBAAoCA,IAAT,SAAaA,EAAE,QAAQA,EAAE,OAAOD,EAAE,aAAaC,EAAE,MAAMC,EAAEC,EAAEH,EAAE,MAAM,EAAE,OAAO,OAAOA,EAAE,OAAO,WAAW,oBAAoB,UAAU,CAAC,IAAID,EAAE,QAAQC,CAAC,EAAE,CAAC,OAAOE,CAAC,CAAC,EAAE,KAAM,MAAM,GAAG,CAAC,IAAI,EAAEE,EAAEC,EAAEC,EAAEC,EAAE,GAAG,EAAE,KAAK,GAAG,EAAE,gBAAgB,aAAa,GAAG,EAAWN,IAAT,QAAqBA,IAAT,QAAqBA,IAAT,SAAa,EAAE,IAAI,KAAK,CAAC,EAAE,IAAI,CAAC,EAAWA,IAAT,QAAqBA,IAAT,SAAaH,IAAIA,EAAE,IAAI,gBAAgBQ,EAAER,EAAE,WAAW,CAAC,EAAWG,IAAT,UAAc,CAAC,GAAG,CAACG,EAAE,KAAK,MAAME,GAAG,IAAI,CAAC,OAAOE,EAAN,CAAS,MAAML,EAAE,CAAC,GAAGK,EAAE,IAAIT,EAAE,eAAeC,CAAC,EAAE,MAAM,IAAIS,EAAE,iBAAiBD,EAAE,QAAQL,CAAC,CAAC,CAAC,GAAGC,EAAE,MAAM,CAAC,MAAMD,EAAE,CAAC,GAAGC,EAAE,MAAM,IAAIL,EAAE,eAAeC,CAAC,EAAE,MAAM,IAAIS,EAAE,iBAAiBL,EAAE,MAAM,QAAQD,CAAC,CAAC,CAAC,OAAiBF,IAAX,WAAe,EAAE,KAAK,OAAOC,EAAEG,EAAE,MAAM,MAAM,EAAE,KAAK,IAAI,EAAE,IAAI,EAAE,EAAE,WAAWA,EAAE,QAAQ,OAAOJ,GAAG,IAAI,OAAOM,EAAE,EAAE,MAAM,IAAI,OAAOA,EAAEH,EAAE,MAAM,IAAI,SAASG,EAAEF,EAAE,MAAM,IAAI,OAAOE,EAAED,EAAE,MAAM,QAAQC,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,KAAKA,EAAE,WAAW,EAAE,WAAW,eAAeP,EAAE,IAAI,EAAE,IAAI,IAAID,CAAC,CAAC,CAAG,CAAA"}