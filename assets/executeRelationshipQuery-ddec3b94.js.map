{"version":3,"file":"executeRelationshipQuery-ddec3b94.js","sources":["../../node_modules/@arcgis/core/rest/query/operations/queryRelatedRecords.js","../../node_modules/@arcgis/core/rest/query/executeRelationshipQuery.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{mapParameters as t}from\"../../operations/urlUtils.js\";function o(e,t){const o=e.toJSON();return o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(o.orderByFields=o.orderByFields.join(\",\")),o.outFields&&!t?.returnCountOnly?o.outFields.includes(\"*\")?o.outFields=\"*\":o.outFields=o.outFields.join(\",\"):delete o.outFields,o.outSpatialReference&&(o.outSR=o.outSR.wkid||JSON.stringify(o.outSR.toJSON()),delete o.outSpatialReference),o.dynamicDataSource&&(o.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o}async function r(e,t,o){const r=await s(e,t,o),n=r.data,a=n.geometryType,d=n.spatialReference,c={};for(const s of n.relatedRecordGroups){const e={fields:void 0,objectIdFieldName:void 0,geometryType:a,spatialReference:d,hasZ:!!n.hasZ,hasM:!!n.hasM,features:s.relatedRecords};if(null!=s.objectId)c[s.objectId]=e;else for(const t in s)s.hasOwnProperty(t)&&\"relatedRecords\"!==t&&(c[s[t]]=e)}return{...r,data:c}}async function n(e,t,o){const r=await s(e,t,o,{returnCountOnly:!0}),n=r.data,a={};for(const s of n.relatedRecordGroups)null!=s.objectId&&(a[s.objectId]=s.count);return{...r,data:a}}async function s(r,n,s={},a){const d=t({...r.query,f:\"json\",...a,...o(n,a)});return e(r.path+\"/queryRelatedRecords\",{...s,query:{...s.query,...d}})}export{r as executeRelationshipQuery,n as executeRelationshipQueryForCount,o as toQueryStringParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{parseUrl as t}from\"../utils.js\";import{executeRelationshipQuery as r,executeRelationshipQueryForCount as e}from\"./operations/queryRelatedRecords.js\";import o from\"../support/FeatureSet.js\";import s from\"../support/RelationshipQuery.js\";async function n(e,n,u){n=s.from(n);const a=t(e);return r(a,n,u).then((t=>{const r=t.data,e={};return Object.keys(r).forEach((t=>e[t]=o.fromJSON(r[t]))),e}))}async function u(r,o,n){o=s.from(o);const u=t(r);return e(u,o,{...n}).then((t=>t.data))}export{n as executeRelationshipQuery,u as executeRelationshipQueryForCount};\n"],"names":["o","e","r","s","n","a","d","t","u"],"mappings":"wEAIgG,SAASA,EAAEC,EAAE,EAAE,CAAC,MAAMD,EAAEC,EAAE,OAAQ,EAAC,OAAOD,EAAE,YAAYA,EAAE,UAAUA,EAAE,UAAU,KAAK,GAAG,GAAGA,EAAE,gBAAgBA,EAAE,cAAcA,EAAE,cAAc,KAAK,GAAG,GAAGA,EAAE,WAAW,EAAC,WAAG,iBAAgBA,EAAE,UAAU,SAAS,GAAG,EAAEA,EAAE,UAAU,IAAIA,EAAE,UAAUA,EAAE,UAAU,KAAK,GAAG,EAAE,OAAOA,EAAE,UAAUA,EAAE,sBAAsBA,EAAE,MAAMA,EAAE,MAAM,MAAM,KAAK,UAAUA,EAAE,MAAM,OAAQ,CAAA,EAAE,OAAOA,EAAE,qBAAqBA,EAAE,oBAAoBA,EAAE,MAAM,KAAK,UAAU,CAAC,OAAOA,EAAE,iBAAiB,CAAC,EAAE,OAAOA,EAAE,mBAAmBA,CAAC,CAAC,eAAeE,EAAED,EAAE,EAAED,EAAE,CAAC,MAAME,EAAE,MAAMC,EAAEF,EAAE,EAAED,CAAC,EAAEI,EAAEF,EAAE,KAAKG,EAAED,EAAE,aAAaE,EAAEF,EAAE,iBAAiB,EAAE,CAAE,EAAC,UAAUD,KAAKC,EAAE,oBAAoB,CAAC,MAAMH,EAAE,CAAC,OAAO,OAAO,kBAAkB,OAAO,aAAaI,EAAE,iBAAiBC,EAAE,KAAK,CAAC,CAACF,EAAE,KAAK,KAAK,CAAC,CAACA,EAAE,KAAK,SAASD,EAAE,cAAc,EAAE,GAASA,EAAE,UAAR,KAAiB,EAAEA,EAAE,QAAQ,EAAEF,MAAO,WAAUM,KAAKJ,EAAEA,EAAE,eAAeI,CAAC,GAAsBA,IAAnB,mBAAuB,EAAEJ,EAAEI,CAAC,CAAC,EAAEN,EAAE,CAAC,MAAM,CAAC,GAAGC,EAAE,KAAK,CAAC,CAAC,CAAC,eAAeE,EAAEH,EAAE,EAAED,EAAE,CAAC,MAAME,EAAE,MAAMC,EAAEF,EAAE,EAAED,EAAE,CAAC,gBAAgB,EAAE,CAAC,EAAEI,EAAEF,EAAE,KAAKG,EAAE,GAAG,UAAUF,KAAKC,EAAE,oBAA0BD,EAAE,UAAR,OAAmBE,EAAEF,EAAE,QAAQ,EAAEA,EAAE,OAAO,MAAM,CAAC,GAAGD,EAAE,KAAKG,CAAC,CAAC,CAAC,eAAeF,EAAE,EAAEC,EAAED,EAAE,CAAA,EAAGE,EAAE,CAAC,MAAMC,EAAEC,EAAE,CAAC,GAAG,EAAE,MAAM,EAAE,OAAO,GAAGF,EAAE,GAAGL,EAAEI,EAAEC,CAAC,CAAC,CAAC,EAAE,OAAOJ,EAAE,EAAE,KAAK,uBAAuB,CAAC,GAAGE,EAAE,MAAM,CAAC,GAAGA,EAAE,MAAM,GAAGG,CAAC,CAAC,CAAC,CAAC,CCA1jC,eAAeF,EAAEH,EAAEG,EAAEI,EAAE,CAACJ,EAAED,EAAE,KAAKC,CAAC,EAAE,MAAMC,EAAEE,EAAEN,CAAC,EAAE,OAAOC,EAAEG,EAAED,EAAEI,CAAC,EAAE,KAAMD,GAAG,CAAC,MAAML,EAAEK,EAAE,KAAKN,EAAE,CAAE,EAAC,OAAO,OAAO,KAAKC,CAAC,EAAE,QAASK,GAAGN,EAAEM,CAAC,EAAEP,EAAE,SAASE,EAAEK,CAAC,CAAC,CAAC,EAAGN,CAAC,CAAG,CAAA,CAAC,eAAeO,EAAE,EAAER,EAAEI,EAAE,CAACJ,EAAEG,EAAE,KAAKH,CAAC,EAAE,MAAMQ,EAAED,EAAE,CAAC,EAAE,OAAON,EAAEO,EAAER,EAAE,CAAC,GAAGI,CAAC,CAAC,EAAE,KAAMG,GAAGA,EAAE,IAAM,CAAA"}