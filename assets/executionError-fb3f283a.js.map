{"version":3,"file":"executionError-fb3f283a.js","sources":["../../node_modules/@arcgis/core/arcade/executionError.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nvar e;!function(e){e.AsyncNotEnabled=\"AsyncNotEnabled\",e.ModulesNotSupported=\"ModulesNotSupported\",e.CircularModules=\"CircularModules\",e.NeverReach=\"NeverReach\",e.UnsupportedHashType=\"UnsupportedHashType\",e.InvalidParameter=\"InvalidParameter\",e.UnexpectedToken=\"UnexpectedToken\",e.Unrecognised=\"Unrecognised\",e.UnrecognisedType=\"UnrecognisedType\",e.MaximumCallDepth=\"MaximumCallDepth\",e.BooleanConditionRequired=\"BooleanConditionRequired\",e.TypeNotAllowedInFeature=\"TypeNotAllowedInFeature\",e.KeyMustBeString=\"KeyMustBeString\",e.WrongNumberOfParameters=\"WrongNumberOfParameters\",e.CallNonFunction=\"CallNonFunction\",e.NoFunctionInTemplateLiteral=\"NoFunctionInTemplateLiteral\",e.NoFunctionInDictionary=\"NoFunctionInDictionary\",e.NoFunctionInArray=\"NoFunctionInArray\",e.AssignModuleFunction=\"AssignModuleFunction\",e.LogicExpressionOrAnd=\"LogicExpressionOrAnd\",e.LogicalExpressionOnlyBoolean=\"LogicalExpressionOnlyBoolean\",e.FuncionNotFound=\"FunctionNotFound\",e.InvalidMemberAccessKey=\"InvalidMemberAccessKey\",e.UnsupportedUnaryOperator=\"UnsupportUnaryOperator\",e.InvalidIdentifier=\"InvalidIdentifier\",e.MemberOfNull=\"MemberOfNull\",e.UnsupportedOperator=\"UnsupportedOperator\",e.Cancelled=\"Cancelled\",e.ModuleAccessorMustBeString=\"ModuleAccessorMustBeString\",e.ModuleExportNotFound=\"ModuleExportNotFound\",e.Immutable=\"Immutable\",e.OutOfBounds=\"OutOfBounds\",e.IllegalResult=\"IllegalResult\",e.FieldNotFound=\"FieldNotFound\",e.PortalRequired=\"PortalRequired\",e.LogicError=\"LogicError\",e.ArrayAccessorMustBeNumber=\"ArrayAccessMustBeNumber\",e.KeyAccessorMustBeString=\"KeyAccessorMustBeString\",e.WrongSpatialReference=\"WrongSpatialReference\"}(e||(e={}));const r={[e.TypeNotAllowedInFeature]:\"Feature attributes only support dates, numbers, strings, guids.\",[e.LogicError]:\"Logic error - {reason}\",[e.NeverReach]:\"Encountered unreachable logic\",[e.AsyncNotEnabled]:\"Async Arcade must be enabled for this script\",[e.ModuleAccessorMustBeString]:\"Module accessor must be a string\",[e.ModuleExportNotFound]:\"Module has no export with provided identifier\",[e.ModulesNotSupported]:\"Current profile does not support modules\",[e.ArrayAccessorMustBeNumber]:\"Array accessor must be a number\",[e.FuncionNotFound]:\"Function not found\",[e.FieldNotFound]:\"Key not found - {key}\",[e.CircularModules]:\"Circular module dependencies are not allowed\",[e.Cancelled]:\"Execution cancelled\",[e.UnsupportedHashType]:\"Type not supported in hash function\",[e.IllegalResult]:\"Value is not a supported return type\",[e.PortalRequired]:\"Portal is required\",[e.InvalidParameter]:\"Invalid parameter\",[e.WrongNumberOfParameters]:\"Call with wrong number of parameters\",[e.Unrecognised]:\"Unrecognised code structure\",[e.UnrecognisedType]:\"Unrecognised type\",[e.WrongSpatialReference]:\"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference\",[e.BooleanConditionRequired]:\"Conditions must use booleans\",[e.NoFunctionInDictionary]:\"Dictionaries cannot contain functions.\",[e.NoFunctionInArray]:\"Arrays cannot contain functions.\",[e.NoFunctionInTemplateLiteral]:\"Template Literals do not expect functions by value.\",[e.KeyAccessorMustBeString]:\"Accessor must be a string\",[e.KeyMustBeString]:\"Object keys must be a string\",[e.Immutable]:\"Object is immutable\",[e.InvalidParameter]:\"Invalid parameter\",[e.UnexpectedToken]:\"Unexpected token\",[e.MemberOfNull]:\"Cannot access property of null object\",[e.MaximumCallDepth]:\"Exceeded maximum function depth\",[e.OutOfBounds]:\"Out of bounds\",[e.InvalidIdentifier]:\"Identifier not recognised\",[e.FuncionNotFound]:\"Function not found\",[e.CallNonFunction]:\"Expression is not a function\",[e.InvalidMemberAccessKey]:\"Cannot access value using a key of this type\",[e.AssignModuleFunction]:\"Cannot assign function to module variable\",[e.UnsupportedUnaryOperator]:\"Unsupported unary operator\",[e.UnsupportedOperator]:\"Unsupported operator\",[e.LogicalExpressionOnlyBoolean]:\"Logical expressions must be boolean\",[e.LogicExpressionOrAnd]:\"Logical expression can only be combined with || or &&\"};class o extends Error{constructor(...e){super(...e)}}class n extends o{constructor(e,r){super(a(r)+e.message,{cause:e}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,n),r&&r.loc&&(this.loc=r.loc)}}class t extends Error{constructor(e,o,n,s){super(\"Execution error - \"+a(n)+i(r[o],s)),this.loc=null,this.declaredRootClass=\"esri.arcade.arcadeexecutionerror\",Error.captureStackTrace&&Error.captureStackTrace(this,t),n&&n.loc&&(this.loc=n.loc)}}function a(e){return e&&e.loc?`Line : ${e.loc.start?.line}, ${e.loc.start?.column}: `:\"\"}class s extends Error{constructor(e,o,n,t){super(\"Compilation error - \"+a(n)+i(r[o],t)),this.loc=null,this.declaredRootClass=\"esri.arcade.arcadecompilationerror\",Error.captureStackTrace&&Error.captureStackTrace(this,s),n&&n.loc&&(this.loc=n.loc)}}class c extends Error{constructor(){super(\"Uncompilable code structures\"),this.declaredRootClass=\"esri.arcade.arcadeuncompilableerror\",Error.captureStackTrace&&Error.captureStackTrace(this,c)}}function i(e,r){try{if(!r)return e;for(const o in r){let n=r[o];n||(n=\"\"),e=e.replace(\"{\"+o+\"}\",r[o])}}catch(o){}return e}function u(e,r,o){return\"esri.arcade.arcadeexecutionerror\"===o.declaredRootClass||\"esri.arcade.arcadecompilationerror\"===o.declaredRootClass?null===o.loc&&r&&r.loc?new n(o,{cause:o}):o:(\"esri.arcade.featureset.support.featureseterror\"===o.declaredRootClass||\"esri.arcade.featureset.support.sqlerror\"===o.declaredRootClass||o.declaredRootClass,r&&r.loc?new n(o,{cause:o}):o)}var l;!function(e){e.UnrecognisedUri=\"UnrecognisedUri\",e.UnsupportedUriProtocol=\"UnsupportedUriProtocol\"}(l||(l={}));const d={[l.UnrecognisedUri]:\"Unrecognised uri - {uri}\",[l.UnsupportedUriProtocol]:\"Unrecognised uri protocol\"};class p extends Error{constructor(e,r){super(i(d[e],r)),this.declaredRootClass=\"esri.arcade.arcademoduleerror\",Error.captureStackTrace&&Error.captureStackTrace(this,p)}}function m(e,o,n){return\"Parsing error - \"+a(e)+i(r[o],n)}export{s as ArcadeCompilationError,t as ArcadeExecutionError,c as ArcadeUncompilableError,o as ErrorWithCause,e as ExecutionErrorCodes,r as ExecutionErrorMessages,n as LocatableArcadeExecutionError,p as ModuleError,l as ModuleErrorCodes,d as ModuleErrorMessages,i as doSubstitutions,u as ensureArcadeExecutionError,m as parsingValidationMessage};\n"],"names":["e","r","o","n","a","t","s","i","_a","_b","c","u","l","d","p"],"mappings":"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"}