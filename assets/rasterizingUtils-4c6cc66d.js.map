{"version":3,"file":"rasterizingUtils-4c6cc66d.js","sources":["../../node_modules/@arcgis/core/symbols/cim/rasterizingUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{packFloatRGBA as o}from\"../../core/floatRGBA.js\";import{nextPowerOfTwo as t}from\"../../core/mathUtils.js\";const a=o=>\"vertical\"===o||\"horizontal\"===o||\"cross\"===o||\"esriSFSCross\"===o||\"esriSFSVertical\"===o||\"esriSFSHorizontal\"===o;function r(o,r,e){const i=t(Math.ceil(e)),n=a(r)?8*i:16*i,s=2*i;o.width=n,o.height=n;const l=o.getContext(\"2d\");l.strokeStyle=\"#FFFFFF\",l.lineWidth=i,l.beginPath(),\"vertical\"!==r&&\"cross\"!==r&&\"esriSFSCross\"!==r&&\"esriSFSVertical\"!==r||(l.moveTo(n/2,-s),l.lineTo(n/2,n+s)),\"horizontal\"!==r&&\"cross\"!==r&&\"esriSFSCross\"!==r&&\"esriSFSHorizontal\"!==r||(l.moveTo(-s,n/2),l.lineTo(n+s,n/2)),\"forward-diagonal\"!==r&&\"diagonal-cross\"!==r&&\"esriSFSDiagonalCross\"!==r&&\"esriSFSForwardDiagonal\"!==r||(l.moveTo(-s,-s),l.lineTo(n+s,n+s),l.moveTo(n-s,-s),l.lineTo(n+s,s),l.moveTo(-s,n-s),l.lineTo(s,n+s)),\"backward-diagonal\"!==r&&\"diagonal-cross\"!==r&&\"esriSFSBackwardDiagonal\"!==r&&\"esriSFSDiagonalCross\"!==r||(l.moveTo(n+s,-s),l.lineTo(-s,n+s),l.moveTo(s,-s),l.lineTo(-s,s),l.moveTo(n+s,n-s),l.lineTo(n-s,n+s)),l.stroke();const h=l.getImageData(0,0,o.width,o.height),c=new Uint8Array(h.data);let m;for(let t=0;t<c.length;t+=4)m=c[t+3]/255,c[t]=c[t]*m,c[t+1]=c[t+1]*m,c[t+2]=c[t+2]*m;return[c,o.width,o.height]}function e(t,a){const r=\"Butt\"===a,e=\"Square\"===a,i=!r&&!e;t.length%2==1&&(t=[...t,...t]);const n=15.5,s=2*n;let l=0;for(const o of t)l+=o;const h=Math.round(l*n),c=new Float32Array(h*s),m=.5*n;let S=0,F=0,g=.5,T=!0;for(const o of t){for(S=F,F+=o*n;g<=F;){let o=.5;for(;o<s;){const t=(o-.5)*h+g-.5,a=i?(o-n)*(o-n):Math.abs(o-n);c[t]=T?r?Math.max(Math.max(S+m-g,a),Math.max(g-F+m,a)):a:i?Math.min((g-S)*(g-S)+a,(g-F)*(g-F)+a):e?Math.min(Math.max(g-S,a),Math.max(F-g,a)):Math.min(Math.max(g-S+m,a),Math.max(F+m-g,a)),o++}g++}T=!T}const d=c.length,f=new Uint8Array(4*d);for(let M=0;M<d;++M){const t=(i?Math.sqrt(c[M]):c[M])/n;o(t,f,4*M)}return[f,h,s]}export{e as rasterizeDash,r as rasterizeSimpleFill};\n"],"names":["a","o","r","e","i","t","n","s","l","h","c","m","S","F","g","T","d","f","M"],"mappings":"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"}