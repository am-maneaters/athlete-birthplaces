{"version":3,"file":"ogcFeatureUtils-48fa8cf9.js","sources":["../../node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{isNone as i,unwrapOr as r,isSome as a}from\"../../core/maybe.js\";import{WGS84 as o}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as s}from\"../../geometry/support/webMercatorUtils.js\";import{convertToFeatureSet as l,convertToGeometry as c,convertFromGeometry as d}from\"../graphics/featureConversionUtils.js\";import u from\"../graphics/OptimizedFeatureSet.js\";import{validateGeoJSON as m,inferLayerProperties as p,createOptimizedFeatures as f}from\"../graphics/sources/geojson/geojson.js\";import{createDrawingInfo as g}from\"../graphics/sources/support/clientSideDefaults.js\";import y from\"../support/FieldsIndex.js\";import{kebabDict as w}from\"../support/fieldType.js\";import b from\"../../geometry/SpatialReference.js\";const h=n.getLogger(\"esri.layers.graphics.sources.ogcfeature\"),j=\"http://www.opengis.net/def/crs/\",F=`${j}OGC/1.3/CRS84`;async function I(n,r,a={},o=5){const{links:s}=n,l=D(s,\"items\",\"application/geo+json\")||D(s,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(i(l))throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{data:c}=await e(l.href,{signal:a.signal,query:{limit:o,...a.customParameters,token:a.apiKey},headers:{accept:\"application/geo+json\"}});await m(c);const d=p(c,{geometryType:r.geometryType}),u=r.fields||d.fields||[],f=null!=r.hasZ?r.hasZ:d.hasZ,b=d.geometryType,j=r.objectIdField||d.objectIdFieldName||\"OBJECTID\";let F=r.timeInfo;const I=u.find((({name:e})=>e===j));if(I)I.editable=!1,I.nullable=!1;else{if(!d.objectIdFieldType)throw new t(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");u.unshift({name:j,alias:j,type:\"number\"===d.objectIdFieldType?\"esriFieldTypeOID\":\"esriFieldTypeString\",editable:!1,nullable:!1})}if(j!==d.objectIdFieldName){const e=u.find((({name:e})=>e===d.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}u===d.fields&&d.unknownFields.length>0&&h.warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:d.unknownFields}});for(const e of u){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new t(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:e});if(!w.jsonValues.includes(e.type))throw new t(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}if(F){const e=new y(u);if(F.startTimeField){const t=e.get(F.startTimeField);t?(F.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):F.startTimeField=null}if(F.endTimeField){const t=e.get(F.endTimeField);t?(F.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):F.endTimeField=null}if(F.trackIdField){const t=e.get(F.trackIdField);t?F.trackIdField=t.name:(F.trackIdField=null,h.warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:F}}))}F.startTimeField||F.endTimeField||(h.warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:F}}),F=null)}return{drawingInfo:b?g(b):null,extent:W(n),geometryType:b,fields:u,hasZ:!!f,objectIdField:j,timeInfo:F}}async function T(n,r={}){const{links:a}=n,o=D(a,\"data\",\"application/json\")||D(a,\"http://www.opengis.net/def/rel/ogc/1.0/data\",\"application/json\");if(i(o))throw new t(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:s,customParameters:l,signal:c}=r,{data:d}=await e(o.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:s}});return d}async function k(n,r={}){const{links:a}=n,o=D(a,\"conformance\",\"application/json\")||D(a,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",\"application/json\");if(i(o))throw new t(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:s,customParameters:l,signal:c}=r,{data:d}=await e(o.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:s}});return d}async function x(t,n={}){const{apiKey:i,customParameters:r,signal:a}=n,{data:o}=await e(t,{signal:a,headers:{accept:\"application/json\"},query:{...r,token:i}});return o}async function S(t,n={}){const r=\"application/vnd.oai.openapi+json;version=3.0\",a=D(t.links,\"service-desc\",r);if(i(a))return h.warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:o,customParameters:s,signal:l}=n,{data:c}=await e(a.href,{signal:l,headers:{accept:r},query:{...s,token:o}});return c}function v(e){const t=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e)?.groups;if(!t)return null;const{authority:n,code:i}=t;switch(n.toLowerCase()){case\"ogc\":switch(i.toLowerCase()){case\"crs27\":return b.GCS_NAD_1927.wkid;case\"crs83\":return 4269;case\"crs84\":case\"crs84h\":return b.WGS84.wkid;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(i,10);return Number.isNaN(e)?null:e}default:return null}}async function N(e,t,n){const i=await q(e,t,n);return l(i)}async function q(n,l,m){const{collection:p,layerDefinition:g,maxRecordCount:y,queryParameters:{apiKey:w,customParameters:h},spatialReference:j,supportedCrs:F}=n,{links:I}=p,T=D(I,\"items\",\"application/geo+json\")||D(I,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(i(T))throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:k,num:x,start:S,timeExtent:v,where:N}=l;if(l.objectIds)throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with objectids are not supported\");const q=b.fromJSON(j),O=r(l.outSpatialReference,q),C=O.isWGS84?null:R(O,F),W=G(k,F),P=M(v),Z=$(N),K=x??(null!=S&&void 0!==S?10:y),{data:L}=await e(T.href,{...m,query:{...h,...W,crs:C,datetime:P,query:Z,limit:K,startindex:S,token:w},headers:{accept:\"application/geo+json\"}});let J=!1;if(L.links){const e=L.links.find((e=>\"next\"===e.rel));J=!!e}!J&&Number.isInteger(L.numberMatched)&&Number.isInteger(L.numberReturned)&&(J=L.numberReturned<L.numberMatched);const{fields:z,geometryType:A,hasZ:E,objectIdField:U}=g,_=f(L,{geometryType:A,hasZ:E,objectIdField:U});if(!C&&O.isWebMercator)for(const e of _)if(a(e.geometry)&&null!=A){const t=c(e.geometry,A,E,!1);t.spatialReference=b.WGS84,e.geometry=d(s(t,O))}for(const e of _)e.objectId=e.attributes[U];const B=C||!C&&O.isWebMercator?O.toJSON():o,Q=new u;return Q.exceededTransferLimit=J,Q.features=_,Q.fields=z,Q.geometryType=A,Q.hasZ=E,Q.objectIdFieldName=U,Q.spatialReference=B,Q}function O(e){return a(e)&&\"extent\"===e.type}function R(e,t){const{isWebMercator:n,wkid:i}=e;if(!i)return null;const r=n?t[3857]??t[102100]??t[102113]??t[900913]:t[e.wkid];return r?`${j}${r}`:null}function C(e){if(i(e))return\"\";const{xmin:t,ymin:n,xmax:r,ymax:a}=e;return`${t},${n},${r},${a}`}function M(e){if(i(e))return null;const{start:t,end:n}=e;return`${a(t)?t.toISOString():\"..\"}/${a(n)?n.toISOString():\"..\"}`}function $(e){return i(e)||!e||\"1=1\"===e?null:e}function G(e,t){if(!O(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:C(e)};const i=R(n,t);return a(i)?{bbox:C(e),\"bbox-crs\":i}:n.isWebMercator?{bbox:C(s(e,b.WGS84))}:null}function W(e){const t=e.extent?.spatial;if(!t)return null;const n=t.bbox[0],i=4===n.length,r=n[0],a=n[1],o=i?void 0:n[2];return{xmin:r,ymin:a,xmax:i?n[2]:n[3],ymax:i?n[3]:n[4],zmin:o,zmax:i?void 0:n[5],spatialReference:b.WGS84.toJSON()}}function D(e,t,n){return e.find((e=>e.rel===t&&e.type===n))||e.find((e=>e.rel===t&&!e.type))}export{F as crsDefault,j as crsPrefix,I as getCollectionDefinition,T as getServerCollections,k as getServerConformance,x as getServerLandingPage,S as getServerOpenApi,v as getSpatialReferenceWkid,N as queryFeatureSetJSON,q as queryOptimizedFeatureSet};\n"],"names":["h","n","j","F","I","r","a","o","s","D","i","t","c","e","m","d","p","f","b","w","y","g","W","T","k","x","S","l","v","_a","N","q","O","C","R","G","P","M","Z","$","K","L","J","A","E","U","_","B","Q","u"],"mappings":"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"}