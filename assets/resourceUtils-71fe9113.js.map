{"version":3,"file":"resourceUtils-71fe9113.js","sources":["../../node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{TextureEncodingMimeType as e}from\"../../webgl-engine/lib/basicInterfaces.js\";class n{constructor(n){this.data=n,this.type=\"encoded-mesh-texture\",this.encoding=e.KTX2_ENCODING}}function t(e){return\"encoded-mesh-texture\"===e?.type}async function r(e){return new Promise(((n,t)=>{const r=new Blob([e]),o=new FileReader;o.onload=()=>{const e=o.result;n(JSON.parse(e))},o.onerror=e=>{t(e)},o.readAsText(r)}))}async function o(t,r){return r===e.KTX2_ENCODING?new n(t):new Promise(((e,n)=>{const o=new Blob([t],{type:r}),s=URL.createObjectURL(o),c=new Image,d=()=>{URL.revokeObjectURL(s),\"decode\"in c?c.decode().then((()=>e(c)),(()=>e(c))).then(a):(e(c),a())},i=e=>{URL.revokeObjectURL(s),n(e),a()},a=()=>{c.removeEventListener(\"load\",d),c.removeEventListener(\"error\",i)};c.addEventListener(\"load\",d),c.addEventListener(\"error\",i),c.src=s}))}export{n as EncodedMeshTexture,o as imageFromBinaryData,t as isEncodedMeshTexture,r as jsonFromBinaryData};\n"],"names":["n","e","t","r","o","s","c","d","a","i"],"mappings":"kDAIoF,MAAMA,CAAC,CAAC,YAAYA,EAAE,CAAC,KAAK,KAAKA,EAAE,KAAK,KAAK,uBAAuB,KAAK,SAASC,EAAE,aAAa,CAAC,CAAC,SAASC,EAAED,EAAE,CAAC,OAA+BA,GAAA,YAAAA,EAAG,QAA5B,sBAAgC,CAAC,eAAeE,EAAEF,EAAE,CAAC,OAAO,IAAI,QAAS,CAACD,EAAEE,IAAI,CAAC,MAAMC,EAAE,IAAI,KAAK,CAACF,CAAC,CAAC,EAAE,EAAE,IAAI,WAAW,EAAE,OAAO,IAAI,CAAC,MAAMA,EAAE,EAAE,OAAOD,EAAE,KAAK,MAAMC,CAAC,CAAC,CAAC,EAAE,EAAE,QAAQA,GAAG,CAACC,EAAED,CAAC,CAAC,EAAE,EAAE,WAAWE,CAAC,CAAC,EAAG,CAAC,eAAeC,EAAEF,EAAE,EAAE,CAAC,OAAO,IAAID,EAAE,cAAc,IAAID,EAAEE,CAAC,EAAE,IAAI,QAAS,CAACD,EAAED,IAAI,CAAC,MAAM,EAAE,IAAI,KAAK,CAACE,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,EAAEG,EAAE,IAAI,gBAAgB,CAAC,EAAEC,EAAE,IAAI,MAAMC,EAAE,IAAI,CAAC,IAAI,gBAAgBF,CAAC,EAAE,WAAWC,EAAEA,EAAE,OAAQ,EAAC,KAAM,IAAIL,EAAEK,CAAC,EAAI,IAAIL,EAAEK,CAAC,CAAC,EAAG,KAAKE,CAAC,GAAGP,EAAEK,CAAC,EAAEE,EAAG,EAAC,EAAEC,EAAER,GAAG,CAAC,IAAI,gBAAgBI,CAAC,EAAEL,EAAEC,CAAC,EAAEO,EAAC,CAAE,EAAEA,EAAE,IAAI,CAACF,EAAE,oBAAoB,OAAOC,CAAC,EAAED,EAAE,oBAAoB,QAAQG,CAAC,CAAC,EAAEH,EAAE,iBAAiB,OAAOC,CAAC,EAAED,EAAE,iBAAiB,QAAQG,CAAC,EAAEH,EAAE,IAAID,CAAC,CAAG,CAAA"}