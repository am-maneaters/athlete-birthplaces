{"version":3,"file":"wfsUtils-da183044.js","sources":["../../node_modules/@arcgis/core/layers/ogc/dateUtils.js","../../node_modules/@arcgis/core/layers/ogc/wfsUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nfunction e(e){return t(e)??n(e)}function n(e){const n=new Date(e).getTime();return Number.isNaN(n)?null:n}function t(e){const n=s.exec(e);if(!n?.groups)return null;const t=n.groups,u=+t.year,o=+t.month-1,r=+t.day,f=+(t.hours??\"0\"),i=+(t.minutes??\"0\"),d=+(t.seconds??\"0\");if(f>23)return null;if(i>59)return null;if(d>59)return null;const l=t.ms??\"0\",c=l?+l.padEnd(3,\"0\").substring(0,3):0;let a;if(t.isUTC)a=Date.UTC(u,o,r,f,i,d,c);else if(t.offsetSign){const e=+t.offsetHours,n=+t.offsetMinutes;a=6e4*(\"+\"===t.offsetSign?-1:1)*(60*e+n)+Date.UTC(u,o,r,f,i,d,c)}else a=new Date(u,o,r,f,i,d,c).getTime();return Number.isNaN(a)?null:a}const s=/^(?:(?<year>-?\\d{4,})-(?<month>\\d{2})-(?<day>\\d{2}))(?:T(?<hours>\\d{2}):(?<minutes>\\d{2}):(?<seconds>\\d{2})(?:\\.(?<ms>\\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\\+|-)(?<offsetHours>\\d{2}):(?<offsetMinutes>\\d{2})))?$/;export{e as parseDate,n as parseJSDate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import{cache as r,find as n}from\"../../core/iteratorUtils.js\";import{isNone as a,isSome as o}from\"../../core/maybe.js\";import{eachAlways as s}from\"../../core/promiseUtils.js\";import{isHTTPSProtocol as i,hasSameOrigin as p,toHTTPS as u}from\"../../core/urlUtils.js\";import{initializeProjection as c,project as l}from\"../../geometry/projection.js\";import{WGS84 as m,equals as y}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as f}from\"../../geometry/support/typeUtils.js\";import{getGeometryType as d}from\"../graphics/sources/geojson/geojson.js\";import{parseDate as g}from\"./dateUtils.js\";import{visitXML as w,iterateXML as b}from\"./xmlUtils.js\";import h from\"../support/Field.js\";import T from\"../../geometry/SpatialReference.js\";import F from\"../../geometry/Extent.js\";const S=\"xlink:href\",x=\"2.0.0\",C=\"__esri_wfs_id__\",E=\"wfs-layer:getWFSLayerTypeInfo-error\",N=\"wfs-layer:empty-service\",P=\"wfs-layer:feature-type-not-found\",R=\"wfs-layer:geojson-not-supported\",j=\"wfs-layer:kvp-encoding-not-supported\",A=\"wfs-layer:malformed-json\",G=\"wfs-layer:unknown-geometry-type\",k=\"wfs-layer:unknown-field-type\",v=\"wfs-layer:unsupported-spatial-reference\",U=\"wfs-layer:unsupported-wfs-version\";async function D(t,r){const n=I((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetCapabilities\",VERSION:x,...r?.customParameters},signal:r?.signal})).data);return $(t,n),n}function I(e){const t=te(e);ne(t),ae(t);const n=t.firstElementChild,a=r(M(n));return{operations:L(n),get featureTypes(){return Array.from(a())},readFeatureTypes:a}}const O=new Set([\"json\",\"application/json\",\"geojson\",\"application/json; subtype=geojson\"]);function L(e){let r=!1;const n={GetCapabilities:{url:\"\"},DescribeFeatureType:{url:\"\"},GetFeature:{url:\"\",outputFormat:null,supportsPagination:!1}};if(w(e,{OperationsMetadata:{Operation:e=>{switch(e.getAttribute(\"name\")){case\"GetCapabilities\":return{DCP:{HTTP:{Get:e=>{n.GetCapabilities.url=e.getAttribute(S)}}}};case\"DescribeFeatureType\":return{DCP:{HTTP:{Get:e=>{n.DescribeFeatureType.url=e.getAttribute(S)}}}};case\"GetFeature\":return{DCP:{HTTP:{Get:e=>{n.GetFeature.url=e.getAttribute(S)}}},Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:e=>{const t=e.textContent;t&&O.has(t.toLowerCase())&&(n.GetFeature.outputFormat=t)}}}}}}},Constraint:e=>{switch(e.getAttribute(\"name\")){case\"KVPEncoding\":return{DefaultValue:e=>{r=\"true\"===e.textContent.toLowerCase()}};case\"ImplementsResultPaging\":return{DefaultValue:e=>{n.GetFeature.supportsPagination=\"true\"===e.textContent.toLowerCase()}}}}}}),!r)throw new t(j,\"WFS service doesn't support key/value pair (KVP) encoding\");if(a(n.GetFeature.outputFormat))throw new t(R,\"WFS service doesn't support GeoJSON output format\");return n}function $(e,t){i(e)&&(p(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=u(t.operations.DescribeFeatureType.url)),p(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=u(t.operations.GetFeature.url)))}function M(e){return b(e,{FeatureTypeList:{FeatureType:e=>{const t={typeName:\"undefined:undefined\",name:\"\",title:\"\",description:\"\",extent:null,namespacePrefix:\"\",namespaceUri:\"\",supportedSpatialReferences:[]},r=new Set([4326]),n=e=>{const t=parseInt(e.textContent?.match(/(?<wkid>\\d+$)/i)?.groups?.wkid??\"\",10);Number.isNaN(t)||r.add(t)};return w(e,{Name:e=>{const{name:r,prefix:n}=re(e.textContent);t.typeName=`${n}:${r}`,t.name=r,t.namespacePrefix=n,t.namespaceUri=e.lookupNamespaceURI(n)},Abstract:e=>{t.description=e.textContent},Title:e=>{t.title=e.textContent},WGS84BoundingBox:e=>{t.extent=V(e)},DefaultSRS:n,DefaultCRS:n,OtherSRS:n,OtherCRS:n}),t.title||(t.title=t.name),t.supportedSpatialReferences.push(...r),t}}})}function V(e){let t,r,n,a;for(const o of e.children)switch(o.localName){case\"LowerCorner\":[t,r]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)));break;case\"UpperCorner\":[n,a]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:m}}function W(e,t,r){return n(e,(e=>r?e.name===t&&e.namespaceUri===r:e.typeName===t||e.name===t))}async function X(e,t,r,n={}){const{featureType:a,extent:o}=await Y(e,t,r,n),{fields:s,geometryType:i,swapXY:p,objectIdField:u,geometryField:c}=await q(e,a.typeName,n);return{url:e.operations.GetCapabilities.url,name:a.name,namespaceUri:a.namespaceUri,fields:s,geometryField:c,geometryType:i,objectIdField:u,spatialReference:n.spatialReference??T.WGS84,extent:o,swapXY:p,wfsCapabilities:e,customParameters:n.customParameters}}async function Y(e,r,n,o={}){const{spatialReference:s=T.WGS84}=o,i=e.readFeatureTypes(),p=r?W(i,r,n):i.next().value;if(a(p))throw r?new t(P,`The type '${r}' could not be found in the service`):new t(N,\"The service is empty\");let u=new F({...p.extent,spatialReference:s});if(!y(s,m))try{await c(m,s,void 0,o),u=l(u,m)}catch{throw new t(v,\"Projection not supported\")}return{extent:u,spatialReference:s,featureType:p}}async function q(e,r,n={}){const[o,i]=await s([J(e.operations.DescribeFeatureType.url,r,n),_(e,r,n)]);if(o.error||i.error)throw new t(E,`An error occurred while getting info about the feature type '${r}'`,{error:o.error||i.error});const{fields:p,errors:u}=o.value??{},c=o.value?.geometryType||i.value?.geometryType,l=i.value?.swapXY??!1;if(a(c))throw new t(G,`The geometry type could not be determined for type '${r}`,{typeName:r,geometryType:c,fields:p,errors:u});return{...z(p??[]),geometryType:c,swapXY:l}}function z(e){const t=e.find((e=>\"geometry\"===e.type));let r=e.find((e=>\"oid\"===e.type));return e=e.filter((e=>\"geometry\"!==e.type)),r||(r=new h({name:C,type:\"oid\",alias:C}),e.unshift(r)),{geometryField:t?.name??null,objectIdField:r.name,fields:e}}async function _(t,r,n={}){let a,o=!1;const[s,i]=await Promise.all([K(t.operations.GetFeature.url,r,t.operations.GetFeature.outputFormat,{...n,count:1}),e(t.operations.GetFeature.url,{responseType:\"text\",query:Z(r,void 0,{...n,count:1}),signal:n?.signal})]),p=\"FeatureCollection\"===s.type&&s.features[0]?.geometry;if(p){let e;switch(a=f.fromJSON(d(p.type)),p.type){case\"Point\":e=p.coordinates;break;case\"LineString\":case\"MultiPoint\":e=p.coordinates[0];break;case\"MultiLineString\":case\"Polygon\":e=p.coordinates[0][0];break;case\"MultiPolygon\":e=p.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(i.data);if(t){const r=e[0].toFixed(3),n=e[1].toFixed(3),a=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===a&&(o=!0)}}return{geometryType:a,swapXY:o}}async function J(t,r,n){return Q(r,(await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"DescribeFeatureType\",VERSION:x,TYPENAME:r,...n?.customParameters},signal:n?.signal})).data)}function Q(e,r){const{name:a}=re(e),s=te(r);ae(s);const i=n(b(s.firstElementChild,{element:e=>({name:e.getAttribute(\"name\"),typeName:re(e.getAttribute(\"type\")).name})}),(({name:e})=>e===a));if(o(i)){const e=n(b(s.firstElementChild,{complexType:e=>e}),(e=>e.getAttribute(\"name\")===i.typeName));if(o(e))return B(e)}throw new t(P,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(s)})}const H=new Set([\"objectid\",\"fid\"]);function B(e){const r=[],n=[];let a;const o=b(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const s of o){const o=s.getAttribute(\"name\");if(!o)continue;let i,p;if(s.hasAttribute(\"type\")?i=re(s.getAttribute(\"type\")).name:w(s,{simpleType:{restriction:e=>(i=re(e.getAttribute(\"base\")).name,{maxLength:e=>{p=+e.getAttribute(\"value\")}})}}),!i)continue;const u=\"true\"===s.getAttribute(\"nillable\");let c=!1;switch(i.toLowerCase()){case\"integer\":case\"nonpositiveinteger\":case\"negativeinteger\":case\"long\":case\"int\":case\"short\":case\"byte\":case\"nonnegativeinteger\":case\"unsignedlong\":case\"unsignedint\":case\"unsignedshort\":case\"unsignedbyte\":case\"positiveinteger\":n.push(new h({name:o,alias:o,type:\"integer\",nullable:u}));break;case\"float\":case\"double\":case\"decimal\":n.push(new h({name:o,alias:o,type:\"double\",nullable:u}));break;case\"boolean\":case\"string\":case\"gyearmonth\":case\"gyear\":case\"gmonthday\":case\"gday\":case\"gmonth\":case\"anyuri\":case\"qname\":case\"notation\":case\"normalizedstring\":case\"token\":case\"language\":case\"idrefs\":case\"entities\":case\"nmtoken\":case\"nmtokens\":case\"name\":case\"ncname\":case\"id\":case\"idref\":case\"entity\":case\"duration\":case\"time\":n.push(new h({name:o,alias:o,type:\"string\",nullable:u,length:p??255}));break;case\"datetime\":case\"date\":n.push(new h({name:o,alias:o,type:\"date\",nullable:u,length:p??36}));break;case\"pointpropertytype\":a=\"point\",c=!0;break;case\"multipointpropertytype\":a=\"multipoint\",c=!0;break;case\"curvepropertytype\":case\"multicurvepropertytype\":case\"multilinestringpropertytype\":a=\"polyline\",c=!0;break;case\"surfacepropertytype\":case\"multisurfacepropertytype\":case\"multipolygonpropertytype\":a=\"polygon\",c=!0;break;case\"geometrypropertytype\":case\"multigeometrypropertytype\":c=!0,r.push(new t(G,`geometry type '${i}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:r.push(new t(k,`Unknown field type '${i}'`,{type:(new XMLSerializer).serializeToString(e)}))}c&&n.push(new h({name:o,alias:o,type:\"geometry\",nullable:u}))}for(const t of n)if(\"integer\"===t.type&&!t.nullable&&H.has(t.name.toLowerCase())){t.type=\"oid\";break}return{geometryType:a,fields:n,errors:r}}async function K(r,n,a,o){let{data:s}=await e(r,{responseType:\"text\",query:Z(n,a,o),signal:o?.signal});s=s.replace(/\": +(-?\\d+),(\\d+)(,)?/g,'\": $1.$2$3');try{if(o?.dateFields?.length){const e=new Set(o.dateFields);return JSON.parse(s,((t,r)=>e.has(t)?g(r):r))}return JSON.parse(s)}catch(i){throw new t(A,\"Error while parsing the response\",{response:s,error:i})}}function Z(e,t,r){return{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:x,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:\"EPSG:4326\",STARTINDEX:r?.startIndex,COUNT:r?.count,...r?.customParameters}}async function ee(t,r,n){const a=te((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:x,TYPENAMES:r,RESULTTYPE:\"hits\",...n?.customParameters},signal:n?.signal})).data);ae(a);const o=Number.parseFloat(a.firstElementChild.getAttribute(\"numberMatched\"));return Number.isNaN(o)?0:o}function te(e){return(new DOMParser).parseFromString(e.trim(),\"text/xml\")}function re(e){const[t,r]=e.split(\":\");return{prefix:r?t:\"\",name:r??t}}function ne(e){const r=e.firstElementChild?.getAttribute(\"version\");if(r&&r!==x)throw new t(U,`Unsupported WFS version ${r}. Supported version: ${x}`)}function ae(e){let r=\"\",n=\"\";if(w(e.firstElementChild,{Exception:e=>(r=e.getAttribute(\"exceptionCode\"),{ExceptionText:e=>{n=e.textContent}})}),r)throw new t(`wfs-layer:${r}`,n)}export{C as WFS_OID_FIELD_NAME,J as describeFeatureType,W as findFeatureType,D as getCapabilities,K as getFeature,ee as getFeatureCount,Y as getFeatureTypeInfo,X as getWFSLayerInfo,Q as parseDescribeFeatureTypeResponse,I as parseGetCapabilitiesResponse,z as prepareWFSLayerFields};\n"],"names":["e","t","n","s","u","o","f","d","l","a","x","C","E","N","P","R","j","A","k","v","U","D","r","I","$","te","ne","ae","M","L","O","w","i","p","b","_c","_b","_a","re","V","m","W","X","Y","q","T","F","y","c","J","_","z","h","K","Z","Q","B","H","g"],"mappings":"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"}