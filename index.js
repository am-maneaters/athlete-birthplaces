(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();function jce(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var NE={},Uce={get exports(){return NE},set exports(e){NE=e}},JI={},ye={},Bce={get exports(){return ye},set exports(e){ye=e}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_=Symbol.for("react.element"),Hce=Symbol.for("react.portal"),Gce=Symbol.for("react.fragment"),qce=Symbol.for("react.strict_mode"),Wce=Symbol.for("react.profiler"),Kce=Symbol.for("react.provider"),Yce=Symbol.for("react.context"),Jce=Symbol.for("react.forward_ref"),Zce=Symbol.for("react.suspense"),Qce=Symbol.for("react.memo"),Xce=Symbol.for("react.lazy"),Pz=Symbol.iterator;function eue(e){return e===null||typeof e!="object"?null:(e=Pz&&e[Pz]||e["@@iterator"],typeof e=="function"?e:null)}var Cq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tq=Object.assign,$q={};function R0(e,t,i){this.props=e,this.context=t,this.refs=$q,this.updater=i||Cq}R0.prototype.isReactComponent={};R0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};R0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Aq(){}Aq.prototype=R0.prototype;function sL(e,t,i){this.props=e,this.context=t,this.refs=$q,this.updater=i||Cq}var aL=sL.prototype=new Aq;aL.constructor=sL;Tq(aL,R0.prototype);aL.isPureReactComponent=!0;var Lz=Array.isArray,Mq=Object.prototype.hasOwnProperty,oL={current:null},Dq={key:!0,ref:!0,__self:!0,__source:!0};function Oq(e,t,i){var n,r={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Mq.call(t,n)&&!Dq.hasOwnProperty(n)&&(r[n]=t[n]);var o=arguments.length-2;if(o===1)r.children=i;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)r[n]===void 0&&(r[n]=o[n]);return{$$typeof:d_,type:e,key:s,ref:a,props:r,_owner:oL.current}}function tue(e,t){return{$$typeof:d_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lL(e){return typeof e=="object"&&e!==null&&e.$$typeof===d_}function iue(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var Fz=/\/+/g;function HT(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iue(""+e.key):t.toString(36)}function KS(e,t,i,n,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case d_:case Hce:a=!0}}if(a)return a=e,r=r(a),e=n===""?"."+HT(a,0):n,Lz(r)?(i="",e!=null&&(i=e.replace(Fz,"$&/")+"/"),KS(r,t,i,"",function(c){return c})):r!=null&&(lL(r)&&(r=tue(r,i+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(Fz,"$&/")+"/")+e)),t.push(r)),1;if(a=0,n=n===""?".":n+":",Lz(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+HT(s,o);a+=KS(s,t,i,l,r)}else if(l=eue(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+HT(s,o++),a+=KS(s,t,i,l,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function sx(e,t,i){if(e==null)return e;var n=[],r=0;return KS(e,n,"","",function(s){return t.call(i,s,r++)}),n}function nue(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ur={current:null},YS={transition:null},rue={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:YS,ReactCurrentOwner:oL};dt.Children={map:sx,forEach:function(e,t,i){sx(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return sx(e,function(){t++}),t},toArray:function(e){return sx(e,function(t){return t})||[]},only:function(e){if(!lL(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dt.Component=R0;dt.Fragment=Gce;dt.Profiler=Wce;dt.PureComponent=sL;dt.StrictMode=qce;dt.Suspense=Zce;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rue;dt.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Tq({},e.props),r=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=oL.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Mq.call(t,l)&&!Dq.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=i;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:d_,type:e.type,key:r,ref:s,props:n,_owner:a}};dt.createContext=function(e){return e={$$typeof:Yce,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kce,_context:e},e.Consumer=e};dt.createElement=Oq;dt.createFactory=function(e){var t=Oq.bind(null,e);return t.type=e,t};dt.createRef=function(){return{current:null}};dt.forwardRef=function(e){return{$$typeof:Jce,render:e}};dt.isValidElement=lL;dt.lazy=function(e){return{$$typeof:Xce,_payload:{_status:-1,_result:e},_init:nue}};dt.memo=function(e,t){return{$$typeof:Qce,type:e,compare:t===void 0?null:t}};dt.startTransition=function(e){var t=YS.transition;YS.transition={};try{e()}finally{YS.transition=t}};dt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};dt.useCallback=function(e,t){return Ur.current.useCallback(e,t)};dt.useContext=function(e){return Ur.current.useContext(e)};dt.useDebugValue=function(){};dt.useDeferredValue=function(e){return Ur.current.useDeferredValue(e)};dt.useEffect=function(e,t){return Ur.current.useEffect(e,t)};dt.useId=function(){return Ur.current.useId()};dt.useImperativeHandle=function(e,t,i){return Ur.current.useImperativeHandle(e,t,i)};dt.useInsertionEffect=function(e,t){return Ur.current.useInsertionEffect(e,t)};dt.useLayoutEffect=function(e,t){return Ur.current.useLayoutEffect(e,t)};dt.useMemo=function(e,t){return Ur.current.useMemo(e,t)};dt.useReducer=function(e,t,i){return Ur.current.useReducer(e,t,i)};dt.useRef=function(e){return Ur.current.useRef(e)};dt.useState=function(e){return Ur.current.useState(e)};dt.useSyncExternalStore=function(e,t,i){return Ur.current.useSyncExternalStore(e,t,i)};dt.useTransition=function(){return Ur.current.useTransition()};dt.version="18.2.0";(function(e){e.exports=dt})(Bce);const zE=jce(ye);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sue=ye,aue=Symbol.for("react.element"),oue=Symbol.for("react.fragment"),lue=Object.prototype.hasOwnProperty,cue=sue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uue={key:!0,ref:!0,__self:!0,__source:!0};function Rq(e,t,i){var n,r={},s=null,a=null;i!==void 0&&(s=""+i),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)lue.call(t,n)&&!uue.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:aue,type:e,key:s,ref:a,props:r,_owner:cue.current}}JI.Fragment=oue;JI.jsx=Rq;JI.jsxs=Rq;(function(e){e.exports=JI})(Uce);const we=NE.jsx,_i=NE.jsxs;var HM={},due={get exports(){return HM},set exports(e){HM=e}},ta={},GM={},hue={get exports(){return GM},set exports(e){GM=e}},Pq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,ge){var te=Z.length;Z.push(ge);e:for(;0<te;){var $e=te-1>>>1,Ue=Z[$e];if(0<r(Ue,ge))Z[$e]=ge,Z[te]=Ue,te=$e;else break e}}function i(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var ge=Z[0],te=Z.pop();if(te!==ge){Z[0]=te;e:for(var $e=0,Ue=Z.length,Mi=Ue>>>1;$e<Mi;){var Ot=2*($e+1)-1,lc=Z[Ot],oo=Ot+1,cc=Z[oo];if(0>r(lc,te))oo<Ue&&0>r(cc,lc)?(Z[$e]=cc,Z[oo]=te,$e=oo):(Z[$e]=lc,Z[Ot]=te,$e=Ot);else if(oo<Ue&&0>r(cc,te))Z[$e]=cc,Z[oo]=te,$e=oo;else break e}}return ge}function r(Z,ge){var te=Z.sortIndex-ge.sortIndex;return te!==0?te:Z.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,p=null,m=3,g=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Z){for(var ge=i(c);ge!==null;){if(ge.callback===null)n(c);else if(ge.startTime<=Z)n(c),ge.sortIndex=ge.expirationTime,t(l,ge);else break;ge=i(c)}}function k(Z){if(b=!1,S(Z),!y)if(i(l)!==null)y=!0,tt(A);else{var ge=i(c);ge!==null&&lt(k,ge.startTime-Z)}}function A(Z,ge){y=!1,b&&(b=!1,_(M),M=-1),g=!0;var te=m;try{for(S(ge),p=i(l);p!==null&&(!(p.expirationTime>ge)||Z&&!P());){var $e=p.callback;if(typeof $e=="function"){p.callback=null,m=p.priorityLevel;var Ue=$e(p.expirationTime<=ge);ge=e.unstable_now(),typeof Ue=="function"?p.callback=Ue:p===i(l)&&n(l),S(ge)}else n(l);p=i(l)}if(p!==null)var Mi=!0;else{var Ot=i(c);Ot!==null&&lt(k,Ot.startTime-ge),Mi=!1}return Mi}finally{p=null,m=te,g=!1}}var T=!1,C=null,M=-1,L=5,V=-1;function P(){return!(e.unstable_now()-V<L)}function J(){if(C!==null){var Z=e.unstable_now();V=Z;var ge=!0;try{ge=C(!0,Z)}finally{ge?oe():(T=!1,C=null)}}else T=!1}var oe;if(typeof x=="function")oe=function(){x(J)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,rt=se.port2;se.port1.onmessage=J,oe=function(){rt.postMessage(null)}}else oe=function(){w(J,0)};function tt(Z){C=Z,T||(T=!0,oe())}function lt(Z,ge){M=w(function(){Z(e.unstable_now())},ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,tt(A))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return i(l)},e.unstable_next=function(Z){switch(m){case 1:case 2:case 3:var ge=3;break;default:ge=m}var te=m;m=ge;try{return Z()}finally{m=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,ge){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var te=m;m=Z;try{return ge()}finally{m=te}},e.unstable_scheduleCallback=function(Z,ge,te){var $e=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?$e+te:$e):te=$e,Z){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=te+Ue,Z={id:h++,callback:ge,priorityLevel:Z,startTime:te,expirationTime:Ue,sortIndex:-1},te>$e?(Z.sortIndex=te,t(c,Z),i(l)===null&&Z===i(c)&&(b?(_(M),M=-1):b=!0,lt(k,te-$e))):(Z.sortIndex=Ue,t(l,Z),y||g||(y=!0,tt(A))),Z},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(Z){var ge=m;return function(){var te=m;m=ge;try{return Z.apply(this,arguments)}finally{m=te}}}})(Pq);(function(e){e.exports=Pq})(hue);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lq=ye,Zs=GM;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fq=new Set,lw={};function km(e,t){Xy(e,t),Xy(e+"Capture",t)}function Xy(e,t){for(lw[e]=t,e=0;e<t.length;e++)Fq.add(t[e])}var du=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qM=Object.prototype.hasOwnProperty,pue=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nz={},zz={};function fue(e){return qM.call(zz,e)?!0:qM.call(Nz,e)?!1:pue.test(e)?zz[e]=!0:(Nz[e]=!0,!1)}function mue(e,t,i,n){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gue(e,t,i,n){if(t===null||typeof t>"u"||mue(e,t,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Br(e,t,i,n,r,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Un[e]=new Br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Un[t]=new Br(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Un[e]=new Br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Un[e]=new Br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Un[e]=new Br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Un[e]=new Br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Un[e]=new Br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Un[e]=new Br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Un[e]=new Br(e,5,!1,e.toLowerCase(),null,!1,!1)});var cL=/[\-:]([a-z])/g;function uL(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cL,uL);Un[t]=new Br(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cL,uL);Un[t]=new Br(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cL,uL);Un[t]=new Br(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Un[e]=new Br(e,1,!1,e.toLowerCase(),null,!1,!1)});Un.xlinkHref=new Br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Un[e]=new Br(e,1,!1,e.toLowerCase(),null,!0,!0)});function dL(e,t,i,n){var r=Un.hasOwnProperty(t)?Un[t]:null;(r!==null?r.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gue(t,i,r,n)&&(i=null),n||r===null?fue(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):r.mustUseProperty?e[r.propertyName]=i===null?r.type===3?!1:"":i:(t=r.attributeName,n=r.attributeNamespace,i===null?e.removeAttribute(t):(r=r.type,i=r===3||r===4&&i===!0?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}var $u=Lq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ax=Symbol.for("react.element"),Xg=Symbol.for("react.portal"),ey=Symbol.for("react.fragment"),hL=Symbol.for("react.strict_mode"),WM=Symbol.for("react.profiler"),Nq=Symbol.for("react.provider"),zq=Symbol.for("react.context"),pL=Symbol.for("react.forward_ref"),KM=Symbol.for("react.suspense"),YM=Symbol.for("react.suspense_list"),fL=Symbol.for("react.memo"),Od=Symbol.for("react.lazy"),Vq=Symbol.for("react.offscreen"),Vz=Symbol.iterator;function dv(e){return e===null||typeof e!="object"?null:(e=Vz&&e[Vz]||e["@@iterator"],typeof e=="function"?e:null)}var Ii=Object.assign,GT;function sb(e){if(GT===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);GT=t&&t[1]||""}return`
`+GT+e}var qT=!1;function WT(e,t){if(!e||qT)return"";qT=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=n.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{qT=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?sb(e):""}function yue(e){switch(e.tag){case 5:return sb(e.type);case 16:return sb("Lazy");case 13:return sb("Suspense");case 19:return sb("SuspenseList");case 0:case 2:case 15:return e=WT(e.type,!1),e;case 11:return e=WT(e.type.render,!1),e;case 1:return e=WT(e.type,!0),e;default:return""}}function JM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ey:return"Fragment";case Xg:return"Portal";case WM:return"Profiler";case hL:return"StrictMode";case KM:return"Suspense";case YM:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zq:return(e.displayName||"Context")+".Consumer";case Nq:return(e._context.displayName||"Context")+".Provider";case pL:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fL:return t=e.displayName||null,t!==null?t:JM(e.type)||"Memo";case Od:t=e._payload,e=e._init;try{return JM(e(t))}catch{}}return null}function vue(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return JM(t);case 8:return t===hL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Eh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jq(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bue(e){var t=jq(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ox(e){e._valueTracker||(e._valueTracker=bue(e))}function Uq(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=jq(e)?e.checked?"true":"false":e.value),e=n,e!==i?(t.setValue(e),!0):!1}function VE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ZM(e,t){var i=t.checked;return Ii({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function jz(e,t){var i=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;i=Eh(t.value!=null?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bq(e,t){t=t.checked,t!=null&&dL(e,"checked",t,!1)}function QM(e,t){Bq(e,t);var i=Eh(t.value),n=t.type;if(i!=null)n==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?XM(e,t.type,i):t.hasOwnProperty("defaultValue")&&XM(e,t.type,Eh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uz(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function XM(e,t,i){(t!=="number"||VE(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ab=Array.isArray;function xy(e,t,i,n){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&n&&(e[i].defaultSelected=!0)}else{for(i=""+Eh(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function e3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Ii({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bz(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(ie(92));if(ab(i)){if(1<i.length)throw Error(ie(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Eh(i)}}function Hq(e,t){var i=Eh(t.value),n=Eh(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),n!=null&&(e.defaultValue=""+n)}function Hz(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gq(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gq(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lx,qq=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,n,r){MSApp.execUnsafeLocalFunction(function(){return e(t,i,n,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lx=lx||document.createElement("div"),lx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cw(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var p1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wue=["Webkit","ms","Moz","O"];Object.keys(p1).forEach(function(e){wue.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),p1[t]=p1[e]})});function Wq(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||p1.hasOwnProperty(e)&&p1[e]?(""+t).trim():t+"px"}function Kq(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var n=i.indexOf("--")===0,r=Wq(i,t[i],n);i==="float"&&(i="cssFloat"),n?e.setProperty(i,r):e[i]=r}}var _ue=Ii({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function i3(e,t){if(t){if(_ue[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function n3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r3=null;function mL(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var s3=null,Sy=null,Ey=null;function Gz(e){if(e=f_(e)){if(typeof s3!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=tC(t),s3(e.stateNode,e.type,t))}}function Yq(e){Sy?Ey?Ey.push(e):Ey=[e]:Sy=e}function Jq(){if(Sy){var e=Sy,t=Ey;if(Ey=Sy=null,Gz(e),t)for(e=0;e<t.length;e++)Gz(t[e])}}function Zq(e,t){return e(t)}function Qq(){}var KT=!1;function Xq(e,t,i){if(KT)return e(t,i);KT=!0;try{return Zq(e,t,i)}finally{KT=!1,(Sy!==null||Ey!==null)&&(Qq(),Jq())}}function uw(e,t){var i=e.stateNode;if(i===null)return null;var n=tC(i);if(n===null)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(ie(231,t,typeof i));return i}var a3=!1;if(du)try{var hv={};Object.defineProperty(hv,"passive",{get:function(){a3=!0}}),window.addEventListener("test",hv,hv),window.removeEventListener("test",hv,hv)}catch{a3=!1}function xue(e,t,i,n,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(i,c)}catch(h){this.onError(h)}}var f1=!1,jE=null,UE=!1,o3=null,Sue={onError:function(e){f1=!0,jE=e}};function Eue(e,t,i,n,r,s,a,o,l){f1=!1,jE=null,xue.apply(Sue,arguments)}function kue(e,t,i,n,r,s,a,o,l){if(Eue.apply(this,arguments),f1){if(f1){var c=jE;f1=!1,jE=null}else throw Error(ie(198));UE||(UE=!0,o3=c)}}function Im(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function eW(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qz(e){if(Im(e)!==e)throw Error(ie(188))}function Iue(e){var t=e.alternate;if(!t){if(t=Im(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var i=e,n=t;;){var r=i.return;if(r===null)break;var s=r.alternate;if(s===null){if(n=r.return,n!==null){i=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===i)return qz(r),e;if(s===n)return qz(r),t;s=s.sibling}throw Error(ie(188))}if(i.return!==n.return)i=r,n=s;else{for(var a=!1,o=r.child;o;){if(o===i){a=!0,i=r,n=s;break}if(o===n){a=!0,n=r,i=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===i){a=!0,i=s,n=r;break}if(o===n){a=!0,n=s,i=r;break}o=o.sibling}if(!a)throw Error(ie(189))}}if(i.alternate!==n)throw Error(ie(190))}if(i.tag!==3)throw Error(ie(188));return i.stateNode.current===i?e:t}function tW(e){return e=Iue(e),e!==null?iW(e):null}function iW(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iW(e);if(t!==null)return t;e=e.sibling}return null}var nW=Zs.unstable_scheduleCallback,Wz=Zs.unstable_cancelCallback,Cue=Zs.unstable_shouldYield,Tue=Zs.unstable_requestPaint,Bi=Zs.unstable_now,$ue=Zs.unstable_getCurrentPriorityLevel,gL=Zs.unstable_ImmediatePriority,rW=Zs.unstable_UserBlockingPriority,BE=Zs.unstable_NormalPriority,Aue=Zs.unstable_LowPriority,sW=Zs.unstable_IdlePriority,ZI=null,Bl=null;function Mue(e){if(Bl&&typeof Bl.onCommitFiberRoot=="function")try{Bl.onCommitFiberRoot(ZI,e,void 0,(e.current.flags&128)===128)}catch{}}var Ko=Math.clz32?Math.clz32:Rue,Due=Math.log,Oue=Math.LN2;function Rue(e){return e>>>=0,e===0?32:31-(Due(e)/Oue|0)|0}var cx=64,ux=4194304;function ob(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function HE(e,t){var i=e.pendingLanes;if(i===0)return 0;var n=0,r=e.suspendedLanes,s=e.pingedLanes,a=i&268435455;if(a!==0){var o=a&~r;o!==0?n=ob(o):(s&=a,s!==0&&(n=ob(s)))}else a=i&~r,a!==0?n=ob(a):s!==0&&(n=ob(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&r)&&(r=n&-n,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(n&4&&(n|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)i=31-Ko(t),r=1<<i,n|=e[i],t&=~r;return n}function Pue(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lue(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Ko(s),o=1<<a,l=r[a];l===-1?(!(o&i)||o&n)&&(r[a]=Pue(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function l3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aW(){var e=cx;return cx<<=1,!(cx&4194240)&&(cx=64),e}function YT(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function h_(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ko(t),e[t]=i}function Fue(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var r=31-Ko(i),s=1<<r;t[r]=0,n[r]=-1,e[r]=-1,i&=~s}}function yL(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-Ko(i),r=1<<n;r&t|e[n]&t&&(e[n]|=t),i&=~r}}var Ht=0;function oW(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lW,vL,cW,uW,dW,c3=!1,dx=[],uh=null,dh=null,hh=null,dw=new Map,hw=new Map,Gd=[],Nue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kz(e,t){switch(e){case"focusin":case"focusout":uh=null;break;case"dragenter":case"dragleave":dh=null;break;case"mouseover":case"mouseout":hh=null;break;case"pointerover":case"pointerout":dw.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hw.delete(t.pointerId)}}function pv(e,t,i,n,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},t!==null&&(t=f_(t),t!==null&&vL(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function zue(e,t,i,n,r){switch(t){case"focusin":return uh=pv(uh,e,t,i,n,r),!0;case"dragenter":return dh=pv(dh,e,t,i,n,r),!0;case"mouseover":return hh=pv(hh,e,t,i,n,r),!0;case"pointerover":var s=r.pointerId;return dw.set(s,pv(dw.get(s)||null,e,t,i,n,r)),!0;case"gotpointercapture":return s=r.pointerId,hw.set(s,pv(hw.get(s)||null,e,t,i,n,r)),!0}return!1}function hW(e){var t=bf(e.target);if(t!==null){var i=Im(t);if(i!==null){if(t=i.tag,t===13){if(t=eW(i),t!==null){e.blockedOn=t,dW(e.priority,function(){cW(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function JS(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=u3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var n=new i.constructor(i.type,i);r3=n,i.target.dispatchEvent(n),r3=null}else return t=f_(i),t!==null&&vL(t),e.blockedOn=i,!1;t.shift()}return!0}function Yz(e,t,i){JS(e)&&i.delete(t)}function Vue(){c3=!1,uh!==null&&JS(uh)&&(uh=null),dh!==null&&JS(dh)&&(dh=null),hh!==null&&JS(hh)&&(hh=null),dw.forEach(Yz),hw.forEach(Yz)}function fv(e,t){e.blockedOn===t&&(e.blockedOn=null,c3||(c3=!0,Zs.unstable_scheduleCallback(Zs.unstable_NormalPriority,Vue)))}function pw(e){function t(r){return fv(r,e)}if(0<dx.length){fv(dx[0],e);for(var i=1;i<dx.length;i++){var n=dx[i];n.blockedOn===e&&(n.blockedOn=null)}}for(uh!==null&&fv(uh,e),dh!==null&&fv(dh,e),hh!==null&&fv(hh,e),dw.forEach(t),hw.forEach(t),i=0;i<Gd.length;i++)n=Gd[i],n.blockedOn===e&&(n.blockedOn=null);for(;0<Gd.length&&(i=Gd[0],i.blockedOn===null);)hW(i),i.blockedOn===null&&Gd.shift()}var ky=$u.ReactCurrentBatchConfig,GE=!0;function jue(e,t,i,n){var r=Ht,s=ky.transition;ky.transition=null;try{Ht=1,bL(e,t,i,n)}finally{Ht=r,ky.transition=s}}function Uue(e,t,i,n){var r=Ht,s=ky.transition;ky.transition=null;try{Ht=4,bL(e,t,i,n)}finally{Ht=r,ky.transition=s}}function bL(e,t,i,n){if(GE){var r=u3(e,t,i,n);if(r===null)s$(e,t,n,qE,i),Kz(e,n);else if(zue(r,e,t,i,n))n.stopPropagation();else if(Kz(e,n),t&4&&-1<Nue.indexOf(e)){for(;r!==null;){var s=f_(r);if(s!==null&&lW(s),s=u3(e,t,i,n),s===null&&s$(e,t,n,qE,i),s===r)break;r=s}r!==null&&n.stopPropagation()}else s$(e,t,n,null,i)}}var qE=null;function u3(e,t,i,n){if(qE=null,e=mL(n),e=bf(e),e!==null)if(t=Im(e),t===null)e=null;else if(i=t.tag,i===13){if(e=eW(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qE=e,null}function pW(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($ue()){case gL:return 1;case rW:return 4;case BE:case Aue:return 16;case sW:return 536870912;default:return 16}default:return 16}}var Qd=null,wL=null,ZS=null;function fW(){if(ZS)return ZS;var e,t=wL,i=t.length,n,r="value"in Qd?Qd.value:Qd.textContent,s=r.length;for(e=0;e<i&&t[e]===r[e];e++);var a=i-e;for(n=1;n<=a&&t[i-n]===r[s-n];n++);return ZS=r.slice(e,1<n?1-n:void 0)}function QS(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hx(){return!0}function Jz(){return!1}function ia(e){function t(i,n,r,s,a){this._reactName=i,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(i=e[o],this[o]=i?i(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hx:Jz,this.isPropagationStopped=Jz,this}return Ii(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=hx)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=hx)},persist:function(){},isPersistent:hx}),t}var P0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_L=ia(P0),p_=Ii({},P0,{view:0,detail:0}),Bue=ia(p_),JT,ZT,mv,QI=Ii({},p_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xL,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mv&&(mv&&e.type==="mousemove"?(JT=e.screenX-mv.screenX,ZT=e.screenY-mv.screenY):ZT=JT=0,mv=e),JT)},movementY:function(e){return"movementY"in e?e.movementY:ZT}}),Zz=ia(QI),Hue=Ii({},QI,{dataTransfer:0}),Gue=ia(Hue),que=Ii({},p_,{relatedTarget:0}),QT=ia(que),Wue=Ii({},P0,{animationName:0,elapsedTime:0,pseudoElement:0}),Kue=ia(Wue),Yue=Ii({},P0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jue=ia(Yue),Zue=Ii({},P0,{data:0}),Qz=ia(Zue),Que={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ede={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tde(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ede[e])?!!t[e]:!1}function xL(){return tde}var ide=Ii({},p_,{key:function(e){if(e.key){var t=Que[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=QS(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xue[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xL,charCode:function(e){return e.type==="keypress"?QS(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?QS(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nde=ia(ide),rde=Ii({},QI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xz=ia(rde),sde=Ii({},p_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xL}),ade=ia(sde),ode=Ii({},P0,{propertyName:0,elapsedTime:0,pseudoElement:0}),lde=ia(ode),cde=Ii({},QI,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ude=ia(cde),dde=[9,13,27,32],SL=du&&"CompositionEvent"in window,m1=null;du&&"documentMode"in document&&(m1=document.documentMode);var hde=du&&"TextEvent"in window&&!m1,mW=du&&(!SL||m1&&8<m1&&11>=m1),e6=String.fromCharCode(32),t6=!1;function gW(e,t){switch(e){case"keyup":return dde.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yW(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ty=!1;function pde(e,t){switch(e){case"compositionend":return yW(t);case"keypress":return t.which!==32?null:(t6=!0,e6);case"textInput":return e=t.data,e===e6&&t6?null:e;default:return null}}function fde(e,t){if(ty)return e==="compositionend"||!SL&&gW(e,t)?(e=fW(),ZS=wL=Qd=null,ty=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mW&&t.locale!=="ko"?null:t.data;default:return null}}var mde={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mde[e.type]:t==="textarea"}function vW(e,t,i,n){Yq(n),t=WE(t,"onChange"),0<t.length&&(i=new _L("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var g1=null,fw=null;function gde(e){$W(e,0)}function XI(e){var t=ry(e);if(Uq(t))return e}function yde(e,t){if(e==="change")return t}var bW=!1;if(du){var XT;if(du){var e$="oninput"in document;if(!e$){var n6=document.createElement("div");n6.setAttribute("oninput","return;"),e$=typeof n6.oninput=="function"}XT=e$}else XT=!1;bW=XT&&(!document.documentMode||9<document.documentMode)}function r6(){g1&&(g1.detachEvent("onpropertychange",wW),fw=g1=null)}function wW(e){if(e.propertyName==="value"&&XI(fw)){var t=[];vW(t,fw,e,mL(e)),Xq(gde,t)}}function vde(e,t,i){e==="focusin"?(r6(),g1=t,fw=i,g1.attachEvent("onpropertychange",wW)):e==="focusout"&&r6()}function bde(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return XI(fw)}function wde(e,t){if(e==="click")return XI(t)}function _de(e,t){if(e==="input"||e==="change")return XI(t)}function xde(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xo=typeof Object.is=="function"?Object.is:xde;function mw(e,t){if(Xo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var r=i[n];if(!qM.call(t,r)||!Xo(e[r],t[r]))return!1}return!0}function s6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function a6(e,t){var i=s6(e);e=0;for(var n;i;){if(i.nodeType===3){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=s6(i)}}function _W(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_W(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xW(){for(var e=window,t=VE();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=VE(e.document)}return t}function EL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sde(e){var t=xW(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&_W(i.ownerDocument.documentElement,i)){if(n!==null&&EL(i)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=i.textContent.length,s=Math.min(n.start,r);n=n.end===void 0?s:Math.min(n.end,r),!e.extend&&s>n&&(r=n,n=s,s=r),r=a6(i,s);var a=a6(i,n);r&&a&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ede=du&&"documentMode"in document&&11>=document.documentMode,iy=null,d3=null,y1=null,h3=!1;function o6(e,t,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;h3||iy==null||iy!==VE(n)||(n=iy,"selectionStart"in n&&EL(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),y1&&mw(y1,n)||(y1=n,n=WE(d3,"onSelect"),0<n.length&&(t=new _L("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=iy)))}function px(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ny={animationend:px("Animation","AnimationEnd"),animationiteration:px("Animation","AnimationIteration"),animationstart:px("Animation","AnimationStart"),transitionend:px("Transition","TransitionEnd")},t$={},SW={};du&&(SW=document.createElement("div").style,"AnimationEvent"in window||(delete ny.animationend.animation,delete ny.animationiteration.animation,delete ny.animationstart.animation),"TransitionEvent"in window||delete ny.transitionend.transition);function eC(e){if(t$[e])return t$[e];if(!ny[e])return e;var t=ny[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in SW)return t$[e]=t[i];return e}var EW=eC("animationend"),kW=eC("animationiteration"),IW=eC("animationstart"),CW=eC("transitionend"),TW=new Map,l6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fh(e,t){TW.set(e,t),km(t,[e])}for(var i$=0;i$<l6.length;i$++){var n$=l6[i$],kde=n$.toLowerCase(),Ide=n$[0].toUpperCase()+n$.slice(1);Fh(kde,"on"+Ide)}Fh(EW,"onAnimationEnd");Fh(kW,"onAnimationIteration");Fh(IW,"onAnimationStart");Fh("dblclick","onDoubleClick");Fh("focusin","onFocus");Fh("focusout","onBlur");Fh(CW,"onTransitionEnd");Xy("onMouseEnter",["mouseout","mouseover"]);Xy("onMouseLeave",["mouseout","mouseover"]);Xy("onPointerEnter",["pointerout","pointerover"]);Xy("onPointerLeave",["pointerout","pointerover"]);km("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));km("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));km("onBeforeInput",["compositionend","keypress","textInput","paste"]);km("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));km("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));km("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cde=new Set("cancel close invalid load scroll toggle".split(" ").concat(lb));function c6(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,kue(n,t,void 0,e),e.currentTarget=null}function $W(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var n=e[i],r=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;c6(r,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;c6(r,o,c),s=l}}}if(UE)throw e=o3,UE=!1,o3=null,e}function ii(e,t){var i=t[y3];i===void 0&&(i=t[y3]=new Set);var n=e+"__bubble";i.has(n)||(AW(t,e,2,!1),i.add(n))}function r$(e,t,i){var n=0;t&&(n|=4),AW(i,e,n,t)}var fx="_reactListening"+Math.random().toString(36).slice(2);function gw(e){if(!e[fx]){e[fx]=!0,Fq.forEach(function(i){i!=="selectionchange"&&(Cde.has(i)||r$(i,!1,e),r$(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fx]||(t[fx]=!0,r$("selectionchange",!1,t))}}function AW(e,t,i,n){switch(pW(t)){case 1:var r=jue;break;case 4:r=Uue;break;default:r=bL}i=r.bind(null,t,i,e),r=void 0,!a3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function s$(e,t,i,n,r){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=bf(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Xq(function(){var c=s,h=mL(i),p=[];e:{var m=TW.get(e);if(m!==void 0){var g=_L,y=e;switch(e){case"keypress":if(QS(i)===0)break e;case"keydown":case"keyup":g=nde;break;case"focusin":y="focus",g=QT;break;case"focusout":y="blur",g=QT;break;case"beforeblur":case"afterblur":g=QT;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Zz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Gue;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ade;break;case EW:case kW:case IW:g=Kue;break;case CW:g=lde;break;case"scroll":g=Bue;break;case"wheel":g=ude;break;case"copy":case"cut":case"paste":g=Jue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Xz}var b=(t&4)!==0,w=!b&&e==="scroll",_=b?m!==null?m+"Capture":null:m;b=[];for(var x=c,S;x!==null;){S=x;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,_!==null&&(k=uw(x,_),k!=null&&b.push(yw(x,k,S)))),w)break;x=x.return}0<b.length&&(m=new g(m,y,null,i,h),p.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&i!==r3&&(y=i.relatedTarget||i.fromElement)&&(bf(y)||y[hu]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(y=i.relatedTarget||i.toElement,g=c,y=y?bf(y):null,y!==null&&(w=Im(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(b=Zz,k="onMouseLeave",_="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=Xz,k="onPointerLeave",_="onPointerEnter",x="pointer"),w=g==null?m:ry(g),S=y==null?m:ry(y),m=new b(k,x+"leave",g,i,h),m.target=w,m.relatedTarget=S,k=null,bf(h)===c&&(b=new b(_,x+"enter",y,i,h),b.target=S,b.relatedTarget=w,k=b),w=k,g&&y)t:{for(b=g,_=y,x=0,S=b;S;S=Vm(S))x++;for(S=0,k=_;k;k=Vm(k))S++;for(;0<x-S;)b=Vm(b),x--;for(;0<S-x;)_=Vm(_),S--;for(;x--;){if(b===_||_!==null&&b===_.alternate)break t;b=Vm(b),_=Vm(_)}b=null}else b=null;g!==null&&u6(p,m,g,b,!1),y!==null&&w!==null&&u6(p,w,y,b,!0)}}e:{if(m=c?ry(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var A=yde;else if(i6(m))if(bW)A=_de;else{A=bde;var T=vde}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=wde);if(A&&(A=A(e,c))){vW(p,A,i,h);break e}T&&T(e,m,c),e==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&XM(m,"number",m.value)}switch(T=c?ry(c):window,e){case"focusin":(i6(T)||T.contentEditable==="true")&&(iy=T,d3=c,y1=null);break;case"focusout":y1=d3=iy=null;break;case"mousedown":h3=!0;break;case"contextmenu":case"mouseup":case"dragend":h3=!1,o6(p,i,h);break;case"selectionchange":if(Ede)break;case"keydown":case"keyup":o6(p,i,h)}var C;if(SL)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ty?gW(e,i)&&(M="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(M="onCompositionStart");M&&(mW&&i.locale!=="ko"&&(ty||M!=="onCompositionStart"?M==="onCompositionEnd"&&ty&&(C=fW()):(Qd=h,wL="value"in Qd?Qd.value:Qd.textContent,ty=!0)),T=WE(c,M),0<T.length&&(M=new Qz(M,e,null,i,h),p.push({event:M,listeners:T}),C?M.data=C:(C=yW(i),C!==null&&(M.data=C)))),(C=hde?pde(e,i):fde(e,i))&&(c=WE(c,"onBeforeInput"),0<c.length&&(h=new Qz("onBeforeInput","beforeinput",null,i,h),p.push({event:h,listeners:c}),h.data=C))}$W(p,t)})}function yw(e,t,i){return{instance:e,listener:t,currentTarget:i}}function WE(e,t){for(var i=t+"Capture",n=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=uw(e,i),s!=null&&n.unshift(yw(e,s,r)),s=uw(e,t),s!=null&&n.push(yw(e,s,r))),e=e.return}return n}function Vm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function u6(e,t,i,n,r){for(var s=t._reactName,a=[];i!==null&&i!==n;){var o=i,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,r?(l=uw(i,s),l!=null&&a.unshift(yw(i,l,o))):r||(l=uw(i,s),l!=null&&a.push(yw(i,l,o)))),i=i.return}a.length!==0&&e.push({event:t,listeners:a})}var Tde=/\r\n?/g,$de=/\u0000|\uFFFD/g;function d6(e){return(typeof e=="string"?e:""+e).replace(Tde,`
`).replace($de,"")}function mx(e,t,i){if(t=d6(t),d6(e)!==t&&i)throw Error(ie(425))}function KE(){}var p3=null,f3=null;function m3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var g3=typeof setTimeout=="function"?setTimeout:void 0,Ade=typeof clearTimeout=="function"?clearTimeout:void 0,h6=typeof Promise=="function"?Promise:void 0,Mde=typeof queueMicrotask=="function"?queueMicrotask:typeof h6<"u"?function(e){return h6.resolve(null).then(e).catch(Dde)}:g3;function Dde(e){setTimeout(function(){throw e})}function a$(e,t){var i=t,n=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(n===0){e.removeChild(r),pw(t);return}n--}else i!=="$"&&i!=="$?"&&i!=="$!"||n++;i=r}while(i);pw(t)}function ph(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function p6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var L0=Math.random().toString(36).slice(2),zl="__reactFiber$"+L0,vw="__reactProps$"+L0,hu="__reactContainer$"+L0,y3="__reactEvents$"+L0,Ode="__reactListeners$"+L0,Rde="__reactHandles$"+L0;function bf(e){var t=e[zl];if(t)return t;for(var i=e.parentNode;i;){if(t=i[hu]||i[zl]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=p6(e);e!==null;){if(i=e[zl])return i;e=p6(e)}return t}e=i,i=e.parentNode}return null}function f_(e){return e=e[zl]||e[hu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ry(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function tC(e){return e[vw]||null}var v3=[],sy=-1;function Nh(e){return{current:e}}function li(e){0>sy||(e.current=v3[sy],v3[sy]=null,sy--)}function Qt(e,t){sy++,v3[sy]=e.current,e.current=t}var kh={},pr=Nh(kh),ls=Nh(!1),Zf=kh;function e0(e,t){var i=e.type.contextTypes;if(!i)return kh;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in i)r[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function cs(e){return e=e.childContextTypes,e!=null}function YE(){li(ls),li(pr)}function f6(e,t,i){if(pr.current!==kh)throw Error(ie(168));Qt(pr,t),Qt(ls,i)}function MW(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var r in n)if(!(r in t))throw Error(ie(108,vue(e)||"Unknown",r));return Ii({},i,n)}function JE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kh,Zf=pr.current,Qt(pr,e),Qt(ls,ls.current),!0}function m6(e,t,i){var n=e.stateNode;if(!n)throw Error(ie(169));i?(e=MW(e,t,Zf),n.__reactInternalMemoizedMergedChildContext=e,li(ls),li(pr),Qt(pr,e)):li(ls),Qt(ls,i)}var Hc=null,iC=!1,o$=!1;function DW(e){Hc===null?Hc=[e]:Hc.push(e)}function Pde(e){iC=!0,DW(e)}function zh(){if(!o$&&Hc!==null){o$=!0;var e=0,t=Ht;try{var i=Hc;for(Ht=1;e<i.length;e++){var n=i[e];do n=n(!0);while(n!==null)}Hc=null,iC=!1}catch(r){throw Hc!==null&&(Hc=Hc.slice(e+1)),nW(gL,zh),r}finally{Ht=t,o$=!1}}return null}var ay=[],oy=0,ZE=null,QE=0,Da=[],Oa=0,Qf=null,Zc=1,Qc="";function fp(e,t){ay[oy++]=QE,ay[oy++]=ZE,ZE=e,QE=t}function OW(e,t,i){Da[Oa++]=Zc,Da[Oa++]=Qc,Da[Oa++]=Qf,Qf=e;var n=Zc;e=Qc;var r=32-Ko(n)-1;n&=~(1<<r),i+=1;var s=32-Ko(t)+r;if(30<s){var a=r-r%5;s=(n&(1<<a)-1).toString(32),n>>=a,r-=a,Zc=1<<32-Ko(t)+r|i<<r|n,Qc=s+e}else Zc=1<<s|i<<r|n,Qc=e}function kL(e){e.return!==null&&(fp(e,1),OW(e,1,0))}function IL(e){for(;e===ZE;)ZE=ay[--oy],ay[oy]=null,QE=ay[--oy],ay[oy]=null;for(;e===Qf;)Qf=Da[--Oa],Da[Oa]=null,Qc=Da[--Oa],Da[Oa]=null,Zc=Da[--Oa],Da[Oa]=null}var qs=null,Hs=null,mi=!1,Uo=null;function RW(e,t){var i=Na(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function g6(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qs=e,Hs=ph(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qs=e,Hs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Qf!==null?{id:Zc,overflow:Qc}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Na(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,qs=e,Hs=null,!0):!1;default:return!1}}function b3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function w3(e){if(mi){var t=Hs;if(t){var i=t;if(!g6(e,t)){if(b3(e))throw Error(ie(418));t=ph(i.nextSibling);var n=qs;t&&g6(e,t)?RW(n,i):(e.flags=e.flags&-4097|2,mi=!1,qs=e)}}else{if(b3(e))throw Error(ie(418));e.flags=e.flags&-4097|2,mi=!1,qs=e}}}function y6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qs=e}function gx(e){if(e!==qs)return!1;if(!mi)return y6(e),mi=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!m3(e.type,e.memoizedProps)),t&&(t=Hs)){if(b3(e))throw PW(),Error(ie(418));for(;t;)RW(e,t),t=ph(t.nextSibling)}if(y6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Hs=ph(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Hs=null}}else Hs=qs?ph(e.stateNode.nextSibling):null;return!0}function PW(){for(var e=Hs;e;)e=ph(e.nextSibling)}function t0(){Hs=qs=null,mi=!1}function CL(e){Uo===null?Uo=[e]:Uo.push(e)}var Lde=$u.ReactCurrentBatchConfig;function Lo(e,t){if(e&&e.defaultProps){t=Ii({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var XE=Nh(null),ek=null,ly=null,TL=null;function $L(){TL=ly=ek=null}function AL(e){var t=XE.current;li(XE),e._currentValue=t}function _3(e,t,i){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function Iy(e,t){ek=e,TL=ly=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(os=!0),e.firstContext=null)}function Ya(e){var t=e._currentValue;if(TL!==e)if(e={context:e,memoizedValue:t,next:null},ly===null){if(ek===null)throw Error(ie(308));ly=e,ek.dependencies={lanes:0,firstContext:e}}else ly=ly.next=e;return t}var wf=null;function ML(e){wf===null?wf=[e]:wf.push(e)}function LW(e,t,i,n){var r=t.interleaved;return r===null?(i.next=i,ML(t)):(i.next=r.next,r.next=i),t.interleaved=i,pu(e,n)}function pu(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Rd=!1;function DL(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FW(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fh(e,t,i){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,St&2){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,pu(e,i)}return r=n.interleaved,r===null?(t.next=t,ML(n)):(t.next=r.next,r.next=t),n.interleaved=t,pu(e,i)}function XS(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,yL(e,i)}}function v6(e,t){var i=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var r=null,s=null;if(i=i.firstBaseUpdate,i!==null){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};s===null?r=s=a:s=s.next=a,i=i.next}while(i!==null);s===null?r=s=t:s=s.next=t}else r=s=t;i={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function tk(e,t,i,n){var r=e.updateQueue;Rd=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var p=r.baseState;a=0,h=c=l=null,o=s;do{var m=o.lane,g=o.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,b=o;switch(m=t,g=i,b.tag){case 1:if(y=b.payload,typeof y=="function"){p=y.call(g,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,m=typeof y=="function"?y.call(g,p,m):y,m==null)break e;p=Ii({},p,m);break e;case 2:Rd=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=r.effects,m===null?r.effects=[o]:m.push(o))}else g={eventTime:g,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,l=p):h=h.next=g,a|=m;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;m=o,o=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(1);if(h===null&&(l=p),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,t=r.shared.interleaved,t!==null){r=t;do a|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);em|=a,e.lanes=a,e.memoizedState=p}}function b6(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(r!==null){if(n.callback=null,n=i,typeof r!="function")throw Error(ie(191,r));r.call(n)}}}var NW=new Lq.Component().refs;function x3(e,t,i,n){t=e.memoizedState,i=i(n,t),i=i==null?t:Ii({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var nC={isMounted:function(e){return(e=e._reactInternals)?Im(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=Pr(),r=gh(e),s=nu(n,r);s.payload=t,i!=null&&(s.callback=i),t=fh(e,s,r),t!==null&&(Yo(t,e,r,n),XS(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=Pr(),r=gh(e),s=nu(n,r);s.tag=1,s.payload=t,i!=null&&(s.callback=i),t=fh(e,s,r),t!==null&&(Yo(t,e,r,n),XS(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Pr(),n=gh(e),r=nu(i,n);r.tag=2,t!=null&&(r.callback=t),t=fh(e,r,n),t!==null&&(Yo(t,e,n,i),XS(t,e,n))}};function w6(e,t,i,n,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!mw(i,n)||!mw(r,s):!0}function zW(e,t,i){var n=!1,r=kh,s=t.contextType;return typeof s=="object"&&s!==null?s=Ya(s):(r=cs(t)?Zf:pr.current,n=t.contextTypes,s=(n=n!=null)?e0(e,r):kh),t=new t(i,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nC,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function _6(e,t,i,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&nC.enqueueReplaceState(t,t.state,null)}function S3(e,t,i,n){var r=e.stateNode;r.props=i,r.state=e.memoizedState,r.refs=NW,DL(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=Ya(s):(s=cs(t)?Zf:pr.current,r.context=e0(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(x3(e,t,s,i),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&nC.enqueueReplaceState(r,r.state,null),tk(e,i,r,n),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function gv(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(ie(309));var n=i.stateNode}if(!n)throw Error(ie(147,e));var r=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=r.refs;o===NW&&(o=r.refs={}),a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(ie(284));if(!i._owner)throw Error(ie(290,e))}return e}function yx(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function x6(e){var t=e._init;return t(e._payload)}function VW(e){function t(_,x){if(e){var S=_.deletions;S===null?(_.deletions=[x],_.flags|=16):S.push(x)}}function i(_,x){if(!e)return null;for(;x!==null;)t(_,x),x=x.sibling;return null}function n(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function r(_,x){return _=yh(_,x),_.index=0,_.sibling=null,_}function s(_,x,S){return _.index=S,e?(S=_.alternate,S!==null?(S=S.index,S<x?(_.flags|=2,x):S):(_.flags|=2,x)):(_.flags|=1048576,x)}function a(_){return e&&_.alternate===null&&(_.flags|=2),_}function o(_,x,S,k){return x===null||x.tag!==6?(x=f$(S,_.mode,k),x.return=_,x):(x=r(x,S),x.return=_,x)}function l(_,x,S,k){var A=S.type;return A===ey?h(_,x,S.props.children,k,S.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Od&&x6(A)===x.type)?(k=r(x,S.props),k.ref=gv(_,x,S),k.return=_,k):(k=s2(S.type,S.key,S.props,null,_.mode,k),k.ref=gv(_,x,S),k.return=_,k)}function c(_,x,S,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=m$(S,_.mode,k),x.return=_,x):(x=r(x,S.children||[]),x.return=_,x)}function h(_,x,S,k,A){return x===null||x.tag!==7?(x=Vf(S,_.mode,k,A),x.return=_,x):(x=r(x,S),x.return=_,x)}function p(_,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=f$(""+x,_.mode,S),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ax:return S=s2(x.type,x.key,x.props,null,_.mode,S),S.ref=gv(_,null,x),S.return=_,S;case Xg:return x=m$(x,_.mode,S),x.return=_,x;case Od:var k=x._init;return p(_,k(x._payload),S)}if(ab(x)||dv(x))return x=Vf(x,_.mode,S,null),x.return=_,x;yx(_,x)}return null}function m(_,x,S,k){var A=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:o(_,x,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ax:return S.key===A?l(_,x,S,k):null;case Xg:return S.key===A?c(_,x,S,k):null;case Od:return A=S._init,m(_,x,A(S._payload),k)}if(ab(S)||dv(S))return A!==null?null:h(_,x,S,k,null);yx(_,S)}return null}function g(_,x,S,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(S)||null,o(x,_,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ax:return _=_.get(k.key===null?S:k.key)||null,l(x,_,k,A);case Xg:return _=_.get(k.key===null?S:k.key)||null,c(x,_,k,A);case Od:var T=k._init;return g(_,x,S,T(k._payload),A)}if(ab(k)||dv(k))return _=_.get(S)||null,h(x,_,k,A,null);yx(x,k)}return null}function y(_,x,S,k){for(var A=null,T=null,C=x,M=x=0,L=null;C!==null&&M<S.length;M++){C.index>M?(L=C,C=null):L=C.sibling;var V=m(_,C,S[M],k);if(V===null){C===null&&(C=L);break}e&&C&&V.alternate===null&&t(_,C),x=s(V,x,M),T===null?A=V:T.sibling=V,T=V,C=L}if(M===S.length)return i(_,C),mi&&fp(_,M),A;if(C===null){for(;M<S.length;M++)C=p(_,S[M],k),C!==null&&(x=s(C,x,M),T===null?A=C:T.sibling=C,T=C);return mi&&fp(_,M),A}for(C=n(_,C);M<S.length;M++)L=g(C,_,M,S[M],k),L!==null&&(e&&L.alternate!==null&&C.delete(L.key===null?M:L.key),x=s(L,x,M),T===null?A=L:T.sibling=L,T=L);return e&&C.forEach(function(P){return t(_,P)}),mi&&fp(_,M),A}function b(_,x,S,k){var A=dv(S);if(typeof A!="function")throw Error(ie(150));if(S=A.call(S),S==null)throw Error(ie(151));for(var T=A=null,C=x,M=x=0,L=null,V=S.next();C!==null&&!V.done;M++,V=S.next()){C.index>M?(L=C,C=null):L=C.sibling;var P=m(_,C,V.value,k);if(P===null){C===null&&(C=L);break}e&&C&&P.alternate===null&&t(_,C),x=s(P,x,M),T===null?A=P:T.sibling=P,T=P,C=L}if(V.done)return i(_,C),mi&&fp(_,M),A;if(C===null){for(;!V.done;M++,V=S.next())V=p(_,V.value,k),V!==null&&(x=s(V,x,M),T===null?A=V:T.sibling=V,T=V);return mi&&fp(_,M),A}for(C=n(_,C);!V.done;M++,V=S.next())V=g(C,_,M,V.value,k),V!==null&&(e&&V.alternate!==null&&C.delete(V.key===null?M:V.key),x=s(V,x,M),T===null?A=V:T.sibling=V,T=V);return e&&C.forEach(function(J){return t(_,J)}),mi&&fp(_,M),A}function w(_,x,S,k){if(typeof S=="object"&&S!==null&&S.type===ey&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ax:e:{for(var A=S.key,T=x;T!==null;){if(T.key===A){if(A=S.type,A===ey){if(T.tag===7){i(_,T.sibling),x=r(T,S.props.children),x.return=_,_=x;break e}}else if(T.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Od&&x6(A)===T.type){i(_,T.sibling),x=r(T,S.props),x.ref=gv(_,T,S),x.return=_,_=x;break e}i(_,T);break}else t(_,T);T=T.sibling}S.type===ey?(x=Vf(S.props.children,_.mode,k,S.key),x.return=_,_=x):(k=s2(S.type,S.key,S.props,null,_.mode,k),k.ref=gv(_,x,S),k.return=_,_=k)}return a(_);case Xg:e:{for(T=S.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){i(_,x.sibling),x=r(x,S.children||[]),x.return=_,_=x;break e}else{i(_,x);break}else t(_,x);x=x.sibling}x=m$(S,_.mode,k),x.return=_,_=x}return a(_);case Od:return T=S._init,w(_,x,T(S._payload),k)}if(ab(S))return y(_,x,S,k);if(dv(S))return b(_,x,S,k);yx(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(i(_,x.sibling),x=r(x,S),x.return=_,_=x):(i(_,x),x=f$(S,_.mode,k),x.return=_,_=x),a(_)):i(_,x)}return w}var i0=VW(!0),jW=VW(!1),m_={},Hl=Nh(m_),bw=Nh(m_),ww=Nh(m_);function _f(e){if(e===m_)throw Error(ie(174));return e}function OL(e,t){switch(Qt(ww,t),Qt(bw,e),Qt(Hl,m_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:t3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=t3(t,e)}li(Hl),Qt(Hl,t)}function n0(){li(Hl),li(bw),li(ww)}function UW(e){_f(ww.current);var t=_f(Hl.current),i=t3(t,e.type);t!==i&&(Qt(bw,e),Qt(Hl,i))}function RL(e){bw.current===e&&(li(Hl),li(bw))}var xi=Nh(0);function ik(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var l$=[];function PL(){for(var e=0;e<l$.length;e++)l$[e]._workInProgressVersionPrimary=null;l$.length=0}var e2=$u.ReactCurrentDispatcher,c$=$u.ReactCurrentBatchConfig,Xf=0,ki=null,fn=null,$n=null,nk=!1,v1=!1,_w=0,Fde=0;function Wn(){throw Error(ie(321))}function LL(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Xo(e[i],t[i]))return!1;return!0}function FL(e,t,i,n,r,s){if(Xf=s,ki=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,e2.current=e===null||e.memoizedState===null?jde:Ude,e=i(n,r),v1){s=0;do{if(v1=!1,_w=0,25<=s)throw Error(ie(301));s+=1,$n=fn=null,t.updateQueue=null,e2.current=Bde,e=i(n,r)}while(v1)}if(e2.current=rk,t=fn!==null&&fn.next!==null,Xf=0,$n=fn=ki=null,nk=!1,t)throw Error(ie(300));return e}function NL(){var e=_w!==0;return _w=0,e}function Dl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?ki.memoizedState=$n=e:$n=$n.next=e,$n}function Ja(){if(fn===null){var e=ki.alternate;e=e!==null?e.memoizedState:null}else e=fn.next;var t=$n===null?ki.memoizedState:$n.next;if(t!==null)$n=t,fn=e;else{if(e===null)throw Error(ie(310));fn=e,e={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},$n===null?ki.memoizedState=$n=e:$n=$n.next=e}return $n}function xw(e,t){return typeof t=="function"?t(e):t}function u$(e){var t=Ja(),i=t.queue;if(i===null)throw Error(ie(311));i.lastRenderedReducer=e;var n=fn,r=n.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}n.baseQueue=r=s,i.pending=null}if(r!==null){s=r.next,n=n.baseState;var o=a=null,l=null,c=s;do{var h=c.lane;if((Xf&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=p,a=n):l=l.next=p,ki.lanes|=h,em|=h}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,Xo(n,t.memoizedState)||(os=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,i.lastRenderedState=n}if(e=i.interleaved,e!==null){r=e;do s=r.lane,ki.lanes|=s,em|=s,r=r.next;while(r!==e)}else r===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function d$(e){var t=Ja(),i=t.queue;if(i===null)throw Error(ie(311));i.lastRenderedReducer=e;var n=i.dispatch,r=i.pending,s=t.memoizedState;if(r!==null){i.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Xo(s,t.memoizedState)||(os=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),i.lastRenderedState=s}return[s,n]}function BW(){}function HW(e,t){var i=ki,n=Ja(),r=t(),s=!Xo(n.memoizedState,r);if(s&&(n.memoizedState=r,os=!0),n=n.queue,zL(WW.bind(null,i,n,e),[e]),n.getSnapshot!==t||s||$n!==null&&$n.memoizedState.tag&1){if(i.flags|=2048,Sw(9,qW.bind(null,i,n,r,t),void 0,null),On===null)throw Error(ie(349));Xf&30||GW(i,t,r)}return r}function GW(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ki.updateQueue,t===null?(t={lastEffect:null,stores:null},ki.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function qW(e,t,i,n){t.value=i,t.getSnapshot=n,KW(t)&&YW(e)}function WW(e,t,i){return i(function(){KW(t)&&YW(e)})}function KW(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Xo(e,i)}catch{return!0}}function YW(e){var t=pu(e,1);t!==null&&Yo(t,e,1,-1)}function S6(e){var t=Dl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xw,lastRenderedState:e},t.queue=e,e=e.dispatch=Vde.bind(null,ki,e),[t.memoizedState,e]}function Sw(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},t=ki.updateQueue,t===null?(t={lastEffect:null,stores:null},ki.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e)),e}function JW(){return Ja().memoizedState}function t2(e,t,i,n){var r=Dl();ki.flags|=e,r.memoizedState=Sw(1|t,i,void 0,n===void 0?null:n)}function rC(e,t,i,n){var r=Ja();n=n===void 0?null:n;var s=void 0;if(fn!==null){var a=fn.memoizedState;if(s=a.destroy,n!==null&&LL(n,a.deps)){r.memoizedState=Sw(t,i,s,n);return}}ki.flags|=e,r.memoizedState=Sw(1|t,i,s,n)}function E6(e,t){return t2(8390656,8,e,t)}function zL(e,t){return rC(2048,8,e,t)}function ZW(e,t){return rC(4,2,e,t)}function QW(e,t){return rC(4,4,e,t)}function XW(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eK(e,t,i){return i=i!=null?i.concat([e]):null,rC(4,4,XW.bind(null,t,e),i)}function VL(){}function tK(e,t){var i=Ja();t=t===void 0?null:t;var n=i.memoizedState;return n!==null&&t!==null&&LL(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function iK(e,t){var i=Ja();t=t===void 0?null:t;var n=i.memoizedState;return n!==null&&t!==null&&LL(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function nK(e,t,i){return Xf&21?(Xo(i,t)||(i=aW(),ki.lanes|=i,em|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,os=!0),e.memoizedState=i)}function Nde(e,t){var i=Ht;Ht=i!==0&&4>i?i:4,e(!0);var n=c$.transition;c$.transition={};try{e(!1),t()}finally{Ht=i,c$.transition=n}}function rK(){return Ja().memoizedState}function zde(e,t,i){var n=gh(e);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},sK(e))aK(t,i);else if(i=LW(e,t,i,n),i!==null){var r=Pr();Yo(i,e,n,r),oK(i,t,n)}}function Vde(e,t,i){var n=gh(e),r={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(sK(e))aK(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,i);if(r.hasEagerState=!0,r.eagerState=o,Xo(o,a)){var l=t.interleaved;l===null?(r.next=r,ML(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}i=LW(e,t,r,n),i!==null&&(r=Pr(),Yo(i,e,n,r),oK(i,t,n))}}function sK(e){var t=e.alternate;return e===ki||t!==null&&t===ki}function aK(e,t){v1=nk=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function oK(e,t,i){if(i&4194240){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,yL(e,i)}}var rk={readContext:Ya,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useInsertionEffect:Wn,useLayoutEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useMutableSource:Wn,useSyncExternalStore:Wn,useId:Wn,unstable_isNewReconciler:!1},jde={readContext:Ya,useCallback:function(e,t){return Dl().memoizedState=[e,t===void 0?null:t],e},useContext:Ya,useEffect:E6,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,t2(4194308,4,XW.bind(null,t,e),i)},useLayoutEffect:function(e,t){return t2(4194308,4,e,t)},useInsertionEffect:function(e,t){return t2(4,2,e,t)},useMemo:function(e,t){var i=Dl();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=Dl();return t=i!==void 0?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=zde.bind(null,ki,e),[n.memoizedState,e]},useRef:function(e){var t=Dl();return e={current:e},t.memoizedState=e},useState:S6,useDebugValue:VL,useDeferredValue:function(e){return Dl().memoizedState=e},useTransition:function(){var e=S6(!1),t=e[0];return e=Nde.bind(null,e[1]),Dl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=ki,r=Dl();if(mi){if(i===void 0)throw Error(ie(407));i=i()}else{if(i=t(),On===null)throw Error(ie(349));Xf&30||GW(n,t,i)}r.memoizedState=i;var s={value:i,getSnapshot:t};return r.queue=s,E6(WW.bind(null,n,s,e),[e]),n.flags|=2048,Sw(9,qW.bind(null,n,s,i,t),void 0,null),i},useId:function(){var e=Dl(),t=On.identifierPrefix;if(mi){var i=Qc,n=Zc;i=(n&~(1<<32-Ko(n)-1)).toString(32)+i,t=":"+t+"R"+i,i=_w++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Fde++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ude={readContext:Ya,useCallback:tK,useContext:Ya,useEffect:zL,useImperativeHandle:eK,useInsertionEffect:ZW,useLayoutEffect:QW,useMemo:iK,useReducer:u$,useRef:JW,useState:function(){return u$(xw)},useDebugValue:VL,useDeferredValue:function(e){var t=Ja();return nK(t,fn.memoizedState,e)},useTransition:function(){var e=u$(xw)[0],t=Ja().memoizedState;return[e,t]},useMutableSource:BW,useSyncExternalStore:HW,useId:rK,unstable_isNewReconciler:!1},Bde={readContext:Ya,useCallback:tK,useContext:Ya,useEffect:zL,useImperativeHandle:eK,useInsertionEffect:ZW,useLayoutEffect:QW,useMemo:iK,useReducer:d$,useRef:JW,useState:function(){return d$(xw)},useDebugValue:VL,useDeferredValue:function(e){var t=Ja();return fn===null?t.memoizedState=e:nK(t,fn.memoizedState,e)},useTransition:function(){var e=d$(xw)[0],t=Ja().memoizedState;return[e,t]},useMutableSource:BW,useSyncExternalStore:HW,useId:rK,unstable_isNewReconciler:!1};function r0(e,t){try{var i="",n=t;do i+=yue(n),n=n.return;while(n);var r=i}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function h$(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function E3(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Hde=typeof WeakMap=="function"?WeakMap:Map;function lK(e,t,i){i=nu(-1,i),i.tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){ak||(ak=!0,R3=n),E3(e,t)},i}function cK(e,t,i){i=nu(-1,i),i.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var r=t.value;i.payload=function(){return n(r)},i.callback=function(){E3(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(i.callback=function(){E3(e,t),typeof n!="function"&&(mh===null?mh=new Set([this]):mh.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),i}function k6(e,t,i){var n=e.pingCache;if(n===null){n=e.pingCache=new Hde;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(i)||(r.add(i),e=rhe.bind(null,e,t,i),t.then(e,e))}function I6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function C6(e,t,i,n,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=nu(-1,1),t.tag=2,fh(i,t,1))),i.lanes|=1),e)}var Gde=$u.ReactCurrentOwner,os=!1;function Dr(e,t,i,n){t.child=e===null?jW(t,null,i,n):i0(t,e.child,i,n)}function T6(e,t,i,n,r){i=i.render;var s=t.ref;return Iy(t,r),n=FL(e,t,i,n,s,r),i=NL(),e!==null&&!os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,fu(e,t,r)):(mi&&i&&kL(t),t.flags|=1,Dr(e,t,n,r),t.child)}function $6(e,t,i,n,r){if(e===null){var s=i.type;return typeof s=="function"&&!KL(s)&&s.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=s,uK(e,t,s,n,r)):(e=s2(i.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var a=s.memoizedProps;if(i=i.compare,i=i!==null?i:mw,i(a,n)&&e.ref===t.ref)return fu(e,t,r)}return t.flags|=1,e=yh(s,n),e.ref=t.ref,e.return=t,t.child=e}function uK(e,t,i,n,r){if(e!==null){var s=e.memoizedProps;if(mw(s,n)&&e.ref===t.ref)if(os=!1,t.pendingProps=n=s,(e.lanes&r)!==0)e.flags&131072&&(os=!0);else return t.lanes=e.lanes,fu(e,t,r)}return k3(e,t,i,n,r)}function dK(e,t,i){var n=t.pendingProps,r=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(uy,Ls),Ls|=i;else{if(!(i&1073741824))return e=s!==null?s.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qt(uy,Ls),Ls|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:i,Qt(uy,Ls),Ls|=n}else s!==null?(n=s.baseLanes|i,t.memoizedState=null):n=i,Qt(uy,Ls),Ls|=n;return Dr(e,t,r,i),t.child}function hK(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function k3(e,t,i,n,r){var s=cs(i)?Zf:pr.current;return s=e0(t,s),Iy(t,r),i=FL(e,t,i,n,s,r),n=NL(),e!==null&&!os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,fu(e,t,r)):(mi&&n&&kL(t),t.flags|=1,Dr(e,t,i,r),t.child)}function A6(e,t,i,n,r){if(cs(i)){var s=!0;JE(t)}else s=!1;if(Iy(t,r),t.stateNode===null)i2(e,t),zW(t,i,n),S3(t,i,n,r),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=i.contextType;typeof c=="object"&&c!==null?c=Ya(c):(c=cs(i)?Zf:pr.current,c=e0(t,c));var h=i.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&_6(t,a,n,c),Rd=!1;var m=t.memoizedState;a.state=m,tk(t,n,a,r),l=t.memoizedState,o!==n||m!==l||ls.current||Rd?(typeof h=="function"&&(x3(t,i,h,n),l=t.memoizedState),(o=Rd||w6(t,i,o,n,m,l,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,FW(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Lo(t.type,o),a.props=c,p=t.pendingProps,m=a.context,l=i.contextType,typeof l=="object"&&l!==null?l=Ya(l):(l=cs(i)?Zf:pr.current,l=e0(t,l));var g=i.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||m!==l)&&_6(t,a,n,l),Rd=!1,m=t.memoizedState,a.state=m,tk(t,n,a,r);var y=t.memoizedState;o!==p||m!==y||ls.current||Rd?(typeof g=="function"&&(x3(t,i,g,n),y=t.memoizedState),(c=Rd||w6(t,i,c,n,m,y,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return I3(e,t,i,n,s,r)}function I3(e,t,i,n,r,s){hK(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return r&&m6(t,i,!1),fu(e,t,s);n=t.stateNode,Gde.current=t;var o=a&&typeof i.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=i0(t,e.child,null,s),t.child=i0(t,null,o,s)):Dr(e,t,o,s),t.memoizedState=n.state,r&&m6(t,i,!0),t.child}function pK(e){var t=e.stateNode;t.pendingContext?f6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&f6(e,t.context,!1),OL(e,t.containerInfo)}function M6(e,t,i,n,r){return t0(),CL(r),t.flags|=256,Dr(e,t,i,n),t.child}var C3={dehydrated:null,treeContext:null,retryLane:0};function T3(e){return{baseLanes:e,cachePool:null,transitions:null}}function fK(e,t,i){var n=t.pendingProps,r=xi.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(r&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Qt(xi,r&1),e===null)return w3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=oC(a,n,0,null),e=Vf(e,n,i,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=T3(i),t.memoizedState=C3,e):jL(t,a));if(r=e.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return qde(e,t,a,n,o,r,i);if(s){s=n.fallback,a=t.mode,r=e.child,o=r.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==r?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=yh(r,l),n.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=yh(o,s):(s=Vf(s,a,i,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?T3(i):{baseLanes:a.baseLanes|i,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~i,t.memoizedState=C3,n}return s=e.child,e=s.sibling,n=yh(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=i),n.return=t,n.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n}function jL(e,t){return t=oC({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vx(e,t,i,n){return n!==null&&CL(n),i0(t,e.child,null,i),e=jL(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qde(e,t,i,n,r,s,a){if(i)return t.flags&256?(t.flags&=-257,n=h$(Error(ie(422))),vx(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,r=t.mode,n=oC({mode:"visible",children:n.children},r,0,null),s=Vf(s,r,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&i0(t,e.child,null,a),t.child.memoizedState=T3(a),t.memoizedState=C3,s);if(!(t.mode&1))return vx(e,t,a,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(ie(419)),n=h$(s,n,void 0),vx(e,t,a,n)}if(o=(a&e.childLanes)!==0,os||o){if(n=On,n!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,pu(e,r),Yo(n,e,r,-1))}return WL(),n=h$(Error(ie(421))),vx(e,t,a,n)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=she.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,Hs=ph(r.nextSibling),qs=t,mi=!0,Uo=null,e!==null&&(Da[Oa++]=Zc,Da[Oa++]=Qc,Da[Oa++]=Qf,Zc=e.id,Qc=e.overflow,Qf=t),t=jL(t,n.children),t.flags|=4096,t)}function D6(e,t,i){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_3(e.return,t,i)}function p$(e,t,i,n,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=i,s.tailMode=r)}function mK(e,t,i){var n=t.pendingProps,r=n.revealOrder,s=n.tail;if(Dr(e,t,n.children,i),n=xi.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D6(e,i,t);else if(e.tag===19)D6(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qt(xi,n),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&ik(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),p$(t,!1,r,i,s);break;case"backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ik(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}p$(t,!0,i,null,s);break;case"together":p$(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function i2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fu(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),em|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,i=yh(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=yh(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Wde(e,t,i){switch(t.tag){case 3:pK(t),t0();break;case 5:UW(t);break;case 1:cs(t.type)&&JE(t);break;case 4:OL(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,r=t.memoizedProps.value;Qt(XE,n._currentValue),n._currentValue=r;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qt(xi,xi.current&1),t.flags|=128,null):i&t.child.childLanes?fK(e,t,i):(Qt(xi,xi.current&1),e=fu(e,t,i),e!==null?e.sibling:null);Qt(xi,xi.current&1);break;case 19:if(n=(i&t.childLanes)!==0,e.flags&128){if(n)return mK(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Qt(xi,xi.current),n)break;return null;case 22:case 23:return t.lanes=0,dK(e,t,i)}return fu(e,t,i)}var gK,$3,yK,vK;gK=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};$3=function(){};yK=function(e,t,i,n){var r=e.memoizedProps;if(r!==n){e=t.stateNode,_f(Hl.current);var s=null;switch(i){case"input":r=ZM(e,r),n=ZM(e,n),s=[];break;case"select":r=Ii({},r,{value:void 0}),n=Ii({},n,{value:void 0}),s=[];break;case"textarea":r=e3(e,r),n=e3(e,n),s=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=KE)}i3(i,n);var a;i=null;for(c in r)if(!n.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(a in o)o.hasOwnProperty(a)&&(i||(i={}),i[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(lw.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=r!=null?r[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(i||(i={}),i[a]=l[a])}else i||(s||(s=[]),s.push(c,i)),i=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(lw.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ii("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}i&&(s=s||[]).push("style",i);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};vK=function(e,t,i,n){i!==n&&(t.flags|=4)};function yv(e,t){if(!mi)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,n=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function Kde(e,t,i){var n=t.pendingProps;switch(IL(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(t),null;case 1:return cs(t.type)&&YE(),Kn(t),null;case 3:return n=t.stateNode,n0(),li(ls),li(pr),PL(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Uo!==null&&(F3(Uo),Uo=null))),$3(e,t),Kn(t),null;case 5:RL(t);var r=_f(ww.current);if(i=t.type,e!==null&&t.stateNode!=null)yK(e,t,i,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ie(166));return Kn(t),null}if(e=_f(Hl.current),gx(t)){n=t.stateNode,i=t.type;var s=t.memoizedProps;switch(n[zl]=t,n[vw]=s,e=(t.mode&1)!==0,i){case"dialog":ii("cancel",n),ii("close",n);break;case"iframe":case"object":case"embed":ii("load",n);break;case"video":case"audio":for(r=0;r<lb.length;r++)ii(lb[r],n);break;case"source":ii("error",n);break;case"img":case"image":case"link":ii("error",n),ii("load",n);break;case"details":ii("toggle",n);break;case"input":jz(n,s),ii("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ii("invalid",n);break;case"textarea":Bz(n,s),ii("invalid",n)}i3(i,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&mx(n.textContent,o,e),r=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&mx(n.textContent,o,e),r=["children",""+o]):lw.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ii("scroll",n)}switch(i){case"input":ox(n),Uz(n,s,!0);break;case"textarea":ox(n),Hz(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=KE)}n=r,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gq(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(i,{is:n.is}):(e=a.createElement(i),i==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,i),e[zl]=t,e[vw]=n,gK(e,t,!1,!1),t.stateNode=e;e:{switch(a=n3(i,n),i){case"dialog":ii("cancel",e),ii("close",e),r=n;break;case"iframe":case"object":case"embed":ii("load",e),r=n;break;case"video":case"audio":for(r=0;r<lb.length;r++)ii(lb[r],e);r=n;break;case"source":ii("error",e),r=n;break;case"img":case"image":case"link":ii("error",e),ii("load",e),r=n;break;case"details":ii("toggle",e),r=n;break;case"input":jz(e,n),r=ZM(e,n),ii("invalid",e);break;case"option":r=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},r=Ii({},n,{value:void 0}),ii("invalid",e);break;case"textarea":Bz(e,n),r=e3(e,n),ii("invalid",e);break;default:r=n}i3(i,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Kq(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qq(e,l)):s==="children"?typeof l=="string"?(i!=="textarea"||l!=="")&&cw(e,l):typeof l=="number"&&cw(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(lw.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ii("scroll",e):l!=null&&dL(e,s,l,a))}switch(i){case"input":ox(e),Uz(e,n,!1);break;case"textarea":ox(e),Hz(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Eh(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?xy(e,!!n.multiple,s,!1):n.defaultValue!=null&&xy(e,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=KE)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kn(t),null;case 6:if(e&&t.stateNode!=null)vK(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ie(166));if(i=_f(ww.current),_f(Hl.current),gx(t)){if(n=t.stateNode,i=t.memoizedProps,n[zl]=t,(s=n.nodeValue!==i)&&(e=qs,e!==null))switch(e.tag){case 3:mx(n.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mx(n.nodeValue,i,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),n[zl]=t,t.stateNode=n}return Kn(t),null;case 13:if(li(xi),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mi&&Hs!==null&&t.mode&1&&!(t.flags&128))PW(),t0(),t.flags|=98560,s=!1;else if(s=gx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ie(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ie(317));s[zl]=t}else t0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kn(t),s=!1}else Uo!==null&&(F3(Uo),Uo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xi.current&1?yn===0&&(yn=3):WL())),t.updateQueue!==null&&(t.flags|=4),Kn(t),null);case 4:return n0(),$3(e,t),e===null&&gw(t.stateNode.containerInfo),Kn(t),null;case 10:return AL(t.type._context),Kn(t),null;case 17:return cs(t.type)&&YE(),Kn(t),null;case 19:if(li(xi),s=t.memoizedState,s===null)return Kn(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)yv(s,!1);else{if(yn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ik(e),a!==null){for(t.flags|=128,yv(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;i!==null;)s=i,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Qt(xi,xi.current&1|2),t.child}e=e.sibling}s.tail!==null&&Bi()>s0&&(t.flags|=128,n=!0,yv(s,!1),t.lanes=4194304)}else{if(!n)if(e=ik(a),e!==null){if(t.flags|=128,n=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),yv(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!mi)return Kn(t),null}else 2*Bi()-s.renderingStartTime>s0&&i!==1073741824&&(t.flags|=128,n=!0,yv(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(i=s.last,i!==null?i.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Bi(),t.sibling=null,i=xi.current,Qt(xi,n?i&1|2:i&1),t):(Kn(t),null);case 22:case 23:return qL(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ls&1073741824&&(Kn(t),t.subtreeFlags&6&&(t.flags|=8192)):Kn(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function Yde(e,t){switch(IL(t),t.tag){case 1:return cs(t.type)&&YE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return n0(),li(ls),li(pr),PL(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return RL(t),null;case 13:if(li(xi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));t0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return li(xi),null;case 4:return n0(),null;case 10:return AL(t.type._context),null;case 22:case 23:return qL(),null;case 24:return null;default:return null}}var bx=!1,or=!1,Jde=typeof WeakSet=="function"?WeakSet:Set,pe=null;function cy(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(n){zi(e,t,n)}else i.current=null}function A3(e,t,i){try{i()}catch(n){zi(e,t,n)}}var O6=!1;function Zde(e,t){if(p3=GE,e=xW(),EL(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{i.nodeType,s.nodeType}catch{i=null;break e}var a=0,o=-1,l=-1,c=0,h=0,p=e,m=null;t:for(;;){for(var g;p!==i||r!==0&&p.nodeType!==3||(o=a+r),p!==s||n!==0&&p.nodeType!==3||(l=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===e)break t;if(m===i&&++c===r&&(o=a),m===s&&++h===n&&(l=a),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}i=o===-1||l===-1?null:{start:o,end:l}}else i=null}i=i||{start:0,end:0}}else i=null;for(f3={focusedElem:e,selectionRange:i},GE=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,w=y.memoizedState,_=t.stateNode,x=_.getSnapshotBeforeUpdate(t.elementType===t.type?b:Lo(t.type,b),w);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(k){zi(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return y=O6,O6=!1,y}function b1(e,t,i){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&A3(t,i,s)}r=r.next}while(r!==n)}}function sC(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function M3(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function bK(e){var t=e.alternate;t!==null&&(e.alternate=null,bK(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zl],delete t[vw],delete t[y3],delete t[Ode],delete t[Rde])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wK(e){return e.tag===5||e.tag===3||e.tag===4}function R6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wK(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function D3(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=KE));else if(n!==4&&(e=e.child,e!==null))for(D3(e,t,i),e=e.sibling;e!==null;)D3(e,t,i),e=e.sibling}function O3(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(O3(e,t,i),e=e.sibling;e!==null;)O3(e,t,i),e=e.sibling}var zn=null,No=!1;function zu(e,t,i){for(i=i.child;i!==null;)_K(e,t,i),i=i.sibling}function _K(e,t,i){if(Bl&&typeof Bl.onCommitFiberUnmount=="function")try{Bl.onCommitFiberUnmount(ZI,i)}catch{}switch(i.tag){case 5:or||cy(i,t);case 6:var n=zn,r=No;zn=null,zu(e,t,i),zn=n,No=r,zn!==null&&(No?(e=zn,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):zn.removeChild(i.stateNode));break;case 18:zn!==null&&(No?(e=zn,i=i.stateNode,e.nodeType===8?a$(e.parentNode,i):e.nodeType===1&&a$(e,i),pw(e)):a$(zn,i.stateNode));break;case 4:n=zn,r=No,zn=i.stateNode.containerInfo,No=!0,zu(e,t,i),zn=n,No=r;break;case 0:case 11:case 14:case 15:if(!or&&(n=i.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&A3(i,t,a),r=r.next}while(r!==n)}zu(e,t,i);break;case 1:if(!or&&(cy(i,t),n=i.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(o){zi(i,t,o)}zu(e,t,i);break;case 21:zu(e,t,i);break;case 22:i.mode&1?(or=(n=or)||i.memoizedState!==null,zu(e,t,i),or=n):zu(e,t,i);break;default:zu(e,t,i)}}function P6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Jde),t.forEach(function(n){var r=ahe.bind(null,e,n);i.has(n)||(i.add(n),n.then(r,r))})}}function lo(e,t){var i=t.deletions;if(i!==null)for(var n=0;n<i.length;n++){var r=i[n];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:zn=o.stateNode,No=!1;break e;case 3:zn=o.stateNode.containerInfo,No=!0;break e;case 4:zn=o.stateNode.containerInfo,No=!0;break e}o=o.return}if(zn===null)throw Error(ie(160));_K(s,a,r),zn=null,No=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){zi(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xK(t,e),t=t.sibling}function xK(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lo(t,e),al(e),n&4){try{b1(3,e,e.return),sC(3,e)}catch(b){zi(e,e.return,b)}try{b1(5,e,e.return)}catch(b){zi(e,e.return,b)}}break;case 1:lo(t,e),al(e),n&512&&i!==null&&cy(i,i.return);break;case 5:if(lo(t,e),al(e),n&512&&i!==null&&cy(i,i.return),e.flags&32){var r=e.stateNode;try{cw(r,"")}catch(b){zi(e,e.return,b)}}if(n&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,a=i!==null?i.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Bq(r,s),n3(o,a);var c=n3(o,s);for(a=0;a<l.length;a+=2){var h=l[a],p=l[a+1];h==="style"?Kq(r,p):h==="dangerouslySetInnerHTML"?qq(r,p):h==="children"?cw(r,p):dL(r,h,p,c)}switch(o){case"input":QM(r,s);break;case"textarea":Hq(r,s);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?xy(r,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?xy(r,!!s.multiple,s.defaultValue,!0):xy(r,!!s.multiple,s.multiple?[]:"",!1))}r[vw]=s}catch(b){zi(e,e.return,b)}}break;case 6:if(lo(t,e),al(e),n&4){if(e.stateNode===null)throw Error(ie(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(b){zi(e,e.return,b)}}break;case 3:if(lo(t,e),al(e),n&4&&i!==null&&i.memoizedState.isDehydrated)try{pw(t.containerInfo)}catch(b){zi(e,e.return,b)}break;case 4:lo(t,e),al(e);break;case 13:lo(t,e),al(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(HL=Bi())),n&4&&P6(e);break;case 22:if(h=i!==null&&i.memoizedState!==null,e.mode&1?(or=(c=or)||h,lo(t,e),or=c):lo(t,e),al(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(pe=e,h=e.child;h!==null;){for(p=pe=h;pe!==null;){switch(m=pe,g=m.child,m.tag){case 0:case 11:case 14:case 15:b1(4,m,m.return);break;case 1:cy(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,i=m.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){zi(n,i,b)}}break;case 5:cy(m,m.return);break;case 22:if(m.memoizedState!==null){F6(p);continue}}g!==null?(g.return=m,pe=g):F6(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{r=p.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Wq("display",a))}catch(b){zi(e,e.return,b)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(b){zi(e,e.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:lo(t,e),al(e),n&4&&P6(e);break;case 21:break;default:lo(t,e),al(e)}}function al(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(wK(i)){var n=i;break e}i=i.return}throw Error(ie(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(cw(r,""),n.flags&=-33);var s=R6(e);O3(e,s,r);break;case 3:case 4:var a=n.stateNode.containerInfo,o=R6(e);D3(e,o,a);break;default:throw Error(ie(161))}}catch(l){zi(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qde(e,t,i){pe=e,SK(e)}function SK(e,t,i){for(var n=(e.mode&1)!==0;pe!==null;){var r=pe,s=r.child;if(r.tag===22&&n){var a=r.memoizedState!==null||bx;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||or;o=bx;var c=or;if(bx=a,(or=l)&&!c)for(pe=r;pe!==null;)a=pe,l=a.child,a.tag===22&&a.memoizedState!==null?N6(r):l!==null?(l.return=a,pe=l):N6(r);for(;s!==null;)pe=s,SK(s),s=s.sibling;pe=r,bx=o,or=c}L6(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,pe=s):L6(e)}}function L6(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:or||sC(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!or)if(i===null)n.componentDidMount();else{var r=t.elementType===t.type?i.memoizedProps:Lo(t.type,i.memoizedProps);n.componentDidUpdate(r,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&b6(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}b6(t,a,i)}break;case 5:var o=t.stateNode;if(i===null&&t.flags&4){i=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break;case"img":l.src&&(i.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&pw(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}or||t.flags&512&&M3(t)}catch(m){zi(t,t.return,m)}}if(t===e){pe=null;break}if(i=t.sibling,i!==null){i.return=t.return,pe=i;break}pe=t.return}}function F6(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var i=t.sibling;if(i!==null){i.return=t.return,pe=i;break}pe=t.return}}function N6(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{sC(4,t)}catch(l){zi(t,i,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var r=t.return;try{n.componentDidMount()}catch(l){zi(t,r,l)}}var s=t.return;try{M3(t)}catch(l){zi(t,s,l)}break;case 5:var a=t.return;try{M3(t)}catch(l){zi(t,a,l)}}}catch(l){zi(t,t.return,l)}if(t===e){pe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,pe=o;break}pe=t.return}}var Xde=Math.ceil,sk=$u.ReactCurrentDispatcher,UL=$u.ReactCurrentOwner,qa=$u.ReactCurrentBatchConfig,St=0,On=null,nn=null,jn=0,Ls=0,uy=Nh(0),yn=0,Ew=null,em=0,aC=0,BL=0,w1=null,as=null,HL=0,s0=1/0,Vc=null,ak=!1,R3=null,mh=null,wx=!1,Xd=null,ok=0,_1=0,P3=null,n2=-1,r2=0;function Pr(){return St&6?Bi():n2!==-1?n2:n2=Bi()}function gh(e){return e.mode&1?St&2&&jn!==0?jn&-jn:Lde.transition!==null?(r2===0&&(r2=aW()),r2):(e=Ht,e!==0||(e=window.event,e=e===void 0?16:pW(e.type)),e):1}function Yo(e,t,i,n){if(50<_1)throw _1=0,P3=null,Error(ie(185));h_(e,i,n),(!(St&2)||e!==On)&&(e===On&&(!(St&2)&&(aC|=i),yn===4&&qd(e,jn)),us(e,n),i===1&&St===0&&!(t.mode&1)&&(s0=Bi()+500,iC&&zh()))}function us(e,t){var i=e.callbackNode;Lue(e,t);var n=HE(e,e===On?jn:0);if(n===0)i!==null&&Wz(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(i!=null&&Wz(i),t===1)e.tag===0?Pde(z6.bind(null,e)):DW(z6.bind(null,e)),Mde(function(){!(St&6)&&zh()}),i=null;else{switch(oW(n)){case 1:i=gL;break;case 4:i=rW;break;case 16:i=BE;break;case 536870912:i=sW;break;default:i=BE}i=MK(i,EK.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function EK(e,t){if(n2=-1,r2=0,St&6)throw Error(ie(327));var i=e.callbackNode;if(Cy()&&e.callbackNode!==i)return null;var n=HE(e,e===On?jn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lk(e,n);else{t=n;var r=St;St|=2;var s=IK();(On!==e||jn!==t)&&(Vc=null,s0=Bi()+500,zf(e,t));do try{ihe();break}catch(o){kK(e,o)}while(1);$L(),sk.current=s,St=r,nn!==null?t=0:(On=null,jn=0,t=yn)}if(t!==0){if(t===2&&(r=l3(e),r!==0&&(n=r,t=L3(e,r))),t===1)throw i=Ew,zf(e,0),qd(e,n),us(e,Bi()),i;if(t===6)qd(e,n);else{if(r=e.current.alternate,!(n&30)&&!ehe(r)&&(t=lk(e,n),t===2&&(s=l3(e),s!==0&&(n=s,t=L3(e,s))),t===1))throw i=Ew,zf(e,0),qd(e,n),us(e,Bi()),i;switch(e.finishedWork=r,e.finishedLanes=n,t){case 0:case 1:throw Error(ie(345));case 2:mp(e,as,Vc);break;case 3:if(qd(e,n),(n&130023424)===n&&(t=HL+500-Bi(),10<t)){if(HE(e,0)!==0)break;if(r=e.suspendedLanes,(r&n)!==n){Pr(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=g3(mp.bind(null,e,as,Vc),t);break}mp(e,as,Vc);break;case 4:if(qd(e,n),(n&4194240)===n)break;for(t=e.eventTimes,r=-1;0<n;){var a=31-Ko(n);s=1<<a,a=t[a],a>r&&(r=a),n&=~s}if(n=r,n=Bi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Xde(n/1960))-n,10<n){e.timeoutHandle=g3(mp.bind(null,e,as,Vc),n);break}mp(e,as,Vc);break;case 5:mp(e,as,Vc);break;default:throw Error(ie(329))}}}return us(e,Bi()),e.callbackNode===i?EK.bind(null,e):null}function L3(e,t){var i=w1;return e.current.memoizedState.isDehydrated&&(zf(e,t).flags|=256),e=lk(e,t),e!==2&&(t=as,as=i,t!==null&&F3(t)),e}function F3(e){as===null?as=e:as.push.apply(as,e)}function ehe(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var n=0;n<i.length;n++){var r=i[n],s=r.getSnapshot;r=r.value;try{if(!Xo(s(),r))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qd(e,t){for(t&=~BL,t&=~aC,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ko(t),n=1<<i;e[i]=-1,t&=~n}}function z6(e){if(St&6)throw Error(ie(327));Cy();var t=HE(e,0);if(!(t&1))return us(e,Bi()),null;var i=lk(e,t);if(e.tag!==0&&i===2){var n=l3(e);n!==0&&(t=n,i=L3(e,n))}if(i===1)throw i=Ew,zf(e,0),qd(e,t),us(e,Bi()),i;if(i===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mp(e,as,Vc),us(e,Bi()),null}function GL(e,t){var i=St;St|=1;try{return e(t)}finally{St=i,St===0&&(s0=Bi()+500,iC&&zh())}}function tm(e){Xd!==null&&Xd.tag===0&&!(St&6)&&Cy();var t=St;St|=1;var i=qa.transition,n=Ht;try{if(qa.transition=null,Ht=1,e)return e()}finally{Ht=n,qa.transition=i,St=t,!(St&6)&&zh()}}function qL(){Ls=uy.current,li(uy)}function zf(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Ade(i)),nn!==null)for(i=nn.return;i!==null;){var n=i;switch(IL(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&YE();break;case 3:n0(),li(ls),li(pr),PL();break;case 5:RL(n);break;case 4:n0();break;case 13:li(xi);break;case 19:li(xi);break;case 10:AL(n.type._context);break;case 22:case 23:qL()}i=i.return}if(On=e,nn=e=yh(e.current,null),jn=Ls=t,yn=0,Ew=null,BL=aC=em=0,as=w1=null,wf!==null){for(t=0;t<wf.length;t++)if(i=wf[t],n=i.interleaved,n!==null){i.interleaved=null;var r=n.next,s=i.pending;if(s!==null){var a=s.next;s.next=r,n.next=a}i.pending=n}wf=null}return e}function kK(e,t){do{var i=nn;try{if($L(),e2.current=rk,nk){for(var n=ki.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}nk=!1}if(Xf=0,$n=fn=ki=null,v1=!1,_w=0,UL.current=null,i===null||i.return===null){yn=1,Ew=t,nn=null;break}e:{var s=e,a=i.return,o=i,l=t;if(t=jn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=I6(a);if(g!==null){g.flags&=-257,C6(g,a,o,s,t),g.mode&1&&k6(s,c,t),t=g,l=c;var y=t.updateQueue;if(y===null){var b=new Set;b.add(l),t.updateQueue=b}else y.add(l);break e}else{if(!(t&1)){k6(s,c,t),WL();break e}l=Error(ie(426))}}else if(mi&&o.mode&1){var w=I6(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),C6(w,a,o,s,t),CL(r0(l,o));break e}}s=l=r0(l,o),yn!==4&&(yn=2),w1===null?w1=[s]:w1.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=lK(s,l,t);v6(s,_);break e;case 1:o=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(mh===null||!mh.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=cK(s,o,t);v6(s,k);break e}}s=s.return}while(s!==null)}TK(i)}catch(A){t=A,nn===i&&i!==null&&(nn=i=i.return);continue}break}while(1)}function IK(){var e=sk.current;return sk.current=rk,e===null?rk:e}function WL(){(yn===0||yn===3||yn===2)&&(yn=4),On===null||!(em&268435455)&&!(aC&268435455)||qd(On,jn)}function lk(e,t){var i=St;St|=2;var n=IK();(On!==e||jn!==t)&&(Vc=null,zf(e,t));do try{the();break}catch(r){kK(e,r)}while(1);if($L(),St=i,sk.current=n,nn!==null)throw Error(ie(261));return On=null,jn=0,yn}function the(){for(;nn!==null;)CK(nn)}function ihe(){for(;nn!==null&&!Cue();)CK(nn)}function CK(e){var t=AK(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,t===null?TK(e):nn=t,UL.current=null}function TK(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Yde(i,t),i!==null){i.flags&=32767,nn=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yn=6,nn=null;return}}else if(i=Kde(i,t,Ls),i!==null){nn=i;return}if(t=t.sibling,t!==null){nn=t;return}nn=t=e}while(t!==null);yn===0&&(yn=5)}function mp(e,t,i){var n=Ht,r=qa.transition;try{qa.transition=null,Ht=1,nhe(e,t,i,n)}finally{qa.transition=r,Ht=n}return null}function nhe(e,t,i,n){do Cy();while(Xd!==null);if(St&6)throw Error(ie(327));i=e.finishedWork;var r=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var s=i.lanes|i.childLanes;if(Fue(e,s),e===On&&(nn=On=null,jn=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||wx||(wx=!0,MK(BE,function(){return Cy(),null})),s=(i.flags&15990)!==0,i.subtreeFlags&15990||s){s=qa.transition,qa.transition=null;var a=Ht;Ht=1;var o=St;St|=4,UL.current=null,Zde(e,i),xK(i,e),Sde(f3),GE=!!p3,f3=p3=null,e.current=i,Qde(i),Tue(),St=o,Ht=a,qa.transition=s}else e.current=i;if(wx&&(wx=!1,Xd=e,ok=r),s=e.pendingLanes,s===0&&(mh=null),Mue(i.stateNode),us(e,Bi()),t!==null)for(n=e.onRecoverableError,i=0;i<t.length;i++)r=t[i],n(r.value,{componentStack:r.stack,digest:r.digest});if(ak)throw ak=!1,e=R3,R3=null,e;return ok&1&&e.tag!==0&&Cy(),s=e.pendingLanes,s&1?e===P3?_1++:(_1=0,P3=e):_1=0,zh(),null}function Cy(){if(Xd!==null){var e=oW(ok),t=qa.transition,i=Ht;try{if(qa.transition=null,Ht=16>e?16:e,Xd===null)var n=!1;else{if(e=Xd,Xd=null,ok=0,St&6)throw Error(ie(331));var r=St;for(St|=4,pe=e.current;pe!==null;){var s=pe,a=s.child;if(pe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(pe=c;pe!==null;){var h=pe;switch(h.tag){case 0:case 11:case 15:b1(8,h,s)}var p=h.child;if(p!==null)p.return=h,pe=p;else for(;pe!==null;){h=pe;var m=h.sibling,g=h.return;if(bK(h),h===c){pe=null;break}if(m!==null){m.return=g,pe=m;break}pe=g}}}var y=s.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}pe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,pe=a;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:b1(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,pe=_;break e}pe=s.return}}var x=e.current;for(pe=x;pe!==null;){a=pe;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,pe=S;else e:for(a=x;pe!==null;){if(o=pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:sC(9,o)}}catch(A){zi(o,o.return,A)}if(o===a){pe=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,pe=k;break e}pe=o.return}}if(St=r,zh(),Bl&&typeof Bl.onPostCommitFiberRoot=="function")try{Bl.onPostCommitFiberRoot(ZI,e)}catch{}n=!0}return n}finally{Ht=i,qa.transition=t}}return!1}function V6(e,t,i){t=r0(i,t),t=lK(e,t,1),e=fh(e,t,1),t=Pr(),e!==null&&(h_(e,1,t),us(e,t))}function zi(e,t,i){if(e.tag===3)V6(e,e,i);else for(;t!==null;){if(t.tag===3){V6(t,e,i);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mh===null||!mh.has(n))){e=r0(i,e),e=cK(t,e,1),t=fh(t,e,1),e=Pr(),t!==null&&(h_(t,1,e),us(t,e));break}}t=t.return}}function rhe(e,t,i){var n=e.pingCache;n!==null&&n.delete(t),t=Pr(),e.pingedLanes|=e.suspendedLanes&i,On===e&&(jn&i)===i&&(yn===4||yn===3&&(jn&130023424)===jn&&500>Bi()-HL?zf(e,0):BL|=i),us(e,t)}function $K(e,t){t===0&&(e.mode&1?(t=ux,ux<<=1,!(ux&130023424)&&(ux=4194304)):t=1);var i=Pr();e=pu(e,t),e!==null&&(h_(e,t,i),us(e,i))}function she(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),$K(e,i)}function ahe(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ie(314))}n!==null&&n.delete(t),$K(e,i)}var AK;AK=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ls.current)os=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return os=!1,Wde(e,t,i);os=!!(e.flags&131072)}else os=!1,mi&&t.flags&1048576&&OW(t,QE,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;i2(e,t),e=t.pendingProps;var r=e0(t,pr.current);Iy(t,i),r=FL(null,t,n,e,r,i);var s=NL();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cs(n)?(s=!0,JE(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,DL(t),r.updater=nC,t.stateNode=r,r._reactInternals=t,S3(t,n,e,i),t=I3(null,t,n,!0,s,i)):(t.tag=0,mi&&s&&kL(t),Dr(null,t,r,i),t=t.child),t;case 16:n=t.elementType;e:{switch(i2(e,t),e=t.pendingProps,r=n._init,n=r(n._payload),t.type=n,r=t.tag=lhe(n),e=Lo(n,e),r){case 0:t=k3(null,t,n,e,i);break e;case 1:t=A6(null,t,n,e,i);break e;case 11:t=T6(null,t,n,e,i);break e;case 14:t=$6(null,t,n,Lo(n.type,e),i);break e}throw Error(ie(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:Lo(n,r),k3(e,t,n,r,i);case 1:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:Lo(n,r),A6(e,t,n,r,i);case 3:e:{if(pK(t),e===null)throw Error(ie(387));n=t.pendingProps,s=t.memoizedState,r=s.element,FW(e,t),tk(t,n,null,i);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=r0(Error(ie(423)),t),t=M6(e,t,n,i,r);break e}else if(n!==r){r=r0(Error(ie(424)),t),t=M6(e,t,n,i,r);break e}else for(Hs=ph(t.stateNode.containerInfo.firstChild),qs=t,mi=!0,Uo=null,i=jW(t,null,n,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(t0(),n===r){t=fu(e,t,i);break e}Dr(e,t,n,i)}t=t.child}return t;case 5:return UW(t),e===null&&w3(t),n=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,a=r.children,m3(n,r)?a=null:s!==null&&m3(n,s)&&(t.flags|=32),hK(e,t),Dr(e,t,a,i),t.child;case 6:return e===null&&w3(t),null;case 13:return fK(e,t,i);case 4:return OL(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=i0(t,null,n,i):Dr(e,t,n,i),t.child;case 11:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:Lo(n,r),T6(e,t,n,r,i);case 7:return Dr(e,t,t.pendingProps,i),t.child;case 8:return Dr(e,t,t.pendingProps.children,i),t.child;case 12:return Dr(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,s=t.memoizedProps,a=r.value,Qt(XE,n._currentValue),n._currentValue=a,s!==null)if(Xo(s.value,a)){if(s.children===r.children&&!ls.current){t=fu(e,t,i);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=nu(-1,i&-i),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=i,l=s.alternate,l!==null&&(l.lanes|=i),_3(s.return,i,t),o.lanes|=i;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ie(341));a.lanes|=i,o=a.alternate,o!==null&&(o.lanes|=i),_3(a,i,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Dr(e,t,r.children,i),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,Iy(t,i),r=Ya(r),n=n(r),t.flags|=1,Dr(e,t,n,i),t.child;case 14:return n=t.type,r=Lo(n,t.pendingProps),r=Lo(n.type,r),$6(e,t,n,r,i);case 15:return uK(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:Lo(n,r),i2(e,t),t.tag=1,cs(n)?(e=!0,JE(t)):e=!1,Iy(t,i),zW(t,n,r),S3(t,n,r,i),I3(null,t,n,!0,e,i);case 19:return mK(e,t,i);case 22:return dK(e,t,i)}throw Error(ie(156,t.tag))};function MK(e,t){return nW(e,t)}function ohe(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Na(e,t,i,n){return new ohe(e,t,i,n)}function KL(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lhe(e){if(typeof e=="function")return KL(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pL)return 11;if(e===fL)return 14}return 2}function yh(e,t){var i=e.alternate;return i===null?(i=Na(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function s2(e,t,i,n,r,s){var a=2;if(n=e,typeof e=="function")KL(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ey:return Vf(i.children,r,s,t);case hL:a=8,r|=8;break;case WM:return e=Na(12,i,t,r|2),e.elementType=WM,e.lanes=s,e;case KM:return e=Na(13,i,t,r),e.elementType=KM,e.lanes=s,e;case YM:return e=Na(19,i,t,r),e.elementType=YM,e.lanes=s,e;case Vq:return oC(i,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nq:a=10;break e;case zq:a=9;break e;case pL:a=11;break e;case fL:a=14;break e;case Od:a=16,n=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=Na(a,i,t,r),t.elementType=e,t.type=n,t.lanes=s,t}function Vf(e,t,i,n){return e=Na(7,e,n,t),e.lanes=i,e}function oC(e,t,i,n){return e=Na(22,e,n,t),e.elementType=Vq,e.lanes=i,e.stateNode={isHidden:!1},e}function f$(e,t,i){return e=Na(6,e,null,t),e.lanes=i,e}function m$(e,t,i){return t=Na(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function che(e,t,i,n,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=YT(0),this.expirationTimes=YT(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=YT(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function YL(e,t,i,n,r,s,a,o,l){return e=new che(e,t,i,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Na(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},DL(s),e}function uhe(e,t,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:i}}function DK(e){if(!e)return kh;e=e._reactInternals;e:{if(Im(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var i=e.type;if(cs(i))return MW(e,i,t)}return t}function OK(e,t,i,n,r,s,a,o,l){return e=YL(i,n,!0,e,r,s,a,o,l),e.context=DK(null),i=e.current,n=Pr(),r=gh(i),s=nu(n,r),s.callback=t??null,fh(i,s,r),e.current.lanes=r,h_(e,r,n),us(e,n),e}function lC(e,t,i,n){var r=t.current,s=Pr(),a=gh(r);return i=DK(i),t.context===null?t.context=i:t.pendingContext=i,t=nu(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fh(r,t,a),e!==null&&(Yo(e,r,a,s),XS(e,r,a)),a}function ck(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function j6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function JL(e,t){j6(e,t),(e=e.alternate)&&j6(e,t)}function dhe(){return null}var RK=typeof reportError=="function"?reportError:function(e){console.error(e)};function ZL(e){this._internalRoot=e}cC.prototype.render=ZL.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));lC(e,t,null,null)};cC.prototype.unmount=ZL.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tm(function(){lC(null,e,null,null)}),t[hu]=null}};function cC(e){this._internalRoot=e}cC.prototype.unstable_scheduleHydration=function(e){if(e){var t=uW();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Gd.length&&t!==0&&t<Gd[i].priority;i++);Gd.splice(i,0,e),i===0&&hW(e)}};function QL(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function U6(){}function hhe(e,t,i,n,r){if(r){if(typeof n=="function"){var s=n;n=function(){var c=ck(a);s.call(c)}}var a=OK(t,n,e,0,null,!1,!1,"",U6);return e._reactRootContainer=a,e[hu]=a.current,gw(e.nodeType===8?e.parentNode:e),tm(),a}for(;r=e.lastChild;)e.removeChild(r);if(typeof n=="function"){var o=n;n=function(){var c=ck(l);o.call(c)}}var l=YL(e,0,!1,null,null,!1,!1,"",U6);return e._reactRootContainer=l,e[hu]=l.current,gw(e.nodeType===8?e.parentNode:e),tm(function(){lC(t,l,i,n)}),l}function dC(e,t,i,n,r){var s=i._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=ck(a);o.call(l)}}lC(t,a,e,r)}else a=hhe(i,t,e,r,n);return ck(a)}lW=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ob(t.pendingLanes);i!==0&&(yL(t,i|1),us(t,Bi()),!(St&6)&&(s0=Bi()+500,zh()))}break;case 13:tm(function(){var n=pu(e,1);if(n!==null){var r=Pr();Yo(n,e,1,r)}}),JL(e,1)}};vL=function(e){if(e.tag===13){var t=pu(e,134217728);if(t!==null){var i=Pr();Yo(t,e,134217728,i)}JL(e,134217728)}};cW=function(e){if(e.tag===13){var t=gh(e),i=pu(e,t);if(i!==null){var n=Pr();Yo(i,e,t,n)}JL(e,t)}};uW=function(){return Ht};dW=function(e,t){var i=Ht;try{return Ht=e,t()}finally{Ht=i}};s3=function(e,t,i){switch(t){case"input":if(QM(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var r=tC(n);if(!r)throw Error(ie(90));Uq(n),QM(n,r)}}}break;case"textarea":Hq(e,i);break;case"select":t=i.value,t!=null&&xy(e,!!i.multiple,t,!1)}};Zq=GL;Qq=tm;var phe={usingClientEntryPoint:!1,Events:[f_,ry,tC,Yq,Jq,GL]},vv={findFiberByHostInstance:bf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fhe={bundleType:vv.bundleType,version:vv.version,rendererPackageName:vv.rendererPackageName,rendererConfig:vv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$u.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tW(e),e===null?null:e.stateNode},findFiberByHostInstance:vv.findFiberByHostInstance||dhe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_x.isDisabled&&_x.supportsFiber)try{ZI=_x.inject(fhe),Bl=_x}catch{}}ta.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=phe;ta.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QL(t))throw Error(ie(200));return uhe(e,t,null,i)};ta.createRoot=function(e,t){if(!QL(e))throw Error(ie(299));var i=!1,n="",r=RK;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=YL(e,1,!1,null,null,i,!1,n,r),e[hu]=t.current,gw(e.nodeType===8?e.parentNode:e),new ZL(t)};ta.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=tW(t),e=e===null?null:e.stateNode,e};ta.flushSync=function(e){return tm(e)};ta.hydrate=function(e,t,i){if(!uC(t))throw Error(ie(200));return dC(null,e,t,!0,i)};ta.hydrateRoot=function(e,t,i){if(!QL(e))throw Error(ie(405));var n=i!=null&&i.hydratedSources||null,r=!1,s="",a=RK;if(i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onRecoverableError!==void 0&&(a=i.onRecoverableError)),t=OK(t,null,e,1,i??null,r,!1,s,a),e[hu]=t.current,gw(e),n)for(e=0;e<n.length;e++)i=n[e],r=i._getVersion,r=r(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,r]:t.mutableSourceEagerHydrationData.push(i,r);return new cC(t)};ta.render=function(e,t,i){if(!uC(t))throw Error(ie(200));return dC(null,e,t,!1,i)};ta.unmountComponentAtNode=function(e){if(!uC(e))throw Error(ie(40));return e._reactRootContainer?(tm(function(){dC(null,null,e,!1,function(){e._reactRootContainer=null,e[hu]=null})}),!0):!1};ta.unstable_batchedUpdates=GL;ta.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!uC(i))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return dC(e,t,i,!1,n)};ta.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}t(),e.exports=ta})(due);var PK,B6=HM;PK=B6.createRoot,B6.hydrateRoot;const mhe="modulepreload",ghe=function(e){return"/athlete-birthplaces/"+e},H6={},H=function(t,i,n){if(!i||i.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(i.map(s=>{if(s=ghe(s),s in H6)return;H6[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!n)for(let h=r.length-1;h>=0;h--){const p=r[h];if(p.href===s&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":mhe,a||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),a)return new Promise((h,p)=>{c.addEventListener("load",h),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())},Qe={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let hg,LK,hC,FK=!1,uk=!1,XL=!1,Fs=!1,G6=null,N3=!1;const ro={isDev:!!Qe.isDev,isBrowser:!0,isServer:!1,isTesting:!!Qe.isTesting},eF=e=>{const t=new URL(e,Bn.$resourcesUrl$);return t.origin!==z0.location.origin?t.href:t.pathname},NK=e=>Bn.$resourcesUrl$=e,im=(e,t="")=>()=>{},q6="http://www.w3.org/1999/xlink",W6={},yhe="http://www.w3.org/2000/svg",vhe="http://www.w3.org/1999/xhtml",bhe=e=>e!=null,tF=e=>(e=typeof e,e==="object"||e==="function"),v=(e,t,...i)=>{let n=null,r=null,s=null,a=!1,o=!1;const l=[],c=p=>{for(let m=0;m<p.length;m++)n=p[m],Array.isArray(n)?c(n):n!=null&&typeof n!="boolean"&&((a=typeof e!="function"&&!tF(n))&&(n=String(n)),a&&o?l[l.length-1].$text$+=n:l.push(a?dk(null,n):n),o=a)};if(c(i),t&&(Qe.isDev&&e==="input"&&xhe(t),Qe.vdomKey&&t.key&&(r=t.key),Qe.slotRelocation&&t.name&&(s=t.name),Qe.vdomClass)){const p=t.className||t.class;p&&(t.class=typeof p!="object"?p:Object.keys(p).filter(m=>p[m]).join(" "))}if(Qe.isDev&&l.some(zK)&&Jhe(`The <Host> must be the single root component. Make sure:
- You are NOT using hostData() and <Host> in the same component.
- <Host> is used once, and it's the single root component of the render() function.`),Qe.vdomFunctional&&typeof e=="function")return e(t===null?{}:t,l,whe);const h=dk(e,null);return h.$attrs$=t,l.length>0&&(h.$children$=l),Qe.vdomKey&&(h.$key$=r),Qe.slotRelocation&&(h.$name$=s),h},dk=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return Qe.vdomAttribute&&(i.$attrs$=null),Qe.vdomKey&&(i.$key$=null),Qe.slotRelocation&&(i.$name$=null),i},Fe={},zK=e=>e&&e.$tag$===Fe,whe={forEach:(e,t)=>e.map(K6).forEach(t),map:(e,t)=>e.map(K6).map(t).map(_he)},K6=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),_he=e=>{if(typeof e.vtag=="function"){const i=Object.assign({},e.vattrs);return e.vkey&&(i.key=e.vkey),e.vname&&(i.name=e.vname),v(e.vtag,i,...e.vchildren||[])}const t=dk(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},xhe=e=>{const t=Object.keys(e),i=t.indexOf("value");if(i===-1)return;const n=t.indexOf("type"),r=t.indexOf("min"),s=t.indexOf("max"),a=t.indexOf("step");(i<n||i<r||i<s||i<a)&&ZK('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},She=e=>Zhe.map(t=>t(e)).find(t=>!!t),Ehe=(e,t)=>e!=null&&!tF(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,khe=e=>Qe.lazyLoad?N0(e).$hostElement$:e,B=(e,t,i)=>{const n=khe(e);return{emit:r=>(Qe.isDev&&!n.isConnected&&ZK(`The "${t}" event was emitted, but the dispatcher node is no longer connected to the dom.`),Ihe(n,t,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:r}))}},Ihe=(e,t,i)=>{const n=Bn.ce(t,i);return e.dispatchEvent(n),n},Y6=new WeakMap,Che=(e,t,i)=>{let n=pk.get(e);epe&&i?(n=n||new CSSStyleSheet,typeof n=="string"?n=t:n.replaceSync(t)):n=t,pk.set(e,n)},The=(e,t,i,n)=>{let r=VK(t,i);const s=pk.get(r);if(e=e.nodeType===11?e:Jo,s)if(typeof s=="string"){e=e.head||e;let a=Y6.get(e),o;a||Y6.set(e,a=new Set),a.has(r)||(o=Jo.createElement("style"),o.innerHTML=s,e.insertBefore(o,e.querySelector("link")),a&&a.add(r))}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return r},$he=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,n=t.$flags$,r=im("attachStyles",t.$tagName$),s=The(fk&&i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);n&10&&(i["s-sc"]=s,i.classList.add(s+"-h"),n&2&&i.classList.add(s+"-s")),r()},VK=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),J6=(e,t,i,n,r,s)=>{if(i!==n){let a=e8(e,t),o=t.toLowerCase();if(t==="class"){const l=e.classList,c=Z6(i),h=Z6(n);l.remove(...c.filter(p=>p&&!h.includes(p))),l.add(...h.filter(p=>p&&!c.includes(p)))}else if(t==="style"){for(const l in i)(!n||n[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in n)(!i||n[l]!==i[l])&&(l.includes("-")?e.style.setProperty(l,n[l]):e.style[l]=n[l])}else if(t!=="key")if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):e8(z0,o)?t=o.slice(2):t=o[2]+t.slice(3),i&&Bn.rel(e,t,i,!1),n&&Bn.ael(e,t,n,!1);else{const l=tF(n);if((a||l&&n!==null)&&!r)try{if(e.tagName.includes("-"))e[t]=n;else{const h=n??"";t==="list"?a=!1:(i==null||e[t]!=h)&&(e[t]=h)}}catch{}let c=!1;o!==(o=o.replace(/^xlink\:?/,""))&&(t=o,c=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(c?e.removeAttributeNS(q6,t):e.removeAttribute(t)):(!a||s&4||r)&&!l&&(n=n===!0?"":n,c?e.setAttributeNS(q6,t,n):e.setAttribute(t,n))}}},Ahe=/\s/,Z6=e=>e?e.split(Ahe):[],jK=(e,t,i,n)=>{const r=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||W6,a=t.$attrs$||W6;for(n in s)n in a||J6(r,n,s[n],void 0,i,t.$flags$);for(n in a)J6(r,n,s[n],a[n],i,t.$flags$)},hk=(e,t,i,n)=>{const r=t.$children$[i];let s=0,a,o,l;if(FK||(XL=!0,r.$tag$==="slot"&&(hg&&n.classList.add(hg+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)a=r.$elm$=Jo.createTextNode(r.$text$);else if(r.$flags$&1)a=r.$elm$=Jo.createTextNode("");else{if(Fs||(Fs=r.$tag$==="svg"),a=r.$elm$=Jo.createElementNS(Fs?yhe:vhe,r.$flags$&2?"slot-fb":r.$tag$),Fs&&r.$tag$==="foreignObject"&&(Fs=!1),jK(null,r,Fs),bhe(hg)&&a["s-si"]!==hg&&a.classList.add(a["s-si"]=hg),r.$children$)for(s=0;s<r.$children$.length;++s)o=hk(e,r,s,a),o&&a.appendChild(o);r.$tag$==="svg"?Fs=!1:a.tagName==="foreignObject"&&(Fs=!0)}return a["s-hn"]=hC,r.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=LK,a["s-sn"]=r.$name$||"",l=e&&e.$children$&&e.$children$[i],l&&l.$tag$===r.$tag$&&e.$elm$&&kw(e.$elm$,!1)),a},kw=(e,t)=>{Bn.$flags$|=1;const i=e.childNodes;for(let n=i.length-1;n>=0;n--){const r=i[n];r["s-hn"]!==hC&&r["s-ol"]&&(HK(r).insertBefore(r,iF(r)),r["s-ol"].remove(),r["s-ol"]=void 0,XL=!0),t&&kw(r,t)}Bn.$flags$&=-2},UK=(e,t,i,n,r,s)=>{let a=e["s-cr"]&&e["s-cr"].parentNode||e,o;for(a.shadowRoot&&a.tagName===hC&&(a=a.shadowRoot);r<=s;++r)n[r]&&(o=hk(null,i,r,e),o&&(n[r].$elm$=o,a.insertBefore(o,iF(t))))},BK=(e,t,i,n,r)=>{for(;t<=i;++t)(n=e[t])&&(r=n.$elm$,WK(n),uk=!0,r["s-ol"]?r["s-ol"].remove():kw(r,!0),r.remove())},Mhe=(e,t,i,n)=>{let r=0,s=0,a=0,o=0,l=t.length-1,c=t[0],h=t[l],p=n.length-1,m=n[0],g=n[p],y,b;for(;r<=l&&s<=p;)if(c==null)c=t[++r];else if(h==null)h=t[--l];else if(m==null)m=n[++s];else if(g==null)g=n[--p];else if(xx(c,m))pg(c,m),c=t[++r],m=n[++s];else if(xx(h,g))pg(h,g),h=t[--l],g=n[--p];else if(xx(c,g))(c.$tag$==="slot"||g.$tag$==="slot")&&kw(c.$elm$.parentNode,!1),pg(c,g),e.insertBefore(c.$elm$,h.$elm$.nextSibling),c=t[++r],g=n[--p];else if(xx(h,m))(c.$tag$==="slot"||g.$tag$==="slot")&&kw(h.$elm$.parentNode,!1),pg(h,m),e.insertBefore(h.$elm$,c.$elm$),h=t[--l],m=n[++s];else{for(a=-1,o=r;o<=l;++o)if(t[o]&&t[o].$key$!==null&&t[o].$key$===m.$key$){a=o;break}a>=0?(b=t[a],b.$tag$!==m.$tag$?y=hk(t&&t[s],i,a,e):(pg(b,m),t[a]=void 0,y=b.$elm$),m=n[++s]):(y=hk(t&&t[s],i,s,e),m=n[++s]),y&&HK(c.$elm$).insertBefore(y,iF(c.$elm$))}r>l?UK(e,n[p+1]==null?null:n[p+1].$elm$,i,n,s,p):s>p&&BK(t,r,l)},xx=(e,t)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:e.$key$===t.$key$:!1,iF=e=>e&&e["s-ol"]||e,HK=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,pg=(e,t)=>{const i=t.$elm$=e.$elm$,n=e.$children$,r=t.$children$,s=t.$tag$,a=t.$text$;let o;a===null?(Fs=s==="svg"?!0:s==="foreignObject"?!1:Fs,s==="slot"||jK(e,t,Fs),n!==null&&r!==null?Mhe(i,n,t,r):r!==null?(e.$text$!==null&&(i.textContent=""),UK(i,null,t,r,0,r.length-1)):n!==null&&BK(n,0,n.length-1),Fs&&s==="svg"&&(Fs=!1)):(o=i["s-cr"])?o.parentNode.textContent=a:e.$text$!==a&&(i.data=a)},GK=e=>{const t=e.childNodes;let i,n,r,s,a,o;for(n=0,r=t.length;n<r;n++)if(i=t[n],i.nodeType===1){if(i["s-sr"]){for(a=i["s-sn"],i.hidden=!1,s=0;s<r;s++)if(o=t[s].nodeType,t[s]["s-hn"]!==i["s-hn"]||a!==""){if(o===1&&a===t[s].getAttribute("slot")){i.hidden=!0;break}}else if(o===1||o===3&&t[s].textContent.trim()!==""){i.hidden=!0;break}}GK(i)}},Bo=[],qK=e=>{let t,i,n,r,s,a,o=0;const l=e.childNodes,c=l.length;for(;o<c;o++){if(t=l[o],t["s-sr"]&&(i=t["s-cr"])&&i.parentNode)for(n=i.parentNode.childNodes,r=t["s-sn"],a=n.length-1;a>=0;a--)i=n[a],!i["s-cn"]&&!i["s-nr"]&&i["s-hn"]!==t["s-hn"]&&(Q6(i,r)?(s=Bo.find(h=>h.$nodeToRelocate$===i),uk=!0,i["s-sn"]=i["s-sn"]||r,s?s.$slotRefNode$=t:Bo.push({$slotRefNode$:t,$nodeToRelocate$:i}),i["s-sr"]&&Bo.map(h=>{Q6(h.$nodeToRelocate$,i["s-sn"])&&(s=Bo.find(p=>p.$nodeToRelocate$===i),s&&!h.$slotRefNode$&&(h.$slotRefNode$=s.$slotRefNode$))})):Bo.some(h=>h.$nodeToRelocate$===i)||Bo.push({$nodeToRelocate$:i}));t.nodeType===1&&qK(t)}},Q6=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",WK=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(WK)},Dhe=(e,t)=>{const i=e.$hostElement$,n=e.$cmpMeta$,r=e.$vnode$||dk(null,null),s=zK(t)?t:v(null,null,t);hC=i.tagName,n.$attrsToReflect$&&(s.$attrs$=s.$attrs$||{},n.$attrsToReflect$.map(([a,o])=>s.$attrs$[o]=i[a])),s.$tag$=null,s.$flags$|=4,e.$vnode$=s,s.$elm$=r.$elm$=i.shadowRoot||i,hg=i["s-sc"],LK=i["s-cr"],FK=fk&&(n.$flags$&1)!==0,uk=!1,pg(r,s);{if(Bn.$flags$|=1,XL){qK(s.$elm$);let a,o,l,c,h,p,m=0;for(;m<Bo.length;m++)a=Bo[m],o=a.$nodeToRelocate$,o["s-ol"]||(l=Jo.createTextNode(""),l["s-nr"]=o,o.parentNode.insertBefore(o["s-ol"]=l,o));for(m=0;m<Bo.length;m++)if(a=Bo[m],o=a.$nodeToRelocate$,a.$slotRefNode$){for(c=a.$slotRefNode$.parentNode,h=a.$slotRefNode$.nextSibling,l=o["s-ol"];l=l.previousSibling;)if(p=l["s-nr"],p&&p["s-sn"]===o["s-sn"]&&c===p.parentNode&&(p=p.nextSibling,!p||!p["s-nr"])){h=p;break}(!h&&c!==o.parentNode||o.nextSibling!==h)&&o!==h&&(!o["s-hn"]&&o["s-ol"]&&(o["s-hn"]=o["s-ol"].parentNode.nodeName),c.insertBefore(o,h))}else o.nodeType===1&&(o.hidden=!0)}uk&&GK(s.$elm$),Bn.$flags$&=-2,Bo.length=0}},Ohe=(e,t)=>{},nF=(e,t)=>(Qe.taskQueue&&Qe.updatable&&(e.$flags$|=16),Ohe(e,e.$ancestorComponent$),npe(()=>Rhe(e,t))),Rhe=(e,t)=>{const i=e.$hostElement$,n=im("scheduleUpdate",e.$cmpMeta$.$tagName$),r=i;let s;return t?s=Ty(r,"componentWillLoad"):s=Ty(r,"componentWillUpdate"),s=X6(s,()=>Ty(r,"componentWillRender")),n(),X6(s,()=>Phe(e,r,t))},Phe=async(e,t,i)=>{const n=e.$hostElement$,r=im("update",e.$cmpMeta$.$tagName$);n["s-rc"],i&&$he(e);const s=im("render",e.$cmpMeta$.$tagName$);Lhe(e,t,n),s(),r(),Fhe(e)},Lhe=(e,t,i)=>{try{G6=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Qe.hasRenderFn||Qe.reflect)&&(Qe.vdomRender||Qe.reflect)&&(Qe.hydrateServerSide||Dhe(e,t))}catch(o){g_(o,e.$hostElement$)}return G6=null,null},Fhe=e=>{const t=e.$cmpMeta$.$tagName$,i=e.$hostElement$,n=im("postUpdate",t),r=i;e.$ancestorComponent$,Ty(r,"componentDidRender"),e.$flags$&64?(Ty(r,"componentDidUpdate"),n()):(e.$flags$|=64,Ty(r,"componentDidLoad"),n())},F0=e=>{if(Qe.updatable){const t=N0(e),i=t.$hostElement$.isConnected;return i&&(t.$flags$&18)===2&&nF(t,!1),i}return!1},Ty=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(n){g_(n)}},X6=(e,t)=>e&&e.then?e.then(t):t(),Nhe=(e,t)=>N0(e).$instanceValues$.get(t),zhe=(e,t,i,n)=>{const r=N0(e),s=e,a=r.$instanceValues$.get(t),o=r.$flags$,l=s;i=Ehe(i,n.$members$[t][0]);const c=Number.isNaN(a)&&Number.isNaN(i);if(i!==a&&!c){r.$instanceValues$.set(t,i);{if(n.$watchers$&&o&128){const p=n.$watchers$[t];p&&p.map(m=>{try{l[m](i,a,t)}catch(g){g_(g,s)}})}if((o&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(i,a,t)===!1)return;nF(r,!1)}}}},Vhe=(e,t,i)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const n=Object.entries(t.$members$),r=e.prototype;n.map(([s,[a]])=>{(a&31||a&32)&&Object.defineProperty(r,s,{get(){return Nhe(this,s)},set(o){zhe(this,s,o,t)},configurable:!0,enumerable:!0})});{const s=new Map;r.attributeChangedCallback=function(a,o,l){Bn.jmp(()=>{const c=s.get(a);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(r.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},e.observedAttributes=n.filter(([a,o])=>o[0]&15).map(([a,o])=>{const l=o[1]||a;return s.set(l,a),o[0]&512&&t.$attrsToReflect$.push([a,l]),l})}}return e},jhe=async(e,t,i,n,r)=>{if(!(t.$flags$&32)&&(r=e.constructor,t.$flags$|=32,customElements.whenDefined(i.$tagName$).then(()=>t.$flags$|=128),r.style)){let a=r.style;typeof a!="string"&&(a=a[t.$modeName$=She(e)]);const o=VK(i,t.$modeName$);if(!pk.has(o)){const l=im("registerStyles",i.$tagName$);Che(o,a,!!(i.$flags$&1)),l()}}t.$ancestorComponent$,(()=>nF(t,!0))()},Uhe=e=>{},Bhe=e=>{if(!(Bn.$flags$&1)){const t=N0(e),i=t.$cmpMeta$,n=im("connectedCallback",i.$tagName$);t.$flags$&1?(KK(e,t,i.$listeners$),Uhe(t.$lazyInstance$)):(t.$flags$|=1,i.$flags$&12&&Hhe(e),i.$members$&&Object.entries(i.$members$).map(([r,[s]])=>{if(s&31&&e.hasOwnProperty(r)){const a=e[r];delete e[r],e[r]=a}}),jhe(e,t,i)),n()}},Hhe=e=>{const t=e["s-cr"]=Jo.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Ghe=e=>{if(!(Bn.$flags$&1)){const t=N0(e);t.$rmListeners$&&(t.$rmListeners$.map(i=>i()),t.$rmListeners$=void 0)}},ne=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};Qe.member&&(i.$members$=t[2]),Qe.hostListener&&(i.$listeners$=t[3]),Qe.watchCallback&&(i.$watchers$=e.$watchers$),Qe.reflect&&(i.$attrsToReflect$=[]),Qe.shadowDom&&!fk&&i.$flags$&1&&(i.$flags$|=8);const n=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){Yhe(this,i)},connectedCallback(){Bhe(this),Qe.connectedCallback&&n&&n.call(this)},disconnectedCallback(){Ghe(this),Qe.disconnectedCallback&&r&&r.call(this)},__attachShadow(){fk?Qe.shadowDelegatesFocus?this.attachShadow({mode:"open",delegatesFocus:!!(i.$flags$&16)}):this.attachShadow({mode:"open"}):this.shadowRoot=this}}),e.is=i.$tagName$,Vhe(e,i)},Hr=(e,t)=>t,KK=(e,t,i,n)=>{i&&i.map(([r,s,a])=>{const o=Whe(e,r),l=qhe(t,a),c=Khe(r);Bn.ael(o,s,l,c),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>Bn.rel(o,s,l,c))})},qhe=(e,t)=>i=>{try{Qe.lazyLoad||e.$hostElement$[t](i)}catch(n){g_(n)}},Whe=(e,t)=>t&4?Jo:t&8?z0:t&16?Jo.body:e,Khe=e=>Qhe?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0,YK=new WeakMap,N0=e=>YK.get(e),Yhe=(e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return Qe.isDev&&(i.$renderCount$=0),Qe.method&&Qe.lazyLoad&&(i.$onInstancePromise$=new Promise(n=>i.$onInstanceResolve$=n)),Qe.asyncLoading&&(i.$onReadyPromise$=new Promise(n=>i.$onReadyResolve$=n),e["s-p"]=[],e["s-rc"]=[]),KK(e,i,t.$listeners$),YK.set(e,i)},e8=(e,t)=>t in e,g_=(e,t)=>(0,console.error)(e,t),JK=Qe.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],Jhe=(...e)=>console.error(...JK,...e),ZK=(...e)=>console.warn(...JK,...e),pk=new Map,Zhe=[],z0=typeof window<"u"?window:{};Qe.cssVarShim&&z0.CSS;const Jo=z0.document||{head:{}},re=z0.HTMLElement||class{},Bn={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,n)=>e.addEventListener(t,i,n),rel:(e,t,i,n)=>e.removeEventListener(t,i,n),ce:(e,t)=>new CustomEvent(e,t)},fk=Qe.shadowDomShim&&Qe.shadowDom?(()=>(Jo.head.attachShadow+"").indexOf("[native")>-1)():!0,Qhe=(()=>{let e=!1;try{Jo.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),Xhe=e=>Promise.resolve(e),epe=Qe.constructableCSS?(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})():!1,z3=[],QK=[],XK=(e,t)=>i=>{e.push(i),N3||(N3=!0,t&&Bn.$flags$&4?tpe(V3):Bn.raf(V3))},t8=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(i){g_(i)}e.length=0},V3=()=>{t8(z3),t8(QK),(N3=z3.length>0)&&Bn.raf(V3)},tpe=e=>Xhe().then(e),ipe=XK(z3,!1),npe=XK(QK,!0);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const rpe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([scale=s]){--calcite-accordion-item-spacing-unit:0.25rem;--calcite-accordion-icon-margin:0.5rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){--calcite-accordion-item-spacing-unit:0.5rem;--calcite-accordion-icon-margin:0.75rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){--calcite-accordion-item-spacing-unit:0.75rem;--calcite-accordion-icon-margin:1rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host{position:relative;display:block;max-inline-size:100%;line-height:1.5rem;--calcite-accordion-item-border:var(--calcite-ui-border-2);--calcite-accordion-item-background:var(--calcite-ui-foreground-1)}.accordion--transparent{--calcite-accordion-item-border:transparent;--calcite-accordion-item-background:transparent}.accordion{border-width:1px;border-block-end-width:0px;border-style:solid;border-color:var(--calcite-ui-border-2)}",spe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalAccordionChange=B(this,"calciteInternalAccordionChange",6),this.items=[],this.sorted=!1,this.sortItems=e=>e.sort((t,i)=>t.position-i.position).map(t=>t.item),this.appearance="solid",this.iconPosition="end",this.iconType="chevron",this.scale="m",this.selectionMode="multiple"}componentDidLoad(){this.sorted||(this.items=this.sortItems(this.items),this.sorted=!0)}render(){const e=this.appearance==="transparent";return v("div",{class:{"accordion--transparent":e,accordion:!e}},v("slot",null))}registerCalciteAccordionItem(e){const t={item:e.target,parent:e.detail.parent,position:e.detail.position};this.el===t.parent&&this.items.push(t),e.stopPropagation()}updateActiveItemOnChange(e){this.requestedAccordionItem=e.detail.requestedAccordionItem,this.calciteInternalAccordionChange.emit({requestedAccordionItem:this.requestedAccordionItem}),e.stopPropagation()}get el(){return this}static get style(){return rpe}},[1,"calcite-accordion",{appearance:[513],iconPosition:[513,"icon-position"],iconType:[513,"icon-type"],scale:[513],selectionMode:[513,"selection-mode"]},[[0,"calciteInternalAccordionItemRegister","registerCalciteAccordionItem"],[0,"calciteInternalAccordionItemSelect","updateActiveItemOnChange"]]]);function ape(){if(typeof customElements>"u")return;["calcite-accordion"].forEach(t=>{switch(t){case"calcite-accordion":customElements.get(t)||customElements.define(t,spe);break}})}ape();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function Ct(e,t,i){if(!ro.isBrowser)return;const n=ope(e);return new n(t,i)}function ope(e){class t extends window.MutationObserver{constructor(n){super(n),this.observedEntry=[],this.callback=n}observe(n,r){return this.observedEntry.push({target:n,options:r}),super.observe(n,r)}unobserve(n){const r=this.observedEntry.filter(s=>s.target!==n);this.observedEntry=[],this.callback(super.takeRecords(),this),this.disconnect(),r.forEach(s=>this.observe(s.target,s.options))}}return function(){return e==="intersection"?window.IntersectionObserver:e==="mutation"?t:window.ResizeObserver}()}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const i8=new Set;let $y;const eY={childList:!0};function bn(e){$y||($y=Ct("mutation",tY)),$y.observe(e.el,eY)}function wn(e){i8.delete(e.el),tY($y.takeRecords()),$y.disconnect();for(const[t]of i8.entries())$y.observe(t,eY)}function tY(e){e.forEach(({target:t})=>{F0(t)})}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function lpe(e){return e.map(t=>{let i="";for(let n=0;n<t;n++)i+=((1+Math.random())*65536|0).toString(16).substring(1);return i}).join("-")}const $i=()=>lpe([2,1,1,1,3]);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const iY="calcite-mode-auto",nY="calcite-mode-dark",cpe="calcite-mode-light",za={autoMode:iY,darkMode:nY,lightMode:cpe,rtl:"calcite--rtl"};/*!
* tabbable 6.0.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var rY=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],mk=rY.join(","),sY=typeof Element>"u",nm=sY?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,gk=!sY&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},aY=function(t,i,n){var r=Array.prototype.slice.apply(t.querySelectorAll(mk));return i&&nm.call(t,mk)&&r.unshift(t),r=r.filter(n),r},oY=function e(t,i,n){for(var r=[],s=Array.from(t);s.length;){var a=s.shift();if(a.tagName==="SLOT"){var o=a.assignedElements(),l=o.length?o:a.children,c=e(l,!0,n);n.flatten?r.push.apply(r,c):r.push({scopeParent:a,candidates:c})}else{var h=nm.call(a,mk);h&&n.filter(a)&&(i||!t.includes(a))&&r.push(a);var p=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),m=!n.shadowRootFilter||n.shadowRootFilter(a);if(p&&m){var g=e(p===!0?a.children:p.children,!0,n);n.flatten?r.push.apply(r,g):r.push({scopeParent:a,candidates:g})}else s.unshift.apply(s,a.children)}}return r},lY=function(t,i){return t.tabIndex<0&&(i||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||t.isContentEditable)&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},upe=function(t,i){return t.tabIndex===i.tabIndex?t.documentOrder-i.documentOrder:t.tabIndex-i.tabIndex},cY=function(t){return t.tagName==="INPUT"},dpe=function(t){return cY(t)&&t.type==="hidden"},hpe=function(t){var i=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(n){return n.tagName==="SUMMARY"});return i},ppe=function(t,i){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===i)return t[n]},fpe=function(t){if(!t.name)return!0;var i=t.form||gk(t),n=function(o){return i.querySelectorAll('input[type="radio"][name="'+o+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=n(window.CSS.escape(t.name));else try{r=n(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=ppe(r,t.form);return!s||s===t},mpe=function(t){return cY(t)&&t.type==="radio"},gpe=function(t){return mpe(t)&&!fpe(t)},ype=function(t){for(var i,n=gk(t).host,r=!!((i=n)!==null&&i!==void 0&&i.ownerDocument.contains(n)||t.ownerDocument.contains(t));!r&&n;){var s;n=gk(n).host,r=!!((s=n)!==null&&s!==void 0&&s.ownerDocument.contains(n))}return r},n8=function(t){var i=t.getBoundingClientRect(),n=i.width,r=i.height;return n===0&&r===0},vpe=function(t,i){var n=i.displayCheck,r=i.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var s=nm.call(t,"details>summary:first-of-type"),a=s?t.parentElement:t;if(nm.call(a,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof r=="function"){for(var o=t;t;){var l=t.parentElement,c=gk(t);if(l&&!l.shadowRoot&&r(l)===!0)return n8(t);t.assignedSlot?t=t.assignedSlot:!l&&c!==t.ownerDocument?t=c.host:t=l}t=o}if(ype(t))return!t.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return n8(t);return!1},bpe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var i=t.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var n=0;n<i.children.length;n++){var r=i.children.item(n);if(r.tagName==="LEGEND")return nm.call(i,"fieldset[disabled] *")?!0:!r.contains(t)}return!0}i=i.parentElement}return!1},yk=function(t,i){return!(i.disabled||dpe(i)||vpe(i,t)||hpe(i)||bpe(i))},j3=function(t,i){return!(gpe(i)||lY(i)<0||!yk(t,i))},wpe=function(t){var i=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},_pe=function e(t){var i=[],n=[];return t.forEach(function(r,s){var a=!!r.scopeParent,o=a?r.scopeParent:r,l=lY(o,a),c=a?e(r.candidates):o;l===0?a?i.push.apply(i,c):i.push(o):n.push({documentOrder:s,tabIndex:l,item:r,isScope:a,content:c})}),n.sort(upe).reduce(function(r,s){return s.isScope?r.push.apply(r,s.content):r.push(s.content),r},[]).concat(i)},uY=function(t,i){i=i||{};var n;return i.getShadowRoot?n=oY([t],i.includeContainer,{filter:j3.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:wpe}):n=aY(t,i.includeContainer,j3.bind(null,i)),_pe(n)},xpe=function(t,i){i=i||{};var n;return i.getShadowRoot?n=oY([t],i.includeContainer,{filter:yk.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):n=aY(t,i.includeContainer,yk.bind(null,i)),n},Sx=function(t,i){if(i=i||{},!t)throw new Error("No node provided");return nm.call(t,mk)===!1?!1:j3(i,t)},Spe=rY.concat("iframe").join(","),g$=function(t,i){if(i=i||{},!t)throw new Error("No node provided");return nm.call(t,Spe)===!1?!1:yk(i,t)};const dY={getShadowRoot:!0};function r8(e){return e?e.id=e.id||`${e.tagName.toLowerCase()}-${$i()}`:""}function Go(e){return Array.isArray(e)?e:Array.from(e)}function hY(e){const t=rc(e,`.${za.darkMode}, .${za.lightMode}`);return t!=null&&t.classList.contains("calcite-mode-dark")?"dark":"light"}function Ci(e){const t="dir",i=`[${t}]`,n=rc(e,i);return n?n.getAttribute(t):"ltr"}function ci(e,t,i){const n=`[${t}]`,r=e.closest(n);return r?r.getAttribute(t):i}function rF(e){return e.getRootNode()}function pY(e){return e.host||null}function sF(e,{selector:t,id:i}){function n(r){if(!r)return null;r.assignedSlot&&(r=r.assignedSlot);const s=rF(r),a=i?"getElementById"in s?s.getElementById(i):null:t?s.querySelector(t):null,o=pY(s);return a||(o?n(o):null)}return n(e)}function rc(e,t){function i(n){return n?n.closest(t)||i(pY(rF(n))):null}return i(e)}function Epe(e,t){return fY(e,t)}function fY(e,t){if(!e)return;const i=t(e);if(i!==void 0)return i;const{parentNode:n}=e;return fY(n instanceof ShadowRoot?n.host:n,t)}function kpe(e,t){return!!Epe(t,i=>i===e?!0:void 0)}function Ipe(e){return typeof(e==null?void 0:e.setFocus)=="function"}async function Nr(e){if(e)return Ipe(e)?e.setFocus():e.focus()}function aF(e){(uY(e,dY)[0]||e).focus()}const Iw=":not([slot])";function Xe(e,t,i){t&&!Array.isArray(t)&&typeof t!="string"&&(i=t,t=null);const n=t?Array.isArray(t)?t.map(r=>`[slot="${r}"]`).join(","):`[slot="${t}"]`:Iw;return i!=null&&i.all?Cpe(e,n,i):Tpe(e,n,i)}function mY(e,t){return e?Array.from(e.children||[]).filter(i=>i==null?void 0:i.matches(t)):[]}function Cpe(e,t,i){let n=t===Iw?mY(e,Iw):Array.from(e.querySelectorAll(t));n=i&&i.direct===!1?n:n.filter(s=>s.parentElement===e),n=i!=null&&i.matches?n.filter(s=>s==null?void 0:s.matches(i.matches)):n;const r=i==null?void 0:i.selector;return r?n.map(s=>Array.from(s.querySelectorAll(r))).reduce((s,a)=>[...s,...a],[]).filter(s=>!!s):n}function Tpe(e,t,i){let n=t===Iw?mY(e,Iw)[0]||null:e.querySelector(t);n=i&&i.direct===!1||(n==null?void 0:n.parentElement)===e?n:null,n=i!=null&&i.matches?n!=null&&n.matches(i.matches)?n:null:n;const r=i==null?void 0:i.selector;return r?n==null?void 0:n.querySelector(r):n}function U3(e,t){return Array.from(e.children).filter(i=>i.matches(t))}function Za(e,t,i){if(typeof t=="string"&&t!=="")return t;if(t==="")return e[i]}function s8(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}function ot(e){return Boolean(e).toString()}function La(e){return!!B3(e).length}function B3(e){return e.target.assignedElements({flatten:!0})}function dr(e){return!!(e.isPrimary&&e.button===0)}const Xc=(e,t,i)=>{const n=e.indexOf(t),r=n===0,s=n===e.length-1;i=i==="previous"&&r?"last":i==="next"&&s?"first":i;let a;switch(i){case"first":a=e[0];break;case"last":a=e[e.length-1];break;case"next":a=e[n+1]||e[0];break;case"previous":a=e[n-1]||e[e.length-1];break}return Nr(a),a};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const $pe={icon:"icon",flipRtl:"flip-rtl"},y$={},v$={},gY={s:16,m:24,l:32};async function Ape({icon:e,scale:t}){const i=gY[t],n=Mpe(e),r=n.charAt(n.length-1)==="F",a=`${r?n.substring(0,n.length-1):n}${i}${r?"F":""}`;if(y$[a])return y$[a];v$[a]||(v$[a]=fetch(eF(`./assets/icon/${a}.json`)).then(l=>l.json()).catch(()=>(console.error(`"${a}" is not a valid calcite-ui-icon name`),"")));const o=await v$[a];return y$[a]=o,o}function Mpe(e){const t=!isNaN(Number(e.charAt(0))),i=e.split("-");if(i.length>0){const r=/[a-z]/i;e=i.map((s,a)=>s.replace(r,function(l,c){return a===0&&c===0?l:l.toUpperCase()})).join("")}return t?`i${e}`:e}const Dpe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:inline-flex;color:var(--calcite-ui-icon-color)}:host([scale=s]){block-size:1rem;inline-size:1rem;min-inline-size:1rem;min-block-size:1rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem;min-inline-size:1.5rem;min-block-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem;min-inline-size:2rem;min-block-size:2rem}.flip-rtl{transform:scaleX(-1)}.svg{display:block}",Ope=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.icon=null,this.flipRtl=!1,this.scale="m",this.textLabel=void 0,this.pathData=void 0,this.visible=!1}connectedCallback(){this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}disconnectedCallback(){var e;(e=this.intersectionObserver)==null||e.disconnect(),this.intersectionObserver=null}async componentWillLoad(){this.loadIconPathData()}render(){const{el:e,flipRtl:t,pathData:i,scale:n,textLabel:r}=this,s=Ci(e),a=gY[n],o=!!r,l=[].concat(i||"");return v(Fe,{"aria-hidden":ot(!o),"aria-label":o?r:null,role:o?"img":null},v("svg",{"aria-hidden":"true",class:{[$pe.flipRtl]:s==="rtl"&&t,svg:!0},fill:"currentColor",height:"100%",viewBox:`0 0 ${a} ${a}`,width:"100%",xmlns:"http://www.w3.org/2000/svg"},l.map(c=>typeof c=="string"?v("path",{d:c}):v("path",{d:c.d,opacity:"opacity"in c?c.opacity:1}))))}async loadIconPathData(){const{icon:e,scale:t,visible:i}=this;!ro.isBrowser||!e||!i||(this.pathData=await Ape({icon:e,scale:t}))}waitUntilVisible(e){if(this.intersectionObserver=Ct("intersection",t=>{t.forEach(i=>{i.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,e())})},{rootMargin:"50px"}),!this.intersectionObserver){e();return}this.intersectionObserver.observe(this.el)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{icon:["loadIconPathData"],scale:["loadIconPathData"]}}static get style(){return Dpe}},[1,"calcite-icon",{icon:[513],flipRtl:[516,"flip-rtl"],scale:[513],textLabel:[1,"text-label"],pathData:[32],visible:[32]}]);function Te(){if(typeof customElements>"u")return;["calcite-icon"].forEach(t=>{switch(t){case"calcite-icon":customElements.get(t)||customElements.define(t,Ope);break}})}Te();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Ex={actionsStart:"actions-start",actionsEnd:"actions-end"},la={icon:"icon",header:"header",headerContent:"header-content",actionsStart:"actions-start",actionsEnd:"actions-end",headerText:"header-text",heading:"heading",description:"description",expandIcon:"expand-icon",content:"content",iconStart:"icon--start",iconEnd:"icon--end",headerContainer:"header-container"},Rpe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}.icon-position--end,.icon-position--start{--calcite-accordion-item-icon-rotation:calc(90deg * -1);--calcite-accordion-item-active-icon-rotation:0deg;--calcite-accordion-item-icon-rotation-rtl:90deg;--calcite-accordion-item-active-icon-rotation-rtl:0deg}.icon-position--start{--calcite-accordion-item-flex-direction:row-reverse;--calcite-accordion-item-icon-spacing-start:0;--calcite-accordion-item-icon-spacing-end:var(--calcite-accordion-icon-margin)}.icon-position--end{--calcite-accordion-item-flex-direction:row;--calcite-accordion-item-icon-spacing-start:var(--calcite-accordion-icon-margin);--calcite-accordion-item-icon-spacing-end:0}.icon-position--end:not(.icon-type--plus-minus){--calcite-accordion-item-icon-rotation:0deg;--calcite-accordion-item-active-icon-rotation:180deg;--calcite-accordion-item-icon-rotation-rtl:0deg;--calcite-accordion-item-active-icon-rotation-rtl:calc(180deg * -1)}:host{position:relative;display:flex;flex-direction:column;color:var(--calcite-ui-text-3);text-decoration-line:none;background-color:var(--calcite-accordion-item-background, var(--calcite-ui-foreground-1))}:host .header-content{outline-color:transparent}:host(:focus) .header-content{outline:2px solid transparent;outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([expanded]){color:var(--calcite-ui-text-1)}:host([expanded]) .content{display:block;color:var(--calcite-ui-text-1)}:host([expanded]) .header{border-block-end-color:transparent}:host .header{display:flex;align-items:stretch}:host .icon{position:relative;margin:0px;display:inline-flex;color:var(--calcite-ui-text-3);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);margin-inline-end:var(--calcite-accordion-item-icon-spacing-start);margin-inline-start:var(--calcite-accordion-item-icon-spacing-end)}.icon--start{display:flex;align-items:center;margin-inline-end:var(--calcite-accordion-icon-margin)}.icon--end{display:flex;align-items:center;margin-inline-end:var(--calcite-accordion-icon-margin);margin-inline-start:var(--calcite-accordion-icon-margin)}.header-container{inline-size:100%}.content{padding:var(--calcite-accordion-item-padding)}:host .content,:host .header{border-block-end:1px solid var(--calcite-accordion-item-border, var(--calcite-ui-border-2))}:host .header *{display:inline-flex;align-items:center;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .content{display:none;padding-block-start:0px;color:var(--calcite-ui-text-3);text-align:initial}:host .expand-icon{color:var(--calcite-ui-text-3);margin-inline-start:var(--calcite-accordion-item-icon-spacing-start);margin-inline-end:var(--calcite-accordion-item-icon-spacing-end);transform:rotate(var(--calcite-accordion-item-icon-rotation))}.calcite--rtl .expand-icon{transform:rotate(var(--calcite-accordion-item-icon-rotation-rtl))}:host([expanded]) .expand-icon{color:var(--calcite-ui-text-1);transform:rotate(var(--calcite-accordion-item-active-icon-rotation))}:host([expanded]) .calcite--rtl .expand-icon{transform:rotate(var(--calcite-accordion-item-active-icon-rotation-rtl))}:host .header-text{margin-block:0px;flex-grow:1;flex-direction:column;padding-block:0px;text-align:initial;margin-inline-end:auto}:host .heading,:host .description{display:flex;inline-size:100%}:host .heading{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}:host .description{margin-block-start:0.25rem;color:var(--calcite-ui-text-3)}:host(:focus) .heading,:host(:hover) .heading{color:var(--calcite-ui-text-1)}:host(:focus) .icon,:host(:hover) .icon{color:var(--calcite-ui-text-1)}:host(:focus) .expand-icon,:host(:hover) .expand-icon{color:var(--calcite-ui-text-1)}:host(:focus) .description,:host(:hover) .description{color:var(--calcite-ui-text-2)}:host(:focus) .heading,:host(:active) .heading,:host([expanded]) .heading{color:var(--calcite-ui-text-1)}:host(:focus) .icon,:host(:active) .icon,:host([expanded]) .icon{color:var(--calcite-ui-text-1)}:host(:focus) .expand-icon,:host(:active) .expand-icon,:host([expanded]) .expand-icon{color:var(--calcite-ui-text-1)}:host(:focus) .description,:host(:active) .description,:host([expanded]) .description{color:var(--calcite-ui-text-2)}.header-content{flex-grow:1;cursor:pointer;padding:var(--calcite-accordion-item-padding);flex-direction:var(--calcite-accordion-item-flex-direction)}.actions-start,.actions-end{display:flex;align-items:center}@media (forced-colors: active){:host([expanded]) .header{border-block-end:none}:host([expanded]) .heading{font-weight:bolder}:host(:hover) .heading,:host(:focus) .heading{text-decoration:underline}}",Ppe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalAccordionItemSelect=B(this,"calciteInternalAccordionItemSelect",6),this.calciteInternalAccordionItemClose=B(this,"calciteInternalAccordionItemClose",6),this.calciteInternalAccordionItemRegister=B(this,"calciteInternalAccordionItemRegister",6),this.iconPosition="end",this.itemHeaderClickHandler=()=>this.emitRequestedItem(),this.scale="m",this.expanded=!1,this.heading=void 0,this.description=void 0,this.iconStart=void 0,this.iconEnd=void 0,this.iconFlipRtl=void 0}connectedCallback(){this.parent=this.el.parentElement,this.iconType=ci(this.el,"icon-type","chevron"),this.iconPosition=ci(this.el,"icon-position",this.iconPosition),this.scale=ci(this.el,"scale",this.scale),bn(this)}componentDidLoad(){this.itemPosition=this.getItemPosition(),this.calciteInternalAccordionItemRegister.emit({parent:this.parent,position:this.itemPosition})}disconnectedCallback(){wn(this)}renderActionsStart(){const{el:e}=this;return Xe(e,Ex.actionsStart)?v("div",{class:la.actionsStart},v("slot",{name:Ex.actionsStart})):null}renderActionsEnd(){const{el:e}=this;return Xe(e,Ex.actionsEnd)?v("div",{class:la.actionsEnd},v("slot",{name:Ex.actionsEnd})):null}render(){const{iconFlipRtl:e}=this,t=Ci(this.el),i=this.iconStart?v("calcite-icon",{class:la.iconStart,flipRtl:e==="both"||e==="start",icon:this.iconStart,key:"icon-start",scale:this.scale==="l"?"m":"s"}):null,n=this.iconEnd?v("calcite-icon",{class:la.iconEnd,flipRtl:e==="both"||e==="end",icon:this.iconEnd,key:"icon-end",scale:this.scale==="l"?"m":"s"}):null,{description:r}=this;return v(Fe,null,v("div",{class:{[`icon-position--${this.iconPosition}`]:!0,[`icon-type--${this.iconType}`]:!0}},v("div",{class:{[la.header]:!0,[za.rtl]:t==="rtl"}},this.renderActionsStart(),v("div",{"aria-expanded":ot(this.expanded),class:la.headerContent,onClick:this.itemHeaderClickHandler,role:"button",tabindex:"0"},v("div",{class:la.headerContainer},i,v("div",{class:la.headerText},v("span",{class:la.heading},this.heading),r?v("span",{class:la.description},r):null),n),v("calcite-icon",{class:la.expandIcon,icon:this.iconType==="chevron"?"chevronDown":this.iconType==="caret"?"caretDown":this.expanded?"minus":"plus",scale:this.scale==="l"?"m":"s"})),this.renderActionsEnd()),v("div",{class:la.content},v("slot",null))))}keyDownHandler(e){if(e.target===this.el)switch(e.key){case" ":case"Enter":this.emitRequestedItem(),e.preventDefault();break}}updateActiveItemOnChange(e){this.requestedAccordionItem=e.detail.requestedAccordionItem,this.el.parentNode===this.requestedAccordionItem.parentNode&&(this.determineActiveItem(),e.stopPropagation())}determineActiveItem(){switch(this.selectionMode=ci(this.el,"selection-mode","multiple"),this.selectionMode){case"multiple":this.el===this.requestedAccordionItem&&(this.expanded=!this.expanded);break;case"single":this.expanded=this.el===this.requestedAccordionItem?!this.expanded:!1;break;case"single-persist":this.expanded=this.el===this.requestedAccordionItem;break}}emitRequestedItem(){this.calciteInternalAccordionItemSelect.emit({requestedAccordionItem:this.el})}getItemPosition(){return Array.prototype.indexOf.call(this.parent.querySelectorAll("calcite-accordion-item"),this.el)}get el(){return this}static get style(){return Rpe}},[1,"calcite-accordion-item",{expanded:[1540],heading:[1],description:[1],iconStart:[513,"icon-start"],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"]},[[0,"keydown","keyDownHandler"],[16,"calciteInternalAccordionChange","updateActiveItemOnChange"]]]);function Lpe(){if(typeof customElements>"u")return;["calcite-accordion-item","calcite-icon"].forEach(t=>{switch(t){case"calcite-accordion-item":customElements.get(t)||customElements.define(t,Ppe);break;case"calcite-icon":customElements.get(t)||Te();break}})}Lpe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function Fpe(){}function et(e,t=!1){if(e.disabled){e.el.setAttribute("tabindex","-1"),e.el.setAttribute("aria-disabled","true"),e.el.contains(document.activeElement)&&document.activeElement.blur(),e.el.click=Fpe;return}e.el.click=HTMLElement.prototype.click,typeof t=="function"?e.el.setAttribute("tabindex",t.call(e)?"0":"-1"):t===!0?e.el.setAttribute("tabindex","0"):t===!1&&e.el.removeAttribute("tabindex"),e.el.removeAttribute("aria-disabled")}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const yY=new WeakMap,vY=new WeakMap;function We(e){vY.set(e,new Promise(t=>yY.set(e,t)))}function Ke(e){yY.get(e)()}function He(e){return vY.get(e)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function Qa(e){return e==="Enter"||e===" "}const Va=["0","1","2","3","4","5","6","7","8","9"];/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Npe=new RegExp("-","g"),zpe=new RegExp("\\.?0+$");class Lt{constructor(t){if(this.add=r=>Lt.fromBigInt(this.value+new Lt(r).value),this.subtract=r=>Lt.fromBigInt(this.value-new Lt(r).value),this.multiply=r=>Lt._divRound(this.value*new Lt(r).value,Lt.SHIFT),this.divide=r=>Lt._divRound(this.value*Lt.SHIFT,new Lt(r).value),t instanceof Lt)return t;const[i,n]=String(t).split(".").concat("");this.value=BigInt(i+n.padEnd(Lt.DECIMALS,"0").slice(0,Lt.DECIMALS))+BigInt(Lt.ROUNDED&&n[Lt.DECIMALS]>="5"),this.isNegative=t.charAt(0)==="-"}getIntegersAndDecimals(){const t=this.value.toString().replace(Npe,"").padStart(Lt.DECIMALS+1,"0"),i=t.slice(0,-Lt.DECIMALS),n=t.slice(-Lt.DECIMALS).replace(zpe,"");return{integers:i,decimals:n}}toString(){const{integers:t,decimals:i}=this.getIntegersAndDecimals();return`${this.isNegative?"-":""}${t}${i.length?"."+i:""}`}formatToParts(t){const{integers:i,decimals:n}=this.getIntegersAndDecimals(),r=t.numberFormatter.formatToParts(BigInt(i));return this.isNegative&&r.unshift({type:"minusSign",value:t.minusSign}),n.length&&(r.push({type:"decimal",value:t.decimal}),n.split("").forEach(s=>r.push({type:"fraction",value:s}))),r}format(t){const{integers:i,decimals:n}=this.getIntegersAndDecimals(),r=`${this.isNegative?t.minusSign:""}${t.numberFormatter.format(BigInt(i))}`,s=n.length?`${t.decimal}${n.split("").map(a=>t.numberFormatter.format(Number(a))).join("")}`:"";return`${r}${s}`}}Lt.DECIMALS=100;Lt.ROUNDED=!0;Lt.SHIFT=BigInt("1"+"0".repeat(Lt.DECIMALS));Lt._divRound=(e,t)=>Lt.fromBigInt(e/t+(Lt.ROUNDED?e*BigInt(2)/t%BigInt(2):BigInt(0)));Lt.fromBigInt=e=>Object.assign(Object.create(Lt.prototype),{value:e});function It(e){return!(!e||isNaN(Number(e)))}function bY(e){return!e||!Hpe(e)?"":vk(e,t=>{let i=!1;const n=t.split("").filter((r,s)=>r.match(/\./g)&&!i?(i=!0,!0):r.match(/\-/g)&&s===0?!0:Va.includes(r)).reduce((r,s)=>r+s);return It(n)?new Lt(n).toString():""})}const Vpe=/^([-0])0+(?=\d)/,jpe=/(?!^\.)\.$/,Upe=/(?!^-)-/g,Bpe=/^-\b0\b\.?0*$/,wY=e=>vk(e,t=>{const i=t.replace(Upe,"").replace(jpe,"").replace(Vpe,"$1");return It(i)?Bpe.test(i)?i:new Lt(i).toString():t});function vk(e,t){if(!e)return e;const i=e.toLowerCase().indexOf("e")+1;return i?e.replace(/[eE]*$/g,"").substring(0,i).concat(e.slice(i).replace(/[eE]/g,"")).split(/[eE]/).map((n,r)=>t(r===1?n.replace(/\./g,""):n)).join("e").replace(/^e/,"1e"):t(e)}function Hpe(e){return Va.some(t=>e.includes(t))}const Ih="en",Gpe=["ar","bg","bs","ca","cs","da","de","el",Ih,"es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","no","nl","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],qpe=["ar","bg","bs","ca","cs","da","de","de-CH","el",Ih,"en-AU","en-CA","en-GB","es","es-MX","et","fi","fr","fr-CH","he","hi","hr","hu","id","it","it-CH","ja","ko","lt","lv","mk","no","nl","pl","pt","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],Wpe=["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr","knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt"],_Y=e=>Wpe.includes(e),b$=new Intl.NumberFormat().resolvedOptions().numberingSystem,pC=b$==="arab"||!_Y(b$)?"latn":b$,xY=e=>_Y(e)?e:pC;function fC(e,t="cldr"){const i=t==="cldr"?qpe:Gpe;return e?i.includes(e)?e:(e=e.toLowerCase(),e==="nb"?"no":t==="t9n"&&e==="pt"?"pt-BR":(e.includes("-")&&(e=e.replace(/(\w+)-(\w+)/,(n,r,s)=>`${r}-${s.toUpperCase()}`),i.includes(e)||(e=e.split("-")[0])),e==="zh"?"zh-CN":i.includes(e)?e:(console.warn(`Translations for the "${e}" locale are not available and will fall back to the default, English (en).`),Ih))):Ih}const Cw=new Set;function ht(e){Kpe(e),Cw.size===0&&(a2==null||a2.observe(document.documentElement,{attributes:!0,attributeFilter:["lang"],subtree:!0})),Cw.add(e)}function Kpe(e){e.effectiveLocale=Ype(e)}function pt(e){Cw.delete(e),Cw.size===0&&a2.disconnect()}const a2=Ct("mutation",e=>{e.forEach(t=>{const i=t.target;Cw.forEach(n=>{if(!kpe(i,n.el))return;const s=rc(n.el,"[lang]");if(!s){n.effectiveLocale=Ih;return}const a=s.lang;n.effectiveLocale=s.hasAttribute("lang")&&a===""?Ih:a})})});function Ype(e){var t;return e.el.lang||((t=rc(e.el,"[lang]"))==null?void 0:t.lang)||document.documentElement.lang||Ih}class Jpe{constructor(){this.delocalize=t=>this._numberFormatOptions?vk(t,i=>i.trim().replace(new RegExp(`[${this._minusSign}]`,"g"),"-").replace(new RegExp(`[${this._group}]`,"g"),"").replace(new RegExp(`[${this._decimal}]`,"g"),".").replace(new RegExp(`[${this._digits.join("")}]`,"g"),this._getDigitIndex)):t,this.localize=t=>this._numberFormatOptions?vk(t,i=>It(i.trim())?new Lt(i.trim()).format(this).replace(new RegExp(`[${this._actualGroup}]`,"g"),this._group):i):t}get group(){return this._group}get decimal(){return this._decimal}get minusSign(){return this._minusSign}get digits(){return this._digits}get numberFormatter(){return this._numberFormatter}get numberFormatOptions(){return this._numberFormatOptions}set numberFormatOptions(t){if(t.locale=fC(t==null?void 0:t.locale),t.numberingSystem=xY(t==null?void 0:t.numberingSystem),!this._numberFormatOptions&&t.locale===Ih&&t.numberingSystem===pC&&Object.keys(t).length===2||JSON.stringify(this._numberFormatOptions)===JSON.stringify(t))return;this._numberFormatOptions=t,this._numberFormatter=new Intl.NumberFormat(this._numberFormatOptions.locale,this._numberFormatOptions),this._digits=[...new Intl.NumberFormat(this._numberFormatOptions.locale,{useGrouping:!1,numberingSystem:this._numberFormatOptions.numberingSystem}).format(9876543210)].reverse();const i=new Map(this._digits.map((r,s)=>[r,s])),n=new Intl.NumberFormat(this._numberFormatOptions.locale).formatToParts(-123456789e-1);this._actualGroup=n.find(r=>r.type==="group").value,this._group=this._actualGroup.trim().length===0?" ":this._actualGroup,this._decimal=n.find(r=>r.type==="decimal").value,this._minusSign=n.find(r=>r.type==="minusSign").value,this._getDigitIndex=r=>i.get(r)}}const Me=new Jpe;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const kx={};async function Zpe(e,t){const i=`${t}_${e}`;return kx[i]||(kx[i]=fetch(eF(`./assets/${t}/t9n/messages_${e}.json`)).then(n=>(n.ok||a8(),n.json())).catch(()=>a8())),kx[i]}function a8(){throw new Error("could not fetch component message bundle")}function oF(e){e.messages={...e.defaultMessages,...e.messageOverrides}}async function $t(e){e.defaultMessages=await SY(e,e.effectiveLocale),oF(e)}async function SY(e,t){const{el:i}=e,r=i.tagName.toLowerCase().replace("calcite-","");return Zpe(fC(t,"t9n"),r)}async function At(e,t){e.defaultMessages=await SY(e,t),oF(e)}function Mt(e){e.onMessagesChange=Qpe}function Dt(e){e.onMessagesChange=void 0}function Qpe(){oF(this)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Xpe='@charset "UTF-8";@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:relative;margin-inline:auto;display:none;align-items:center;justify-content:center;opacity:1;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke:var(--calcite-ui-brand);stroke-width:3;fill:none;transform:scale(1, 1);animation:loader-color-shift calc(var(--calcite-internal-animation-timing-slow) * 2) alternate-reverse infinite linear;padding-block:var(--calcite-loader-padding, 4rem)}:host([scale=s]){--calcite-loader-font-size:var(--calcite-font-size--2);--calcite-loader-size:2rem;--calcite-loader-size-inline:0.75rem}:host([scale=m]){--calcite-loader-font-size:var(--calcite-font-size-0);--calcite-loader-size:4rem;--calcite-loader-size-inline:1rem}:host([scale=l]){--calcite-loader-font-size:var(--calcite-font-size-2);--calcite-loader-size:6rem;--calcite-loader-size-inline:1.5rem}:host([no-padding]){padding-block:0px}:host{display:flex}.loader__text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-ui-text-1);margin-block-start:calc(var(--calcite-loader-size) + 1.5rem)}.loader__percentage{position:absolute;display:block;text-align:center;color:var(--calcite-ui-text-1);font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size);inset-inline-start:50%;margin-inline-start:calc(var(--calcite-loader-size) / 2 * -1);line-height:0.25;transform:scale(1, 1)}.loader__svgs{position:absolute;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size);block-size:var(--calcite-loader-size);inset-inline-start:50%;margin-inline-start:calc(var(--calcite-loader-size) / 2 * -1);transform:scale(1, 1)}.loader__svg{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size);block-size:var(--calcite-loader-size);animation-iteration-count:infinite;animation-timing-function:linear;animation-name:loader-clockwise}@supports (display: grid){.loader__svg--1{animation-name:loader-offset-1}.loader__svg--2{animation-name:loader-offset-2}.loader__svg--3{animation-name:loader-offset-3}}:host([type=determinate]){animation:none;stroke:var(--calcite-ui-border-3)}:host([type=determinate]) .loader__svg--3{animation:none;stroke:var(--calcite-ui-brand);stroke-dasharray:150.79632;transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([inline]){position:relative;margin:0px;animation:none;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size-inline);min-block-size:var(--calcite-loader-size-inline);inline-size:var(--calcite-loader-size-inline);margin-inline-end:calc(var(--calcite-loader-size-inline) * 0.5);vertical-align:calc(var(--calcite-loader-size-inline) * -1 * 0.2)}:host([inline]) .loader__svgs{inset-block-start:0px;margin:0px;inset-inline-start:0;inline-size:var(--calcite-loader-size-inline);block-size:var(--calcite-loader-size-inline)}:host([inline]) .loader__svg{inline-size:var(--calcite-loader-size-inline);block-size:var(--calcite-loader-size-inline)}:host([complete]){opacity:0;transform:scale(0.75, 0.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, transform var(--calcite-internal-animation-timing-medium) linear 1000ms}:host([complete]) .loader__svgs{opacity:0;transform:scale(0.75, 0.75);transform-origin:center;transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms}:host([complete]) .loader__percentage{color:var(--calcite-ui-brand);transform:scale(1.05, 1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear, transform var(--calcite-internal-animation-timing-medium) linear}.loader__svg--1{stroke-dasharray:27.9252444444% 139.6262222222%;animation-duration:calc(var(--calcite-internal-animation-timing-slow) * 2.4)}@keyframes loader-offset-1{0%{stroke-dasharray:27.9252444444% 251.3272%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-83.7757333333%}100%{stroke-dasharray:27.9252444444% 251.3272%;stroke-dashoffset:-279.2524444444%}}.loader__svg--2{stroke-dasharray:55.8504888889% 139.6262222222%;animation-duration:calc(var(--calcite-internal-animation-timing-slow) * 3.2)}@keyframes loader-offset-2{0%{stroke-dasharray:55.8504888889% 223.4019555556%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-97.7383555556%}100%{stroke-dasharray:55.8504888889% 223.4019555556%;stroke-dashoffset:-279.2524444444%}}.loader__svg--3{stroke-dasharray:13.9626222222% 139.6262222222%;animation-duration:calc(var(--calcite-internal-animation-timing-slow) * 3.867)}@keyframes loader-offset-3{0%{stroke-dasharray:13.9626222222% 265.2898222222%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-76.7944222222%}100%{stroke-dasharray:13.9626222222% 265.2898222222%;stroke-dashoffset:-279.2524444444%}}@keyframes loader-color-shift{0%{stroke:var(--calcite-ui-brand)}33%{stroke:var(--calcite-ui-brand-press)}66%{stroke:var(--calcite-ui-brand-hover)}100%{stroke:var(--calcite-ui-brand)}}@keyframes loader-clockwise{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}',efe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inline=!1,this.label=void 0,this.scale="m",this.type=void 0,this.value=0,this.text=""}render(){const{el:e,inline:t,label:i,scale:n,text:r,type:s,value:a}=this,o=e.id||$i(),l=.45,c=t?this.getInlineSize(n):this.getSize(n),h=c*l,p=`0 0 ${c} ${c}`,m=s==="determinate",g=2*h*Math.PI,y=a/100*g,b=g-y,w=Math.floor(a),_={"aria-valuenow":w,"aria-valuemin":0,"aria-valuemax":100,complete:w===100},x={r:h,cx:c/2,cy:c/2},S={"stroke-dasharray":`${y} ${b}`};return v(Fe,{"aria-label":i,id:o,role:"progressbar",...m?_:{}},v("div",{class:"loader__svgs"},v("svg",{"aria-hidden":"true",class:"loader__svg loader__svg--1",viewBox:p},v("circle",{...x})),v("svg",{"aria-hidden":"true",class:"loader__svg loader__svg--2",viewBox:p},v("circle",{...x})),v("svg",{"aria-hidden":"true",class:"loader__svg loader__svg--3",viewBox:p,...m?{style:S}:{}},v("circle",{...x}))),r&&v("div",{class:"loader__text"},r),m&&v("div",{class:"loader__percentage"},a))}getSize(e){return{s:32,m:56,l:80}[e]}getInlineSize(e){return{s:12,m:16,l:20}[e]}get el(){return this}static get style(){return Xpe}},[1,"calcite-loader",{inline:[516],label:[1],scale:[513],type:[513],value:[2],text:[1]}]);function ei(){if(typeof customElements>"u")return;["calcite-loader"].forEach(t=>{switch(t){case"calcite-loader":customElements.get(t)||customElements.define(t,efe);break}})}ei();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const dc={button:"button",buttonTextVisible:"button--text-visible",buttonCompact:"button--compact",indicatorText:"indicator-text",iconContainer:"icon-container",slotContainer:"slot-container",slotContainerHidden:"slot-container--hidden",textContainer:"text-container",textContainerVisible:"text-container--visible"},tfe={tooltip:"tooltip"},ife='@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:flex;background-color:transparent;--calcite-action-indicator-color:var(--calcite-ui-brand)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.button{position:relative;margin:0px;display:flex;inline-size:auto;cursor:pointer;align-items:center;justify-content:flex-start;border-style:none;background-color:var(--calcite-ui-foreground-1);fill:var(--calcite-ui-text-3);font-family:var(--calcite-sans-family);font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-3);outline-color:transparent;text-align:unset;flex:1 0 auto}.button:hover{background-color:var(--calcite-ui-foreground-2);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1)}.button:focus{background-color:var(--calcite-ui-foreground-2);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1);outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.button:active{background-color:var(--calcite-ui-foreground-3)}.button .icon-container{pointer-events:none;margin:0px;display:flex;align-items:center;justify-content:center;min-inline-size:1rem;min-block-size:1rem}.button .text-container{margin:0px;inline-size:0px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.5rem;opacity:0;transition-property:opacity;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-property:margin;transition-property:inline-size}.button .text-container--visible{inline-size:auto;flex:1 1 auto;opacity:1}:host([scale=s]) .button{padding-inline:0.5rem;padding-block:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=s]) .button--text-visible .icon-container{margin-inline-end:0.5rem}:host([scale=m]) .button{padding-inline:1rem;padding-block:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=m]) .button--text-visible .icon-container{margin-inline-end:0.75rem}:host([scale=l]) .button{padding:1.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=l]) .button--text-visible .icon-container{margin-inline-end:1rem}:host([alignment=center]) .button{justify-content:center}:host([alignment=end]) .button{justify-content:flex-end}:host([alignment=center]) .button .text-container--visible,:host([alignment=end]) .button .text-container--visible{flex:0 1 auto}:host([scale=s][compact]) .button,:host([scale=m][compact]) .button,:host([scale=l][compact]) .button{padding-inline:0px}.slot-container{display:flex}.slot-container--hidden{display:none}.button--text-visible{inline-size:100%}:host([active]) .button,:host([active]) .button:hover,:host([active]) .button:focus,:host([active][loading]) .button{background-color:var(--calcite-ui-foreground-3);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1)}:host([active]) .button:active{background-color:var(--calcite-ui-foreground-1)}:host([appearance=transparent]) .button{background-color:transparent;transition-property:box-shadow;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host([appearance=transparent]) .button:hover,:host([appearance=transparent]) .button:focus{background-color:transparent;box-shadow:0 0 0 2px var(--calcite-ui-border-1) inset}:host([active][appearance=transparent]) .button,:host([active][appearance=transparent]) .button:hover,:host([active][appearance=transparent]) .button:focus{background-color:var(--calcite-ui-foreground-3);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1)}:host([appearance=transparent][loading]) .button,:host([appearance=transparent][disabled]) .button{background-color:transparent}:host([loading]) .button,:host([loading]) .button:hover,:host([loading]) .button:focus{background-color:var(--calcite-ui-foreground-1)}:host([loading]) .button .text-container,:host([loading]) .button:hover .text-container,:host([loading]) .button:focus .text-container{opacity:var(--calcite-ui-opacity-disabled)}:host([loading]) calcite-loader[inline]{color:var(--calcite-ui-text-3);margin-inline-end:0px}:host([disabled]) .button,:host([disabled]) .button:hover,:host([disabled]) .button:focus{cursor:default;background-color:var(--calcite-ui-foreground-1);opacity:var(--calcite-ui-opacity-disabled)}:host([disabled][active]) .button,:host([disabled][active]) .button:hover,:host([disabled][active]) .button:focus{background-color:var(--calcite-ui-foreground-3);opacity:var(--calcite-ui-opacity-disabled)}:host([indicator]) .button::after{content:"";position:absolute;block-size:0.5rem;inline-size:0.5rem;border-radius:9999px;border-width:2px;background-color:var(--calcite-action-indicator-color);border-color:var(--calcite-ui-foreground-1);inset-block-end:0.75rem;inset-inline-end:0.75rem}:host([indicator]) .button--text-visible::after{inset-block-end:auto}:host([indicator]) .button--text-visible .text-container--visible{margin-inline-end:1rem}:host([indicator]) .button:hover::after,:host([indicator]) .button:focus::after{border-color:var(--calcite-ui-foreground-1)}:host([indicator][scale=s]) .button::after{inset-block-end:0.25rem;inset-inline-end:0.25rem}:host([indicator][scale=s]) .button--text-visible::after{inset-block-end:auto;inset-inline-end:0.5rem}:host([indicator][active]) .button::after{border-color:var(--calcite-ui-foreground-3)}.indicator-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}',nfe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.mutationObserver=Ct("mutation",()=>F0(this)),this.guid=`calcite-action-${$i()}`,this.indicatorId=`${this.guid}-indicator`,this.buttonId=`${this.guid}-button`,this.handleTooltipSlotChange=e=>{const i=e.target.assignedElements({flatten:!0}).filter(n=>n==null?void 0:n.matches("calcite-tooltip"))[0];i&&(i.referenceElement=this.buttonEl)},this.active=!1,this.alignment=void 0,this.appearance="solid",this.compact=!1,this.disabled=!1,this.icon=void 0,this.iconFlipRtl=!1,this.indicator=!1,this.label=void 0,this.loading=!1,this.scale="m",this.text=void 0,this.textEnabled=!1,this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale="",this.defaultMessages=void 0}onMessagesChange(){}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){var e;ht(this),Mt(this),(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}async componentWillLoad(){We(this),ro.isBrowser&&await $t(this)}componentDidLoad(){Ke(this)}disconnectedCallback(){var e;pt(this),Dt(this),(e=this.mutationObserver)==null||e.disconnect()}componentDidRender(){et(this)}async setFocus(){var e;await He(this),(e=this.buttonEl)==null||e.focus()}renderTextContainer(){const{text:e,textEnabled:t}=this,i={[dc.textContainer]:!0,[dc.textContainerVisible]:t};return e?v("div",{class:i,key:"text-container"},e):null}renderIndicatorText(){const{indicator:e,messages:t,indicatorId:i,buttonId:n}=this;return v("div",{"aria-labelledby":n,"aria-live":"polite",class:dc.indicatorText,id:i,role:"region"},e?t.indicator:null)}renderIconContainer(){var m;const{loading:e,icon:t,scale:i,el:n,iconFlipRtl:r}=this,s=i==="l"?"m":"s",a=i==="l"?"l":"m",o=e?v("calcite-loader",{inline:!0,label:this.messages.loading,scale:a}):null,l=t?v("calcite-icon",{flipRtl:r,icon:t,scale:s}):null,c=o||l,h=c||((m=n.children)==null?void 0:m.length),p=v("div",{class:{[dc.slotContainer]:!0,[dc.slotContainerHidden]:e}},v("slot",null));return h?v("div",{"aria-hidden":"true",class:dc.iconContainer,key:"icon-container"},c,p):null}render(){const{active:e,compact:t,disabled:i,loading:n,textEnabled:r,label:s,text:a,indicator:o,indicatorId:l,buttonId:c,messages:h}=this,p=`${s||a}${o?` (${h.indicator})`:""}`,m={[dc.button]:!0,[dc.buttonTextVisible]:r,[dc.buttonCompact]:t};return v(Fe,null,v("button",{"aria-busy":ot(n),"aria-controls":o?l:null,"aria-disabled":ot(i),"aria-label":p,"aria-pressed":ot(e),class:m,disabled:i,id:c,ref:g=>this.buttonEl=g},this.renderIconContainer(),this.renderTextContainer()),v("slot",{name:tfe.tooltip,onSlotchange:this.handleTooltipSlotChange}),this.renderIndicatorText())}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return ife}},[1,"calcite-action",{active:[516],alignment:[513],appearance:[513],compact:[516],disabled:[516],icon:[1],iconFlipRtl:[516,"icon-flip-rtl"],indicator:[516],label:[1],loading:[516],scale:[513],text:[1],textEnabled:[516,"text-enabled"],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],setFocus:[64]}]);function ys(){if(typeof customElements>"u")return;["calcite-action","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-action":customElements.get(t)||customElements.define(t,nfe);break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break}})}ys();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function a0(e,t){return(e+t)%t}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */var EY=typeof global=="object"&&global&&global.Object===Object&&global,rfe=typeof self=="object"&&self&&self.Object===Object&&self,lF=EY||rfe||Function("return this")(),o0=lF.Symbol,kY=Object.prototype,sfe=kY.hasOwnProperty,afe=kY.toString,bv=o0?o0.toStringTag:void 0;function ofe(e){var t=sfe.call(e,bv),i=e[bv];try{e[bv]=void 0;var n=!0}catch{}var r=afe.call(e);return n&&(t?e[bv]=i:delete e[bv]),r}var lfe=Object.prototype,cfe=lfe.toString;function ufe(e){return cfe.call(e)}var dfe="[object Null]",hfe="[object Undefined]",o8=o0?o0.toStringTag:void 0;function mC(e){return e==null?e===void 0?hfe:dfe:o8&&o8 in Object(e)?ofe(e):ufe(e)}function gC(e){return e!=null&&typeof e=="object"}var pfe="[object Symbol]";function IY(e){return typeof e=="symbol"||gC(e)&&mC(e)==pfe}var ffe=/\s/;function mfe(e){for(var t=e.length;t--&&ffe.test(e.charAt(t)););return t}var gfe=/^\s+/;function yfe(e){return e&&e.slice(0,mfe(e)+1).replace(gfe,"")}function l0(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var l8=0/0,vfe=/^[-+]0x[0-9a-f]+$/i,bfe=/^0b[01]+$/i,wfe=/^0o[0-7]+$/i,_fe=parseInt;function c8(e){if(typeof e=="number")return e;if(IY(e))return l8;if(l0(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=l0(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=yfe(e);var i=bfe.test(e);return i||wfe.test(e)?_fe(e.slice(2),i?2:8):vfe.test(e)?l8:+e}var w$=function(){return lF.Date.now()},xfe="Expected a function",Sfe=Math.max,Efe=Math.min;function Jl(e,t,i){var n,r,s,a,o,l,c=0,h=!1,p=!1,m=!0;if(typeof e!="function")throw new TypeError(xfe);t=c8(t)||0,l0(i)&&(h=!!i.leading,p="maxWait"in i,s=p?Sfe(c8(i.maxWait)||0,t):s,m="trailing"in i?!!i.trailing:m);function g(T){var C=n,M=r;return n=r=void 0,c=T,a=e.apply(M,C),a}function y(T){return c=T,o=setTimeout(_,t),h?g(T):a}function b(T){var C=T-l,M=T-c,L=t-C;return p?Efe(L,s-M):L}function w(T){var C=T-l,M=T-c;return l===void 0||C>=t||C<0||p&&M>=s}function _(){var T=w$();if(w(T))return x(T);o=setTimeout(_,b(T))}function x(T){return o=void 0,m&&n?g(T):(n=r=void 0,a)}function S(){o!==void 0&&clearTimeout(o),c=0,n=l=r=o=void 0}function k(){return o===void 0?a:x(w$())}function A(){var T=w$(),C=w(T);if(n=arguments,r=this,l=T,C){if(o===void 0)return y(l);if(p)return clearTimeout(o),o=setTimeout(_,t),g(l)}return o===void 0&&(o=setTimeout(_,t)),a}return A.cancel=S,A.flush=k,A}function Gl(e){return e.split("-")[1]}function cF(e){return e==="y"?"height":"width"}function mu(e){return e.split("-")[0]}function y_(e){return["top","bottom"].includes(mu(e))?"x":"y"}function u8(e,t,i){let{reference:n,floating:r}=e;const s=n.x+n.width/2-r.width/2,a=n.y+n.height/2-r.height/2,o=y_(t),l=cF(o),c=n[l]/2-r[l]/2,h=mu(t),p=o==="x";let m;switch(h){case"top":m={x:s,y:n.y-r.height};break;case"bottom":m={x:s,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:a};break;case"left":m={x:n.x-r.width,y:a};break;default:m={x:n.x,y:n.y}}switch(Gl(t)){case"start":m[o]-=c*(i&&p?-1:1);break;case"end":m[o]+=c*(i&&p?-1:1);break}return m}const kfe=async(e,t,i)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:a}=i,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:r}),{x:h,y:p}=u8(c,n,l),m=n,g={},y=0;for(let b=0;b<o.length;b++){const{name:w,fn:_}=o[b],{x,y:S,data:k,reset:A}=await _({x:h,y:p,initialPlacement:n,placement:m,strategy:r,middlewareData:g,rects:c,platform:a,elements:{reference:e,floating:t}});if(h=x??h,p=S??p,g={...g,[w]:{...g[w],...k}},A&&y<=50){y++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(c=A.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:r}):A.rects),{x:h,y:p}=u8(c,m,l)),b=-1;continue}}return{x:h,y:p,placement:m,strategy:r,middlewareData:g}};function Ife(e){return{top:0,right:0,bottom:0,left:0,...e}}function CY(e){return typeof e!="number"?Ife(e):{top:e,right:e,bottom:e,left:e}}function H3(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Tw(e,t){var i;t===void 0&&(t={});const{x:n,y:r,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:g=0}=t,y=CY(g),w=o[m?p==="floating"?"reference":"floating":p],_=H3(await s.getClippingRect({element:(i=await(s.isElement==null?void 0:s.isElement(w)))==null||i?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:l})),x=p==="floating"?{...a.floating,x:n,y:r}:a.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),k=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},A=H3(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:S,strategy:l}):x);return{top:(_.top-A.top+y.top)/k.y,bottom:(A.bottom-_.bottom+y.bottom)/k.y,left:(_.left-A.left+y.left)/k.x,right:(A.right-_.right+y.right)/k.x}}const Cfe=Math.min,Tfe=Math.max;function G3(e,t,i){return Tfe(e,Cfe(t,i))}const $fe=e=>({name:"arrow",options:e,async fn(t){const{element:i,padding:n=0}=e||{},{x:r,y:s,placement:a,rects:o,platform:l}=t;if(i==null)return{};const c=CY(n),h={x:r,y:s},p=y_(a),m=cF(p),g=await l.getDimensions(i),y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=o.reference[m]+o.reference[p]-h[p]-o.floating[m],_=h[p]-o.reference[p],x=await(l.getOffsetParent==null?void 0:l.getOffsetParent(i));let S=x?p==="y"?x.clientHeight||0:x.clientWidth||0:0;S===0&&(S=o.floating[m]);const k=w/2-_/2,A=c[y],T=S-g[m]-c[b],C=S/2-g[m]/2+k,M=G3(A,C,T),V=Gl(a)!=null&&C!=M&&o.reference[m]/2-(C<A?c[y]:c[b])-g[m]/2<0?C<A?A-C:T-C:0;return{[p]:h[p]-V,data:{[p]:M,centerOffset:C-M}}}}),TY=["top","right","bottom","left"],d8=TY.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]),Afe={left:"right",right:"left",bottom:"top",top:"bottom"};function bk(e){return e.replace(/left|right|bottom|top/g,t=>Afe[t])}function $Y(e,t,i){i===void 0&&(i=!1);const n=Gl(e),r=y_(e),s=cF(r);let a=r==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=bk(a)),{main:a,cross:bk(a)}}const Mfe={start:"end",end:"start"};function wk(e){return e.replace(/start|end/g,t=>Mfe[t])}function Dfe(e,t,i){return(e?[...i.filter(r=>Gl(r)===e),...i.filter(r=>Gl(r)!==e)]:i.filter(r=>mu(r)===r)).filter(r=>e?Gl(r)===e||(t?wk(r)!==r:!1):!0)}const Ofe=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var i,n,r;const{rects:s,middlewareData:a,placement:o,platform:l,elements:c}=t,{crossAxis:h=!1,alignment:p,allowedPlacements:m=d8,autoAlignment:g=!0,...y}=e,b=p!==void 0||m===d8?Dfe(p||null,g,m):m,w=await Tw(t,y),_=((i=a.autoPlacement)==null?void 0:i.index)||0,x=b[_];if(x==null)return{};const{main:S,cross:k}=$Y(x,s,await(l.isRTL==null?void 0:l.isRTL(c.floating)));if(o!==x)return{reset:{placement:b[0]}};const A=[w[mu(x)],w[S],w[k]],T=[...((n=a.autoPlacement)==null?void 0:n.overflows)||[],{placement:x,overflows:A}],C=b[_+1];if(C)return{data:{index:_+1,overflows:T},reset:{placement:C}};const M=T.map(P=>{const J=Gl(P.placement);return[P.placement,J&&h?P.overflows.slice(0,2).reduce((oe,se)=>oe+se,0):P.overflows[0],P.overflows]}).sort((P,J)=>P[1]-J[1]),V=((r=M.filter(P=>P[2].slice(0,Gl(P[0])?2:3).every(J=>J<=0))[0])==null?void 0:r[0])||M[0][0];return V!==o?{data:{index:_+1,overflows:T},reset:{placement:V}}:{}}}};function Rfe(e){const t=bk(e);return[wk(e),t,wk(t)]}function Pfe(e,t,i){const n=["left","right"],r=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return i?t?r:n:t?n:r;case"left":case"right":return t?s:a;default:return[]}}function Lfe(e,t,i,n){const r=Gl(e);let s=Pfe(mu(e),i==="start",n);return r&&(s=s.map(a=>a+"-"+r),t&&(s=s.concat(s.map(wk)))),s}const h8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var i;const{placement:n,middlewareData:r,rects:s,initialPlacement:a,platform:o,elements:l}=t,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...b}=e,w=mu(n),_=mu(a)===a,x=await(o.isRTL==null?void 0:o.isRTL(l.floating)),S=p||(_||!y?[bk(a)]:Rfe(a));!p&&g!=="none"&&S.push(...Lfe(a,y,g,x));const k=[a,...S],A=await Tw(t,b),T=[];let C=((i=r.flip)==null?void 0:i.overflows)||[];if(c&&T.push(A[w]),h){const{main:P,cross:J}=$Y(n,s,x);T.push(A[P],A[J])}if(C=[...C,{placement:n,overflows:T}],!T.every(P=>P<=0)){var M,L;const P=(((M=r.flip)==null?void 0:M.index)||0)+1,J=k[P];if(J)return{data:{index:P,overflows:C},reset:{placement:J}};let oe=(L=C.filter(se=>se.overflows[0]<=0).sort((se,rt)=>se.overflows[1]-rt.overflows[1])[0])==null?void 0:L.placement;if(!oe)switch(m){case"bestFit":{var V;const se=(V=C.map(rt=>[rt.placement,rt.overflows.filter(tt=>tt>0).reduce((tt,lt)=>tt+lt,0)]).sort((rt,tt)=>rt[1]-tt[1])[0])==null?void 0:V[0];se&&(oe=se);break}case"initialPlacement":oe=a;break}if(n!==oe)return{reset:{placement:oe}}}return{}}}};function p8(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function f8(e){return TY.some(t=>e[t]>=0)}const Ffe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{strategy:i="referenceHidden",...n}=e,{rects:r}=t;switch(i){case"referenceHidden":{const s=await Tw(t,{...n,elementContext:"reference"}),a=p8(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:f8(a)}}}case"escaped":{const s=await Tw(t,{...n,altBoundary:!0}),a=p8(s,r.floating);return{data:{escapedOffsets:a,escaped:f8(a)}}}default:return{}}}}};async function Nfe(e,t){const{placement:i,platform:n,elements:r}=e,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),a=mu(i),o=Gl(i),l=y_(i)==="x",c=["left","top"].includes(a)?-1:1,h=s&&l?-1:1,p=typeof t=="function"?t(e):t;let{mainAxis:m,crossAxis:g,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return o&&typeof y=="number"&&(g=o==="end"?y*-1:y),l?{x:g*h,y:m*c}:{x:m*c,y:g*h}}const zfe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:i,y:n}=t,r=await Nfe(t,e);return{x:i+r.x,y:n+r.y,data:r}}}};function Vfe(e){return e==="x"?"y":"x"}const jfe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:n,placement:r}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:_,y:x}=w;return{x:_,y:x}}},...l}=e,c={x:i,y:n},h=await Tw(t,l),p=y_(mu(r)),m=Vfe(p);let g=c[p],y=c[m];if(s){const w=p==="y"?"top":"left",_=p==="y"?"bottom":"right",x=g+h[w],S=g-h[_];g=G3(x,g,S)}if(a){const w=m==="y"?"top":"left",_=m==="y"?"bottom":"right",x=y+h[w],S=y-h[_];y=G3(x,y,S)}const b=o.fn({...t,[p]:g,[m]:y});return{...b,data:{x:b.x-i,y:b.y-n}}}}};function Gs(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zl(e){return Gs(e).getComputedStyle(e)}const m8=Math.min,x1=Math.max,_k=Math.round;function AY(e){const t=Zl(e);let i=parseFloat(t.width),n=parseFloat(t.height);const r=e.offsetWidth,s=e.offsetHeight,a=_k(i)!==r||_k(n)!==s;return a&&(i=r,n=s),{width:i,height:n,fallback:a}}function Ch(e){return DY(e)?(e.nodeName||"").toLowerCase():""}let Ix;function MY(){if(Ix)return Ix;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(Ix=e.brands.map(t=>t.brand+"/"+t.version).join(" "),Ix):navigator.userAgent}function Ql(e){return e instanceof Gs(e).HTMLElement}function Zo(e){return e instanceof Gs(e).Element}function DY(e){return e instanceof Gs(e).Node}function g8(e){if(typeof ShadowRoot>"u")return!1;const t=Gs(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function yC(e){const{overflow:t,overflowX:i,overflowY:n,display:r}=Zl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+i)&&!["inline","contents"].includes(r)}function Ufe(e){return["table","td","th"].includes(Ch(e))}function uF(e){const t=/firefox/i.test(MY()),i=Zl(e),n=i.backdropFilter||i.WebkitBackdropFilter;return i.transform!=="none"||i.perspective!=="none"||(n?n!=="none":!1)||t&&i.willChange==="filter"||t&&(i.filter?i.filter!=="none":!1)||["transform","perspective"].some(r=>i.willChange.includes(r))||["paint","layout","strict","content"].some(r=>{const s=i.contain;return s!=null?s.includes(r):!1})}function dF(){return/^((?!chrome|android).)*safari/i.test(MY())}function hF(e){return["html","body","#document"].includes(Ch(e))}function OY(e){return Zo(e)?e:e.contextElement}const RY={x:1,y:1};function Ay(e){const t=OY(e);if(!Ql(t))return RY;const i=t.getBoundingClientRect(),{width:n,height:r,fallback:s}=AY(t);let a=(s?_k(i.width):i.width)/n,o=(s?_k(i.height):i.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}function rm(e,t,i,n){var r,s;t===void 0&&(t=!1),i===void 0&&(i=!1);const a=e.getBoundingClientRect(),o=OY(e);let l=RY;t&&(n?Zo(n)&&(l=Ay(n)):l=Ay(e));const c=o?Gs(o):window,h=dF()&&i;let p=(a.left+(h&&((r=c.visualViewport)==null?void 0:r.offsetLeft)||0))/l.x,m=(a.top+(h&&((s=c.visualViewport)==null?void 0:s.offsetTop)||0))/l.y,g=a.width/l.x,y=a.height/l.y;if(o){const b=Gs(o),w=n&&Zo(n)?Gs(n):n;let _=b.frameElement;for(;_&&n&&w!==b;){const x=Ay(_),S=_.getBoundingClientRect(),k=getComputedStyle(_);S.x+=(_.clientLeft+parseFloat(k.paddingLeft))*x.x,S.y+=(_.clientTop+parseFloat(k.paddingTop))*x.y,p*=x.x,m*=x.y,g*=x.x,y*=x.y,p+=S.x,m+=S.y,_=Gs(_).frameElement}}return{width:g,height:y,top:m,right:p+g,bottom:m+y,left:p,x:p,y:m}}function Vh(e){return((DY(e)?e.ownerDocument:e.document)||window.document).documentElement}function vC(e){return Zo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Bfe(e){let{rect:t,offsetParent:i,strategy:n}=e;const r=Ql(i),s=Vh(i);if(i===s)return t;let a={scrollLeft:0,scrollTop:0},o={x:1,y:1};const l={x:0,y:0};if((r||!r&&n!=="fixed")&&((Ch(i)!=="body"||yC(s))&&(a=vC(i)),Ql(i))){const c=rm(i);o=Ay(i),l.x=c.x+i.clientLeft,l.y=c.y+i.clientTop}return{width:t.width*o.x,height:t.height*o.y,x:t.x*o.x-a.scrollLeft*o.x+l.x,y:t.y*o.y-a.scrollTop*o.y+l.y}}function PY(e){return rm(Vh(e)).left+vC(e).scrollLeft}function Hfe(e){const t=Vh(e),i=vC(e),n=e.ownerDocument.body,r=x1(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=x1(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-i.scrollLeft+PY(e);const o=-i.scrollTop;return Zl(n).direction==="rtl"&&(a+=x1(t.clientWidth,n.clientWidth)-r),{width:r,height:s,x:a,y:o}}function $w(e){if(Ch(e)==="html")return e;const t=e.assignedSlot||e.parentNode||g8(e)&&e.host||Vh(e);return g8(t)?t.host:t}function LY(e){const t=$w(e);return hF(t)?t.ownerDocument.body:Ql(t)&&yC(t)?t:LY(t)}function S1(e,t){var i;t===void 0&&(t=[]);const n=LY(e),r=n===((i=e.ownerDocument)==null?void 0:i.body),s=Gs(n);return r?t.concat(s,s.visualViewport||[],yC(n)?n:[]):t.concat(n,S1(n))}function Gfe(e,t){const i=Gs(e),n=Vh(e),r=i.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;const c=dF();(!c||c&&t==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}return{width:s,height:a,x:o,y:l}}function qfe(e,t){const i=rm(e,!0,t==="fixed"),n=i.top+e.clientTop,r=i.left+e.clientLeft,s=Ql(e)?Ay(e):{x:1,y:1},a=e.clientWidth*s.x,o=e.clientHeight*s.y,l=r*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function y8(e,t,i){let n;if(t==="viewport")n=Gfe(e,i);else if(t==="document")n=Hfe(Vh(e));else if(Zo(t))n=qfe(t,i);else{const a={...t};if(dF()){var r,s;const o=Gs(e);a.x-=((r=o.visualViewport)==null?void 0:r.offsetLeft)||0,a.y-=((s=o.visualViewport)==null?void 0:s.offsetTop)||0}n=a}return H3(n)}function Wfe(e,t){const i=t.get(e);if(i)return i;let n=S1(e).filter(o=>Zo(o)&&Ch(o)!=="body"),r=null;const s=Zl(e).position==="fixed";let a=s?$w(e):e;for(;Zo(a)&&!hF(a);){const o=Zl(a),l=uF(a);o.position==="fixed"?r=null:(s?!l&&!r:!l&&o.position==="static"&&!!r&&["absolute","fixed"].includes(r.position))?n=n.filter(p=>p!==a):r=o,a=$w(a)}return t.set(e,n),n}function Kfe(e){let{element:t,boundary:i,rootBoundary:n,strategy:r}=e;const a=[...i==="clippingAncestors"?Wfe(t,this._c):[].concat(i),n],o=a[0],l=a.reduce((c,h)=>{const p=y8(t,h,r);return c.top=x1(p.top,c.top),c.right=m8(p.right,c.right),c.bottom=m8(p.bottom,c.bottom),c.left=x1(p.left,c.left),c},y8(t,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Yfe(e){return Ql(e)?AY(e):e.getBoundingClientRect()}function v8(e,t){return!Ql(e)||Zl(e).position==="fixed"?null:t?t(e):e.offsetParent}function Jfe(e){let t=$w(e);for(;Ql(t)&&!hF(t);){if(uF(t))return t;t=$w(t)}return null}function b8(e,t){const i=Gs(e);let n=v8(e,t);for(;n&&Ufe(n)&&Zl(n).position==="static";)n=v8(n,t);return n&&(Ch(n)==="html"||Ch(n)==="body"&&Zl(n).position==="static"&&!uF(n))?i:n||Jfe(e)||i}function Zfe(e,t,i){const n=Ql(t),r=Vh(t),s=rm(e,!0,i==="fixed",t);let a={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if(n||!n&&i!=="fixed")if((Ch(t)!=="body"||yC(r))&&(a=vC(t)),Ql(t)){const l=rm(t,!0);o.x=l.x+t.clientLeft,o.y=l.y+t.clientTop}else r&&(o.x=PY(r));return{x:s.left+a.scrollLeft-o.x,y:s.top+a.scrollTop-o.y,width:s.width,height:s.height}}const q3={getClippingRect:Kfe,convertOffsetParentRelativeRectToViewportRelativeRect:Bfe,isElement:Zo,getDimensions:Yfe,getOffsetParent:b8,getDocumentElement:Vh,getScale:Ay,async getElementRects(e){let{reference:t,floating:i,strategy:n}=e;const r=this.getOffsetParent||b8,s=this.getDimensions;return{reference:Zfe(t,await r(i),n),floating:{x:0,y:0,...await s(i)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Zl(e).direction==="rtl"};function Qfe(e,t,i,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=!0,animationFrame:o=!1}=n,l=r&&!o,c=l||s?[...Zo(e)?S1(e):e.contextElement?S1(e.contextElement):[],...S1(t)]:[];c.forEach(y=>{l&&y.addEventListener("scroll",i,{passive:!0}),s&&y.addEventListener("resize",i)});let h=null;if(a){let y=!0;h=new ResizeObserver(()=>{y||i(),y=!1}),Zo(e)&&!o&&h.observe(e),!Zo(e)&&e.contextElement&&!o&&h.observe(e.contextElement),h.observe(t)}let p,m=o?rm(e):null;o&&g();function g(){const y=rm(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&i(),m=y,p=requestAnimationFrame(g)}return i(),()=>{var y;c.forEach(b=>{l&&b.removeEventListener("scroll",i),s&&b.removeEventListener("resize",i)}),(y=h)==null||y.disconnect(),h=null,o&&cancelAnimationFrame(p)}}const Xfe=(e,t,i)=>{const n=new Map,r={platform:q3,...i},s={...r.platform,_c:n};return kfe(e,t,{...r,platform:s})},eme=globalThis.calciteComponentsConfig,tme={floatingUINonChromiumPositioningFix:!0,...eme},ime=nme();async function nme(){function e(){return navigator.userAgentData}function t(){const n=e();return n!=null&&n.brands?n.brands.map(({brand:r,version:s})=>`${r}/${s}`).join(" "):navigator.userAgent}function i(){const n=e();return n!=null&&n.brands?!!n.brands.find(({brand:r,version:s})=>(r==="Google Chrome"||r==="Chromium")&&Number(s)>=109):!!navigator.userAgent.split(" ").find(r=>{const[s,a]=r.split("/");return s==="Chrome"&&parseInt(a)>=109})}if(ro.isBrowser&&tme.floatingUINonChromiumPositioningFix&&(/firefox|safari/i.test(t())||i())){const{offsetParent:n}=await H(()=>import("./utils4.js"),[]),r=q3.getOffsetParent;q3.getOffsetParent=s=>r(s,n)}}const FY="data-placement",w8=100,_8=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end"],pF="bottom-start",el={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function rme({placement:e,flipDisabled:t,flipPlacements:i,offsetDistance:n,offsetSkidding:r,arrowEl:s,type:a}){const o=[jfe(),Ffe()];if(a==="menu")return[...o,h8({fallbackPlacements:i||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})];if(a==="popover"||a==="tooltip"){const l=[...o,zfe({mainAxis:typeof n=="number"?n:0,crossAxis:typeof r=="number"?r:0})];return e==="auto"||e==="auto-start"||e==="auto-end"?l.push(Ofe({alignment:e==="auto-start"?"start":e==="auto-end"?"end":null})):t||l.push(h8(i?{fallbackPlacements:i}:{})),s&&l.push($fe({element:s})),l}return[]}function bC(e,t){const i=e.filter(n=>_8.includes(n));return i.length!==e.length&&console.warn(`${t.tagName}: Invalid value found in: flipPlacements. Try any of these: ${_8.map(n=>`"${n}"`).join(", ").trim()}`,{el:t}),i}function sme(e,t){const i=["left","right"];return Ci(e)==="rtl"&&i.reverse(),t.replace(/leading/gi,i[0]).replace(/trailing/gi,i[1])}async function v_(e,t,i=!1){if(e.open)return i?ame(t):NY(t)}const ame=Jl(NY,w8,{leading:!0,maxWait:w8});async function NY({referenceEl:e,floatingEl:t,overlayPositioning:i="absolute",placement:n,flipDisabled:r,flipPlacements:s,offsetDistance:a,offsetSkidding:o,includeArrow:l=!1,arrowEl:c,type:h}){var k;if(!e||!t||l&&!c)return null;await ime;const{x:p,y:m,placement:g,strategy:y,middlewareData:b}=await Xfe(e,t,{strategy:i,placement:n==="auto"||n==="auto-start"||n==="auto-end"?void 0:sme(t,n),middleware:rme({placement:n,flipDisabled:r,flipPlacements:s,offsetDistance:a,offsetSkidding:o,arrowEl:c,type:h})});if(b!=null&&b.arrow){const{x:A,y:T}=b.arrow;Object.assign(c.style,{left:A!=null?`${A}px`:"",top:T!=null?`${T}px`:""})}const _=((k=b==null?void 0:b.hide)==null?void 0:k.referenceHidden)?"hidden":null,x=_?"none":null;t.setAttribute(FY,g);const S=`translate(${Math.round(p)}px,${Math.round(m)}px)`;Object.assign(t.style,{visibility:_,pointerEvents:x,position:y,top:"0",left:"0",transform:S})}const W3=new WeakMap;function Th(e,t,i){if(!i||!t)return;V0(e,t,i);const n=e.overlayPositioning;Object.assign(i.style,{visibility:"hidden",pointerEvents:"none",position:n}),n==="absolute"&&VY(i);const r=Qfe;W3.set(e,r(t,i,()=>e.reposition()))}function V0(e,t,i){if(!i||!t)return;fF(i).removeEventListener("transitionend",mF);const n=W3.get(e);n&&n(),W3.delete(e)}const x8=4,zY=Math.ceil(Math.hypot(x8,x8));function sm(e){!e||e.style.position!=="absolute"||fF(e).addEventListener("transitionend",mF)}function fF(e){return e.shadowRoot||e}function mF(e){const t=e.target;if(e.propertyName==="opacity"&&t.classList.contains(el.animation)){const i=ome(t);VY(i),fF(i).removeEventListener("transitionend",mF)}}function VY(e){e.style.transform="",e.style.top="0",e.style.left="0"}function ome(e){return rc(e,`[${FY}]`)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 *//*!
* focus-trap 7.2.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function S8(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function E8(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(i),!0).forEach(function(n){lme(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S8(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function lme(e,t,i){return t=ume(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function cme(e,t){if(typeof e!="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ume(e){var t=cme(e,"string");return typeof t=="symbol"?t:String(t)}var k8={activateTrap:function(t,i){if(t.length>0){var n=t[t.length-1];n!==i&&n.pause()}var r=t.indexOf(i);r===-1||t.splice(r,1),t.push(i)},deactivateTrap:function(t,i){var n=t.indexOf(i);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}},dme=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},hme=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},E1=function(t){return t.key==="Tab"||t.keyCode===9},pme=function(t){return E1(t)&&!t.shiftKey},fme=function(t){return E1(t)&&t.shiftKey},I8=function(t){return setTimeout(t,0)},C8=function(t,i){var n=-1;return t.every(function(r,s){return i(r)?(n=s,!1):!0}),n},wv=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return typeof t=="function"?t.apply(void 0,n):t},Cx=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},mme=[],gme=function(t,i){var n=(i==null?void 0:i.document)||document,r=(i==null?void 0:i.trapStack)||mme,s=E8({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:pme,isKeyBackward:fme},i),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},o,l=function(C,M,L){return C&&C[M]!==void 0?C[M]:s[L||M]},c=function(C){return a.containerGroups.findIndex(function(M){var L=M.container,V=M.tabbableNodes;return L.contains(C)||V.find(function(P){return P===C})})},h=function(C){var M=s[C];if(typeof M=="function"){for(var L=arguments.length,V=new Array(L>1?L-1:0),P=1;P<L;P++)V[P-1]=arguments[P];M=M.apply(void 0,V)}if(M===!0&&(M=void 0),!M){if(M===void 0||M===!1)return M;throw new Error("`".concat(C,"` was specified but was not a node, or did not return a node"))}var J=M;if(typeof M=="string"&&(J=n.querySelector(M),!J))throw new Error("`".concat(C,"` as selector refers to no known node"));return J},p=function(){var C=h("initialFocus");if(C===!1)return!1;if(C===void 0)if(c(n.activeElement)>=0)C=n.activeElement;else{var M=a.tabbableGroups[0],L=M&&M.firstTabbableNode;C=L||h("fallbackFocus")}if(!C)throw new Error("Your focus-trap needs to have at least one focusable element");return C},m=function(){if(a.containerGroups=a.containers.map(function(C){var M=uY(C,s.tabbableOptions),L=xpe(C,s.tabbableOptions);return{container:C,tabbableNodes:M,focusableNodes:L,firstTabbableNode:M.length>0?M[0]:null,lastTabbableNode:M.length>0?M[M.length-1]:null,nextTabbableNode:function(P){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,oe=L.findIndex(function(se){return se===P});if(!(oe<0))return J?L.slice(oe+1).find(function(se){return Sx(se,s.tabbableOptions)}):L.slice(0,oe).reverse().find(function(se){return Sx(se,s.tabbableOptions)})}}}),a.tabbableGroups=a.containerGroups.filter(function(C){return C.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},g=function T(C){if(C!==!1&&C!==n.activeElement){if(!C||!C.focus){T(p());return}C.focus({preventScroll:!!s.preventScroll}),a.mostRecentlyFocusedNode=C,dme(C)&&C.select()}},y=function(C){var M=h("setReturnFocus",C);return M||(M===!1?!1:C)},b=function(C){var M=Cx(C);if(!(c(M)>=0)){if(wv(s.clickOutsideDeactivates,C)){o.deactivate({returnFocus:s.returnFocusOnDeactivate&&!g$(M,s.tabbableOptions)});return}wv(s.allowOutsideClick,C)||C.preventDefault()}},w=function(C){var M=Cx(C),L=c(M)>=0;L||M instanceof Document?L&&(a.mostRecentlyFocusedNode=M):(C.stopImmediatePropagation(),g(a.mostRecentlyFocusedNode||p()))},_=function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=Cx(C);m();var V=null;if(a.tabbableGroups.length>0){var P=c(L),J=P>=0?a.containerGroups[P]:void 0;if(P<0)M?V=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:V=a.tabbableGroups[0].firstTabbableNode;else if(M){var oe=C8(a.tabbableGroups,function(ge){var te=ge.firstTabbableNode;return L===te});if(oe<0&&(J.container===L||g$(L,s.tabbableOptions)&&!Sx(L,s.tabbableOptions)&&!J.nextTabbableNode(L,!1))&&(oe=P),oe>=0){var se=oe===0?a.tabbableGroups.length-1:oe-1,rt=a.tabbableGroups[se];V=rt.lastTabbableNode}else E1(C)||(V=J.nextTabbableNode(L,!1))}else{var tt=C8(a.tabbableGroups,function(ge){var te=ge.lastTabbableNode;return L===te});if(tt<0&&(J.container===L||g$(L,s.tabbableOptions)&&!Sx(L,s.tabbableOptions)&&!J.nextTabbableNode(L))&&(tt=P),tt>=0){var lt=tt===a.tabbableGroups.length-1?0:tt+1,Z=a.tabbableGroups[lt];V=Z.firstTabbableNode}else E1(C)||(V=J.nextTabbableNode(L))}}else V=h("fallbackFocus");V&&(E1(C)&&C.preventDefault(),g(V))},x=function(C){if(hme(C)&&wv(s.escapeDeactivates,C)!==!1){C.preventDefault(),o.deactivate();return}(s.isKeyForward(C)||s.isKeyBackward(C))&&_(C,s.isKeyBackward(C))},S=function(C){var M=Cx(C);c(M)>=0||wv(s.clickOutsideDeactivates,C)||wv(s.allowOutsideClick,C)||(C.preventDefault(),C.stopImmediatePropagation())},k=function(){if(a.active)return k8.activateTrap(r,o),a.delayInitialFocusTimer=s.delayInitialFocus?I8(function(){g(p())}):g(p()),n.addEventListener("focusin",w,!0),n.addEventListener("mousedown",b,{capture:!0,passive:!1}),n.addEventListener("touchstart",b,{capture:!0,passive:!1}),n.addEventListener("click",S,{capture:!0,passive:!1}),n.addEventListener("keydown",x,{capture:!0,passive:!1}),o},A=function(){if(a.active)return n.removeEventListener("focusin",w,!0),n.removeEventListener("mousedown",b,!0),n.removeEventListener("touchstart",b,!0),n.removeEventListener("click",S,!0),n.removeEventListener("keydown",x,!0),o};return o={get active(){return a.active},get paused(){return a.paused},activate:function(C){if(a.active)return this;var M=l(C,"onActivate"),L=l(C,"onPostActivate"),V=l(C,"checkCanFocusTrap");V||m(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=n.activeElement,M&&M();var P=function(){V&&m(),k(),L&&L()};return V?(V(a.containers.concat()).then(P,P),this):(P(),this)},deactivate:function(C){if(!a.active)return this;var M=E8({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},C);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,A(),a.active=!1,a.paused=!1,k8.deactivateTrap(r,o);var L=l(M,"onDeactivate"),V=l(M,"onPostDeactivate"),P=l(M,"checkCanReturnFocus"),J=l(M,"returnFocus","returnFocusOnDeactivate");L&&L();var oe=function(){I8(function(){J&&g(y(a.nodeFocusedBeforeActivation)),V&&V()})};return J&&P?(P(y(a.nodeFocusedBeforeActivation)).then(oe,oe),this):(oe(),this)},pause:function(){return a.paused||!a.active?this:(a.paused=!0,A(),this)},unpause:function(){return!a.paused||!a.active?this:(a.paused=!1,m(),k(),this)},updateContainerElements:function(C){var M=[].concat(C).filter(Boolean);return a.containers=M.map(function(L){return typeof L=="string"?n.querySelector(L):L}),a.active&&m(),this}},o.updateContainerElements(t),o};const yme=[];function jY(e){const{focusTrapEl:t}=e;if(!t)return;t.tabIndex==null&&(t.tabIndex=-1);const i={clickOutsideDeactivates:!0,document:t.ownerDocument,escapeDeactivates:!1,fallbackFocus:t,setReturnFocus:n=>(Nr(n),!1),tabbableOptions:dY,trapStack:yme};e.focusTrap=gme(t,i)}function xk(e){var t;e.focusTrapDisabled||(t=e.focusTrap)==null||t.activate()}function My(e){var t;(t=e.focusTrap)==null||t.deactivate()}function UY(e){var t;(t=e.focusTrap)==null||t.updateContainerElements(e.focusTrapEl)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const o2=new WeakMap;function vme(e){e.propertyName===this.openTransitionProp&&e.target===this.transitionEl&&(this.open?this.onBeforeOpen():this.onBeforeClose())}function bme(e){e.propertyName===this.openTransitionProp&&e.target===this.transitionEl&&(this.open?this.onOpen():this.onClose())}function Sk(e,t=!1){ipe(()=>{if(e.transitionEl){const i=getComputedStyle(e.transitionEl).transition.split(" "),n=i.findIndex(s=>s===e.openTransitionProp);i[n+1]==="0s"?((t?e[e.transitionProp]:e.open)?e.onBeforeOpen():e.onBeforeClose(),(t?e[e.transitionProp]:e.open)?e.onOpen():e.onClose()):(e.transitionEl.addEventListener("transitionstart",()=>{(t?e[e.transitionProp]:e.open)?e.onBeforeOpen():e.onBeforeClose()},{once:!0}),e.transitionEl.addEventListener("transitionend",()=>{(t?e[e.transitionProp]:e.open)?e.onOpen():e.onClose()},{once:!0}))}})}function Xa(e){if(Cm(e),e.transitionEl){const t=vme.bind(e),i=bme.bind(e);o2.set(e,[e.transitionEl,t,i]),e.transitionEl.addEventListener("transitionstart",t),e.transitionEl.addEventListener("transitionend",i)}}function Cm(e){if(!o2.has(e))return;const[t,i,n]=o2.get(e);t.removeEventListener("transitionstart",i),t.removeEventListener("transitionend",n),o2.delete(e)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function BY(e){return Math.min(Math.max(Math.ceil(e),1),6)}const Tm=(e,t)=>{const i=e.level?`h${e.level}`:"div";return delete e.level,v(i,{...e},t)};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const ol={container:"container",arrow:"arrow",imageContainer:"image-container",closeButtonContainer:"close-button-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContent:"header-content",heading:"heading"},wme="auto",T8="aria-controls",$8="aria-expanded";class _me{constructor(){this.registeredElements=new Map,this.registeredElementCount=0,this.queryPopover=t=>{const{registeredElements:i}=this,n=t.find(r=>i.has(r));return i.get(n)},this.togglePopovers=t=>{const i=t.composedPath(),n=this.queryPopover(i);n&&!n.triggerDisabled&&(n.open=!n.open),Array.from(this.registeredElements.values()).filter(r=>r!==n&&r.autoClose&&r.open&&!i.includes(r)).forEach(r=>r.open=!1)},this.keyHandler=t=>{t.defaultPrevented||(t.key==="Escape"?this.closeAllPopovers():Qa(t.key)&&this.togglePopovers(t))},this.clickHandler=t=>{dr(t)&&this.togglePopovers(t)}}registerElement(t,i){this.registeredElementCount++,this.registeredElements.set(t,i),this.registeredElementCount===1&&this.addListeners()}unregisterElement(t){this.registeredElements.delete(t)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}closeAllPopovers(){Array.from(this.registeredElements.values()).forEach(t=>t.open=!1)}addListeners(){document.addEventListener("pointerdown",this.clickHandler,{capture:!0}),document.addEventListener("keydown",this.keyHandler,{capture:!0})}removeListeners(){document.removeEventListener("pointerdown",this.clickHandler,{capture:!0}),document.removeEventListener("keydown",this.keyHandler,{capture:!0})}}const xme='@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{--calcite-floating-ui-z-index:var(--calcite-popover-z-index, 900);display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index)}.calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:1;border-radius:0.25rem}:host([data-placement^=bottom]) .calcite-floating-ui-anim{transform:translateY(-5px)}:host([data-placement^=top]) .calcite-floating-ui-anim{transform:translateY(5px)}:host([data-placement^=left]) .calcite-floating-ui-anim{transform:translateX(5px)}:host([data-placement^=right]) .calcite-floating-ui-anim{transform:translateX(-5px)}:host([data-placement]) .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}.arrow,.arrow::before{position:absolute;inline-size:8px;block-size:8px;z-index:-1}.arrow::before{content:"";--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transform:rotate(45deg);background:var(--calcite-ui-foreground-1)}:host([data-placement^=top]) .arrow{inset-block-end:-4px}:host([data-placement^=bottom]) .arrow{inset-block-start:-4px}:host([data-placement^=right]) .arrow,:host([data-placement^=left]) .arrow{direction:ltr;text-align:start}:host([data-placement^=left]) .arrow{inset-inline-end:-4px}:host([data-placement^=right]) .arrow{inset-inline-start:-4px}:host([scale=s]) .heading{padding-inline:0.75rem;padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding-inline:1rem;padding-block:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding-inline:1.25rem;padding-block:1rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host{pointer-events:none}:host([open]){pointer-events:initial}.calcite-floating-ui-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1)}.arrow::before{outline:1px solid var(--calcite-ui-border-3)}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-block-end-width:1px;border-style:solid;background-color:var(--calcite-ui-foreground-1);border-block-end-color:var(--calcite-ui-border-3)}.heading{margin:0px;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);word-wrap:break-word;word-break:break-word}.container{position:relative;display:flex;block-size:100%;flex-direction:row;flex-wrap:nowrap;border-radius:0.25rem;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1)}.container.has-header{flex-direction:column}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:0.25rem;border-end-end-radius:0.25rem}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%}',A8=new _me,Sme=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calcitePopoverBeforeClose=B(this,"calcitePopoverBeforeClose",6),this.calcitePopoverClose=B(this,"calcitePopoverClose",6),this.calcitePopoverBeforeOpen=B(this,"calcitePopoverBeforeOpen",6),this.calcitePopoverOpen=B(this,"calcitePopoverOpen",6),this.guid=`calcite-popover-${$i()}`,this.openTransitionProp="opacity",this.hasLoaded=!1,this.setTransitionEl=e=>{this.transitionEl=e,Xa(this),this.focusTrapEl=e,jY(this)},this.setFilteredPlacements=()=>{const{el:e,flipPlacements:t}=this;this.filteredFlipPlacements=t?bC(t,e):null},this.setUpReferenceElement=(e=!0)=>{this.removeReferences(),this.effectiveReferenceElement=this.getReferenceElement(),Th(this,this.effectiveReferenceElement,this.el);const{el:t,referenceElement:i,effectiveReferenceElement:n}=this;e&&i&&!n&&console.warn(`${t.tagName}: reference-element id "${i}" was not found.`,{el:t}),this.addReferences()},this.getId=()=>this.el.id||this.guid,this.setExpandedAttr=()=>{const{effectiveReferenceElement:e,open:t}=this;e&&"setAttribute"in e&&e.setAttribute($8,ot(t))},this.addReferences=()=>{const{effectiveReferenceElement:e}=this;if(!e)return;const t=this.getId();"setAttribute"in e&&e.setAttribute(T8,t),A8.registerElement(e,this.el),this.setExpandedAttr()},this.removeReferences=()=>{const{effectiveReferenceElement:e}=this;e&&("removeAttribute"in e&&(e.removeAttribute(T8),e.removeAttribute($8)),A8.unregisterElement(e))},this.hide=()=>{this.open=!1},this.storeArrowEl=e=>{this.arrowEl=e,this.reposition(!0)},this.autoClose=!1,this.closable=!1,this.flipDisabled=!1,this.focusTrapDisabled=!1,this.pointerDisabled=!1,this.flipPlacements=void 0,this.heading=void 0,this.headingLevel=void 0,this.label=void 0,this.messageOverrides=void 0,this.messages=void 0,this.offsetDistance=zY,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=wme,this.referenceElement=void 0,this.scale="m",this.triggerDisabled=!1,this.effectiveLocale="",this.effectiveReferenceElement=void 0,this.defaultMessages=void 0}handlefocusTrapDisabled(e){this.open&&(e?My(this):xk(this))}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}onMessagesChange(){}offsetDistanceOffsetHandler(){this.reposition(!0)}offsetSkiddingHandler(){this.reposition(!0)}openHandler(e){e?this.reposition(!0):sm(this.el),this.setExpandedAttr()}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}referenceElementHandler(){this.setUpReferenceElement(),this.reposition(!0)}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){this.setFilteredPlacements(),ht(this),Mt(this),Xa(this),this.setUpReferenceElement(this.hasLoaded)}async componentWillLoad(){await $t(this),We(this)}componentDidLoad(){Ke(this),this.referenceElement&&!this.effectiveReferenceElement&&this.setUpReferenceElement(),this.reposition(),this.hasLoaded=!0}disconnectedCallback(){this.removeReferences(),pt(this),Dt(this),V0(this,this.effectiveReferenceElement,this.el),Cm(this),My(this)}async reposition(e=!1){const{el:t,effectiveReferenceElement:i,placement:n,overlayPositioning:r,flipDisabled:s,filteredFlipPlacements:a,offsetDistance:o,offsetSkidding:l,arrowEl:c}=this;return v_(this,{floatingEl:t,referenceEl:i,overlayPositioning:r,placement:n,flipDisabled:s,flipPlacements:a,offsetDistance:o,offsetSkidding:l,includeArrow:!this.pointerDisabled,arrowEl:c,type:"popover"},e)}async setFocus(){await He(this),F0(this.el),aF(this.focusTrapEl)}async updateFocusTrapElements(){UY(this)}getReferenceElement(){const{referenceElement:e,el:t}=this;return(typeof e=="string"?sF(t,{id:e}):e)||null}onBeforeOpen(){this.calcitePopoverBeforeOpen.emit()}onOpen(){this.calcitePopoverOpen.emit(),xk(this)}onBeforeClose(){this.calcitePopoverBeforeClose.emit()}onClose(){this.calcitePopoverClose.emit(),My(this)}renderCloseButton(){const{messages:e,closable:t}=this;return t?v("div",{class:ol.closeButtonContainer,key:ol.closeButtonContainer},v("calcite-action",{class:ol.closeButton,onClick:this.hide,ref:i=>this.closeButtonEl=i,scale:this.scale,text:e.close},v("calcite-icon",{icon:"x",scale:this.scale==="l"?"m":this.scale}))):null}renderHeader(){const{heading:e,headingLevel:t}=this,i=e?v(Tm,{class:ol.heading,level:t},e):null;return i?v("div",{class:ol.header,key:ol.header},i,this.renderCloseButton()):null}render(){const{effectiveReferenceElement:e,heading:t,label:i,open:n,pointerDisabled:r}=this,s=e&&n,a=!s,o=r?null:v("div",{class:ol.arrow,ref:this.storeArrowEl});return v(Fe,{"aria-hidden":ot(a),"aria-label":i,"aria-live":"polite","calcite-hydrated-hidden":a,id:this.getId(),role:"dialog"},v("div",{class:{[el.animation]:!0,[el.animationActive]:s},ref:this.setTransitionEl},o,v("div",{class:{[ol.hasHeader]:!!t,[ol.container]:!0}},this.renderHeader(),v("div",{class:ol.content},v("slot",null)),t?null:this.renderCloseButton())))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{focusTrapDisabled:["handlefocusTrapDisabled"],flipPlacements:["flipPlacementsHandler"],messageOverrides:["onMessagesChange"],offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return xme}},[1,"calcite-popover",{autoClose:[516,"auto-close"],closable:[1540],flipDisabled:[516,"flip-disabled"],focusTrapDisabled:[516,"focus-trap-disabled"],pointerDisabled:[516,"pointer-disabled"],flipPlacements:[16],heading:[1],headingLevel:[514,"heading-level"],label:[1],messageOverrides:[1040],messages:[1040],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],scale:[513],triggerDisabled:[516,"trigger-disabled"],effectiveLocale:[32],effectiveReferenceElement:[32],defaultMessages:[32],reposition:[64],setFocus:[64],updateFocusTrapElements:[64]}]);function Au(){if(typeof customElements>"u")return;["calcite-popover","calcite-action","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-popover":customElements.get(t)||customElements.define(t,Sme);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break}})}Au();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const M8={menu:"menu",defaultTrigger:"default-trigger"},c0={tooltip:"tooltip",trigger:"trigger"},Eme={menu:"ellipsis"},kme="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{box-sizing:border-box;display:flex;flex-direction:column;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size-1);color:var(--calcite-ui-text-2)}.menu ::slotted(calcite-action){margin:0.125rem;display:flex;outline-color:transparent}.menu ::slotted(calcite-action[active]){outline:2px solid var(--calcite-ui-brand);outline-offset:0px}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{flex-direction:column;flex-wrap:nowrap;outline:2px solid transparent;outline-offset:2px}",Ime=["ArrowUp","ArrowDown","End","Home"],Cme=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteActionMenuOpen=B(this,"calciteActionMenuOpen",6),this.actionElements=[],this.guid=`calcite-action-menu-${$i()}`,this.menuId=`${this.guid}-menu`,this.menuButtonId=`${this.guid}-menu-button`,this.connectMenuButtonEl=()=>{const{menuButtonId:e,menuId:t,open:i,label:n}=this,r=this.slottedMenuButtonEl||this.defaultMenuButtonEl;this.menuButtonEl!==r&&(this.disconnectMenuButtonEl(),this.menuButtonEl=r,this.setTooltipReferenceElement(),r&&(r.active=i,r.setAttribute("aria-controls",t),r.setAttribute("aria-expanded",ot(i)),r.setAttribute("aria-haspopup","true"),r.id||(r.id=e),r.label||(r.label=n),r.text||(r.text=n),r.addEventListener("pointerdown",this.menuButtonClick),r.addEventListener("keydown",this.menuButtonKeyDown)))},this.disconnectMenuButtonEl=()=>{const{menuButtonEl:e}=this;e&&(e.removeEventListener("pointerdown",this.menuButtonClick),e.removeEventListener("keydown",this.menuButtonKeyDown))},this.setMenuButtonEl=e=>{const t=e.target.assignedElements({flatten:!0}).filter(i=>i==null?void 0:i.matches("calcite-action"));this.slottedMenuButtonEl=t[0],this.connectMenuButtonEl()},this.setDefaultMenuButtonEl=e=>{this.defaultMenuButtonEl=e,this.connectMenuButtonEl()},this.handleCalciteActionClick=()=>{this.open=!1,this.setFocus()},this.menuButtonClick=e=>{dr(e)&&this.toggleOpen()},this.updateTooltip=e=>{const t=e.target.assignedElements({flatten:!0}).filter(i=>i==null?void 0:i.matches("calcite-tooltip"));this.tooltipEl=t[0],this.setTooltipReferenceElement()},this.setTooltipReferenceElement=()=>{const{tooltipEl:e,expanded:t,menuButtonEl:i,open:n}=this;e&&(e.referenceElement=!t&&!n?i:null)},this.updateAction=(e,t)=>{const{guid:i,activeMenuItemIndex:n}=this,r=`${i}-action-${t}`;e.tabIndex=-1,e.setAttribute("role","menuitem"),e.id||(e.id=r),e.active=t===n},this.updateActions=e=>{e==null||e.forEach(this.updateAction)},this.handleDefaultSlotChange=e=>{const t=e.target.assignedElements({flatten:!0}).filter(i=>i==null?void 0:i.matches("calcite-action"));this.actionElements=t},this.menuButtonKeyDown=e=>{const{key:t}=e,{actionElements:i,activeMenuItemIndex:n,open:r}=this;if(i.length){if(Qa(t)){if(e.preventDefault(),!r){this.toggleOpen();return}const s=i[n];s?s.click():this.toggleOpen(!1)}if(t==="Tab"){this.open=!1;return}if(t==="Escape"){this.toggleOpen(!1),e.preventDefault();return}this.handleActionNavigation(e,t,i)}},this.handleActionNavigation=(e,t,i)=>{if(!this.isValidKey(t,Ime))return;if(e.preventDefault(),!this.open){this.toggleOpen(),(t==="Home"||t==="ArrowDown")&&(this.activeMenuItemIndex=0),(t==="End"||t==="ArrowUp")&&(this.activeMenuItemIndex=i.length-1);return}t==="Home"&&(this.activeMenuItemIndex=0),t==="End"&&(this.activeMenuItemIndex=i.length-1);const n=this.activeMenuItemIndex;t==="ArrowUp"&&(this.activeMenuItemIndex=a0(Math.max(n-1,-1),i.length)),t==="ArrowDown"&&(this.activeMenuItemIndex=a0(n+1,i.length))},this.toggleOpenEnd=()=>{this.setFocus(),this.el.removeEventListener("calcitePopoverOpen",this.toggleOpenEnd)},this.toggleOpen=(e=!this.open)=>{this.el.addEventListener("calcitePopoverOpen",this.toggleOpenEnd),this.open=e},this.expanded=!1,this.flipPlacements=void 0,this.label=void 0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.scale=void 0,this.menuButtonEl=void 0,this.activeMenuItemIndex=-1}componentWillLoad(){We(this)}componentDidLoad(){Ke(this)}disconnectedCallback(){this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(e){this.activeMenuItemIndex=this.open?0:-1,this.menuButtonEl&&(this.menuButtonEl.active=e),this.calciteActionMenuOpen.emit(),this.setTooltipReferenceElement()}closeCalciteActionMenuOnClick(e){!dr(e)||e.composedPath().includes(this.el)||(this.open=!1)}activeMenuItemIndexHandler(){this.updateActions(this.actionElements)}async setFocus(){await He(this),Nr(this.menuButtonEl)}renderMenuButton(){const{label:e,scale:t,expanded:i}=this;return v("slot",{name:c0.trigger,onSlotchange:this.setMenuButtonEl},v("calcite-action",{class:M8.defaultTrigger,icon:Eme.menu,ref:this.setDefaultMenuButtonEl,scale:t,text:e,textEnabled:i}))}renderMenuItems(){const{actionElements:e,activeMenuItemIndex:t,open:i,menuId:n,menuButtonEl:r,label:s,placement:a,overlayPositioning:o,flipPlacements:l}=this,c=e[t],h=(c==null?void 0:c.id)||null;return v("calcite-popover",{flipPlacements:l,focusTrapDisabled:!0,label:s,offsetDistance:0,open:i,overlayPositioning:o,placement:a,pointerDisabled:!0,referenceElement:r},v("div",{"aria-activedescendant":h,"aria-labelledby":r==null?void 0:r.id,class:M8.menu,id:n,onClick:this.handleCalciteActionClick,role:"menu",tabIndex:-1},v("slot",{onSlotchange:this.handleDefaultSlotChange})))}render(){return v(Hr,null,this.renderMenuButton(),this.renderMenuItems(),v("slot",{name:c0.tooltip,onSlotchange:this.updateTooltip}))}isValidKey(e,t){return!!t.find(i=>i===e)}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}}static get style(){return kme}},[1,"calcite-action-menu",{expanded:[516],flipPlacements:[16],label:[1],open:[1540],overlayPositioning:[513,"overlay-positioning"],placement:[513],scale:[513],menuButtonEl:[32],activeMenuItemIndex:[32],setFocus:[64]},[[9,"pointerdown","closeCalciteActionMenuOnClick"]]]);function $m(){if(typeof customElements>"u")return;["calcite-action-menu","calcite-action","calcite-icon","calcite-loader","calcite-popover"].forEach(t=>{switch(t){case"calcite-action-menu":customElements.get(t)||customElements.define(t,Cme);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-popover":customElements.get(t)||Au();break}})}$m();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const xf={menuActions:"menu-actions",menuTooltip:"menu-tooltip"},Tme={menu:"ellipsis"},$me='@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:flex;flex-direction:column;padding:0px;--calcite-action-group-columns:3}:host([columns="1"]){--calcite-action-group-columns:1}:host([columns="2"]){--calcite-action-group-columns:2}:host([columns="3"]){--calcite-action-group-columns:3}:host([columns="4"]){--calcite-action-group-columns:4}:host([columns="5"]){--calcite-action-group-columns:5}:host([columns="6"]){--calcite-action-group-columns:6}:host(:first-child){padding-block-start:0px}:host([layout=horizontal]){flex-direction:row}:host([layout=grid]){display:grid;place-content:stretch;gap:1px;background-color:var(--calcite-ui-background);padding:1px;grid-template-columns:repeat(var(--calcite-action-group-columns), auto)}',Ame=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.setMenuOpen=e=>{this.menuOpen=!!e.target.open},this.expanded=!1,this.layout="vertical",this.columns=void 0,this.menuOpen=!1,this.scale=void 0,this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale="",this.defaultMessages=void 0}expandedHandler(){this.menuOpen=!1}onMessagesChange(){}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){ht(this),Mt(this),bn(this)}disconnectedCallback(){pt(this),Dt(this),wn(this)}async componentWillLoad(){await $t(this)}renderTooltip(){const{el:e}=this;return Xe(e,xf.menuTooltip)?v("slot",{name:xf.menuTooltip,slot:c0.tooltip}):null}renderMenu(){const{el:e,expanded:t,menuOpen:i,scale:n,layout:r,messages:s}=this;return Xe(e,xf.menuActions)?v("calcite-action-menu",{expanded:t,flipPlacements:["left","right"],label:s.more,onCalciteActionMenuOpen:this.setMenuOpen,open:i,placement:r==="horizontal"?"bottom-start":"leading-start",scale:n},v("calcite-action",{icon:Tme.menu,scale:n,slot:c0.trigger,text:s.more,textEnabled:t}),v("slot",{name:xf.menuActions}),this.renderTooltip()):null}render(){return v(Hr,null,v("slot",null),this.renderMenu())}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return $me}},[17,"calcite-action-group",{expanded:[516],layout:[513],columns:[514],menuOpen:[1540,"menu-open"],scale:[513],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32]}]);function gF(){if(typeof customElements>"u")return;["calcite-action-group","calcite-action","calcite-action-menu","calcite-icon","calcite-loader","calcite-popover"].forEach(t=>{switch(t){case"calcite-action-group":customElements.get(t)||customElements.define(t,Ame);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-action-menu":customElements.get(t)||$m();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-popover":customElements.get(t)||Au();break}})}gF();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Mme=150,Dme=2,D8=e=>e.reduce((t,i)=>t+i,0)/e.length,Ome=e=>{const t=e==null?void 0:e.length;return{actionWidth:t?D8(e.map(i=>i.clientWidth||0)):0,actionHeight:t?D8(e.map(i=>i.clientHeight||0)):0}},Rme=({width:e,actionWidth:t,layout:i,height:n,actionHeight:r,groupCount:s})=>{const a=i==="horizontal"?e:n,o=i==="horizontal"?t:r;return Math.floor((a-s*Dme)/o)},Pme=({layout:e,actionCount:t,actionWidth:i,width:n,actionHeight:r,height:s,groupCount:a})=>Math.max(t-Rme({width:n,actionWidth:i,layout:e,height:s,actionHeight:r,groupCount:a}),0),yF=e=>Array.from(e.querySelectorAll("calcite-action")).filter(t=>t.closest("calcite-action-menu")?t.slot===c0.trigger:!0),Lme=({actionGroups:e,expanded:t,overflowCount:i})=>{let n=i;e.reverse().forEach(r=>{let s=0;const a=yF(r).reverse();a.forEach(o=>{o.slot===xf.menuActions&&(o.removeAttribute("slot"),o.textEnabled=t)}),n>0&&a.some(o=>(a.filter(c=>!c.slot).length>1&&a.length>2&&!o.closest("calcite-action-menu")&&(o.textEnabled=!0,o.setAttribute("slot",xf.menuActions),s++,s>1&&n--),n<1)),F0(r)})},O8={chevronsLeft:"chevrons-left",chevronsRight:"chevrons-right"};function Fme(e,t){var i;return e||((i=t.closest("calcite-shell-panel"))==null?void 0:i.position)||"start"}function k1({parent:e,expanded:t}){yF(e).filter(i=>i.slot!==xf.menuActions).forEach(i=>i.textEnabled=t),e.querySelectorAll("calcite-action-group, calcite-action-menu").forEach(i=>i.expanded=t)}const Nme=({tooltip:e,referenceElement:t,expanded:i,ref:n})=>(e&&(e.referenceElement=!i&&t?t:null),n&&n(t),t),HY=({expanded:e,intlExpand:t,intlCollapse:i,toggle:n,el:r,position:s,tooltip:a,ref:o,scale:l})=>{const c=Ci(r)==="rtl",h=e?i:t,p=[O8.chevronsLeft,O8.chevronsRight];c&&p.reverse();const m=Fme(s,r)==="end",g=m?p[1]:p[0],y=m?p[0]:p[1];return v("calcite-action",{icon:e?g:y,onClick:n,ref:w=>Nme({tooltip:a,referenceElement:w,expanded:e,ref:o}),scale:l,text:h,textEnabled:e})};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const zme={actionGroupBottom:"action-group--bottom"},_v={bottomActions:"bottom-actions",expandTooltip:"expand-tooltip"},Vme="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{pointer-events:auto;display:inline-flex;align-self:stretch;background:transparent;--calcite-action-bar-expanded-max-width:auto}:host([layout=vertical]){flex-direction:column}:host([layout=horizontal]){flex-direction:row}:host([layout=vertical][overflow-actions-disabled]){overflow-y:auto}:host([layout=horizontal][overflow-actions-disabled]){overflow-x:auto}:host([layout=vertical][expanded]){max-inline-size:var(--calcite-action-bar-expanded-max-width)}::slotted(calcite-action-group){border-width:0px;border-block-end-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3)}:host([layout=horizontal]) ::slotted(calcite-action-group){border-width:0px;border-inline-end-width:1px;border-style:solid}::slotted(calcite-action-group:last-child){border-block-end-width:0px;border-inline-end-width:0px}.action-group--bottom{flex-grow:1;justify-content:flex-end;padding-block-end:0px;padding-inline-end:0px}",jme=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteActionBarToggle=B(this,"calciteActionBarToggle",6),this.mutationObserver=Ct("mutation",()=>{const{el:e,expanded:t}=this;k1({parent:e,expanded:t}),this.conditionallyOverflowActions()}),this.resizeObserver=Ct("resize",e=>this.resizeHandlerEntries(e)),this.actionMenuOpenHandler=e=>{if(e.target.menuOpen){const t=e.composedPath();Array.from(this.el.querySelectorAll("calcite-action-group")).forEach(i=>{t.includes(i)||(i.menuOpen=!1)})}},this.resizeHandlerEntries=e=>{e.forEach(this.resizeHandler)},this.resizeHandler=e=>{const{width:t,height:i}=e.contentRect;this.resize({width:t,height:i})},this.resize=Jl(({width:e,height:t})=>{const{el:i,expanded:n,expandDisabled:r,layout:s}=this;if(s==="vertical"&&!t||s==="horizontal"&&!e)return;const a=yF(i),o=r?a.length:a.length+1,l=Array.from(i.querySelectorAll("calcite-action-group")),c=Xe(i,_v.bottomActions)||!r?l.length+1:l.length,{actionHeight:h,actionWidth:p}=Ome(a),m=Pme({layout:s,actionCount:o,actionHeight:h,actionWidth:p,height:t,width:e,groupCount:c});Lme({actionGroups:l,expanded:n,overflowCount:m})},Mme),this.conditionallyOverflowActions=()=>{this.overflowActionsDisabled||this.overflowActions()},this.toggleExpand=()=>{this.expanded=!this.expanded,this.calciteActionBarToggle.emit()},this.setExpandToggleRef=e=>{this.expandToggleEl=e},this.expandDisabled=!1,this.expanded=!1,this.layout="vertical",this.overflowActionsDisabled=!1,this.position=void 0,this.scale=void 0,this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}expandHandler(){this.conditionallyOverflowActions()}expandedHandler(e){k1({parent:this.el,expanded:e}),this.conditionallyOverflowActions()}overflowDisabledHandler(e){e?this.resizeObserver.disconnect():this.resizeObserver.observe(this.el)}onMessagesChange(){}effectiveLocaleChange(){At(this,this.effectiveLocale)}componentDidLoad(){Ke(this),this.conditionallyOverflowActions()}connectedCallback(){var i,n;const{el:e,expanded:t}=this;ht(this),Mt(this),k1({parent:e,expanded:t}),(i=this.mutationObserver)==null||i.observe(e,{childList:!0,subtree:!0}),this.overflowActionsDisabled||(n=this.resizeObserver)==null||n.observe(e),this.conditionallyOverflowActions(),bn(this)}async componentWillLoad(){We(this),await $t(this)}disconnectedCallback(){var e,t;(e=this.mutationObserver)==null||e.disconnect(),(t=this.resizeObserver)==null||t.disconnect(),wn(this),pt(this),Dt(this)}async overflowActions(){this.resize({width:this.el.clientWidth,height:this.el.clientHeight})}async setFocus(){var e;await He(this),(e=this.el)==null||e.focus()}renderBottomActionGroup(){const{expanded:e,expandDisabled:t,el:i,position:n,toggleExpand:r,scale:s,layout:a,messages:o}=this,l=Xe(i,_v.expandTooltip),c=t?null:v(HY,{el:i,expanded:e,intlCollapse:o.collapse,intlExpand:o.expand,position:n,ref:this.setExpandToggleRef,scale:s,toggle:r,tooltip:l});return Xe(i,_v.bottomActions)||c?v("calcite-action-group",{class:zme.actionGroupBottom,layout:a,scale:s},v("slot",{name:_v.bottomActions}),v("slot",{name:_v.expandTooltip}),c):null}render(){return v(Fe,{onCalciteActionMenuOpen:this.actionMenuOpenHandler},v("slot",null),this.renderBottomActionGroup())}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{expandDisabled:["expandHandler"],expanded:["expandedHandler"],overflowActionsDisabled:["overflowDisabledHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Vme}},[17,"calcite-action-bar",{expandDisabled:[516,"expand-disabled"],expanded:[1540],layout:[513],overflowActionsDisabled:[516,"overflow-actions-disabled"],position:[513],scale:[513],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],overflowActions:[64],setFocus:[64]}]);function Ume(){if(typeof customElements>"u")return;["calcite-action-bar","calcite-action","calcite-action-group","calcite-action-menu","calcite-icon","calcite-loader","calcite-popover"].forEach(t=>{switch(t){case"calcite-action-bar":customElements.get(t)||customElements.define(t,jme);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-action-group":customElements.get(t)||gF();break;case"calcite-action-menu":customElements.get(t)||$m();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-popover":customElements.get(t)||Au();break}})}Ume();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const R8={actionGroupBottom:"action-group--bottom",container:"container"},P8={expandTooltip:"expand-tooltip"},Bme="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:block}@keyframes in{0%{opacity:0}100%{opacity:1}}:host{animation:in var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:0.125rem;--calcite-action-pad-expanded-max-width:auto;background:transparent}:host([expanded][layout=vertical]) .container{max-inline-size:var(--calcite-action-pad-expanded-max-width)}::slotted(calcite-action-group){border-width:0px;border-block-end-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-block:0px}.container{display:inline-flex;flex-direction:column;overflow-y:auto;border-radius:0.25rem;background-color:var(--calcite-ui-background);--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.action-group--bottom{flex-grow:1;justify-content:flex-end;padding-block-end:0px}:host([layout=horizontal]) .container{flex-direction:row}:host([layout=horizontal]) .container .action-group--bottom{padding:0px}:host([layout=horizontal]) .container ::slotted(calcite-action-group){border-width:0px;padding:0px;border-inline-end-width:1px}::slotted(calcite-action-group:last-child){border-block-end-width:0px}",Hme=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteActionPadToggle=B(this,"calciteActionPadToggle",6),this.actionMenuOpenHandler=e=>{if(e.target.menuOpen){const t=e.composedPath();Array.from(this.el.querySelectorAll("calcite-action-group")).forEach(i=>{t.includes(i)||(i.menuOpen=!1)})}},this.toggleExpand=()=>{this.expanded=!this.expanded,this.calciteActionPadToggle.emit()},this.setExpandToggleRef=e=>{this.expandToggleEl=e},this.expandDisabled=!1,this.expanded=!1,this.layout="vertical",this.position=void 0,this.scale=void 0,this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale="",this.defaultMessages=void 0}expandedHandler(e){k1({parent:this.el,expanded:e})}onMessagesChange(){}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){bn(this),ht(this),Mt(this)}disconnectedCallback(){pt(this),Dt(this),wn(this)}async componentWillLoad(){We(this);const{el:e,expanded:t}=this;k1({parent:e,expanded:t}),await $t(this)}componentDidLoad(){Ke(this)}async setFocus(){var e;await He(this),(e=this.el)==null||e.focus()}renderBottomActionGroup(){const{expanded:e,expandDisabled:t,messages:i,el:n,position:r,toggleExpand:s,scale:a,layout:o}=this,l=Xe(n,P8.expandTooltip),c=t?null:v(HY,{el:n,expanded:e,intlCollapse:i.collapse,intlExpand:i.expand,position:r,ref:this.setExpandToggleRef,scale:a,toggle:s,tooltip:l});return c?v("calcite-action-group",{class:R8.actionGroupBottom,layout:o,scale:a},v("slot",{name:P8.expandTooltip}),c):null}render(){return v(Fe,{onCalciteActionMenuOpen:this.actionMenuOpenHandler},v("div",{class:R8.container},v("slot",null),this.renderBottomActionGroup()))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Bme}},[17,"calcite-action-pad",{expandDisabled:[516,"expand-disabled"],expanded:[1540],layout:[513],position:[513],scale:[513],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],setFocus:[64]}]);function Gme(){if(typeof customElements>"u")return;["calcite-action-pad","calcite-action","calcite-action-group","calcite-action-menu","calcite-icon","calcite-loader","calcite-popover"].forEach(t=>{switch(t){case"calcite-action-pad":customElements.get(t)||customElements.define(t,Hme);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-action-group":customElements.get(t)||gF();break;case"calcite-action-menu":customElements.get(t)||$m();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-popover":customElements.get(t)||Au();break}})}Gme();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */var u0;(function(e){e.brand="lightbulb",e.danger="exclamationMarkTriangle",e.info="information",e.success="checkCircle",e.warning="exclamationMarkTriangle"})(u0||(u0={}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Vu={title:"title",close:"close",imageContainer:"image-container",chipIcon:"chip-icon",closeIcon:"close-icon",contentSlotted:"content--slotted",container:"container",imageSlotted:"image--slotted"},qme={image:"image"},Wme={close:"x"},Kme="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([scale=s]){block-size:1.5rem;font-size:var(--calcite-font-size--2);--calcite-chip-spacing-unit-l:0.5rem;--calcite-chip-spacing-unit-s:0.25rem}:host([scale=s]) .image-container{block-size:1.25rem;inline-size:1.25rem;padding-inline-start:0.125rem}:host([scale=m]){block-size:2rem;font-size:var(--calcite-font-size--1);--calcite-chip-spacing-unit-l:0.75rem;--calcite-chip-spacing-unit-s:calc(0.75rem / 2)}:host([scale=m]) .image-container{block-size:1.5rem;inline-size:1.5rem;padding-inline-start:0.25rem}:host([scale=l]){block-size:2.75rem;font-size:var(--calcite-font-size-0);--calcite-chip-spacing-unit-l:1rem;--calcite-chip-spacing-unit-s:0.5rem}:host([scale=l]) .image-container{block-size:2rem;inline-size:2rem;padding-inline-start:0.5rem}:host{box-sizing:border-box;display:inline-flex;cursor:default;align-items:center;border-radius:9999px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}.container{display:inline-flex;block-size:100%;max-inline-size:100%;align-items:center}.title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-block:0}.content--slotted .title{padding-inline:var(--calcite-chip-spacing-unit-l)}:host([closable][icon]) .container:not(.content--slotted) .title{padding-inline:0 var(--calcite-chip-spacing-unit-s)}:host(:not([closable])) .container:not(.content--slotted) .chip-icon{margin-inline:auto}.container:not(.image--slotted) .image-container{display:none}:host([scale=s][closable]) .container:not(.content--slotted) .image-container{margin-inline-end:0.125rem}:host([scale=m][closable]) .container:not(.content--slotted) .image-container{margin-inline-end:0.25rem}:host([scale=l][closable]) .container:not(.content--slotted) .image-container{margin-inline-end:0.5rem}:host([scale=s]:not([closable])) .container:not(.content--slotted){block-size:1.5rem;inline-size:1.5rem}:host([scale=s]:not([closable])) .container:not(.content--slotted) .image-container{padding-inline:0.125rem}:host([scale=m]:not([closable])) .container:not(.content--slotted){block-size:2rem;inline-size:2rem}:host([scale=m]:not([closable])) .container:not(.content--slotted) .image-container{padding-inline:0.25rem}:host([scale=l]:not([closable])) .container:not(.content--slotted){block-size:2.75rem;inline-size:2.75rem}:host([scale=l]:not([closable])) .container:not(.content--slotted) .image-container{padding-inline:calc(0.75rem / 2)}:host([closable]) .content--slotted .title{padding-inline:var(--calcite-chip-spacing-unit-l) var(--calcite-chip-spacing-unit-s)}:host([scale=s]) button{inline-size:1rem;block-size:1rem;margin-inline-end:0.125rem}:host([scale=m]) button{inline-size:1.5rem;block-size:1.5rem;margin-inline-end:0.25rem}:host([scale=l]) button{inline-size:2rem;block-size:2rem;margin-inline-end:0.5rem}button{margin:0px;cursor:pointer;align-items:center;border-style:none;background-color:transparent;color:var(--calcite-ui-text-1);outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;-webkit-appearance:none;display:flex;border-radius:50%;padding-inline:var(--calcite-chip-spacing-unit-s);color:inherit;align-content:center;justify-content:center;--calcite-chip-transparent-hover:var(--calcite-button-transparent-hover);--calcite-chip-transparent-press:var(--calcite-button-transparent-press)}button:hover{background-color:var(--calcite-chip-transparent-hover)}button:focus{background-color:var(--calcite-chip-transparent-hover);outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}button:active{background-color:var(--calcite-chip-transparent-press)}.image-container{display:inline-flex;overflow:hidden}slot[name=image]::slotted(*){display:flex;block-size:100%;inline-size:100%;overflow:hidden;border-radius:50%}.chip-icon{position:relative;margin-block:0px;display:inline-flex;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);margin-inline-end:0;margin-inline-start:var(--calcite-chip-spacing-unit-l)}:host([kind=neutral]){border-color:transparent;background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}:host([kind=neutral]) button,:host([kind=neutral]) .close-icon{color:var(--calcite-ui-text-3)}:host([kind=neutral]) .chip-icon{color:var(--calcite-ui-icon-color, var(--calcite-ui-text-3))}:host([kind=inverse]){border-color:transparent;background-color:var(--calcite-ui-inverse);color:var(--calcite-ui-text-inverse)}:host([kind=inverse]) button,:host([kind=inverse]) .close-icon{color:var(--calcite-ui-text-inverse)}:host([kind=inverse]) .chip-icon{color:var(--calcite-ui-icon-color, var(--calcite-ui-text-inverse))}:host([kind=brand]){border-color:transparent;background-color:var(--calcite-ui-brand);color:var(--calcite-ui-text-inverse)}:host([kind=brand]) button,:host([kind=brand]) .close-icon{color:var(--calcite-ui-text-inverse)}:host([kind=brand]) .chip-icon{color:var(--calcite-ui-icon-color, var(--calcite-ui-text-inverse))}:host([appearance=outline-fill]),:host([appearance=outline]){background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1)}:host([appearance=outline-fill]) button,:host([appearance=outline-fill]) .close-icon,:host([appearance=outline]) button,:host([appearance=outline]) .close-icon{color:var(--calcite-ui-text-3)}:host([appearance=outline-fill]) .chip-icon,:host([appearance=outline]) .chip-icon{color:var(--calcite-ui-icon-color, var(--calcite-ui-text-3))}:host([appearance=outline-fill]){background-color:var(--calcite-ui-foreground-1)}:host([appearance=outline]){background-color:transparent}:host([kind=neutral][appearance=outline-fill]),:host([kind=neutral][appearance=outline]){border-color:var(--calcite-ui-border-1)}:host([kind=inverse][appearance=outline-fill]),:host([kind=inverse][appearance=outline]){border-color:var(--calcite-ui-border-inverse)}:host([kind=brand][appearance=outline-fill]),:host([kind=brand][appearance=outline]){border-color:var(--calcite-ui-brand)}:host([kind=brand][appearance=solid]) button,:host([kind=inverse][appearance=solid]) button{outline-color:var(--calcite-ui-text-inverse)}:host([closed]){display:none}",Yme=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteChipClose=B(this,"calciteChipClose",6),this.closeClickHandler=e=>{e.preventDefault(),this.calciteChipClose.emit(),this.closed=!0},this.handleSlotImageChange=e=>{this.hasImage=La(e)},this.mutationObserver=Ct("mutation",()=>this.updateHasContent()),this.guid=$i(),this.appearance="solid",this.kind="neutral",this.closable=!1,this.icon=void 0,this.iconFlipRtl=!1,this.scale="m",this.value=void 0,this.closed=!1,this.messageOverrides=void 0,this.messages=void 0,this.defaultMessages=void 0,this.effectiveLocale=void 0,this.hasContent=!1,this.hasImage=!1}onMessagesChange(){}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){bn(this),ht(this),Mt(this),this.setupTextContentObserver()}componentDidLoad(){Ke(this)}disconnectedCallback(){wn(this),pt(this),Dt(this)}async componentWillLoad(){We(this),ro.isBrowser&&(await $t(this),this.updateHasContent())}async setFocus(){var e;await He(this),(e=this.closeButton)==null||e.focus()}updateHasContent(){var t,i;const e=this.el.textContent.trim().length>0||this.el.childNodes.length>0;this.hasContent=this.el.childNodes.length>0&&((t=this.el.childNodes[0])==null?void 0:t.nodeName)==="#text"?((i=this.el.textContent)==null?void 0:i.trim().length)>0:e}setupTextContentObserver(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}renderChipImage(){return v("div",{class:Vu.imageContainer,key:"image"},v("slot",{name:qme.image,onSlotchange:this.handleSlotImageChange}))}render(){const e=v("calcite-icon",{class:Vu.chipIcon,flipRtl:this.iconFlipRtl,icon:this.icon,scale:this.scale==="l"?"m":"s"}),t=v("button",{"aria-describedby":this.guid,"aria-label":this.messages.dismissLabel,class:Vu.close,onClick:this.closeClickHandler,ref:i=>this.closeButton=i},v("calcite-icon",{class:Vu.closeIcon,icon:Wme.close,scale:this.scale==="l"?"m":"s"}));return v("div",{class:{[Vu.container]:!0,[Vu.contentSlotted]:this.hasContent,[Vu.imageSlotted]:this.hasImage}},this.renderChipImage(),this.icon?e:null,v("span",{class:Vu.title,id:this.guid},v("slot",null)),this.closable?t:null)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Kme}},[1,"calcite-chip",{appearance:[513],kind:[513],closable:[1540],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"],scale:[513],value:[8],closed:[1540],messageOverrides:[1040],messages:[1040],defaultMessages:[32],effectiveLocale:[32],hasContent:[32],hasImage:[32],setFocus:[64]}]);function wC(){if(typeof customElements>"u")return;["calcite-chip","calcite-icon"].forEach(t=>{switch(t){case"calcite-chip":customElements.get(t)||customElements.define(t,Yme);break;case"calcite-icon":customElements.get(t)||Te();break}})}wC();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const _$={slow:14e3,medium:1e4,fast:6e3},Tx={actionsEnd:"actions-end",title:"title",message:"message",link:"link"},L8={actionsEnd:"actions-end",container:"container",close:"alert-close",slottedInShell:"slotted-in-shell"},Jme='@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([scale=s]){--calcite-alert-width:40em;--calcite-alert-spacing-token-small:0.5rem;--calcite-alert-spacing-token-large:0.75rem}:host([scale=s]) slot[name=title]::slotted(*),:host([scale=s]) *::slotted([slot=title]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=s]) slot[name=message]::slotted(*),:host([scale=s]) *::slotted([slot=message]){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) slot[name=link]::slotted(*),:host([scale=s]) *::slotted([slot=link]){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) .alert-queue-count{margin-inline:0.5rem}:host([scale=s]) .container{--calcite-alert-min-height:3.5rem}:host([scale=s]) .alert-close{padding:0.5rem}:host([scale=m]){--calcite-alert-width:50em;--calcite-alert-spacing-token-small:0.75rem;--calcite-alert-spacing-token-large:1rem}:host([scale=m]) slot[name=title]::slotted(*),:host([scale=m]) *::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=m]) slot[name=message]::slotted(*),:host([scale=m]) *::slotted([slot=message]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) slot[name=link]::slotted(*),:host([scale=m]) *::slotted([slot=link]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .alert-queue-count{margin-inline:0.75rem}:host([scale=m]) .container{--calcite-alert-min-height:4.1875rem}:host([scale=l]){--calcite-alert-width:60em;--calcite-alert-spacing-token-small:1rem;--calcite-alert-spacing-token-large:1.25rem}:host([scale=l]) slot[name=title]::slotted(*),:host([scale=l]) *::slotted([slot=title]){margin-block-end:0.25rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host([scale=l]) slot[name=message]::slotted(*),:host([scale=l]) *::slotted([slot=message]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) slot[name=link]::slotted(*),:host([scale=l]) *::slotted([slot=link]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .alert-queue-count{margin-inline:1rem}:host([scale=l]) .container{--calcite-alert-min-height:5.625rem}:host{--calcite-alert-edge-distance:2rem;display:block}:host .container{pointer-events:none;position:fixed;z-index:500;margin-block:0px;margin-inline:auto;display:flex;align-items:center;justify-content:center;background-color:var(--calcite-ui-foreground-1);opacity:0;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-radius:var(--calcite-border-radius);border-block-start:0px solid transparent;border-inline:1px solid var(--calcite-ui-border-3);border-block-end:1px solid var(--calcite-ui-border-3);min-block-size:var(--calcite-alert-min-height);inline-size:var(--calcite-alert-width);max-inline-size:calc(100% - (var(--calcite-alert-edge-distance) * 2 + 2px));max-block-size:0;transition:var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out}:host .container.bottom,:host .container.top{inset-inline-end:0;inset-inline-start:0}:host .container[class*=bottom]{transform:translate3d(0, var(--calcite-alert-edge-distance), 0);inset-block-end:var(--calcite-alert-edge-distance)}:host .container[class*=top]{transform:translate3d(0, calc(-1 * var(--calcite-alert-edge-distance)), 0);inset-block-start:var(--calcite-alert-edge-distance)}:host .container[class*=-start]{inset-inline-start:var(--calcite-alert-edge-distance);inset-inline-end:auto}:host .container[class*=-end]{inset-inline-end:var(--calcite-alert-edge-distance);inset-inline-start:auto}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}[hidden]{display:none}.container{display:flex;inline-size:100%;align-items:center;justify-content:center}.alert-close{outline-color:transparent}.alert-close:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([open]) .container:not(.queued){max-block-size:100%;border-block-start-width:2px;opacity:1;pointer-events:initial}:host([open]) .container:not(.queued)[class*=bottom]{transform:translate3d(0, calc(-1 * var(--calcite-alert-edge-distance)), inherit)}:host([open]) .container:not(.queued)[class*=top]{transform:translate3d(0, var(--calcite-alert-edge-distance), inherit)}slot[name=title]::slotted(*),*::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}slot[name=message]::slotted(*),*::slotted([slot=message]){margin:0px;display:inline;font-size:var(--calcite-font-size--1);line-height:1.375;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2);margin-inline-end:0.5rem}slot[name=link]::slotted(*),*::slotted([slot=link]){display:inline-flex;color:var(--calcite-ui-text-link)}.alert-content{transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;padding-inline:var(--calcite-alert-spacing-token-large);flex:0 0 auto;display:flex;flex-direction:column;overflow-wrap:break-word;background-color:var(--calcite-ui-foreground-1);flex:1 1 0;min-inline-size:0;padding-block:var(--calcite-alert-spacing-token-small);padding-inline:0 var(--calcite-alert-spacing-token-small);border-radius:var(--calcite-border-radius)}.alert-content:first-of-type:not(:only-child){padding-inline-start:var(--calcite-alert-spacing-token-large)}.alert-content:only-child{padding:var(--calcite-alert-spacing-token-small)}.alert-icon{transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;padding-block:var(--calcite-alert-spacing-token-small);padding-inline:var(--calcite-alert-spacing-token-large);flex:0 0 auto;display:flex;align-items:center;align-self:stretch;background-color:var(--calcite-ui-foreground-1);padding-block:0px;border-start-start-radius:var(--calcite-border-radius);border-end-start-radius:var(--calcite-border-radius)}.alert-close{transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;padding-block:var(--calcite-alert-spacing-token-small);padding-inline:var(--calcite-alert-spacing-token-large);flex:0 0 auto;cursor:pointer;align-self:stretch;overflow:hidden;border-style:none;background-color:var(--calcite-ui-foreground-1);padding-block:0px;color:var(--calcite-ui-text-3);outline:2px solid transparent;outline-offset:2px;border-end-end-radius:var(--calcite-border-radius);border-start-end-radius:var(--calcite-border-radius)}.alert-close:hover,.alert-close:focus{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.alert-close:open{background-color:var(--calcite-ui-foreground-3)}.alert-queue-count{visibility:hidden;display:flex;cursor:default;align-items:center;justify-content:space-around;align-self:stretch;overflow:hidden;background-color:var(--calcite-ui-foreground-1);text-align:center;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2);opacity:0;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-inline:0px solid transparent;border-start-end-radius:0}.alert-queue-count.active{visibility:visible;opacity:1}:host([auto-close])>.alert-queue-count{border-inline-end:0px solid transparent}.alert-dismiss-progress{position:absolute;display:block;inline-size:100%;overflow:hidden;inset-inline:0;inset-block-start:-2px;block-size:2px;border-radius:var(--calcite-border-radius) var(--calcite-border-radius) 0 0}.alert-dismiss-progress:after{position:absolute;inset-block-start:0px;display:block;block-size:2px;content:"";background-color:var(--calcite-alert-dismiss-progress-background);inset-inline-end:0}.actions-end{display:flex;align-self:stretch}:host([kind=brand]) .container{border-block-start-color:var(--calcite-ui-brand)}:host([kind=brand]) .container .alert-icon{color:var(--calcite-ui-brand)}:host([kind=info]) .container{border-block-start-color:var(--calcite-ui-info)}:host([kind=info]) .container .alert-icon{color:var(--calcite-ui-info)}:host([kind=danger]) .container{border-block-start-color:var(--calcite-ui-danger)}:host([kind=danger]) .container .alert-icon{color:var(--calcite-ui-danger)}:host([kind=success]) .container{border-block-start-color:var(--calcite-ui-success)}:host([kind=success]) .container .alert-icon{color:var(--calcite-ui-success)}:host([kind=warning]) .container{border-block-start-color:var(--calcite-ui-warning)}:host([kind=warning]) .container .alert-icon{color:var(--calcite-ui-warning)}:host([auto-close-duration=fast]) .alert-dismiss-progress:after{animation:dismissProgress 6000ms ease-out}:host(:hover[auto-close-duration=fast]) .alert-dismiss-progress:after{animation-play-state:paused}:host([auto-close-duration=medium]) .alert-dismiss-progress:after{animation:dismissProgress 10000ms ease-out}:host(:hover[auto-close-duration=medium]) .alert-dismiss-progress:after{animation-play-state:paused}:host([auto-close-duration=slow]) .alert-dismiss-progress:after{animation:dismissProgress 14000ms ease-out}:host(:hover[auto-close-duration=slow]) .alert-dismiss-progress:after{animation-play-state:paused}@keyframes dismissProgress{0%{inline-size:0px;opacity:0.75}100%{inline-size:100%;opacity:1}}.container.slotted-in-shell{position:absolute}',Zme=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteAlertBeforeClose=B(this,"calciteAlertBeforeClose",6),this.calciteAlertClose=B(this,"calciteAlertClose",6),this.calciteAlertBeforeOpen=B(this,"calciteAlertBeforeOpen",6),this.calciteAlertOpen=B(this,"calciteAlertOpen",6),this.calciteInternalAlertSync=B(this,"calciteInternalAlertSync",6),this.calciteInternalAlertRegister=B(this,"calciteInternalAlertRegister",6),this.autoCloseTimeoutId=null,this.totalOpenTime=0,this.totalHoverTime=0,this.openTransitionProp="opacity",this.setTransitionEl=e=>{this.transitionEl=e,Xa(this)},this.closeAlert=()=>{this.autoCloseTimeoutId=null,this.queued=!1,this.open=!1,this.queue=this.queue.filter(e=>e!==this.el),this.determineActiveAlert(),this.calciteInternalAlertSync.emit({queue:this.queue})},this.actionsEndSlotChangeHandler=e=>{this.hasEndActions=La(e)},this.handleMouseOver=()=>{window.clearTimeout(this.autoCloseTimeoutId),this.totalOpenTime=Date.now()-this.initialOpenTime,this.lastMouseOverBegin=Date.now()},this.handleMouseLeave=()=>{const e=Date.now()-this.lastMouseOverBegin,t=_$[this.autoCloseDuration]-this.totalOpenTime+this.totalHoverTime;this.totalHoverTime=this.totalHoverTime?e+this.totalHoverTime:e,this.autoCloseTimeoutId=window.setTimeout(()=>this.closeAlert(),t)},this.open=!1,this.autoClose=!1,this.autoCloseDuration=this.autoClose?"medium":null,this.kind="brand",this.icon=void 0,this.iconFlipRtl=!1,this.label=void 0,this.numberingSystem=void 0,this.placement="bottom",this.scale="m",this.messages=void 0,this.messageOverrides=void 0,this.slottedInShell=void 0,this.effectiveLocale="",this.defaultMessages=void 0,this.hasEndActions=!1,this.queue=[],this.queueLength=0,this.queued=!1,this.requestedIcon=void 0}openHandler(){this.open&&!this.queued&&this.calciteInternalAlertRegister.emit(),this.open||(this.queue=this.queue.filter(e=>e!==this.el),this.calciteInternalAlertSync.emit({queue:this.queue}))}onMessagesChange(){}updateRequestedIcon(){this.requestedIcon=Za(u0,this.icon,this.kind)}updateDuration(){this.autoClose&&this.autoCloseTimeoutId&&(window.clearTimeout(this.autoCloseTimeoutId),this.autoCloseTimeoutId=window.setTimeout(()=>this.closeAlert(),_$[this.autoCloseDuration]))}connectedCallback(){ht(this),Mt(this),this.open&&!this.queued&&(this.openHandler(),this.calciteInternalAlertRegister.emit()),Xa(this)}async componentWillLoad(){We(this),this.requestedIcon=Za(u0,this.icon,this.kind),await $t(this)}componentDidLoad(){Ke(this)}disconnectedCallback(){window.clearTimeout(this.autoCloseTimeoutId),window.clearTimeout(this.queueTimeout),Cm(this),pt(this),Dt(this),this.slottedInShell=!1}render(){const{hasEndActions:e}=this,t=v("button",{"aria-label":this.messages.close,class:"alert-close",onClick:this.closeAlert,ref:b=>this.closeButton=b,type:"button"},v("calcite-icon",{icon:"x",scale:this.scale==="l"?"m":"s"}));Me.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,signDisplay:"always"};const i=this.queueLength>2?this.queueLength-1:1,n=Me.numberFormatter.format(i),r=v("div",{class:`${this.queueLength>1?"active ":""}alert-queue-count`},v("calcite-chip",{scale:this.scale,value:n},n)),{open:s,autoClose:a,label:o,placement:l,queued:c,requestedIcon:h,iconFlipRtl:p}=this,m=a?"alert":"alertdialog",g=!s,y=v("slot",{key:"actionsEndSlot",name:Tx.actionsEnd,onSlotchange:this.actionsEndSlotChangeHandler});return v(Fe,{"aria-hidden":ot(g),"aria-label":o,"calcite-hydrated-hidden":g,role:m},v("div",{class:{container:!0,queued:c,[l]:!0,[L8.slottedInShell]:this.slottedInShell},onPointerEnter:this.autoClose&&this.autoCloseTimeoutId?this.handleMouseOver:null,onPointerLeave:this.autoClose&&this.autoCloseTimeoutId?this.handleMouseLeave:null,ref:this.setTransitionEl},h?v("div",{class:"alert-icon"},v("calcite-icon",{flipRtl:p,icon:h,scale:this.scale==="l"?"m":"s"})):null,v("div",{class:"alert-content"},v("slot",{name:Tx.title}),v("slot",{name:Tx.message}),v("slot",{name:Tx.link})),v("div",{class:L8.actionsEnd,hidden:!e},y),this.queueLength>1?r:null,t,s&&!c&&a?v("div",{class:"alert-dismiss-progress"}):null))}alertSync(e){this.queue!==e.detail.queue&&(this.queue=e.detail.queue),this.queueLength=this.queue.length,this.determineActiveAlert(),e.stopPropagation()}alertRegister(){this.open&&!this.queue.includes(this.el)&&(this.queued=!0,this.queue.push(this.el)),this.calciteInternalAlertSync.emit({queue:this.queue}),this.determineActiveAlert()}async setFocus(){await He(this);const e=Xe(this.el,{selector:"calcite-link"});!this.closeButton&&!e||(e?e.setFocus():this.closeButton&&this.closeButton.focus())}effectiveLocaleChange(){At(this,this.effectiveLocale)}determineActiveAlert(){var e;if(((e=this.queue)==null?void 0:e[0])===this.el)this.openAlert(),this.autoClose&&!this.autoCloseTimeoutId&&(this.initialOpenTime=Date.now(),this.autoCloseTimeoutId=window.setTimeout(()=>this.closeAlert(),_$[this.autoCloseDuration]));else return}onBeforeOpen(){this.calciteAlertBeforeOpen.emit()}onOpen(){this.calciteAlertOpen.emit()}onBeforeClose(){this.calciteAlertBeforeClose.emit()}onClose(){this.calciteAlertClose.emit()}openAlert(){window.clearTimeout(this.queueTimeout),this.queueTimeout=window.setTimeout(()=>this.queued=!1,300)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{open:["openHandler"],messageOverrides:["onMessagesChange"],icon:["updateRequestedIcon"],kind:["updateRequestedIcon"],autoCloseDuration:["updateDuration"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Jme}},[1,"calcite-alert",{open:[1540],autoClose:[516,"auto-close"],autoCloseDuration:[513,"auto-close-duration"],kind:[513],icon:[520],iconFlipRtl:[516,"icon-flip-rtl"],label:[1],numberingSystem:[513,"numbering-system"],placement:[513],scale:[513],messages:[1040],messageOverrides:[1040],slottedInShell:[1028,"slotted-in-shell"],effectiveLocale:[32],defaultMessages:[32],hasEndActions:[32],queue:[32],queueLength:[32],queued:[32],requestedIcon:[32],setFocus:[64]},[[8,"calciteInternalAlertSync","alertSync"],[8,"calciteInternalAlertRegister","alertRegister"]]]);function Qme(){if(typeof customElements>"u")return;["calcite-alert","calcite-chip","calcite-icon"].forEach(t=>{switch(t){case"calcite-alert":customElements.get(t)||customElements.define(t,Zme);break;case"calcite-chip":customElements.get(t)||wC();break;case"calcite-icon":customElements.get(t)||Te();break}})}Qme();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function GY(e){const{r:t,g:i,b:n}=e;return`#${t.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}`.toLowerCase()}const Xme=/^[0-9A-F]$/i,ege=/^#[0-9A-F]{3}$/i,tge=/^#[0-9A-F]{6}$/i;function Sf(e){return qY(e)||WY(e)}function qY(e){return e&&e.length===4&&ege.test(e)}function WY(e){return e&&e.length===7&&tge.test(e)}function Wd(e){return e=e.toLowerCase(),e.startsWith("#")||(e=`#${e}`),qY(e)?GY(KY(e)):e}function KY(e){if(!Sf(e))return null;if(e=e.replace("#",""),e.length===3){const[r,s,a]=e.split(""),o=parseInt(`${r}${r}`,16),l=parseInt(`${s}${s}`,16),c=parseInt(`${a}${a}`,16);return{r:o,g:l,b:c}}const t=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),n=parseInt(e.slice(4,6),16);return{r:t,g:i,b:n}}const YY=e=>e,gp=YY({HEX:"hex",HEXA:"hexa",RGB_CSS:"rgb-css",RGBA_CSS:"rgba-css",HSL_CSS:"hsl-css",HSLA_CSS:"hsla-css"}),jm=YY({RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla",HSV:"hsv",HSVA:"hsva"});function F8(e){if(typeof e=="string"){if(e.startsWith("#")){const{length:t}=e;if(t===4||t===7)return gp.HEX;if(t===5||t===9)return gp.HEXA}if(e.startsWith("rgba("))return gp.RGBA_CSS;if(e.startsWith("rgb("))return gp.RGB_CSS;if(e.startsWith("hsl("))return gp.HSL_CSS;if(e.startsWith("hsla("))return gp.HSLA_CSS}if(typeof e=="object"){if(Um(e,"r","g","b"))return Um(e,"a")?jm.RGBA:jm.RGB;if(Um(e,"h","s","l"))return Um(e,"a")?jm.HSLA:jm.HSL;if(Um(e,"h","s","v"))return Um(e,"a")?jm.HSVA:jm.HSV}return null}function Um(e,...t){return t.every(i=>i&&e&&`${i}`in e)}function N8(e,t){return(e==null?void 0:e.rgbNumber())===(t==null?void 0:t.rgbNumber())}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function ige(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);let i="#";for(let n=0;n<3;n++){const r=t>>n*8&255;i+=("00"+r.toString(16)).substr(-2)}return i}function nge(e){let{r:t,g:i,b:n}=e;t/=255,i/=255,n/=255;const r=Math.max(t,i,n),s=Math.min(t,i,n),a=r-s;if(r===s)return 0;let o=(r+s)/2;switch(r){case t:o=(i-n)/a+(i<n?6:0);break;case i:o=(n-t)/a+2;break;case n:o=(t-i)/a+4;break}return Math.round(o*60)}function rge(e){return nge(KY(e))}const sge="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:inline-block;overflow:hidden;border-radius:50%}:host([scale=s]){block-size:1.5rem;inline-size:1.5rem;font-size:var(--calcite-font-size--3)}:host([scale=m]){block-size:2rem;inline-size:2rem;font-size:var(--calcite-font-size--2)}:host([scale=l]){block-size:2.75rem;inline-size:2.75rem;font-size:var(--calcite-font-size-0)}.icon{display:flex}.background{display:flex;block-size:100%;inline-size:100%;align-items:center;justify-content:center;border-radius:50%}.initials{font-weight:var(--calcite-font-weight-bold);text-transform:uppercase;color:var(--calcite-ui-text-3)}.thumbnail{block-size:100%;inline-size:100%;border-radius:50%}",age=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.scale="m",this.thumbnail=void 0,this.fullName=void 0,this.username=void 0,this.userId=void 0,this.thumbnailFailedToLoad=!1}render(){return this.determineContent()}determineContent(){if(this.thumbnail&&!this.thumbnailFailedToLoad)return v("img",{alt:"",class:"thumbnail",onError:()=>this.thumbnailFailedToLoad=!0,src:this.thumbnail});const e=this.generateInitials(),t=this.generateFillColor();return v("span",{class:"background",style:{backgroundColor:t}},e?v("span",{"aria-hidden":"true",class:"initials"},e):v("calcite-icon",{class:"icon",icon:"user",scale:this.scale}))}generateFillColor(){const{userId:e,username:t,fullName:i,el:n}=this,r=hY(n),s=e&&`#${e.substr(e.length-6)}`,a=t||i||"",o=s&&Sf(s)?s:ige(a);return!e&&!a||!Sf(o)?"var(--calcite-ui-foreground-2)":`hsl(${rge(o)}, 60%, ${r==="dark"?20:90}%)`}generateInitials(){const{fullName:e,username:t}=this;return e?e.trim().split(" ").map(i=>i.substring(0,1)).join(""):t?t.substring(0,2):!1}get el(){return this}static get style(){return sge}},[1,"calcite-avatar",{scale:[513],thumbnail:[513],fullName:[513,"full-name"],username:[513],userId:[513,"user-id"],thumbnailFailedToLoad:[32]}]);function oge(){if(typeof customElements>"u")return;["calcite-avatar","calcite-icon"].forEach(t=>{switch(t){case"calcite-avatar":customElements.get(t)||customElements.define(t,age);break;case"calcite-icon":customElements.get(t)||Te();break}})}oge();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const z8={handle:"handle",handleActivated:"handle--activated"},lge={drag:"drag"},cge="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:flex}.handle{display:flex;cursor:move;align-items:center;justify-content:center;align-self:stretch;border-style:none;background-color:transparent;outline-color:transparent;color:var(--calcite-ui-border-input);padding-block:0.75rem;padding-inline:0.25rem;line-height:0}.handle:hover{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.handle:focus{color:var(--calcite-ui-text-1);outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.handle--activated{background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-1)}.handle calcite-icon{color:inherit}",uge=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteHandleNudge=B(this,"calciteHandleNudge",6),this.handleKeyDown=e=>{switch(e.key){case" ":this.activated=!this.activated,e.preventDefault();break;case"ArrowUp":if(!this.activated)return;e.preventDefault(),this.calciteHandleNudge.emit({direction:"up"});break;case"ArrowDown":if(!this.activated)return;e.preventDefault(),this.calciteHandleNudge.emit({direction:"down"});break}},this.handleBlur=()=>{this.activated=!1},this.activated=!1,this.textTitle="handle"}componentWillLoad(){We(this)}componentDidLoad(){Ke(this)}async setFocus(){var e;await He(this),(e=this.handleButton)==null||e.focus()}render(){return v("span",{"aria-pressed":ot(this.activated),class:{[z8.handle]:!0,[z8.handleActivated]:this.activated},onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,ref:e=>{this.handleButton=e},role:"button",tabindex:"0",title:this.textTitle},v("calcite-icon",{icon:lge.drag,scale:"s"}))}get el(){return this}static get style(){return cge}},[1,"calcite-handle",{activated:[1540],textTitle:[513,"text-title"],setFocus:[64]}]);function JY(){if(typeof customElements>"u")return;["calcite-handle","calcite-icon"].forEach(t=>{switch(t){case"calcite-handle":customElements.get(t)||customElements.define(t,uge);break;case"calcite-icon":customElements.get(t)||Te();break}})}JY();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const V8={scrim:"scrim",content:"content"},dge="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:absolute;inset:0px;z-index:700;display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity:0}100%{--tw-text-opacity:1}}.scrim{position:absolute;inset:0px;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-scrim-background-internal))}.content{padding:1rem}",hge=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loading=!1,this.messages=void 0,this.messageOverrides=void 0,this.defaultMessages=void 0,this.effectiveLocale=""}onMessagesChange(){}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){ht(this),Mt(this)}async componentWillLoad(){await $t(this)}disconnectedCallback(){pt(this),Dt(this)}render(){const{el:e,loading:t,messages:i}=this,n=e.innerHTML.trim().length>0,r=t?v("calcite-loader",{label:i.loading}):null,s=n?v("div",{class:V8.content},v("slot",null)):null;return v("div",{class:V8.scrim},r,s)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return dge}},[1,"calcite-scrim",{loading:[516],messages:[1040],messageOverrides:[1040],defaultMessages:[32],effectiveLocale:[32]}]);function jh(){if(typeof customElements>"u")return;["calcite-scrim","calcite-loader"].forEach(t=>{switch(t){case"calcite-scrim":customElements.get(t)||customElements.define(t,hge);break;case"calcite-loader":customElements.get(t)||ei();break}})}jh();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const wr={container:"container",content:"content",headerContainer:"header-container",icon:"icon",statusIcon:"status-icon",toggle:"toggle",toggleIcon:"toggle-icon",title:"title",heading:"heading",header:"header",button:"button",summary:"summary",description:"description",controlContainer:"control-container",valid:"valid",invalid:"invalid",loading:"loading"},Bm={icon:"icon",control:"control",headerMenuActions:"header-menu-actions"},$x={opened:"chevron-up",closed:"chevron-down",valid:"check-circle",invalid:"exclamation-mark-triangle",refresh:"refresh"},pge='@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:flex;flex-shrink:0;flex-grow:0;flex-direction:column;border-width:0px;border-block-end-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);padding:0px;transition-property:margin;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;transition-timing-function:cubic-bezier(0.215, 0.440, 0.420, 0.880);flex-basis:auto}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.header{margin:0px;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:0.5rem}.header{justify-content:flex-start;padding:0px}.header,.toggle{grid-area:header}.header-container{display:grid;align-items:stretch;grid-template:auto/auto 1fr auto auto;grid-template-areas:"handle header control menu";grid-column:header-start/menu-end;grid-row:1/2}.toggle{margin:0px;display:flex;cursor:pointer;flex-wrap:nowrap;align-items:center;justify-content:space-between;border-style:none;padding:0px;font-family:inherit;outline-color:transparent;text-align:initial;background-color:transparent}.toggle:hover{background-color:var(--calcite-ui-foreground-2)}.toggle:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}calcite-loader[inline]{grid-area:control;align-self:center}calcite-handle{grid-area:handle}.title{margin:0px;padding:0.75rem}.header .title .heading{padding:0px;font-size:var(--calcite-font-size--1);font-weight:var(--calcite-font-weight-medium);line-height:1.25;color:var(--calcite-ui-text-2);transition-property:color;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);word-wrap:break-word;word-break:break-word}.description{margin-block-start:0.125rem;padding:0px;font-size:var(--calcite-font-size--2);color:var(--calcite-ui-text-3);word-wrap:break-word;word-break:break-word}.icon{margin-inline-start:0.75rem;margin-inline-end:0px;margin-block:0.75rem}.status-icon.valid{color:var(--calcite-ui-success)}.status-icon.invalid{color:var(--calcite-ui-danger)}.status-icon.loading{animation:spin calc(var(--calcite-internal-animation-timing-slow) * 2) linear infinite}@keyframes spin{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}}.toggle-icon{margin-block:0.75rem;align-self:center;justify-self:end;color:var(--calcite-ui-text-3);transition-property:color;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);margin-inline-end:1rem;margin-inline-start:auto}.toggle:hover .toggle-icon{color:var(--calcite-ui-text-1)}.container{position:relative;display:flex;block-size:100%;flex-direction:column}.content{position:relative;flex:1 1 0%}@keyframes in{0%{opacity:0}100%{opacity:1}}.content{animation:in var(--calcite-internal-animation-timing-slow) ease-in-out;padding-block:var(--calcite-block-padding, 0.5rem);padding-inline:var(--calcite-block-padding, 0.625rem)}.control-container{margin:0px;display:flex;grid-area:control}calcite-action-menu{grid-area:menu}:host([open]){margin-block:0.5rem}:host([open]) .header .title .heading{color:var(--calcite-ui-text-1)}',fge=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteBlockToggle=B(this,"calciteBlockToggle",6),this.guid=$i(),this.onHeaderClick=()=>{this.open=!this.open,this.calciteBlockToggle.emit()},this.collapsible=!1,this.disabled=!1,this.dragHandle=!1,this.heading=void 0,this.headingLevel=void 0,this.loading=!1,this.open=!1,this.status=void 0,this.description=void 0,this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}onMessagesChange(){}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){bn(this),ht(this),Mt(this)}disconnectedCallback(){pt(this),Dt(this),wn(this)}componentDidRender(){et(this)}async componentWillLoad(){await $t(this)}renderScrim(){const{loading:e}=this,t=v("slot",null);return[e?v("calcite-scrim",{loading:e}):null,t]}renderIcon(){const{el:e,status:t}=this,i=this.loading&&!this.open,n=i?$x.refresh:$x[t],r=Xe(e,Bm.icon)||n,s=n?v("calcite-icon",{class:{[wr.statusIcon]:!0,[wr.valid]:t=="valid",[wr.invalid]:t=="invalid",[wr.loading]:i},icon:n,scale:"m"}):v("slot",{key:"icon-slot",name:Bm.icon});return r?v("div",{class:wr.icon},s):null}renderTitle(){const{heading:e,headingLevel:t,description:i}=this;return e||i?v("div",{class:wr.title},v(Tm,{class:wr.heading,level:t},e),i?v("div",{class:wr.description},i):null):null}render(){const{collapsible:e,el:t,loading:i,open:n,messages:r}=this,s=n?r.collapse:r.expand,a=v("header",{class:wr.header},this.renderIcon(),this.renderTitle()),o=!!Xe(t,Bm.control),l=!!Xe(t,Bm.headerMenuActions),c=n?$x.opened:$x.closed,{guid:h}=this,p=`${h}-region`,m=`${h}-button`,g=v("div",{class:wr.headerContainer},this.dragHandle?v("calcite-handle",null):null,e?v("button",{"aria-controls":p,"aria-expanded":e?ot(n):null,"aria-label":s,class:wr.toggle,id:m,onClick:this.onHeaderClick,title:s},a,!o&&!l?v("calcite-icon",{"aria-hidden":"true",class:wr.toggleIcon,icon:c,scale:"s"}):null):a,i?v("calcite-loader",{inline:!0,label:r.loading}):o?v("div",{class:wr.controlContainer},v("slot",{name:Bm.control})):null,l?v("calcite-action-menu",{label:r.options},v("slot",{name:Bm.headerMenuActions})):null);return v(Fe,null,v("article",{"aria-busy":ot(i),class:{[wr.container]:!0}},g,v("section",{"aria-expanded":ot(n),"aria-labelledby":m,class:wr.content,hidden:!n,id:p},this.renderScrim())))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return pge}},[1,"calcite-block",{collapsible:[516],disabled:[516],dragHandle:[516,"drag-handle"],heading:[1],headingLevel:[514,"heading-level"],loading:[516],open:[1540],status:[513],description:[1],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32]}]);function mge(){if(typeof customElements>"u")return;["calcite-block","calcite-action","calcite-action-menu","calcite-handle","calcite-icon","calcite-loader","calcite-popover","calcite-scrim"].forEach(t=>{switch(t){case"calcite-block":customElements.get(t)||customElements.define(t,fge);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-action-menu":customElements.get(t)||$m();break;case"calcite-handle":customElements.get(t)||JY();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-popover":customElements.get(t)||Au();break;case"calcite-scrim":customElements.get(t)||jh();break}})}mge();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const K3="hidden-form-input";function vF(e){return"checked"in e}const Y3=new WeakMap,bF=new WeakSet;function gge(e,t){const i="calciteInternalFormComponentRegister";let n=!1;return e.addEventListener(i,r=>{n=r.composedPath().some(s=>bF.has(s)),r.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(i,{bubbles:!0,composed:!0})),n}function Am(e){const{formEl:t}=e;return t?("requestSubmit"in t?t.requestSubmit():t.submit(),!0):!1}function yge(e){var t;(t=e.formEl)==null||t.reset()}function na(e){const{el:t,value:i}=e,n=rc(t,"form");if(!n||gge(n,t))return;e.formEl=n,e.defaultValue=i,vF(e)&&(e.defaultChecked=e.checked);const r=(e.onFormReset||vge).bind(e);n.addEventListener("reset",r),Y3.set(e.el,r),bF.add(t)}function vge(){if(vF(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function ra(e){const{el:t,formEl:i}=e;if(!i)return;const n=Y3.get(t);i.removeEventListener("reset",n),Y3.delete(t),e.formEl=null,bF.delete(t)}function _C(e,t){e.defaultValue=t}const ZY=e=>{e.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},j8=e=>e.removeEventListener("change",ZY);function bge(e){const{el:t,formEl:i,name:n,value:r}=e,{ownerDocument:s}=t,a=t.querySelectorAll(`input[slot="${K3}"]`);if(!i||!n){a.forEach(p=>{j8(p),p.remove()});return}const o=Array.isArray(r)?r:[r],l=[],c=new Set;a.forEach(p=>{const m=o.find(g=>g==p.value);m!=null?(c.add(m),U8(e,p,m)):l.push(p)});let h;o.forEach(p=>{if(c.has(p))return;let m=l.pop();m||(m=s.createElement("input"),m.slot=K3),h||(h=s.createDocumentFragment()),h.append(m),m.addEventListener("change",ZY),U8(e,m,p)}),h&&t.append(h),l.forEach(p=>{j8(p),p.remove()})}function U8(e,t,i){var o;const{defaultValue:n,disabled:r,name:s,required:a}=e;t.defaultValue=n,t.disabled=r,t.name=s,t.required=a,t.tabIndex=-1,vF(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?i||"on":""):t.value=i||"",(o=e.syncHiddenFormInput)==null||o.call(e,t)}const sa=({component:e})=>(bge(e),v("slot",{name:K3}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const QY="calciteInternalLabelClick",xC="calciteInternalLabelConnected",Ek="calciteInternaLabelDisconnected",B8="calcite-label",kk=new WeakMap,Aw=new WeakMap,Ik=new WeakMap,Dy=new Set,wge=e=>{const{id:t}=e,i=t&&sF(e,{selector:`${B8}[for="${t}"]`});if(i)return i;const n=rc(e,B8);return!n||_ge(n,e)?null:n};function _ge(e,t){let i;const n="custom-element-ancestor-check",r=a=>{a.stopImmediatePropagation();const o=a.composedPath();i=o.slice(o.indexOf(t),o.indexOf(e))};return e.addEventListener(n,r,{once:!0}),t.dispatchEvent(new CustomEvent(n,{composed:!0,bubbles:!0})),e.removeEventListener(n,r),i.filter(a=>a!==t&&a!==e).filter(a=>{var o;return(o=a.tagName)==null?void 0:o.includes("-")}).length>0}function vr(e){const t=wge(e.el);if(kk.has(t)||!t&&Dy.has(e))return;const i=Ege.bind(e);if(t){e.labelEl=t;const n=xge.bind(e);kk.set(e.labelEl,n),e.labelEl.addEventListener(QY,n),Dy.delete(e),document.removeEventListener(xC,Aw.get(e)),Ik.set(e,i),document.addEventListener(Ek,i)}else Dy.has(e)||(i(),document.removeEventListener(Ek,Ik.get(e)))}function Gr(e){if(Dy.delete(e),document.removeEventListener(xC,Aw.get(e)),document.removeEventListener(Ek,Ik.get(e)),Aw.delete(e),Ik.delete(e),!e.labelEl)return;const t=kk.get(e.labelEl);e.labelEl.removeEventListener(QY,t),kk.delete(e.labelEl)}function zr(e){var t,i;return e.label||((i=(t=e.labelEl)==null?void 0:t.textContent)==null?void 0:i.trim())||""}function xge(e){this.disabled||this.el.contains(e.detail.sourceEvent.target)||this.onLabelClick(e)}function Sge(){Dy.has(this)&&vr(this)}function Ege(){Dy.add(this);const e=Aw.get(this)||Sge.bind(this);Aw.set(this,e),document.addEventListener(xC,e)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const kge="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([scale=s]) .container{block-size:0.75rem}:host([scale=s]) .track{block-size:0.75rem;inline-size:1.5rem}:host([scale=s]) .handle{block-size:0.5rem;inline-size:0.5rem}:host([scale=m]) .container{block-size:1rem}:host([scale=m]) .track{block-size:1rem;inline-size:2rem}:host([scale=m]) .handle{block-size:0.75rem;inline-size:0.75rem}:host([scale=l]) .container{block-size:1.5rem}:host([scale=l]) .track{block-size:1.5rem;inline-size:3rem}:host([scale=l]) .handle{block-size:1.25rem;inline-size:1.25rem}:host{position:relative;display:inline-block;inline-size:auto;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:middle;tap-highlight-color:transparent}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host{inline-size:auto;outline-color:transparent}.track{pointer-events:none;position:relative;box-sizing:border-box;display:inline-block;border-radius:9999px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2);background-color:var(--calcite-ui-foreground-2);vertical-align:top;transition-property:all;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.handle{pointer-events:none;position:absolute;display:block;border-radius:9999px;border-width:2px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);transition-property:all;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);inset-block-start:-1px;inset-inline:-1px auto}:host(:hover) .handle,:host(:focus) .handle{border-color:var(--calcite-ui-brand);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand)}:host([checked]) .track{border-color:var(--calcite-ui-brand-hover);background-color:var(--calcite-ui-brand)}:host([checked]) .handle{border-color:var(--calcite-ui-brand);inset-inline:auto -1px}:host([checked]:hover) .track{border-color:var(--calcite-ui-brand-hover);background-color:var(--calcite-ui-brand)}:host([checked]:hover) .handle{border-color:var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}@media (forced-colors: active){:host([checked]) .track{background-color:canvasText}}.container:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",Ige=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteSwitchChange=B(this,"calciteSwitchChange",6),this.keyDownHandler=e=>{!this.disabled&&Qa(e.key)&&(this.toggle(),e.preventDefault())},this.clickHandler=()=>{this.toggle()},this.setSwitchEl=e=>{this.switchEl=e},this.disabled=!1,this.label=void 0,this.name=void 0,this.scale="m",this.checked=!1,this.value=void 0}async setFocus(){await He(this),Nr(this.switchEl)}syncHiddenFormInput(e){e.type="checkbox"}onLabelClick(){this.disabled||(this.toggle(),this.setFocus())}toggle(){this.checked=!this.checked,this.calciteSwitchChange.emit()}connectedCallback(){vr(this),na(this)}componentWillLoad(){We(this)}componentDidLoad(){Ke(this)}disconnectedCallback(){Gr(this),ra(this)}componentDidRender(){et(this)}render(){return v(Fe,{onClick:this.clickHandler,onKeyDown:this.keyDownHandler},v("div",{"aria-checked":ot(this.checked),"aria-label":zr(this),class:"container",ref:this.setSwitchEl,role:"switch",tabIndex:0},v("div",{class:"track"},v("div",{class:"handle"})),v(sa,{component:this})))}get el(){return this}static get style(){return kge}},[1,"calcite-switch",{disabled:[516],label:[1],name:[513],scale:[513],checked:[1540],value:[8],setFocus:[64]}]);function XY(){if(typeof customElements>"u")return;["calcite-switch"].forEach(t=>{switch(t){case"calcite-switch":customElements.get(t)||customElements.define(t,Ige);break}})}XY();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const co={content:"content",invalid:"invalid",toggle:"toggle",toggleSwitch:"toggle--switch",toggleSwitchContent:"toggle--switch__content",toggleSwitchText:"toggle--switch__text",sectionHeader:"section-header",sectionHeaderText:"section-header__text",statusIcon:"status-icon",valid:"valid"},Ax={menuOpen:"chevron-down",menuClosedLeft:"chevron-left",menuClosedRight:"chevron-right",valid:"check-circle",invalid:"exclamation-mark-triangle"},Cge="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{box-sizing:border-box;display:block;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2)}:host([open]){border-width:0px;border-block-end-width:1px;border-style:solid;border-block-end-color:var(--calcite-ui-border-3)}:host(:last-child){border-block-end-width:0px}.toggle{inline-size:100%;border-width:0px;background-color:transparent;font-family:var(--calcite-sans-family);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}.toggle--switch,.section-header{margin-inline:0px;margin-block:0.25rem;display:flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;padding-inline:0px;padding-block:0.5rem;font-size:var(--calcite-font-size--1);outline-color:transparent}.toggle--switch:focus,.section-header:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.toggle--switch:hover,.section-header:hover{color:var(--calcite-ui-text-1)}.section-header .status-icon{align-self:flex-end}.section-header__text{margin-inline:0.75rem;margin-block:0px;flex:1 1 auto;text-align:initial;word-wrap:anywhere}.toggle--switch calcite-switch{pointer-events:none;margin-inline-start:0.25rem}.toggle--switch .status-icon{margin-inline-start:0.5rem}.toggle--switch__content{display:flex;flex:1 1 auto;align-items:center}.status-icon.valid{color:var(--calcite-ui-success)}.status-icon.invalid{color:var(--calcite-ui-danger)}",Tge=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteBlockSectionToggle=B(this,"calciteBlockSectionToggle",6),this.guid=$i(),this.handleHeaderKeyDown=e=>{Qa(e.key)&&(this.toggleSection(),e.preventDefault(),e.stopPropagation())},this.toggleSection=()=>{this.open=!this.open,this.calciteBlockSectionToggle.emit()},this.open=!1,this.status=void 0,this.text=void 0,this.toggleDisplay="button",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}onMessagesChange(){}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){ht(this),Mt(this)}disconnectedCallback(){pt(this),Dt(this)}async componentWillLoad(){await $t(this)}renderStatusIcon(){const{status:e}=this,t=Ax[e]??!1,i={[co.statusIcon]:!0,[co.valid]:e=="valid",[co.invalid]:e=="invalid"};return t?v("calcite-icon",{class:i,icon:t,scale:"s"}):null}render(){const{el:e,messages:t,open:i,text:n,toggleDisplay:r}=this,s=Ci(e),a=i?Ax.menuOpen:s==="rtl"?Ax.menuClosedLeft:Ax.menuClosedRight,o=i?t.collapse:t.expand,{guid:l}=this,c=`${l}-region`,h=`${l}-button`,p=r==="switch"?v("div",{"aria-controls":c,"aria-label":o,class:{[co.toggle]:!0,[co.toggleSwitch]:!0},id:h,onClick:this.toggleSection,onKeyDown:this.handleHeaderKeyDown,tabIndex:0,title:o},v("div",{class:co.toggleSwitchContent},v("span",{class:co.toggleSwitchText},n)),v("calcite-switch",{checked:i,label:o,scale:"s",tabIndex:-1}),this.renderStatusIcon()):v("button",{"aria-controls":c,"aria-label":o,class:{[co.sectionHeader]:!0,[co.toggle]:!0},id:h,name:o,onClick:this.toggleSection},v("calcite-icon",{icon:a,scale:"s"}),v("span",{class:co.sectionHeaderText},n),this.renderStatusIcon());return v(Fe,null,p,v("section",{"aria-expanded":ot(i),"aria-labelledby":h,class:co.content,hidden:!i,id:c},v("slot",null)))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Cge}},[1,"calcite-block-section",{open:[1540],status:[513],text:[1],toggleDisplay:[513,"toggle-display"],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32]}]);function $ge(){if(typeof customElements>"u")return;["calcite-block-section","calcite-icon","calcite-switch"].forEach(t=>{switch(t){case"calcite-block-section":customElements.get(t)||customElements.define(t,Tge);break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-switch":customElements.get(t)||XY();break}})}$ge();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */(function(e){if(typeof e.requestSubmit=="function")return;e.requestSubmit=function(n){n?(t(n,this),n.click()):(n=document.createElement("input"),n.type="submit",n.hidden=!0,this.appendChild(n),n.click(),this.removeChild(n))};function t(n,r){n instanceof HTMLElement||i(TypeError,"parameter 1 is not of type 'HTMLElement'"),n.type=="submit"||i(TypeError,"The specified element is not a submit button"),n.form==r||i(DOMException,"The specified element is not owned by this form element","NotFoundError")}function i(n,r,s){throw new n("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+r+".",s)}})(HTMLFormElement.prototype);const ws={buttonLoader:"calcite-button--loader",content:"content",contentSlotted:"content--slotted",icon:"icon",iconStart:"icon--start",iconEnd:"icon--end",loadingIn:"loading-in",loadingOut:"loading-out",iconStartEmpty:"icon-start-empty",iconEndEmpty:"icon-end-empty",buttonPadding:"button-padding",buttonPaddingShrunk:"button-padding--shrunk"},Age="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:inline-block;inline-size:auto;vertical-align:middle}:host([round]){border-radius:50px}:host([round]) a,:host([round]) button{border-radius:50px}:host button,:host a{outline-color:transparent}:host button:focus,:host a:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host button,:host a{--calcite-button-content-margin-internal:0.5rem;--calcite-button-padding-x-internal:7px;--calcite-button-padding-y-internal:3px;padding-block:var(--calcite-button-padding-y-internal);padding-inline:var(--calcite-button-padding-x-internal);position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-appearance:none;appearance:none;align-items:center;justify-content:center;border-radius:0px;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);text-decoration-line:none;transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, box-shadow var(--calcite-animation-timing) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out}:host button:hover,:host a:hover{text-decoration-line:none}.content{display:flex;flex-basis:auto;margin-inline:var(--calcite-button-content-margin-internal)}.icon-start-empty .content{margin-inline-start:unset}.icon-end-empty .content{margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-content-margin-internal:0.75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-button-content-margin-internal:1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:var(--calcite-button-content-margin-internal)}.icon{position:relative;margin:0px;display:inline-flex;font-weight:var(--calcite-font-weight-normal);line-height:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([loading]){pointer-events:none}:host([loading]) button,:host([loading]) a{pointer-events:none;opacity:var(--calcite-ui-opacity-disabled)}@keyframes loader-in{0%{inline-size:0;opacity:0;transform:scale(0.5)}100%{inline-size:1em;opacity:1;transform:scale(1)}}@keyframes loader-out{0%{inline-size:1em;opacity:1;transform:scale(1)}100%{inline-size:0;opacity:0;transform:scale(0.5)}}.calcite-button--loader{display:flex}.calcite-button--loader calcite-loader{margin:0px;transition:inline-size var(--calcite-internal-animation-timing-slow) ease-in-out, opacity var(--calcite-internal-animation-timing-slow) ease-in-out, transform var(--calcite-internal-animation-timing-slow) ease-in-out}.calcite-button--loader calcite-loader.loading-in{animation-name:loader-in;animation-duration:var(--calcite-internal-animation-timing-slow)}.calcite-button--loader calcite-loader.loading-out{animation-name:loader-out;animation-duration:var(--calcite-internal-animation-timing-slow)}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{margin-inline-end:var(--calcite-button-content-margin-internal)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance]) button,:host([appearance]) a{border-width:1px;border-style:solid;border-color:transparent}:host([kind=brand]) button,:host([kind=brand]) a{background-color:var(--calcite-ui-brand);color:var(--calcite-ui-text-inverse)}:host([kind=brand]) button:hover,:host([kind=brand]) button:focus,:host([kind=brand]) a:hover,:host([kind=brand]) a:focus{background-color:var(--calcite-ui-brand-hover)}:host([kind=brand]) button:active,:host([kind=brand]) a:active{background-color:var(--calcite-ui-brand-press)}:host([kind=brand]) button calcite-loader,:host([kind=brand]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([kind=danger]) button,:host([kind=danger]) a{background-color:var(--calcite-ui-danger);color:var(--calcite-ui-text-inverse)}:host([kind=danger]) button:hover,:host([kind=danger]) button:focus,:host([kind=danger]) a:hover,:host([kind=danger]) a:focus{background-color:var(--calcite-ui-danger-hover)}:host([kind=danger]) button:active,:host([kind=danger]) a:active{background-color:var(--calcite-ui-danger-press)}:host([kind=danger]) button calcite-loader,:host([kind=danger]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([kind=neutral]) button,:host([kind=neutral]) a{background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-1)}:host([kind=neutral]) button:hover,:host([kind=neutral]) button:focus,:host([kind=neutral]) a:hover,:host([kind=neutral]) a:focus{background-color:var(--calcite-ui-foreground-2)}:host([kind=neutral]) button:active,:host([kind=neutral]) a:active{background-color:var(--calcite-ui-foreground-1)}:host([kind=neutral]) button calcite-loader,:host([kind=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([kind=inverse]) button,:host([kind=inverse]) a{color:var(--calcite-ui-text-inverse);background-color:var(--calcite-ui-inverse)}:host([kind=inverse]) button:hover,:host([kind=inverse]) button:focus,:host([kind=inverse]) a:hover,:host([kind=inverse]) a:focus{background-color:var(--calcite-ui-inverse-hover)}:host([kind=inverse]) button:active,:host([kind=inverse]) a:active{background-color:var(--calcite-ui-inverse-press)}:host([kind=inverse]) button calcite-loader,:host([kind=inverse]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([appearance=outline-fill]) button,:host([appearance=outline-fill]) a{border-width:1px;border-style:solid;background-color:var(--calcite-ui-foreground-1);box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline-fill][kind=brand]) button,:host([appearance=outline-fill][kind=brand]) a{border-color:var(--calcite-ui-brand);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-brand)}:host([appearance=outline-fill][kind=brand]) button:hover,:host([appearance=outline-fill][kind=brand]) a:hover{border-color:var(--calcite-ui-brand-hover);color:var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}:host([appearance=outline-fill][kind=brand]) button:focus,:host([appearance=outline-fill][kind=brand]) a:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([appearance=outline-fill][kind=brand]) button:active,:host([appearance=outline-fill][kind=brand]) a:active{border-color:var(--calcite-ui-brand-press);color:var(--calcite-ui-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press)}:host([appearance=outline-fill][kind=brand]) button calcite-loader,:host([appearance=outline-fill][kind=brand]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=outline-fill][kind=danger]) button,:host([appearance=outline-fill][kind=danger]) a{border-color:var(--calcite-ui-danger);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-danger)}:host([appearance=outline-fill][kind=danger]) button:hover,:host([appearance=outline-fill][kind=danger]) a:hover{border-color:var(--calcite-ui-danger-hover);color:var(--calcite-ui-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover)}:host([appearance=outline-fill][kind=danger]) button:focus,:host([appearance=outline-fill][kind=danger]) a:focus{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger)}:host([appearance=outline-fill][kind=danger]) button:active,:host([appearance=outline-fill][kind=danger]) a:active{border-color:var(--calcite-ui-danger-press);color:var(--calcite-ui-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press)}:host([appearance=outline-fill][kind=danger]) button calcite-loader,:host([appearance=outline-fill][kind=danger]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=outline-fill][kind=neutral]) button,:host([appearance=outline-fill][kind=neutral]) a{background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:hover,:host([appearance=outline-fill][kind=neutral]) a:hover{box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:focus,:host([appearance=outline-fill][kind=neutral]) a:focus{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:active,:host([appearance=outline-fill][kind=neutral]) a:active{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button calcite-loader,:host([appearance=outline-fill][kind=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline-fill][kind=inverse]) button,:host([appearance=outline-fill][kind=inverse]) a{background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-inverse)}:host([appearance=outline-fill][kind=inverse]) button:hover,:host([appearance=outline-fill][kind=inverse]) a:hover{border-color:var(--calcite-ui-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover)}:host([appearance=outline-fill][kind=inverse]) button:focus,:host([appearance=outline-fill][kind=inverse]) a:focus{border-color:var(--calcite-ui-inverse);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse)}:host([appearance=outline-fill][kind=inverse]) button:active,:host([appearance=outline-fill][kind=inverse]) a:active{border-color:var(--calcite-ui-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press)}:host([appearance=outline-fill][kind=inverse]) button calcite-loader,:host([appearance=outline-fill][kind=inverse]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline]) button,:host([appearance=outline]) a{border-width:1px;border-style:solid;background-color:transparent;box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline][kind=brand]) button,:host([appearance=outline][kind=brand]) a{border-color:var(--calcite-ui-brand);background-color:transparent;color:var(--calcite-ui-brand)}:host([appearance=outline][kind=brand]) button:hover,:host([appearance=outline][kind=brand]) a:hover{border-color:var(--calcite-ui-brand-hover);color:var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}:host([appearance=outline][kind=brand]) button:focus,:host([appearance=outline][kind=brand]) a:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([appearance=outline][kind=brand]) button:active,:host([appearance=outline][kind=brand]) a:active{border-color:var(--calcite-ui-brand-press);color:var(--calcite-ui-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press)}:host([appearance=outline][kind=brand]) button calcite-loader,:host([appearance=outline][kind=brand]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=outline][kind=danger]) button,:host([appearance=outline][kind=danger]) a{border-color:var(--calcite-ui-danger);background-color:transparent;color:var(--calcite-ui-danger)}:host([appearance=outline][kind=danger]) button:hover,:host([appearance=outline][kind=danger]) a:hover{border-color:var(--calcite-ui-danger-hover);color:var(--calcite-ui-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover)}:host([appearance=outline][kind=danger]) button:focus,:host([appearance=outline][kind=danger]) a:focus{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger)}:host([appearance=outline][kind=danger]) button:active,:host([appearance=outline][kind=danger]) a:active{border-color:var(--calcite-ui-danger-press);color:var(--calcite-ui-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press)}:host([appearance=outline][kind=danger]) button calcite-loader,:host([appearance=outline][kind=danger]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=outline][kind=neutral]) button,:host([appearance=outline][kind=neutral]) a{background-color:transparent;color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-border-1)}:host([appearance=outline][kind=neutral]) button:hover,:host([appearance=outline][kind=neutral]) a:hover{box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3)}:host([appearance=outline][kind=neutral]) button:focus,:host([appearance=outline][kind=neutral]) a:focus{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline][kind=neutral]) button:active,:host([appearance=outline][kind=neutral]) a:active{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline][kind=neutral]) button calcite-loader,:host([appearance=outline][kind=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline][kind=inverse]) button,:host([appearance=outline][kind=inverse]) a{background-color:transparent;color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-inverse)}:host([appearance=outline][kind=inverse]) button:hover,:host([appearance=outline][kind=inverse]) a:hover{border-color:var(--calcite-ui-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover)}:host([appearance=outline][kind=inverse]) button:focus,:host([appearance=outline][kind=inverse]) a:focus{border-color:var(--calcite-ui-inverse);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse)}:host([appearance=outline][kind=inverse]) button:active,:host([appearance=outline][kind=inverse]) a:active{border-color:var(--calcite-ui-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press)}:host([appearance=outline][kind=inverse]) button calcite-loader,:host([appearance=outline][kind=inverse]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline-fill][split-child=primary]) button,:host([appearance=outline][split-child=primary]) button{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline-fill][split-child=secondary]) button,:host([appearance=outline][split-child=secondary]) button{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:transparent}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) button:focus,:host([appearance=transparent]:not(.enable-editing-button)) a:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:focus{background-color:var(--calcite-button-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-button-transparent-press)}:host([appearance=transparent][kind=brand]) button,:host([appearance=transparent][kind=brand]) a{color:var(--calcite-ui-brand)}:host([appearance=transparent][kind=brand]) button:hover,:host([appearance=transparent][kind=brand]) a:hover{color:var(--calcite-ui-brand-hover)}:host([appearance=transparent][kind=brand]) button:focus,:host([appearance=transparent][kind=brand]) a:focus{color:var(--calcite-ui-brand)}:host([appearance=transparent][kind=brand]) button:active,:host([appearance=transparent][kind=brand]) a:active{color:var(--calcite-ui-brand-press)}:host([appearance=transparent][kind=brand]) button calcite-loader,:host([appearance=transparent][kind=brand]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=transparent][kind=danger]) button,:host([appearance=transparent][kind=danger]) a{color:var(--calcite-ui-danger)}:host([appearance=transparent][kind=danger]) button:hover,:host([appearance=transparent][kind=danger]) a:hover{color:var(--calcite-ui-danger-hover)}:host([appearance=transparent][kind=danger]) button:focus,:host([appearance=transparent][kind=danger]) a:focus{color:var(--calcite-ui-danger)}:host([appearance=transparent][kind=danger]) button:active,:host([appearance=transparent][kind=danger]) a:active{color:var(--calcite-ui-danger-press)}:host([appearance=transparent][kind=danger]) button calcite-loader,:host([appearance=transparent][kind=danger]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button{border-block-start-width:1px;border-block-end-width:1px;color:var(--calcite-ui-text-3);border-block-start-color:var(--calcite-ui-border-input);border-block-end-color:var(--calcite-ui-border-input);border-block-style:solid}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:not(.content--slotted){--calcite-button-padding-y-internal:0}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:hover{color:var(--calcite-ui-text-1)}:host([appearance=transparent][kind=neutral].enable-editing-button) button{background-color:transparent}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][kind=inverse]) button,:host([appearance=transparent][kind=inverse]) a,:host([appearance=transparent][kind=inverse]) calcite-loader{color:var(--calcite-ui-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-button-padding-x-internal:0.5rem}:host([scale=s]) button,:host([scale=s]) a{--calcite-button-padding-y-internal:3px}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-button-padding-x-internal:11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-padding-y-internal:7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-button-padding-x-internal:0.75rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-button-padding-x-internal:15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .button-padding{--calcite-button-padding-x-internal:1rem;--calcite-button-padding-y-internal:11px}:host([scale=l]) .button-padding--shrunk{--calcite-button-padding-y-internal:9px}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:3px;inline-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:1.5rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:7px;inline-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:9px;inline-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2.75rem}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-y-internal:0.625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:23px;block-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:2rem;block-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:43px;block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:2.75rem}",Mge=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.mutationObserver=Ct("mutation",()=>this.updateHasContent()),this.handleClick=()=>{const{type:e}=this;this.href||(e==="submit"?Am(this):e==="reset"&&yge(this))},this.alignment="center",this.appearance="solid",this.label=void 0,this.kind="brand",this.disabled=!1,this.href=void 0,this.iconEnd=void 0,this.iconFlipRtl=void 0,this.iconStart=void 0,this.loading=!1,this.name=void 0,this.rel=void 0,this.round=!1,this.scale="m",this.splitChild=!1,this.target=void 0,this.type="button",this.width="auto",this.messages=void 0,this.messageOverrides=void 0,this.hasContent=!1,this.hasLoader=!1,this.effectiveLocale="",this.defaultMessages=void 0}loadingChanged(e,t){e&&!t&&(this.hasLoader=!0),!e&&t&&window.setTimeout(()=>{this.hasLoader=!1},300)}onMessagesChange(){}async connectedCallback(){ht(this),Mt(this),this.hasLoader=this.loading,this.setupTextContentObserver(),vr(this),this.formEl=rc(this.el,"form")}disconnectedCallback(){var e;(e=this.mutationObserver)==null||e.disconnect(),Gr(this),pt(this),Dt(this),this.formEl=null}async componentWillLoad(){We(this),ro.isBrowser&&(this.updateHasContent(),await $t(this))}componentDidLoad(){Ke(this)}componentDidRender(){et(this)}render(){const e=this.href?"a":"button",t=e,i=this.hasLoader?v("div",{class:ws.buttonLoader},v("calcite-loader",{class:this.loading?ws.loadingIn:ws.loadingOut,inline:!0,label:this.messages.loading,scale:this.scale==="l"?"m":"s"})):null,n=!this.iconStart&&!this.iconEnd,r=v("calcite-icon",{class:{[ws.icon]:!0,[ws.iconStart]:!0},flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:this.scale==="l"?"m":"s"}),s=v("calcite-icon",{class:{[ws.icon]:!0,[ws.iconEnd]:!0},flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:this.scale==="l"?"m":"s"}),a=v("span",{class:ws.content},v("slot",null));return v(t,{"aria-label":zr(this),class:{[ws.buttonPadding]:n,[ws.buttonPaddingShrunk]:!n,[ws.contentSlotted]:this.hasContent,[ws.iconStartEmpty]:!this.iconStart,[ws.iconEndEmpty]:!this.iconEnd},disabled:this.disabled||this.loading,href:e==="a"&&this.href,name:e==="button"&&this.name,onClick:this.handleClick,ref:o=>this.childEl=o,rel:e==="a"&&this.rel,tabIndex:this.disabled||this.loading?-1:null,target:e==="a"&&this.target,type:e==="button"&&this.type},i,this.iconStart?r:null,this.hasContent?a:null,this.iconEnd?s:null)}async setFocus(){var e;await He(this),(e=this.childEl)==null||e.focus()}effectiveLocaleChange(){At(this,this.effectiveLocale)}updateHasContent(){var t,i;const e=this.el.textContent.trim().length>0||this.el.childNodes.length>0;this.hasContent=this.el.childNodes.length===1&&((t=this.el.childNodes[0])==null?void 0:t.nodeName)==="#text"?((i=this.el.textContent)==null?void 0:i.trim().length)>0:e}setupTextContentObserver(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}onLabelClick(){this.handleClick(),this.setFocus()}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{loading:["loadingChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Age}},[1,"calcite-button",{alignment:[513],appearance:[513],label:[1],kind:[513],disabled:[516],href:[513],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],loading:[516],name:[513],rel:[513],round:[516],scale:[513],splitChild:[520,"split-child"],target:[513],type:[1537],width:[513],messages:[1040],messageOverrides:[1040],hasContent:[32],hasLoader:[32],effectiveLocale:[32],defaultMessages:[32],setFocus:[64]}]);function b_(){if(typeof customElements>"u")return;["calcite-button","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-button":customElements.get(t)||customElements.define(t,Mge);break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break}})}b_();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Dge="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([scale=s]){--calcite-checkbox-size:0.75rem}:host([scale=m]){--calcite-checkbox-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-checkbox-size:1rem}:host{position:relative;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}:host .check-svg,:host .toggle{inline-size:var(--calcite-checkbox-size);block-size:var(--calcite-checkbox-size)}:host .check-svg{pointer-events:none;box-sizing:border-box;display:block;overflow:hidden;background-color:var(--calcite-ui-foreground-1);fill:currentColor;stroke:currentColor;stroke-width:1;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);color:var(--calcite-ui-background)}:host([checked]) .check-svg,:host([indeterminate]) .check-svg{background-color:var(--calcite-ui-brand);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand)}:host([hovered]) .toggle .check-svg,:host .toggle:hover .check-svg{box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}.toggle{outline-color:transparent}.toggle:active,.toggle:focus,.toggle:focus-visible{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",Oge=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalCheckboxBlur=B(this,"calciteInternalCheckboxBlur",6),this.calciteCheckboxChange=B(this,"calciteCheckboxChange",6),this.calciteInternalCheckboxFocus=B(this,"calciteInternalCheckboxFocus",6),this.checkedPath="M5.5 12L2 8.689l.637-.636L5.5 10.727l8.022-7.87.637.637z",this.indeterminatePath="M13 8v1H3V8z",this.getPath=()=>this.indeterminate?this.indeterminatePath:this.checked?this.checkedPath:"",this.toggle=()=>{this.disabled||(this.checked=!this.checked,this.setFocus(),this.indeterminate=!1,this.calciteCheckboxChange.emit())},this.keyDownHandler=e=>{Qa(e.key)&&(this.toggle(),e.preventDefault())},this.clickHandler=()=>{this.toggle()},this.onToggleBlur=()=>{this.calciteInternalCheckboxBlur.emit(!1)},this.onToggleFocus=()=>{this.calciteInternalCheckboxFocus.emit(!0)},this.onLabelClick=()=>{this.toggle()},this.checked=!1,this.disabled=!1,this.guid=void 0,this.hovered=!1,this.indeterminate=!1,this.label=void 0,this.name=void 0,this.required=!1,this.scale="m",this.value=void 0}async setFocus(){var e;await He(this),(e=this.toggleEl)==null||e.focus()}syncHiddenFormInput(e){e.type="checkbox"}connectedCallback(){this.guid=this.el.id||`calcite-checkbox-${$i()}`,vr(this),na(this)}disconnectedCallback(){Gr(this),ra(this)}componentWillLoad(){We(this)}componentDidLoad(){Ke(this)}componentDidRender(){et(this)}render(){return v(Fe,{onClick:this.clickHandler,onKeyDown:this.keyDownHandler},v("div",{"aria-checked":ot(this.checked),"aria-label":zr(this),class:"toggle",onBlur:this.onToggleBlur,onFocus:this.onToggleFocus,ref:e=>this.toggleEl=e,role:"checkbox",tabIndex:this.disabled?void 0:0},v("svg",{"aria-hidden":"true",class:"check-svg",viewBox:"0 0 16 16"},v("path",{d:this.getPath()})),v("slot",null)),v(sa,{component:this}))}get el(){return this}static get style(){return Dge}},[1,"calcite-checkbox",{checked:[1540],disabled:[516],guid:[1537],hovered:[1540],indeterminate:[1540],label:[1],name:[520],required:[516],scale:[513],value:[8],setFocus:[64]}]);function wF(){if(typeof customElements>"u")return;["calcite-checkbox"].forEach(t=>{switch(t){case"calcite-checkbox":customElements.get(t)||customElements.define(t,Oge);break}})}wF();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Rge={container:"container"},Pge="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:flex}:host([alignment=start]){text-align:start}:host([alignment=end]){text-align:end}:host([alignment=center]){text-align:center}:host([scale=s]) .container{gap:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-end:var(--calcite-label-margin-bottom, 0.5rem)}:host([scale=m]) .container{gap:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;margin-block-end:var(--calcite-label-margin-bottom, 0.75rem)}:host([scale=l]) .container{gap:0.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;margin-block-end:var(--calcite-label-margin-bottom, 1rem)}:host .container{margin-inline:0px;margin-block-start:0px;inline-size:100%;line-height:1.375;color:var(--calcite-ui-text-1)}:host([layout=default]) .container{display:flex;flex-direction:column}:host([layout=inline]) .container,:host([layout=inline-space-between]) .container{display:flex;flex-direction:row;align-items:center;gap:0.5rem}:host([layout=inline][scale=l]) .container{gap:0.75rem}:host([layout=inline-space-between]) .container{justify-content:space-between}:host([disabled])>.container{pointer-events:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted(*){pointer-events:none}:host([disabled]) ::slotted(*[disabled]),:host([disabled]) ::slotted(*[disabled] *){--tw-bg-opacity:1}:host([disabled]) ::slotted(calcite-input-message:not([active])){--tw-bg-opacity:0}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",Lge=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalLabelClick=B(this,"calciteInternalLabelClick",2),this.labelClickHandler=e=>{this.calciteInternalLabelClick.emit({sourceEvent:e})},this.alignment="start",this.for=void 0,this.scale="m",this.layout="default"}connectedCallback(){document.dispatchEvent(new CustomEvent(xC))}disconnectedCallback(){document.dispatchEvent(new CustomEvent(Ek))}render(){return v(Fe,{onClick:this.labelClickHandler},v("div",{class:Rge.container},v("slot",null)))}get el(){return this}static get style(){return Pge}},[1,"calcite-label",{alignment:[513],for:[513],scale:[513],layout:[513]}]);function eJ(){if(typeof customElements>"u")return;["calcite-label"].forEach(t=>{switch(t){case"calcite-label":customElements.get(t)||customElements.define(t,Lge);break}})}eJ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const xv={container:"container",header:"header",footer:"footer",title:"title",subtitle:"subtitle",checkboxWrapper:"checkbox-wrapper",thumbnailWrapper:"thumbnail-wrapper"},ll={thumbnail:"thumbnail",title:"title",subtitle:"subtitle",footerStart:"footer-start",footerEnd:"footer-end"},Fge="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:block;max-inline-size:100%}:host .calcite-card-container{position:relative;display:flex;block-size:100%;flex-direction:column;justify-content:space-between;overflow:hidden;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-3);--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);border-radius:var(--calcite-border-radius-base)}.container{position:relative;display:flex;flex:1 1 auto;flex-direction:column}:host([loading]) .calcite-card-container *:not(calcite-loader):not(.calcite-card-loader-container){pointer-events:none;opacity:0}:host([loading]) .calcite-card-loader-container{position:absolute;inset:0px;display:flex;align-items:center}.header,.footer{display:flex;padding-inline:0.75rem;padding-block:0.75rem 0.25rem}.header{flex-direction:column}.footer{margin-block-start:auto;flex-direction:row;align-content:space-between;justify-content:space-between;padding-inline:0.75rem;padding-block:0.25rem 0.75rem}.card-content{padding:0.75rem;font-size:var(--calcite-font-size--2);line-height:1.375;color:var(--calcite-ui-text-3)}:host([selected]) .calcite-card-container{border-color:var(--calcite-ui-brand)}slot[name=title]::slotted(*),*::slotted([slot=title]){margin:0px;font-size:var(--calcite-font-size--1);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([selectable]) .header{padding-inline-end:2rem}slot[name=subtitle]::slotted(*),*::slotted([slot=subtitle]){margin:0px;margin-block-start:0.5rem;font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2)}slot[name=thumbnail]::slotted(img),img::slotted([slot=thumbnail]){min-inline-size:100%;max-inline-size:100%}slot[name=footer-start]::slotted(*),*::slotted([slot=footer-start]){align-self:center;font-size:var(--calcite-font-size--2);line-height:1.375;margin-inline-end:auto}slot[name=footer-end]::slotted(*),*::slotted([slot=footer-end]){align-self:center;font-size:var(--calcite-font-size--2);line-height:1.375}.checkbox-wrapper{position:absolute;margin:0px;padding:0px;inset-block-start:0.5rem;inset-inline-end:0.5rem}.thumbnail-wrapper{display:flex}.calcite-card-container.inline{flex-direction:row}.calcite-card-container.inline>.container{inline-size:60%}.calcite-card-container.inline>.thumbnail-wrapper{inline-size:40%;align-items:flex-start}.calcite-card-container.inline slot[name=thumbnail]::slotted(img),.calcite-card-container.inline img::slotted([slot=thumbnail]){inline-size:100%}slot[name=footer-start]::slotted(*),slot[name=footer-end]::slotted(*){display:flex;gap:0.25rem}",Nge=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteCardSelect=B(this,"calciteCardSelect",6),this.cardSelectClick=()=>{this.selectCard()},this.cardSelectKeyDown=e=>{switch(e.key){case" ":case"Enter":this.selectCard(),e.preventDefault();break}},this.loading=!1,this.selected=!1,this.selectable=!1,this.thumbnailPosition="block-start",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}onMessagesChange(){}connectedCallback(){bn(this),ht(this),Mt(this)}disonnectedCallback(){wn(this),pt(this),Dt(this)}async componentWillLoad(){await $t(this)}render(){const e=this.thumbnailPosition.startsWith("inline"),t=this.thumbnailPosition.endsWith("start");return v("div",{class:{"calcite-card-container":!0,inline:e}},this.loading?v("div",{class:"calcite-card-loader-container"},v("calcite-loader",{label:this.messages.loading})):null,t&&this.renderThumbnail(),v("section",{"aria-busy":ot(this.loading),class:{[xv.container]:!0}},this.selectable?this.renderCheckbox():null,this.renderHeader(),v("div",{class:"card-content"},v("slot",null)),this.renderFooter()),!t&&this.renderThumbnail())}effectiveLocaleChange(){At(this,this.effectiveLocale)}selectCard(){this.selected=!this.selected,this.calciteCardSelect.emit()}renderThumbnail(){return Xe(this.el,ll.thumbnail)?v("section",{class:xv.thumbnailWrapper},v("slot",{name:ll.thumbnail})):null}renderCheckbox(){const e=this.selected?this.messages.deselect:this.messages.select;return v("calcite-label",{class:xv.checkboxWrapper,onClick:this.cardSelectClick,onKeyDown:this.cardSelectKeyDown},v("calcite-checkbox",{checked:this.selected,label:e}))}renderHeader(){const{el:e}=this,t=Xe(e,ll.title),i=Xe(e,ll.subtitle);return t||i?v("header",{class:xv.header},v("slot",{name:ll.title}),v("slot",{name:ll.subtitle})):null}renderFooter(){const{el:e}=this,t=Xe(e,ll.footerStart),i=Xe(e,ll.footerEnd);return t||i?v("footer",{class:xv.footer},v("slot",{name:ll.footerStart}),v("slot",{name:ll.footerEnd})):null}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Fge}},[1,"calcite-card",{loading:[516],selected:[1540],selectable:[516],thumbnailPosition:[513,"thumbnail-position"],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32]}]);function zge(){if(typeof customElements>"u")return;["calcite-card","calcite-checkbox","calcite-label","calcite-loader"].forEach(t=>{switch(t){case"calcite-card":customElements.get(t)||customElements.define(t,Nge);break;case"calcite-checkbox":customElements.get(t)||wF();break;case"calcite-label":customElements.get(t)||eJ();break;case"calcite-loader":customElements.get(t)||ei();break}})}zge();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function tJ(e,t,i){return i={path:t,exports:{},require:function(n,r){return Vge()}},e(i,i.exports),i.exports}function Vge(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Sv={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},jge=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},Ev=tJ(function(e){var t=Array.prototype.concat,i=Array.prototype.slice,n=e.exports=function(s){for(var a=[],o=0,l=s.length;o<l;o++){var c=s[o];jge(c)?a=t.call(a,i.call(c)):a.push(c)}return a};n.wrap=function(r){return function(){return r(n(arguments))}}}),fg=tJ(function(e){var t=Object.hasOwnProperty,i={};for(var n in Sv)t.call(Sv,n)&&(i[Sv[n]]=n);var r=e.exports={to:{},get:{}};r.get=function(o){var l=o.substring(0,3).toLowerCase(),c,h;switch(l){case"hsl":c=r.get.hsl(o),h="hsl";break;case"hwb":c=r.get.hwb(o),h="hwb";break;default:c=r.get.rgb(o),h="rgb";break}return c?{model:h,value:c}:null},r.get.rgb=function(o){if(!o)return null;var l=/^#([a-f0-9]{3,4})$/i,c=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,h=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,p=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,m=/^(\w+)$/,g=[0,0,0,1],y,b,w;if(y=o.match(c)){for(w=y[2],y=y[1],b=0;b<3;b++){var _=b*2;g[b]=parseInt(y.slice(_,_+2),16)}w&&(g[3]=parseInt(w,16)/255)}else if(y=o.match(l)){for(y=y[1],w=y[3],b=0;b<3;b++)g[b]=parseInt(y[b]+y[b],16);w&&(g[3]=parseInt(w+w,16)/255)}else if(y=o.match(h)){for(b=0;b<3;b++)g[b]=parseInt(y[b+1],0);y[4]&&(y[5]?g[3]=parseFloat(y[4])*.01:g[3]=parseFloat(y[4]))}else if(y=o.match(p)){for(b=0;b<3;b++)g[b]=Math.round(parseFloat(y[b+1])*2.55);y[4]&&(y[5]?g[3]=parseFloat(y[4])*.01:g[3]=parseFloat(y[4]))}else return(y=o.match(m))?y[1]==="transparent"?[0,0,0,0]:t.call(Sv,y[1])?(g=Sv[y[1]],g[3]=1,g):null:null;for(b=0;b<3;b++)g[b]=s(g[b],0,255);return g[3]=s(g[3],0,1),g},r.get.hsl=function(o){if(!o)return null;var l=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,c=o.match(l);if(c){var h=parseFloat(c[4]),p=(parseFloat(c[1])%360+360)%360,m=s(parseFloat(c[2]),0,100),g=s(parseFloat(c[3]),0,100),y=s(isNaN(h)?1:h,0,1);return[p,m,g,y]}return null},r.get.hwb=function(o){if(!o)return null;var l=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,c=o.match(l);if(c){var h=parseFloat(c[4]),p=(parseFloat(c[1])%360+360)%360,m=s(parseFloat(c[2]),0,100),g=s(parseFloat(c[3]),0,100),y=s(isNaN(h)?1:h,0,1);return[p,m,g,y]}return null},r.to.hex=function(){var o=Ev(arguments);return"#"+a(o[0])+a(o[1])+a(o[2])+(o[3]<1?a(Math.round(o[3]*255)):"")},r.to.rgb=function(){var o=Ev(arguments);return o.length<4||o[3]===1?"rgb("+Math.round(o[0])+", "+Math.round(o[1])+", "+Math.round(o[2])+")":"rgba("+Math.round(o[0])+", "+Math.round(o[1])+", "+Math.round(o[2])+", "+o[3]+")"},r.to.rgb.percent=function(){var o=Ev(arguments),l=Math.round(o[0]/255*100),c=Math.round(o[1]/255*100),h=Math.round(o[2]/255*100);return o.length<4||o[3]===1?"rgb("+l+"%, "+c+"%, "+h+"%)":"rgba("+l+"%, "+c+"%, "+h+"%, "+o[3]+")"},r.to.hsl=function(){var o=Ev(arguments);return o.length<4||o[3]===1?"hsl("+o[0]+", "+o[1]+"%, "+o[2]+"%)":"hsla("+o[0]+", "+o[1]+"%, "+o[2]+"%, "+o[3]+")"},r.to.hwb=function(){var o=Ev(arguments),l="";return o.length>=4&&o[3]!==1&&(l=", "+o[3]),"hwb("+o[0]+", "+o[1]+"%, "+o[2]+"%"+l+")"},r.to.keyword=function(o){return i[o.slice(0,3)]};function s(o,l,c){return Math.min(Math.max(l,o),c)}function a(o){var l=Math.round(o).toString(16).toUpperCase();return l.length<2?"0"+l:l}}),Mw={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const iJ={};for(const e of Object.keys(Mw))iJ[Mw[e]]=e;const _e={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var am=_e;for(const e of Object.keys(_e)){if(!("channels"in _e[e]))throw new Error("missing channels property: "+e);if(!("labels"in _e[e]))throw new Error("missing channel labels property: "+e);if(_e[e].labels.length!==_e[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:i}=_e[e];delete _e[e].channels,delete _e[e].labels,Object.defineProperty(_e[e],"channels",{value:t}),Object.defineProperty(_e[e],"labels",{value:i})}_e.rgb.hsl=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,r=Math.min(t,i,n),s=Math.max(t,i,n),a=s-r;let o,l;s===r?o=0:t===s?o=(i-n)/a:i===s?o=2+(n-t)/a:n===s&&(o=4+(t-i)/a),o=Math.min(o*60,360),o<0&&(o+=360);const c=(r+s)/2;return s===r?l=0:c<=.5?l=a/(s+r):l=a/(2-s-r),[o,l*100,c*100]};_e.rgb.hsv=function(e){let t,i,n,r,s;const a=e[0]/255,o=e[1]/255,l=e[2]/255,c=Math.max(a,o,l),h=c-Math.min(a,o,l),p=function(m){return(c-m)/6/h+1/2};return h===0?(r=0,s=0):(s=h/c,t=p(a),i=p(o),n=p(l),a===c?r=n-i:o===c?r=1/3+t-n:l===c&&(r=2/3+i-t),r<0?r+=1:r>1&&(r-=1)),[r*360,s*100,c*100]};_e.rgb.hwb=function(e){const t=e[0],i=e[1];let n=e[2];const r=_e.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(i,n));return n=1-1/255*Math.max(t,Math.max(i,n)),[r,s*100,n*100]};_e.rgb.cmyk=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,r=Math.min(1-t,1-i,1-n),s=(1-t-r)/(1-r)||0,a=(1-i-r)/(1-r)||0,o=(1-n-r)/(1-r)||0;return[s*100,a*100,o*100,r*100]};function Uge(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}_e.rgb.keyword=function(e){const t=iJ[e];if(t)return t;let i=1/0,n;for(const r of Object.keys(Mw)){const s=Mw[r],a=Uge(e,s);a<i&&(i=a,n=r)}return n};_e.keyword.rgb=function(e){return Mw[e]};_e.rgb.xyz=function(e){let t=e[0]/255,i=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const r=t*.4124+i*.3576+n*.1805,s=t*.2126+i*.7152+n*.0722,a=t*.0193+i*.1192+n*.9505;return[r*100,s*100,a*100]};_e.rgb.lab=function(e){const t=_e.rgb.xyz(e);let i=t[0],n=t[1],r=t[2];i/=95.047,n/=100,r/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const s=116*n-16,a=500*(i-n),o=200*(n-r);return[s,a,o]};_e.hsl.rgb=function(e){const t=e[0]/360,i=e[1]/100,n=e[2]/100;let r,s,a;if(i===0)return a=n*255,[a,a,a];n<.5?r=n*(1+i):r=n+i-n*i;const o=2*n-r,l=[0,0,0];for(let c=0;c<3;c++)s=t+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?a=o+(r-o)*6*s:2*s<1?a=r:3*s<2?a=o+(r-o)*(2/3-s)*6:a=o,l[c]=a*255;return l};_e.hsl.hsv=function(e){const t=e[0];let i=e[1]/100,n=e[2]/100,r=i;const s=Math.max(n,.01);n*=2,i*=n<=1?n:2-n,r*=s<=1?s:2-s;const a=(n+i)/2,o=n===0?2*r/(s+r):2*i/(n+i);return[t,o*100,a*100]};_e.hsv.rgb=function(e){const t=e[0]/60,i=e[1]/100;let n=e[2]/100;const r=Math.floor(t)%6,s=t-Math.floor(t),a=255*n*(1-i),o=255*n*(1-i*s),l=255*n*(1-i*(1-s));switch(n*=255,r){case 0:return[n,l,a];case 1:return[o,n,a];case 2:return[a,n,l];case 3:return[a,o,n];case 4:return[l,a,n];case 5:return[n,a,o]}};_e.hsv.hsl=function(e){const t=e[0],i=e[1]/100,n=e[2]/100,r=Math.max(n,.01);let s,a;a=(2-i)*n;const o=(2-i)*r;return s=i*r,s/=o<=1?o:2-o,s=s||0,a/=2,[t,s*100,a*100]};_e.hwb.rgb=function(e){const t=e[0]/360;let i=e[1]/100,n=e[2]/100;const r=i+n;let s;r>1&&(i/=r,n/=r);const a=Math.floor(6*t),o=1-n;s=6*t-a,a&1&&(s=1-s);const l=i+s*(o-i);let c,h,p;switch(a){default:case 6:case 0:c=o,h=l,p=i;break;case 1:c=l,h=o,p=i;break;case 2:c=i,h=o,p=l;break;case 3:c=i,h=l,p=o;break;case 4:c=l,h=i,p=o;break;case 5:c=o,h=i,p=l;break}return[c*255,h*255,p*255]};_e.cmyk.rgb=function(e){const t=e[0]/100,i=e[1]/100,n=e[2]/100,r=e[3]/100,s=1-Math.min(1,t*(1-r)+r),a=1-Math.min(1,i*(1-r)+r),o=1-Math.min(1,n*(1-r)+r);return[s*255,a*255,o*255]};_e.xyz.rgb=function(e){const t=e[0]/100,i=e[1]/100,n=e[2]/100;let r,s,a;return r=t*3.2406+i*-1.5372+n*-.4986,s=t*-.9689+i*1.8758+n*.0415,a=t*.0557+i*-.204+n*1.057,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,r=Math.min(Math.max(0,r),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[r*255,s*255,a*255]};_e.xyz.lab=function(e){let t=e[0],i=e[1],n=e[2];t/=95.047,i/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const r=116*i-16,s=500*(t-i),a=200*(i-n);return[r,s,a]};_e.lab.xyz=function(e){const t=e[0],i=e[1],n=e[2];let r,s,a;s=(t+16)/116,r=i/500+s,a=s-n/200;const o=s**3,l=r**3,c=a**3;return s=o>.008856?o:(s-16/116)/7.787,r=l>.008856?l:(r-16/116)/7.787,a=c>.008856?c:(a-16/116)/7.787,r*=95.047,s*=100,a*=108.883,[r,s,a]};_e.lab.lch=function(e){const t=e[0],i=e[1],n=e[2];let r;r=Math.atan2(n,i)*360/2/Math.PI,r<0&&(r+=360);const a=Math.sqrt(i*i+n*n);return[t,a,r]};_e.lch.lab=function(e){const t=e[0],i=e[1],r=e[2]/360*2*Math.PI,s=i*Math.cos(r),a=i*Math.sin(r);return[t,s,a]};_e.rgb.ansi16=function(e,t=null){const[i,n,r]=e;let s=t===null?_e.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let a=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(i/255));return s===2&&(a+=60),a};_e.hsv.ansi16=function(e){return _e.rgb.ansi16(_e.hsv.rgb(e),e[2])};_e.rgb.ansi256=function(e){const t=e[0],i=e[1],n=e[2];return t===i&&i===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5)};_e.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const i=(~~(e>50)+1)*.5,n=(t&1)*i*255,r=(t>>1&1)*i*255,s=(t>>2&1)*i*255;return[n,r,s]};_e.ansi256.rgb=function(e){if(e>=232){const s=(e-232)*10+8;return[s,s,s]}e-=16;let t;const i=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,r=t%6/5*255;return[i,n,r]};_e.rgb.hex=function(e){const i=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(i.length)+i};_e.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let i=t[0];t[0].length===3&&(i=i.split("").map(o=>o+o).join(""));const n=parseInt(i,16),r=n>>16&255,s=n>>8&255,a=n&255;return[r,s,a]};_e.rgb.hcg=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,r=Math.max(Math.max(t,i),n),s=Math.min(Math.min(t,i),n),a=r-s;let o,l;return a<1?o=s/(1-a):o=0,a<=0?l=0:r===t?l=(i-n)/a%6:r===i?l=2+(n-t)/a:l=4+(t-i)/a,l/=6,l%=1,[l*360,a*100,o*100]};_e.hsl.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=i<.5?2*t*i:2*t*(1-i);let r=0;return n<1&&(r=(i-.5*n)/(1-n)),[e[0],n*100,r*100]};_e.hsv.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=t*i;let r=0;return n<1&&(r=(i-n)/(1-n)),[e[0],n*100,r*100]};_e.hcg.rgb=function(e){const t=e[0]/360,i=e[1]/100,n=e[2]/100;if(i===0)return[n*255,n*255,n*255];const r=[0,0,0],s=t%1*6,a=s%1,o=1-a;let l=0;switch(Math.floor(s)){case 0:r[0]=1,r[1]=a,r[2]=0;break;case 1:r[0]=o,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=a;break;case 3:r[0]=0,r[1]=o,r[2]=1;break;case 4:r[0]=a,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=o}return l=(1-i)*n,[(i*r[0]+l)*255,(i*r[1]+l)*255,(i*r[2]+l)*255]};_e.hcg.hsv=function(e){const t=e[1]/100,i=e[2]/100,n=t+i*(1-t);let r=0;return n>0&&(r=t/n),[e[0],r*100,n*100]};_e.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],r*100,n*100]};_e.hcg.hwb=function(e){const t=e[1]/100,i=e[2]/100,n=t+i*(1-t);return[e[0],(n-t)*100,(1-n)*100]};_e.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let s=0;return r<1&&(s=(n-r)/(1-r)),[e[0],r*100,s*100]};_e.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};_e.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};_e.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};_e.gray.hsl=function(e){return[0,0,e[0]]};_e.gray.hsv=_e.gray.hsl;_e.gray.hwb=function(e){return[0,100,e[0]]};_e.gray.cmyk=function(e){return[0,0,0,e[0]]};_e.gray.lab=function(e){return[e[0],0,0]};_e.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};_e.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};function Bge(){const e={},t=Object.keys(am);for(let i=t.length,n=0;n<i;n++)e[t[n]]={distance:-1,parent:null};return e}function Hge(e){const t=Bge(),i=[e];for(t[e].distance=0;i.length;){const n=i.pop(),r=Object.keys(am[n]);for(let s=r.length,a=0;a<s;a++){const o=r[a],l=t[o];l.distance===-1&&(l.distance=t[n].distance+1,l.parent=n,i.unshift(o))}}return t}function Gge(e,t){return function(i){return t(e(i))}}function qge(e,t){const i=[t[e].parent,e];let n=am[t[e].parent][e],r=t[e].parent;for(;t[r].parent;)i.unshift(t[r].parent),n=Gge(am[t[r].parent][r],n),r=t[r].parent;return n.conversion=i,n}var Wge=function(e){const t=Hge(e),i={},n=Object.keys(t);for(let r=n.length,s=0;s<r;s++){const a=n[s];t[a].parent!==null&&(i[a]=qge(a,t))}return i};const mg={},Kge=Object.keys(am);function Yge(e){const t=function(...i){const n=i[0];return n==null?n:(n.length>1&&(i=n),e(i))};return"conversion"in e&&(t.conversion=e.conversion),t}function Jge(e){const t=function(...i){const n=i[0];if(n==null)return n;n.length>1&&(i=n);const r=e(i);if(typeof r=="object")for(let s=r.length,a=0;a<s;a++)r[a]=Math.round(r[a]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}Kge.forEach(e=>{mg[e]={},Object.defineProperty(mg[e],"channels",{value:am[e].channels}),Object.defineProperty(mg[e],"labels",{value:am[e].labels});const t=Wge(e);Object.keys(t).forEach(n=>{const r=t[n];mg[e][n]=Jge(r),mg[e][n].raw=Yge(r)})});var Us=mg;const nJ=["keyword","gray","hex"],J3={};for(const e of Object.keys(Us))J3[[...Us[e].labels].sort().join("")]=e;const Ck={};function An(e,t){if(!(this instanceof An))return new An(e,t);if(t&&t in nJ&&(t=null),t&&!(t in Us))throw new Error("Unknown model: "+t);let i,n;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof An)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const r=fg.get(e);if(r===null)throw new Error("Unable to parse color from string: "+e);this.model=r.model,n=Us[this.model].channels,this.color=r.value.slice(0,n),this.valpha=typeof r.value[n]=="number"?r.value[n]:1}else if(e.length>0){this.model=t||"rgb",n=Us[this.model].channels;const r=Array.prototype.slice.call(e,0,n);this.color=Z3(r,n),this.valpha=typeof e[n]=="number"?e[n]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const r=Object.keys(e);"alpha"in e&&(r.splice(r.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const s=r.sort().join("");if(!(s in J3))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=J3[s];const{labels:a}=Us[this.model],o=[];for(i=0;i<a.length;i++)o.push(e[a[i]]);this.color=Z3(o)}if(Ck[this.model])for(n=Us[this.model].channels,i=0;i<n;i++){const r=Ck[this.model][i];r&&(this.color[i]=r(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}An.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in fg.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const i=t.valpha===1?t.color:[...t.color,this.valpha];return fg.to[t.model](i)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),i=t.valpha===1?t.color:[...t.color,this.valpha];return fg.to.rgb.percent(i)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=Us[this.model],{labels:i}=Us[this.model];for(let n=0;n<t;n++)e[i[n]]=this.color[n];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new An([...this.color.map(Qge(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new An([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:Di("rgb",0,rn(255)),green:Di("rgb",1,rn(255)),blue:Di("rgb",2,rn(255)),hue:Di(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:Di("hsl",1,rn(100)),lightness:Di("hsl",2,rn(100)),saturationv:Di("hsv",1,rn(100)),value:Di("hsv",2,rn(100)),chroma:Di("hcg",1,rn(100)),gray:Di("hcg",2,rn(100)),white:Di("hwb",1,rn(100)),wblack:Di("hwb",2,rn(100)),cyan:Di("cmyk",0,rn(100)),magenta:Di("cmyk",1,rn(100)),yellow:Di("cmyk",2,rn(100)),black:Di("cmyk",3,rn(100)),x:Di("xyz",0,rn(95.047)),y:Di("xyz",1,rn(100)),z:Di("xyz",2,rn(108.833)),l:Di("lab",0,rn(100)),a:Di("lab",1),b:Di("lab",2),keyword(e){return e!==void 0?new An(e):Us[this.model].keyword(this.color)},hex(e){return e!==void 0?new An(e):fg.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new An(e);const t=this.rgb().round().color;let i=Math.round(this.valpha*255).toString(16).toUpperCase();return i.length===1&&(i="0"+i),fg.to.hex(t)+i},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[i,n]of e.entries()){const r=n/255;t[i]=r<=.04045?r/12.92:((r+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),i=e.luminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return An.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let i=t.color[0];return i=(i+e)%360,i=i<0?360+i:i,t.color[0]=i,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const i=e.rgb(),n=this.rgb(),r=t===void 0?.5:t,s=2*r-1,a=i.alpha()-n.alpha(),o=((s*a===-1?s:(s+a)/(1+s*a))+1)/2,l=1-o;return An.rgb(o*i.red()+l*n.red(),o*i.green()+l*n.green(),o*i.blue()+l*n.blue(),i.alpha()*r+n.alpha()*(1-r))}};for(const e of Object.keys(Us)){if(nJ.includes(e))continue;const{channels:t}=Us[e];An.prototype[e]=function(...i){return this.model===e?new An(this):i.length>0?new An(i,e):new An([...Xge(Us[this.model][e].raw(this.color)),this.valpha],e)},An[e]=function(...i){let n=i[0];return typeof n=="number"&&(n=Z3(i,t)),new An(n,e)}}function Zge(e,t){return Number(e.toFixed(t))}function Qge(e){return function(t){return Zge(t,e)}}function Di(e,t,i){e=Array.isArray(e)?e:[e];for(const n of e)(Ck[n]||(Ck[n]=[]))[t]=i;return e=e[0],function(n){let r;return n!==void 0?(i&&(n=i(n)),r=this[e](),r.color[t]=n,r):(r=this[e]().color[t],i&&(r=i(r)),r)}}function rn(e){return function(t){return Math.max(0,Math.min(e,t))}}function Xge(e){return Array.isArray(e)?e:[e]}function Z3(e,t){for(let i=0;i<t;i++)typeof e[i]!="number"&&(e[i]=0);return e}var Ho=An;const eye={swatch:"swatch",noColorIcon:"no-color-icon"},H8={borderLight:"rgba(0, 0, 0, 0.3)",borderDark:"rgba(255, 255, 255, 0.15)"},tye="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:relative;display:inline-flex}:host([scale=s]){block-size:1.25rem;inline-size:1.25rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem}.swatch{overflow:visible;block-size:inherit;inline-size:inherit}.swatch rect{transition-property:all;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.no-color-icon{position:absolute;inset:0px;block-size:100%;inline-size:100%}",iye=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.active=!1,this.color=void 0,this.scale="m"}handleColorChange(e){this.internalColor=Ho(e)}componentWillLoad(){this.handleColorChange(this.color)}render(){const{active:e,el:t,internalColor:i}=this,n=e?"100%":"0",r=i.hex(),a=hY(t)==="light"?H8.borderLight:H8.borderDark;return v("svg",{class:eye.swatch,xmlns:"http://www.w3.org/2000/svg"},v("title",null,r),v("rect",{fill:r,height:"100%",id:"swatch",rx:n,stroke:a,"stroke-width":"2",style:{"clip-path":`inset(0 round ${n})`},width:"100%"}))}get el(){return this}static get watchers(){return{color:["handleColorChange"]}}static get style(){return tye}},[1,"calcite-color-picker-swatch",{active:[516],color:[1],scale:[513]}]);function _F(){if(typeof customElements>"u")return;["calcite-color-picker-swatch"].forEach(t=>{switch(t){case"calcite-color-picker-swatch":customElements.get(t)||customElements.define(t,iye);break}})}_F();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const xF=(e,t,i)=>Math.max(t,Math.min(e,i)),eh=e=>{const t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const nye="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:relative;display:block;inline-size:100%}.track,.bar{position:absolute;inset-block-start:0px;block-size:2px}.track{z-index:1;inline-size:100%;overflow:hidden;background:var(--calcite-ui-border-3)}.bar{z-index:1;background-color:var(--calcite-ui-brand)}@media (forced-colors: active){.track{background-color:highlightText}.bar{background-color:linkText}}.indeterminate{inline-size:20%;animation:looping-progress-bar-ani calc(var(--calcite-internal-animation-timing-medium) * 11) linear infinite}.reversed{animation-direction:reverse}.text{padding-inline:0px;padding-block:1rem 0px;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}@keyframes looping-progress-bar-ani{0%{transform:translate3d(-100%, 0, 0)}50%{inline-size:40%}100%{transform:translate3d(600%, 0, 0)}}",rye=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="determinate",this.value=0,this.label=void 0,this.text=void 0,this.reversed=!1}render(){const t=this.type==="determinate"?{width:`${this.value*100}%`}:{};return v("div",{"aria-label":this.label||this.text,"aria-valuemax":1,"aria-valuemin":0,"aria-valuenow":this.value,role:"progressbar"},v("div",{class:"track"},v("div",{class:{bar:!0,indeterminate:this.type==="indeterminate",reversed:this.reversed},style:t})),this.text?v("div",{class:"text"},this.text):null)}get el(){return this}static get style(){return nye}},[1,"calcite-progress",{type:[513],value:[2],label:[1],text:[1],reversed:[516]}]);function so(){if(typeof customElements>"u")return;["calcite-progress"].forEach(t=>{switch(t){case"calcite-progress":customElements.get(t)||customElements.define(t,rye);break}})}so();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Yn={loader:"loader",clearButton:"clear-button",editingEnabled:"editing-enabled",inlineChild:"inline-child",inputIcon:"icon",prefix:"prefix",suffix:"suffix",numberButtonWrapper:"number-button-wrapper",buttonItemHorizontal:"number-button-item--horizontal",wrapper:"element-wrapper",inputWrapper:"wrapper",actionWrapper:"action-wrapper",resizeIconWrapper:"resize-icon-wrapper",numberButtonItem:"number-button-item"},G8={tel:"phone",password:"lock",email:"email-address",date:"calendar",time:"clock",search:"search"},sye={action:"action"},aye="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:block}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;padding-inline:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) textarea{block-size:1.5rem;min-block-size:1.5rem}:host([scale=s]) .number-button-wrapper,:host([scale=s]) .action-wrapper calcite-button,:host([scale=s]) .action-wrapper calcite-button button{block-size:1.5rem}:host([scale=s]) input[type=file]{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=s]) textarea{block-size:auto;padding-block:0.25rem;padding-inline:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;padding-inline:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) textarea{min-block-size:2rem}:host([scale=m]) .number-button-wrapper,:host([scale=m]) .action-wrapper calcite-button,:host([scale=m]) .action-wrapper calcite-button button{block-size:2rem}:host([scale=m]) input[type=file]{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=m]) textarea{block-size:auto;padding-block:0.5rem;padding-inline:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) textarea{min-block-size:2.75rem}:host([scale=l]) .number-button-wrapper,:host([scale=l]) .action-wrapper calcite-button,:host([scale=l]) .action-wrapper calcite-button button{block-size:2.75rem}:host([scale=l]) input[type=file]{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([scale=l]) textarea{block-size:auto;padding-block:0.75rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([disabled]) textarea{resize:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host textarea,:host input{transition:var(--calcite-animation-timing), block-size 0, outline-offset 0s;-webkit-appearance:none;position:relative;margin:0px;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;border-radius:0px;background-color:var(--calcite-ui-foreground-1);font-family:inherit;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-1)}:host input[type=search]::-webkit-search-decoration{-webkit-appearance:none}:host input,:host textarea{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);color:var(--calcite-ui-text-1)}:host input::placeholder,:host input:-ms-input-placeholder,:host input::-ms-input-placeholder,:host textarea::placeholder,:host textarea:-ms-input-placeholder,:host textarea::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}:host input:focus,:host textarea:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-text-1)}:host input[readonly],:host textarea[readonly]{background-color:var(--calcite-ui-background);font-weight:var(--calcite-font-weight-medium)}:host input[readonly]:focus,:host textarea[readonly]:focus{color:var(--calcite-ui-text-1)}:host calcite-icon{color:var(--calcite-ui-text-3)}:host textarea,:host input{outline-color:transparent}:host textarea:focus,:host input:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([status=invalid]) input,:host([status=invalid]) textarea{border-color:var(--calcite-ui-danger)}:host([status=invalid]) input:focus,:host([status=invalid]) textarea:focus{outline:2px solid var(--calcite-ui-danger);outline-offset:-2px}:host([scale=s]) .icon{inset-inline-start:0.5rem}:host([scale=m]) .icon{inset-inline-start:0.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center}.icon{pointer-events:none;position:absolute;display:block;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.icon,.resize-icon-wrapper{z-index:1}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;block-size:0px;inline-size:0px}input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration,input[type=date]::-webkit-clear-button,input[type=time]::-webkit-clear-button{display:none}.clear-button{pointer-events:initial;order:4;margin:0px;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);outline-color:transparent;border-inline-start-width:0px}.clear-button:hover{background-color:var(--calcite-ui-foreground-2);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.clear-button:hover calcite-icon{color:var(--calcite-ui-text-1);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.clear-button:active{background-color:var(--calcite-ui-foreground-3)}.clear-button:active calcite-icon{color:var(--calcite-ui-text-1)}.clear-button:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.clear-button:disabled{opacity:var(--calcite-ui-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-background);font-weight:var(--calcite-font-weight-medium);line-height:1;color:var(--calcite-ui-text-2)}.prefix{order:2;border-inline-end-width:0px}.suffix{order:5;border-inline-start-width:0px}:host([alignment=start]) textarea,:host([alignment=start]) input{text-align:start}:host([alignment=end]) textarea,:host([alignment=end]) input{text-align:end}:host input[type=number]{-moz-appearance:textfield}:host input[type=number]::-webkit-inner-spin-button,:host input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0px}.number-button-wrapper{pointer-events:none;order:6;box-sizing:border-box;display:flex;flex-direction:column;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}:host([number-button-type=vertical]) .wrapper{flex-direction:row;display:flex}:host([number-button-type=vertical]) input,:host([number-button-type=vertical]) textarea{order:2}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=down] calcite-icon{transform:rotate(-90deg)}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=up] calcite-icon{transform:rotate(-90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down],.number-button-item.number-button-item--horizontal[data-adjustment=up]{order:1;max-block-size:100%;min-block-size:100%;align-self:stretch}.number-button-item.number-button-item--horizontal[data-adjustment=down] calcite-icon,.number-button-item.number-button-item--horizontal[data-adjustment=up] calcite-icon{transform:rotate(90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down]{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);border-inline-end-width:0px}.number-button-item.number-button-item--horizontal[data-adjustment=down]:hover{background-color:var(--calcite-ui-foreground-2)}.number-button-item.number-button-item--horizontal[data-adjustment=down]:hover calcite-icon{color:var(--calcite-ui-text-1)}.number-button-item.number-button-item--horizontal[data-adjustment=up]{order:5}.number-button-item.number-button-item--horizontal[data-adjustment=up]:hover{background-color:var(--calcite-ui-foreground-2)}.number-button-item.number-button-item--horizontal[data-adjustment=up]:hover calcite-icon{color:var(--calcite-ui-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]:hover{background-color:var(--calcite-ui-foreground-2)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]:hover calcite-icon{color:var(--calcite-ui-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=up]:hover{background-color:var(--calcite-ui-foreground-2)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=up]:hover calcite-icon{color:var(--calcite-ui-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]{border-block-start-width:0px}.number-button-item{max-block-size:50%;min-block-size:50%;pointer-events:initial;margin:0px;box-sizing:border-box;display:flex;cursor:pointer;align-items:center;align-self:center;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);padding-block:0px;padding-inline:0.5rem;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-inline-start-width:0px}.number-button-item calcite-icon{pointer-events:none;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.number-button-item:focus{background-color:var(--calcite-ui-foreground-2)}.number-button-item:focus calcite-icon{color:var(--calcite-ui-text-1)}.number-button-item:active{background-color:var(--calcite-ui-foreground-3)}.number-button-item:disabled{pointer-events:none}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host input::-webkit-calendar-picker-indicator{display:none}:host input[type=date]::-webkit-input-placeholder{visibility:hidden !important}:host textarea::-webkit-resizer{position:absolute;inset-block-end:0px;box-sizing:border-box;padding-block:0px;padding-inline:0.25rem;inset-inline-end:0}.resize-icon-wrapper{inset-block-end:2px;inset-inline-end:2px;pointer-events:none;position:absolute;block-size:0.75rem;inline-size:0.75rem;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-3)}.resize-icon-wrapper calcite-icon{inset-block-end:0.25rem;inset-inline-end:0.25rem;transform:rotate(-45deg)}.calcite--rtl .resize-icon-wrapper calcite-icon{transform:rotate(45deg)}:host([type=color]) input{padding:0.25rem}:host([type=file]) input{cursor:pointer;border-width:1px;border-style:dashed;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);text-align:center}:host([type=file][scale=s]) input{padding-block:1px;padding-inline:0.5rem}:host([type=file][scale=m]) input{padding-block:0.25rem;padding-inline:0.75rem}:host([type=file][scale=l]) input{padding-block:0.5rem;padding-inline:1rem}:host(.no-bottom-border) input{border-block-end-width:0px}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-ui-border-1)}:host .inline-child{background-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}:host .inline-child .editing-enabled{background-color:inherit}:host .inline-child:not(.editing-enabled){display:flex;cursor:pointer;text-overflow:ellipsis;border-color:transparent;padding-inline-start:0}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",oye=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalInputFocus=B(this,"calciteInternalInputFocus",6),this.calciteInternalInputBlur=B(this,"calciteInternalInputBlur",6),this.calciteInputInput=B(this,"calciteInputInput",7),this.calciteInputChange=B(this,"calciteInputChange",6),this.childElType="input",this.previousValueOrigin="initial",this.mutationObserver=Ct("mutation",()=>this.setDisabledAction()),this.userChangedValue=!1,this.keyDownHandler=e=>{this.readOnly||this.disabled||(this.isClearable&&e.key==="Escape"&&(this.clearInputValue(e),e.preventDefault()),e.key==="Enter"&&!e.defaultPrevented&&Am(this)&&e.preventDefault())},this.clearInputValue=e=>{this.setValue({committing:!0,nativeEvent:e,origin:"user",value:""})},this.emitChangeIfUserModified=()=>{this.previousValueOrigin==="user"&&this.value!==this.previousEmittedValue&&(this.calciteInputChange.emit(),this.setPreviousEmittedValue(this.value))},this.inputBlurHandler=()=>{this.calciteInternalInputBlur.emit(),this.emitChangeIfUserModified()},this.clickHandler=e=>{const t=Xe(this.el,"action");e.target!==t&&this.setFocus()},this.inputFocusHandler=()=>{this.calciteInternalInputFocus.emit()},this.inputInputHandler=e=>{this.disabled||this.readOnly||this.setValue({nativeEvent:e,origin:"user",value:e.target.value})},this.inputKeyDownHandler=e=>{this.disabled||this.readOnly||e.key==="Enter"&&this.emitChangeIfUserModified()},this.inputNumberInputHandler=e=>{if(this.disabled||this.readOnly)return;const t=e.target.value;Me.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator};const i=Me.delocalize(t);e.inputType==="insertFromPaste"?(It(i)||e.preventDefault(),this.setValue({nativeEvent:e,origin:"user",value:bY(i)}),this.childNumberEl.value=this.localizedValue):this.setValue({nativeEvent:e,origin:"user",value:i})},this.inputNumberKeyDownHandler=e=>{if(this.type!=="number"||this.disabled||this.readOnly)return;if(e.key==="ArrowUp"){e.preventDefault(),this.nudgeNumberValue("up",e);return}if(e.key==="ArrowDown"){this.nudgeNumberValue("down",e);return}const t=[...Va,"ArrowLeft","ArrowRight","Backspace","Delete","Enter","Escape","Tab"];if(e.altKey||e.ctrlKey||e.metaKey)return;const i=e.shiftKey&&e.key==="Tab";if(t.includes(e.key)&&(!e.shiftKey||i)){e.key==="Enter"&&this.emitChangeIfUserModified();return}Me.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator},!(e.key===Me.decimal&&(!this.value&&!this.childNumberEl.value||this.value&&this.childNumberEl.value.indexOf(Me.decimal)===-1))&&(/[eE]/.test(e.key)&&(!this.value&&!this.childNumberEl.value||this.value&&!/[eE]/.test(this.childNumberEl.value))||e.key==="-"&&(!this.value&&!this.childNumberEl.value||this.value&&this.childNumberEl.value.split("-").length<=2)||e.preventDefault())},this.nudgeNumberValue=(e,t)=>{if(t instanceof KeyboardEvent&&t.repeat||this.type!=="number")return;const i=this.maxString?parseFloat(this.maxString):null,n=this.minString?parseFloat(this.minString):null,r=150;this.incrementOrDecrementNumberValue(e,i,n,t),this.nudgeNumberValueIntervalId&&window.clearInterval(this.nudgeNumberValueIntervalId);let s=!0;this.nudgeNumberValueIntervalId=window.setInterval(()=>{if(s){s=!1;return}this.incrementOrDecrementNumberValue(e,i,n,t)},r)},this.numberButtonPointerUpAndOutHandler=()=>{window.clearInterval(this.nudgeNumberValueIntervalId)},this.numberButtonPointerDownHandler=e=>{if(!dr(e))return;e.preventDefault();const t=e.target.dataset.adjustment;this.disabled||this.nudgeNumberValue(t,e)},this.hiddenInputChangeHandler=e=>{e.target.name===this.name&&this.setValue({value:e.target.value,origin:"direct"}),e.stopPropagation()},this.setChildElRef=e=>{this.childEl=e},this.setChildNumberElRef=e=>{this.childNumberEl=e},this.setInputValue=e=>{this.type==="text"&&!this.childEl||this.type==="number"&&!this.childNumberEl||(this[`child${this.type==="number"?"Number":""}El`].value=e)},this.setPreviousEmittedValue=e=>{this.previousEmittedValue=this.normalizeValue(e)},this.setPreviousValue=e=>{this.previousValue=this.normalizeValue(e)},this.setValue=({committing:e=!1,nativeEvent:t,origin:i,previousValue:n,value:r})=>{if(this.setPreviousValue(n??this.value),this.previousValueOrigin=i,this.type==="number"){Me.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator,signDisplay:"never"};const s=wY(this.numberingSystem&&this.numberingSystem!=="latn"||pC!=="latn"?Me.delocalize(r):r),a=r&&!s?It(this.previousValue)?this.previousValue:"":s,o=Me.localize(a);this.localizedValue=o,this.userChangedValue=i==="user"&&this.value!==a,this.value=["-","."].includes(a)?"":a}else this.userChangedValue=i==="user"&&this.value!==r,this.value=r;i==="direct"&&(this.setInputValue(r),this.previousEmittedValue=r),t&&(this.calciteInputInput.emit().defaultPrevented?(this.value=this.previousValue,this.localizedValue=this.type==="number"?Me.localize(this.previousValue):this.previousValue):e&&this.emitChangeIfUserModified())},this.inputKeyUpHandler=()=>{window.clearInterval(this.nudgeNumberValueIntervalId)},this.alignment="start",this.autofocus=!1,this.clearable=!1,this.disabled=!1,this.groupSeparator=!1,this.hidden=!1,this.icon=void 0,this.iconFlipRtl=!1,this.label=void 0,this.loading=!1,this.numberingSystem=void 0,this.localeFormat=!1,this.max=void 0,this.min=void 0,this.maxLength=void 0,this.minLength=void 0,this.name=void 0,this.numberButtonType="vertical",this.placeholder=void 0,this.prefixText=void 0,this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.step=void 0,this.autocomplete=void 0,this.pattern=void 0,this.accept=void 0,this.multiple=!1,this.inputMode="text",this.enterKeyHint=void 0,this.suffixText=void 0,this.editingEnabled=!1,this.type="text",this.value="",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale="",this.defaultMessages=void 0,this.localizedValue=void 0,this.slottedActionElDisabledInternally=!1}disabledWatcher(){this.setDisabledAction()}maxWatcher(){var e;this.maxString=((e=this.max)==null?void 0:e.toString())||null}minWatcher(){var e;this.minString=((e=this.min)==null?void 0:e.toString())||null}onMessagesChange(){}valueWatcher(e,t){this.userChangedValue||(this.setValue({origin:"direct",previousValue:t,value:e==null||e==""?"":this.type==="number"?It(e)?e:this.previousValue||"":e}),this.warnAboutInvalidNumberValue(e)),this.userChangedValue=!1}updateRequestedIcon(){this.requestedIcon=Za(G8,this.icon,this.type)}get isClearable(){return!this.isTextarea&&(this.clearable||this.type==="search")&&this.value.length>0}get isTextarea(){return this.childElType==="textarea"}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){var e;ht(this),Mt(this),this.scale=ci(this.el,"scale",this.scale),this.status=ci(this.el,"status",this.status),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),vr(this),na(this),this.setPreviousEmittedValue(this.value),this.setPreviousValue(this.value),this.type==="number"&&(this.warnAboutInvalidNumberValue(this.value),this.setValue({origin:"connected",value:It(this.value)?this.value:""})),(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0}),this.setDisabledAction(),this.el.addEventListener("calciteInternalHiddenInputChange",this.hiddenInputChangeHandler)}disconnectedCallback(){var e;Gr(this),ra(this),pt(this),Dt(this),(e=this.mutationObserver)==null||e.disconnect(),this.el.removeEventListener("calciteInternalHiddenInputChange",this.hiddenInputChangeHandler)}async componentWillLoad(){var e,t;We(this),this.childElType=this.type==="textarea"?"textarea":"input",this.maxString=(e=this.max)==null?void 0:e.toString(),this.minString=(t=this.min)==null?void 0:t.toString(),this.requestedIcon=Za(G8,this.icon,this.type),await $t(this)}componentDidLoad(){Ke(this)}componentShouldUpdate(e,t,i){return this.type==="number"&&i==="value"&&e&&!It(e)?(this.setValue({origin:"reset",value:t}),!1):!0}componentDidRender(){et(this)}async setFocus(){var e,t;await He(this),this.type==="number"?(e=this.childNumberEl)==null||e.focus():(t=this.childEl)==null||t.focus()}async selectText(){var e,t;this.type==="number"?(e=this.childNumberEl)==null||e.select():(t=this.childEl)==null||t.select()}async internalSyncChildElValue(){this.type==="number"?this.childNumberEl.value=this.value:this.childEl.value=this.value}onLabelClick(){this.setFocus()}incrementOrDecrementNumberValue(e,t,i,n){const{value:r}=this,s=this.step==="any"?1:Math.abs(this.step||1),a=r&&r!==""?parseFloat(r):0,l=a+s*(e==="up"?1:-1),c=typeof i=="number"&&!isNaN(i)&&l<i?i:typeof t=="number"&&!isNaN(t)&&l>t?t:l,h=eh(a),p=eh(s);this.setValue({committing:!0,nativeEvent:n,origin:"user",value:c.toFixed(Math.max(h,p))})}onFormReset(){this.setValue({origin:"reset",value:this.defaultValue})}syncHiddenFormInput(e){var i,n;const{type:t}=this;e.type=t,t==="number"?(e.min=((i=this.min)==null?void 0:i.toString(10))??"",e.max=((n=this.max)==null?void 0:n.toString(10))??""):t==="text"&&(this.minLength!=null&&(e.minLength=this.minLength),this.maxLength!=null&&(e.maxLength=this.maxLength))}setDisabledAction(){const e=Xe(this.el,"action");e&&(this.disabled?(e.getAttribute("disabled")==null&&(this.slottedActionElDisabledInternally=!0),e.setAttribute("disabled","")):this.slottedActionElDisabledInternally&&(e.removeAttribute("disabled"),this.slottedActionElDisabledInternally=!1))}normalizeValue(e){return this.type==="number"?It(e)?e:"":e}warnAboutInvalidNumberValue(e){this.type==="number"&&e&&!It(e)&&console.warn(`The specified value "${e}" cannot be parsed, or is out of range.`)}render(){const e=Ci(this.el),t=v("div",{class:Yn.loader},v("calcite-progress",{label:this.messages.loading,type:"indeterminate"})),i=v("button",{"aria-label":this.messages.clear,class:Yn.clearButton,disabled:this.disabled||this.readOnly,onClick:this.clearInputValue,tabIndex:-1,type:"button"},v("calcite-icon",{icon:"x",scale:this.scale==="l"?"m":"s"})),n=v("calcite-icon",{class:Yn.inputIcon,flipRtl:this.iconFlipRtl,icon:this.requestedIcon,scale:this.scale==="l"?"m":"s"}),r=this.numberButtonType==="horizontal",s=v("button",{"aria-hidden":"true",class:{[Yn.numberButtonItem]:!0,[Yn.buttonItemHorizontal]:r},"data-adjustment":"up",disabled:this.disabled||this.readOnly,onPointerDown:this.numberButtonPointerDownHandler,onPointerOut:this.numberButtonPointerUpAndOutHandler,onPointerUp:this.numberButtonPointerUpAndOutHandler,tabIndex:-1,type:"button"},v("calcite-icon",{icon:"chevron-up",scale:this.scale==="l"?"m":"s"})),a=v("button",{"aria-hidden":"true",class:{[Yn.numberButtonItem]:!0,[Yn.buttonItemHorizontal]:r},"data-adjustment":"down",disabled:this.disabled||this.readOnly,onPointerDown:this.numberButtonPointerDownHandler,onPointerOut:this.numberButtonPointerUpAndOutHandler,onPointerUp:this.numberButtonPointerUpAndOutHandler,tabIndex:-1,type:"button"},v("calcite-icon",{icon:"chevron-down",scale:this.scale==="l"?"m":"s"})),o=v("div",{class:Yn.numberButtonWrapper},s,a),l=v("div",{class:Yn.prefix},this.prefixText),c=v("div",{class:Yn.suffix},this.suffixText),h=this.type==="number"?v("input",{accept:this.accept,"aria-label":zr(this),autocomplete:this.autocomplete,autofocus:this.autofocus?!0:null,defaultValue:this.defaultValue,disabled:this.disabled?!0:null,enterKeyHint:this.enterKeyHint,inputMode:this.inputMode,key:"localized-input",maxLength:this.maxLength,minLength:this.minLength,multiple:this.multiple,name:void 0,onBlur:this.inputBlurHandler,onFocus:this.inputFocusHandler,onInput:this.inputNumberInputHandler,onKeyDown:this.inputNumberKeyDownHandler,onKeyUp:this.inputKeyUpHandler,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readOnly,ref:this.setChildNumberElRef,type:"text",value:this.localizedValue}):null,p=this.type!=="number"?[v(this.childElType,{accept:this.accept,"aria-label":zr(this),autocomplete:this.autocomplete,autofocus:this.autofocus?!0:null,class:{[Yn.editingEnabled]:this.editingEnabled,[Yn.inlineChild]:!!this.inlineEditableEl},defaultValue:this.defaultValue,disabled:this.disabled?!0:null,enterKeyHint:this.enterKeyHint,inputMode:this.inputMode,max:this.maxString,maxLength:this.maxLength,min:this.minString,minLength:this.minLength,multiple:this.multiple,name:this.name,onBlur:this.inputBlurHandler,onFocus:this.inputFocusHandler,onInput:this.inputInputHandler,onKeyDown:this.inputKeyDownHandler,onKeyUp:this.inputKeyUpHandler,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readOnly,ref:this.setChildElRef,required:this.required?!0:null,step:this.step,tabIndex:this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null,type:this.type,value:this.value}),this.isTextarea?v("div",{class:Yn.resizeIconWrapper},v("calcite-icon",{icon:"chevron-down",scale:this.scale==="l"?"m":"s"})):null]:null;return v(Fe,{onClick:this.clickHandler,onKeyDown:this.keyDownHandler},v("div",{class:{[Yn.inputWrapper]:!0,[za.rtl]:e==="rtl"}},this.type==="number"&&this.numberButtonType==="horizontal"&&!this.readOnly?a:null,this.prefixText?l:null,v("div",{class:Yn.wrapper},h,p,this.isClearable?i:null,this.requestedIcon?n:null,this.loading?t:null),v("div",{class:Yn.actionWrapper},v("slot",{name:sye.action})),this.type==="number"&&this.numberButtonType==="vertical"&&!this.readOnly?o:null,this.suffixText?c:null,this.type==="number"&&this.numberButtonType==="horizontal"&&!this.readOnly?s:null,v(sa,{component:this})))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{disabled:["disabledWatcher"],max:["maxWatcher"],min:["minWatcher"],messageOverrides:["onMessagesChange"],value:["valueWatcher"],icon:["updateRequestedIcon"],type:["updateRequestedIcon"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return aye}},[1,"calcite-input",{alignment:[513],autofocus:[516],clearable:[516],disabled:[516],groupSeparator:[516,"group-separator"],hidden:[516],icon:[520],iconFlipRtl:[516,"icon-flip-rtl"],label:[1],loading:[516],numberingSystem:[513,"numbering-system"],localeFormat:[4,"locale-format"],max:[514],min:[514],maxLength:[514,"max-length"],minLength:[514,"min-length"],name:[513],numberButtonType:[513,"number-button-type"],placeholder:[1],prefixText:[1,"prefix-text"],readOnly:[516,"read-only"],required:[516],scale:[1537],status:[1537],step:[520],autocomplete:[1],pattern:[1],accept:[1],multiple:[4],inputMode:[1,"input-mode"],enterKeyHint:[1,"enter-key-hint"],suffixText:[1,"suffix-text"],editingEnabled:[1540,"editing-enabled"],type:[513],value:[1025],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],localizedValue:[32],slottedActionElDisabledInternally:[32],setFocus:[64],selectText:[64],internalSyncChildElValue:[64]}]);function Mu(){if(typeof customElements>"u")return;["calcite-input","calcite-icon","calcite-progress"].forEach(t=>{switch(t){case"calcite-input":customElements.get(t)||customElements.define(t,oye);break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-progress":customElements.get(t)||so();break}})}Mu();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const x$={container:"container",preview:"preview",input:"input"},lye="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:block}.container{display:inline-grid;inline-size:100%;align-items:center;grid-template-columns:1fr auto}.preview{grid-column:2/3;pointer-events:none;margin-block:0px;margin-inline:0.25rem;display:flex;align-items:center}.preview,.input{grid-row:1}.input{grid-column:1/3;inline-size:100%;text-transform:uppercase}",q8=Ho(),cye=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteColorPickerHexInputChange=B(this,"calciteColorPickerHexInputChange",6),this.onCalciteInternalInputBlur=()=>{const e=this.inputNode,t=e.value,i=`#${t}`;this.allowEmpty&&!t||Sf(i)&&WY(i)||(e.value=this.allowEmpty&&!this.internalColor?"":this.formatForInternalInput(GY(this.internalColor.object())))},this.onInputChange=()=>{this.internalSetValue(this.inputNode.value,this.value)},this.previousNonNullValue=this.value,this.storeInputRef=e=>{this.inputNode=e},this.hexLabel="Hex",this.allowEmpty=!1,this.scale="m",this.value=Wd(q8.hex()),this.numberingSystem=void 0,this.internalColor=q8}connectedCallback(){const{allowEmpty:e,value:t}=this;if(t){const i=Wd(t);Sf(i)&&this.internalSetValue(i,i,!1);return}e&&this.internalSetValue(null,null,!1)}componentWillLoad(){We(this)}componentDidLoad(){Ke(this)}handleValueChange(e,t){this.internalSetValue(e,t,!1)}onInputKeyDown(e){const{altKey:t,ctrlKey:i,metaKey:n,shiftKey:r}=e,{internalColor:s,value:a}=this,{key:o}=e;if(o==="Tab"||o==="Enter"){this.onInputChange();return}const l=o==="ArrowDown"||o==="ArrowUp",c=this.value;if(l){if(!a){this.internalSetValue(this.previousNonNullValue,c),e.preventDefault();return}const g=o==="ArrowUp"?1:-1,y=r?10:1;this.internalSetValue(Wd(this.nudgeRGBChannels(s,y*g).hex()),c),e.preventDefault();return}const h=t||i||n,p=o.length===1,m=Xme.test(o);p&&!h&&!m&&e.preventDefault()}onPaste(e){const t=e.clipboardData.getData("text");Sf(t)&&(e.preventDefault(),this.inputNode.value=t.slice(1))}render(){const{value:e}=this,t=this.formatForInternalInput(e);return v("div",{class:x$.container},v("calcite-input",{class:x$.input,label:this.hexLabel,maxLength:6,numberingSystem:this.numberingSystem,onCalciteInputChange:this.onInputChange,onCalciteInternalInputBlur:this.onCalciteInternalInputBlur,onKeyDown:this.handleKeyDown,onPaste:this.onPaste,prefixText:"#",ref:this.storeInputRef,scale:this.scale,value:t}),t?v("calcite-color-picker-swatch",{active:!0,class:x$.preview,color:`#${t}`,scale:this.scale}):null)}async setFocus(){await He(this),Nr(this.inputNode)}internalSetValue(e,t,i=!0){if(e){const n=Wd(e);if(Sf(n)){const{internalColor:r}=this,s=!r||n!==Wd(r.hex());this.internalColor=Ho(n),this.previousNonNullValue=n,this.value=n,s&&i&&this.calciteColorPickerHexInputChange.emit();return}}else if(this.allowEmpty){this.internalColor=null,this.value=null,i&&this.calciteColorPickerHexInputChange.emit();return}this.value=t}formatForInternalInput(e){return e?e.replace("#",""):""}nudgeRGBChannels(e,t){return Ho.rgb(e.array().map(i=>i+t))}handleKeyDown(e){e.key==="Enter"&&e.preventDefault()}get el(){return this}static get watchers(){return{value:["handleValueChange"]}}static get style(){return lye}},[1,"calcite-color-picker-hex-input",{hexLabel:[1,"hex-label"],allowEmpty:[4,"allow-empty"],scale:[513],value:[1537],numberingSystem:[1,"numbering-system"],internalColor:[32],setFocus:[64]},[[2,"keydown","onInputKeyDown"]]]);function rJ(){if(typeof customElements>"u")return;["calcite-color-picker-hex-input","calcite-color-picker-swatch","calcite-icon","calcite-input","calcite-progress"].forEach(t=>{switch(t){case"calcite-color-picker-hex-input":customElements.get(t)||customElements.define(t,cye);break;case"calcite-color-picker-swatch":customElements.get(t)||_F();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-input":customElements.get(t)||Mu();break;case"calcite-progress":customElements.get(t)||so();break}})}rJ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const uye="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([selected]) section,:host([selected]) .container{display:block}:host{display:none;block-size:100%;inline-size:100%}:host([selected]){display:block;block-size:100%;inline-size:100%;overflow:auto}section,.container{display:none;block-size:100%;inline-size:100%}:host([scale=s]){padding-block:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){font-size:var(--calcite-font-size-0);line-height:1.25rem;padding-block:13px}",dye=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalTabRegister=B(this,"calciteInternalTabRegister",6),this.guid=`calcite-tab-title-${$i()}`,this.tab=void 0,this.selected=!1,this.scale="m",this.labeledBy=void 0}render(){const e=this.el.id||this.guid;return v(Fe,{"aria-labelledby":this.labeledBy,id:e},v("div",{class:"container",role:"tabpanel",tabIndex:this.selected?0:-1},v("section",null,v("slot",null))))}connectedCallback(){this.parentTabsEl=this.el.closest("calcite-tabs")}componentDidLoad(){this.calciteInternalTabRegister.emit()}componentWillRender(){var e;this.scale=(e=this.parentTabsEl)==null?void 0:e.scale}disconnectedCallback(){var e;(e=document.body)==null||e.dispatchEvent(new CustomEvent("calciteTabUnregister",{detail:this.el}))}internalTabChangeHandler(e){e.composedPath().find(i=>i.tagName==="CALCITE-TABS")===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then(i=>{this.selected=i===e.detail.tab}),e.stopPropagation())}async getTabIndex(){return Array.prototype.indexOf.call(Go(this.el.parentElement.children).filter(e=>e.matches("calcite-tab")),this.el)}async updateAriaInfo(e=[],t=[]){this.labeledBy=t[e.indexOf(this.el.id)]||null}get el(){return this}static get style(){return uye}},[1,"calcite-tab",{tab:[513],selected:[1540],scale:[1537],labeledBy:[32],getTabIndex:[64],updateAriaInfo:[64]},[[16,"calciteInternalTabChange","internalTabChangeHandler"]]]);function sJ(){if(typeof customElements>"u")return;["calcite-tab"].forEach(t=>{switch(t){case"calcite-tab":customElements.get(t)||customElements.define(t,dye);break}})}sJ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const hye="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:relative;display:flex}:host([scale=s]){min-block-size:1.5rem}:host([scale=m]){min-block-size:2rem}:host([scale=l]){min-block-size:2.75rem}.tab-nav{display:flex;inline-size:100%;justify-content:flex-start;overflow:auto}.tab-nav-active-indicator-container{position:absolute;inset-inline:0px;inset-block-end:0px;block-size:0.125rem;inline-size:100%;overflow:hidden}.tab-nav-active-indicator{position:absolute;inset-block-end:0px;display:block;block-size:0.125rem;background-color:var(--calcite-ui-brand);transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;transition-timing-function:cubic-bezier(0, 0, 0.2, 1)}:host([position=bottom]) .tab-nav-active-indicator{inset-block-end:unset;inset-block-start:0px}:host([position=bottom]) .tab-nav-active-indicator-container{inset-block-end:unset;inset-block-start:0px}:host([bordered]) .tab-nav-active-indicator-container{inset-block-end:unset}:host([bordered][position=bottom]) .tab-nav-active-indicator-container{inset-block-end:0;inset-block-start:unset}@media (forced-colors: active){.tab-nav-active-indicator{background-color:highlight}}",pye=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTabChange=B(this,"calciteTabChange",6),this.calciteInternalTabChange=B(this,"calciteInternalTabChange",6),this.animationActiveDuration=.3,this.resizeObserver=Ct("resize",()=>{this.activeIndicatorEl&&(this.activeIndicatorEl.style.transitionDuration="0s",this.updateActiveWidth(),this.updateOffsetPosition())}),this.handleTabFocus=(e,t,i)=>{Xc(this.enabledTabTitles,t,i),e.stopPropagation(),e.preventDefault()},this.handleContainerScroll=()=>{this.activeIndicatorEl.style.transitionDuration="0s",this.updateOffsetPosition()},this.storageId=void 0,this.syncId=void 0,this.selectedTitle=null,this.scale="m",this.layout="inline",this.position="bottom",this.bordered=!1,this.indicatorOffset=void 0,this.indicatorWidth=void 0,this.selectedTabId=void 0}async selectedTabIdChanged(){localStorage&&this.storageId&&this.selectedTabId!==void 0&&this.selectedTabId!==null&&localStorage.setItem(`calcite-tab-nav-${this.storageId}`,JSON.stringify(this.selectedTabId)),this.calciteInternalTabChange.emit({tab:this.selectedTabId}),this.selectedTitle=await this.getTabTitleById(this.selectedTabId)}selectedTitleChanged(){this.updateOffsetPosition(),this.updateActiveWidth(),this.activeIndicatorEl.style.transitionDuration=`${this.animationActiveDuration}s`}connectedCallback(){var e;this.parentTabsEl=this.el.closest("calcite-tabs"),(e=this.resizeObserver)==null||e.observe(this.el)}disconnectedCallback(){var e;(e=this.resizeObserver)==null||e.disconnect()}componentWillLoad(){const e=`calcite-tab-nav-${this.storageId}`;if(localStorage&&this.storageId&&localStorage.getItem(e)){const t=JSON.parse(localStorage.getItem(e));this.selectedTabId=t}}componentWillRender(){const{parentTabsEl:e}=this;this.layout=e==null?void 0:e.layout,this.position=e==null?void 0:e.position,this.scale=e==null?void 0:e.scale,this.bordered=e==null?void 0:e.bordered,this.selectedTitle&&this.updateOffsetPosition()}componentDidRender(){this.tabTitles.length&&this.tabTitles.every(e=>!e.selected)&&!this.selectedTabId&&this.tabTitles[0].getTabIdentifier().then(e=>{this.calciteInternalTabChange.emit({tab:e})})}render(){const e=Ci(this.el),t=`${this.indicatorWidth}px`,i=`${this.indicatorOffset}px`,n=e!=="rtl"?{width:t,left:i}:{width:t,right:i};return v(Fe,{role:"tablist"},v("div",{class:"tab-nav",onScroll:this.handleContainerScroll,ref:r=>this.tabNavEl=r},v("div",{class:"tab-nav-active-indicator-container",ref:r=>this.activeIndicatorContainerEl=r},v("div",{class:"tab-nav-active-indicator",ref:r=>this.activeIndicatorEl=r,style:n})),v("slot",null)))}focusPreviousTabHandler(e){this.handleTabFocus(e,e.target,"previous")}focusNextTabHandler(e){this.handleTabFocus(e,e.target,"next")}focusFirstTabHandler(e){this.handleTabFocus(e,e.target,"first")}focusLastTabHandler(e){this.handleTabFocus(e,e.target,"last")}internalActivateTabHandler(e){this.selectedTabId=e.detail.tab?e.detail.tab:this.getIndexOfTabTitle(e.target),e.stopPropagation(),e.preventDefault()}activateTabHandler(e){this.calciteTabChange.emit(),e.stopPropagation(),e.preventDefault()}updateTabTitles(e){e.target.selected&&(this.selectedTabId=e.detail)}globalInternalTabChangeHandler(e){this.syncId&&e.target!==this.el&&e.target.syncId===this.syncId&&this.selectedTabId!==e.detail.tab&&(this.selectedTabId=e.detail.tab),e.stopPropagation()}iconStartChangeHandler(){this.updateActiveWidth()}updateOffsetPosition(){var s,a,o,l,c;const e=Ci(this.el),t=(s=this.activeIndicatorContainerEl)==null?void 0:s.offsetWidth,i=(a=this.selectedTitle)==null?void 0:a.offsetLeft,n=(o=this.selectedTitle)==null?void 0:o.offsetWidth,r=t-(i+n);this.indicatorOffset=e!=="rtl"?i-((l=this.tabNavEl)==null?void 0:l.scrollLeft):r+((c=this.tabNavEl)==null?void 0:c.scrollLeft)}updateActiveWidth(){var e;this.indicatorWidth=(e=this.selectedTitle)==null?void 0:e.offsetWidth}getIndexOfTabTitle(e,t=this.tabTitles){return t.indexOf(e)}async getTabTitleById(e){return Promise.all(this.tabTitles.map(t=>t.getTabIdentifier())).then(t=>this.tabTitles[t.indexOf(e)])}get tabTitles(){return U3(this.el,"calcite-tab-title")}get enabledTabTitles(){return U3(this.el,"calcite-tab-title:not([disabled])")}get el(){return this}static get watchers(){return{selectedTabId:["selectedTabIdChanged"],selectedTitle:["selectedTitleChanged"]}}static get style(){return hye}},[1,"calcite-tab-nav",{storageId:[513,"storage-id"],syncId:[513,"sync-id"],selectedTitle:[1040],scale:[1537],layout:[1537],position:[1537],bordered:[1540],indicatorOffset:[1026,"indicator-offset"],indicatorWidth:[1026,"indicator-width"],selectedTabId:[32]},[[0,"calciteInternalTabsFocusPrevious","focusPreviousTabHandler"],[0,"calciteInternalTabsFocusNext","focusNextTabHandler"],[0,"calciteInternalTabsFocusFirst","focusFirstTabHandler"],[0,"calciteInternalTabsFocusLast","focusLastTabHandler"],[0,"calciteInternalTabsActivate","internalActivateTabHandler"],[0,"calciteTabsActivate","activateTabHandler"],[0,"calciteInternalTabTitleRegister","updateTabTitles"],[16,"calciteInternalTabChange","globalInternalTabChangeHandler"],[0,"calciteInternalTabIconChanged","iconStartChangeHandler"]]]);function aJ(){if(typeof customElements>"u")return;["calcite-tab-nav"].forEach(t=>{switch(t){case"calcite-tab-nav":customElements.get(t)||customElements.define(t,pye);break}})}aJ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Hm={container:"container",containerHasText:"container--has-text",iconEnd:"icon-end",iconStart:"icon-start",iconPresent:"icon-present",titleIcon:"calcite-tab-title--icon"},fye="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:block;flex:0 1 auto;outline:2px solid transparent;outline-offset:2px;margin-inline-start:0px;margin-inline-end:1.25rem}:host([layout=center]){margin-block:0px;margin-inline:1.25rem;text-align:center;flex-basis:12rem;margin:auto}:host([position=bottom]) .container{border-block-end-width:0px;border-block-start-width:2px;border-block-start-color:transparent;border-block-start-style:solid}:host .container{outline-color:transparent}:host(:focus) .container{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host(:active) a,:host(:focus) a,:host(:hover) a{border-color:var(--calcite-ui-border-2);color:var(--calcite-ui-text-1);text-decoration-line:none}:host([selected]) .container{border-color:transparent;color:var(--calcite-ui-text-1)}:host([disabled]) .container{pointer-events:none;opacity:0.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){margin-inline-end:1rem}:host([scale=s]) .container{padding-block:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) .container{padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){margin-inline-end:1.5rem}:host([scale=l]) .container{padding-block:0.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}.container{box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;-webkit-appearance:none;appearance:none;justify-content:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-block-end-width:2px;padding-inline:0px;font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-3);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-block-end-color:transparent;border-block-end-style:solid}.calcite-tab-title--icon{position:relative;margin:0px;display:inline-flex;align-self:center}.calcite-tab-title--icon svg{transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.container--has-text{padding:0.25rem}.container--has-text .calcite-tab-title--icon.icon-start{margin-inline-end:0.5rem}.container--has-text .calcite-tab-title--icon.icon-end{margin-inline-start:0.5rem}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{margin-inline-end:0.5rem}:host([bordered]){margin-inline-end:0}:host([bordered][selected]){box-shadow:inset 0px -2px var(--calcite-ui-foreground-1)}:host([bordered][selected][position=bottom]){box-shadow:inset 0 2px 0 var(--calcite-ui-foreground-1)}:host([bordered]:hover) .container,:host([bordered]:focus) .container,:host([bordered]:active) .container{position:relative}:host([bordered]:hover) .container{background-color:var(--calcite-button-transparent-hover)}:host([bordered]) .container{border-block-end-style:unset;border-inline-start:1px solid transparent;border-inline-end:1px solid transparent}:host([bordered][position=bottom]) .container{border-block-start-style:unset}:host([selected][bordered]) .container{border-inline-start-color:var(--calcite-ui-border-1);border-inline-end-color:var(--calcite-ui-border-1)}:host([bordered]) .container{padding-inline:0.75rem}:host([bordered][scale=s]) .container{padding-inline:0.5rem}:host([bordered][scale=l]) .container{padding-inline:1rem}:host([bordered][scale=l]) .icon-present{padding-block:11px}@media (forced-colors: active){:host{outline-width:0;outline-offset:0}:host(:focus) .container{outline-color:highlight}:host([bordered]) .container{border-block-end-style:solid}:host([bordered][position=bottom]) .container{border-block-start-style:solid}:host([bordered][selected]) .container{border-block-end-style:none}:host([bordered][position=bottom][selected]) .container{border-block-start-style:none}}",mye=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTabsActivate=B(this,"calciteTabsActivate",6),this.calciteInternalTabsActivate=B(this,"calciteInternalTabsActivate",6),this.calciteInternalTabsFocusNext=B(this,"calciteInternalTabsFocusNext",6),this.calciteInternalTabsFocusPrevious=B(this,"calciteInternalTabsFocusPrevious",6),this.calciteInternalTabsFocusFirst=B(this,"calciteInternalTabsFocusFirst",6),this.calciteInternalTabsFocusLast=B(this,"calciteInternalTabsFocusLast",6),this.calciteInternalTabTitleRegister=B(this,"calciteInternalTabTitleRegister",6),this.calciteInternalTabIconChanged=B(this,"calciteInternalTabIconChanged",6),this.mutationObserver=Ct("mutation",()=>this.updateHasText()),this.resizeObserver=Ct("resize",()=>{this.calciteInternalTabIconChanged.emit()}),this.guid=`calcite-tab-title-${$i()}`,this.selected=!1,this.disabled=!1,this.iconEnd=void 0,this.iconFlipRtl=void 0,this.iconStart=void 0,this.layout=void 0,this.position=void 0,this.scale=void 0,this.bordered=!1,this.tab=void 0,this.controls=void 0,this.hasText=!1}selectedHandler(){this.selected&&this.emitActiveTab(!1)}connectedCallback(){this.setupTextContentObserver(),this.parentTabNavEl=this.el.closest("calcite-tab-nav"),this.parentTabsEl=this.el.closest("calcite-tabs")}disconnectedCallback(){var e,t,i;(e=this.mutationObserver)==null||e.disconnect(),(t=document.body)==null||t.dispatchEvent(new CustomEvent("calciteTabTitleUnregister",{detail:this.el})),(i=this.resizeObserver)==null||i.disconnect()}componentWillLoad(){ro.isBrowser&&this.updateHasText(),this.tab&&this.selected&&this.emitActiveTab(!1)}componentWillRender(){this.parentTabsEl&&(this.layout=this.parentTabsEl.layout,this.position=this.parentTabsEl.position,this.scale=this.parentTabsEl.scale,this.bordered=this.parentTabsEl.bordered),!this.parentTabsEl&&this.parentTabNavEl&&(this.position=ci(this.parentTabNavEl,"position",this.position),this.scale=ci(this.parentTabNavEl,"scale",this.scale))}render(){const e=this.el.id||this.guid,t=v("calcite-icon",{class:{[Hm.titleIcon]:!0,[Hm.iconStart]:!0},flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:this.scale==="l"?"m":"s"}),i=v("calcite-icon",{class:{[Hm.titleIcon]:!0,[Hm.iconEnd]:!0},flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:this.scale==="l"?"m":"s"});return v(Fe,{"aria-controls":this.controls,"aria-selected":ot(this.selected),id:e,role:"tab",tabIndex:this.selected?0:-1},v("div",{class:{container:!0,[Hm.iconPresent]:this.iconStart||this.iconEnd?!0:null,[Hm.containerHasText]:this.hasText},ref:n=>{var r;return(r=this.resizeObserver)==null?void 0:r.observe(n)}},this.iconStart?t:null,v("slot",null),this.iconEnd?i:null))}async componentDidLoad(){this.calciteInternalTabTitleRegister.emit(await this.getTabIdentifier())}componentDidRender(){et(this,()=>this.selected)}internalTabChangeHandler(e){e.composedPath().find(i=>i.tagName==="CALCITE-TABS")===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then(i=>{this.selected=i===e.detail.tab}),e.stopPropagation())}onClick(){this.emitActiveTab()}keyDownHandler(e){switch(e.key){case" ":case"Enter":this.emitActiveTab(),e.preventDefault();break;case"ArrowRight":e.preventDefault(),Ci(this.el)==="ltr"?this.calciteInternalTabsFocusNext.emit():this.calciteInternalTabsFocusPrevious.emit();break;case"ArrowLeft":e.preventDefault(),Ci(this.el)==="ltr"?this.calciteInternalTabsFocusPrevious.emit():this.calciteInternalTabsFocusNext.emit();break;case"Home":e.preventDefault(),this.calciteInternalTabsFocusFirst.emit();break;case"End":e.preventDefault(),this.calciteInternalTabsFocusLast.emit();break}}async getTabIndex(){return Array.prototype.indexOf.call(this.el.parentElement.querySelectorAll("calcite-tab-title"),this.el)}async getTabIdentifier(){return this.tab?this.tab:this.getTabIndex()}async updateAriaInfo(e=[],t=[]){this.controls=e[t.indexOf(this.el.id)]||null}updateHasText(){this.hasText=this.el.textContent.trim().length>0}setupTextContentObserver(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}emitActiveTab(e=!0){if(this.disabled)return;const t={tab:this.tab};this.calciteInternalTabsActivate.emit(t),e&&this.calciteTabsActivate.emit()}get el(){return this}static get watchers(){return{selected:["selectedHandler"]}}static get style(){return fye}},[1,"calcite-tab-title",{selected:[1540],disabled:[516],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],layout:[1537],position:[1537],scale:[1537],bordered:[1540],tab:[513],controls:[32],hasText:[32],getTabIndex:[64],getTabIdentifier:[64],updateAriaInfo:[64]},[[16,"calciteInternalTabChange","internalTabChangeHandler"],[0,"click","onClick"],[0,"keydown","keyDownHandler"]]]);function oJ(){if(typeof customElements>"u")return;["calcite-tab-title","calcite-icon"].forEach(t=>{switch(t){case"calcite-tab-title":customElements.get(t)||customElements.define(t,mye);break;case"calcite-icon":customElements.get(t)||Te();break}})}oJ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const gye={titleGroup:"title-group"},yye="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-ui-border-1);background-color:var(--calcite-ui-foreground-1)}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-ui-border-1), inset 0 -1px 0 var(--calcite-ui-border-1)}:host([bordered]) section{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1)}:host([bordered][scale=s]) section{padding:0.75rem}:host([bordered][scale=m]) section{padding:0.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]){flex-direction:column-reverse}section{display:flex;flex-grow:1;overflow:hidden;border-block-start-width:1px;border-block-start-color:var(--calcite-ui-border-1);border-block-start-style:solid}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px;border-block-end-color:var(--calcite-ui-border-1)}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}",vye=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.layout="inline",this.position="top",this.scale="m",this.bordered=!1,this.titles=[],this.tabs=[]}render(){return v(Hr,null,v("slot",{name:gye.titleGroup}),v("section",null,v("slot",null)))}calciteInternalTabTitleRegister(e){this.titles=[...this.titles,e.target],this.registryHandler(),e.stopPropagation()}calciteTabTitleUnregister(e){this.titles=this.titles.filter(t=>t!==e.detail),this.registryHandler(),e.stopPropagation()}calciteInternalTabRegister(e){this.tabs=[...this.tabs,e.target],this.registryHandler(),e.stopPropagation()}calciteTabUnregister(e){this.tabs=this.tabs.filter(t=>t!==e.detail),this.registryHandler(),e.stopPropagation()}async registryHandler(){let e,t;if(this.tabs.some(i=>i.tab)||this.titles.some(i=>i.tab))e=this.tabs.sort((i,n)=>i.tab.localeCompare(n.tab)).map(i=>i.id),t=this.titles.sort((i,n)=>i.tab.localeCompare(n.tab)).map(i=>i.id);else{const i=await Promise.all(this.tabs.map(r=>r.getTabIndex())),n=await Promise.all(this.titles.map(r=>r.getTabIndex()));e=i.reduce((r,s,a)=>(r[s]=this.tabs[a].id,r),[]),t=n.reduce((r,s,a)=>(r[s]=this.titles[a].id,r),[])}this.tabs.forEach(i=>i.updateAriaInfo(e,t)),this.titles.forEach(i=>i.updateAriaInfo(e,t))}get el(){return this}static get style(){return yye}},[1,"calcite-tabs",{layout:[513],position:[513],scale:[513],bordered:[1540],titles:[32],tabs:[32]},[[0,"calciteInternalTabTitleRegister","calciteInternalTabTitleRegister"],[16,"calciteTabTitleUnregister","calciteTabTitleUnregister"],[0,"calciteInternalTabRegister","calciteInternalTabRegister"],[16,"calciteTabUnregister","calciteTabUnregister"]]]);function lJ(){if(typeof customElements>"u")return;["calcite-tabs"].forEach(t=>{switch(t){case"calcite-tabs":customElements.get(t)||customElements.define(t,vye);break}})}lJ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */var bye="Expected a function";function wye(e,t,i){var n=!0,r=!0;if(typeof e!="function")throw new TypeError(bye);return l0(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),Jl(e,t,{leading:n,maxWait:t,trailing:r})}const zt={container:"container",controlSection:"control-section",hexOptions:"color-hex-options",section:"section",header:"header",control:"control",splitSection:"section--split",colorModeContainer:"color-mode-container",colorMode:"color-mode",channels:"channels",channel:"channel",savedColors:"saved-colors",savedColorsSection:"saved-colors-section",saveColor:"save-color",deleteColor:"delete-color",savedColorsButtons:"saved-colors-buttons",headerHex:"header--hex",colorFieldAndSlider:"color-field-and-slider",colorFieldAndSliderInteractive:"color-field-and-slider--interactive",colorFieldAndSliderWrap:"color-field-and-slider-wrap",scope:"scope",hueScope:"scope--hue",colorFieldScope:"scope--color-field",savedColor:"saved-color"},gg=Ho("#007AC2"),S$="calcite-color-",W8={r:255,g:255,b:255},ca={h:360,s:100,v:100},K8={s:{slider:{height:10,width:160},colorField:{height:80,width:160},thumb:{radius:8}},m:{slider:{height:14,width:272},colorField:{height:150,width:272},thumb:{radius:10}},l:{slider:{height:16,width:464},colorField:{height:200,width:464},thumb:{radius:12}}},_ye="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]) .container{inline-size:160px}:host([scale=s]) .saved-colors{grid-template-columns:repeat(auto-fill, minmax(20px, 1fr))}:host([scale=s]) .channels{flex-direction:column}:host([scale=s]) .channel{inline-size:100%;margin-block-end:4px}:host([scale=s]) .channel:last-child{margin-block-end:0}:host([scale=m]) .container{inline-size:272px}:host([scale=l]) .header{padding-block-end:0px}:host([scale=l]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .container{inline-size:464px}:host([scale=l]) .color-field-and-slider{margin-block-end:-20px}:host([scale=l]) .section{padding-block:0 16px;padding-inline:16px}:host([scale=l]) .section:first-of-type{padding-block-start:16px}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill, minmax(28px, 1fr));grid-gap:12px;padding-block-start:16px}:host([scale=l]) .control-section{flex-wrap:nowrap;align-items:baseline}:host([scale=l]) .control-section>:nth-child(2){margin-inline-start:12px}:host([scale=l]) .color-hex-options{display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around;min-block-size:98px;inline-size:160px}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-ui-foreground-1);display:inline-block;border:1px solid var(--calcite-ui-border-1)}.color-field-and-slider-wrap{position:relative}.scope{pointer-events:none;position:absolute;font-size:var(--calcite-font-size--1);outline-color:transparent;outline-offset:14px}.scope:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:16px}.color-field-and-slider{margin-block-end:-16px;touch-action:none}.color-field-and-slider--interactive{cursor:pointer}.control-section{display:flex;flex-direction:row;flex-wrap:wrap}.section{padding-block:0 12px;padding-inline:12px}.section:first-of-type{padding-block-start:12px}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;padding-block-end:0.25rem;color:var(--calcite-ui-text-1)}.header--hex,.color-mode-container{padding-block-start:12px}.channels{display:flex;justify-content:space-between}.channel{inline-size:31%}.saved-colors{padding-block-start:12px;display:grid;grid-template-columns:repeat(auto-fill, minmax(24px, 1fr));grid-gap:8px;inline-size:100%}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}",xye=16,Sye=Wd(gg.hex()),Eye="auto",kye=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteColorPickerChange=B(this,"calciteColorPickerChange",6),this.calciteColorPickerInput=B(this,"calciteColorPickerInput",6),this.colorFieldAndSliderHovered=!1,this.hueThumbState="idle",this.internalColorUpdateContext=null,this.mode=gp.HEX,this.shiftKeyChannelAdjustment=0,this.sliderThumbState="idle",this.handleTabActivate=e=>{this.channelMode=e.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)},this.handleColorFieldScopeKeyDown=e=>{const{key:t}=e,i={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};i[t]&&(e.preventDefault(),this.scopeOrientation=t==="ArrowDown"||t==="ArrowUp"?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+i[t].x||0,this.colorFieldScopeTop+i[t].y||0,!1))},this.handleHueScopeKeyDown=e=>{const t=e.shiftKey?10:1,{key:i}=e,n={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(n[i]){e.preventDefault();const r=n[i]*t,s=this.baseColorFieldColor.hue(),a=this.baseColorFieldColor.hue(s+r);this.internalColorSet(a,!1)}},this.handleHexInputChange=e=>{e.stopPropagation();const{allowEmpty:t,color:i}=this,r=e.target.value;if(t&&!r){this.internalColorSet(null);return}const s=i&&Wd(i.hex());r!==s&&this.internalColorSet(Ho(r))},this.handleSavedColorSelect=e=>{const t=e.currentTarget;this.internalColorSet(Ho(t.color))},this.handleChannelInput=e=>{const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),n=this.channelMode==="rgb"?W8[Object.keys(W8)[i]]:ca[Object.keys(ca)[i]];let r;if(this.allowEmpty&&!t.value)r="";else{const s=Number(t.value)+this.shiftKeyChannelAdjustment;r=xF(s,0,n).toString()}t.value=r,t.internalSyncChildElValue()},this.handleChannelChange=e=>{const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),n=[...this.channels];if(this.allowEmpty&&!t.value){this.channels=[null,null,null],this.internalColorSet(null);return}n[i]=Number(t.value),this.updateColorFromChannels(n)},this.handleSavedColorKeyDown=e=>{Qa(e.key)&&(e.preventDefault(),this.handleSavedColorSelect(e))},this.handleColorFieldAndSliderPointerLeave=()=>{this.colorFieldAndSliderInteractive=!1,this.colorFieldAndSliderHovered=!1,this.sliderThumbState!=="drag"&&this.hueThumbState!=="drag"&&(this.hueThumbState="idle",this.sliderThumbState="idle",this.drawColorFieldAndSlider())},this.handleColorFieldAndSliderPointerDown=e=>{var r,s;if(!dr(e))return;const{offsetX:t,offsetY:i}=e,n=this.getCanvasRegion(i);n==="color-field"?(this.hueThumbState="drag",this.captureColorFieldColor(t,i),(r=this.colorFieldScopeNode)==null||r.focus()):n==="slider"&&(this.sliderThumbState="drag",this.captureHueSliderColor(t),(s=this.hueScopeNode)==null||s.focus()),e.preventDefault(),document.addEventListener("pointermove",this.globalPointerMoveHandler),document.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeColorFieldAndSliderRect=this.fieldAndSliderRenderingContext.canvas.getBoundingClientRect()},this.globalPointerUpHandler=e=>{if(!dr(e))return;const t=this.sliderThumbState==="drag"||this.hueThumbState==="drag";this.hueThumbState="idle",this.sliderThumbState="idle",this.activeColorFieldAndSliderRect=null,this.drawColorFieldAndSlider(),t&&this.calciteColorPickerChange.emit()},this.globalPointerMoveHandler=e=>{const{el:t,dimensions:i}=this,n=this.sliderThumbState==="drag",r=this.hueThumbState==="drag";if(!t.isConnected||!n&&!r)return;let s,a;const o=this.activeColorFieldAndSliderRect,{clientX:l,clientY:c}=e;if(this.colorFieldAndSliderHovered)s=l-o.x,a=c-o.y;else{const h=i.colorField.width,p=i.colorField.height,m=i.slider.height;l<o.x+h&&l>o.x?s=l-o.x:l<o.x?s=0:s=h-1,c<o.y+p+m&&c>o.y?a=c-o.y:c<o.y?a=0:a=p+m}r?this.captureColorFieldColor(s,a,!1):this.captureHueSliderColor(s)},this.handleColorFieldAndSliderPointerEnterOrMove=({offsetX:e,offsetY:t})=>{const{dimensions:{colorField:i,slider:n,thumb:r}}=this;this.colorFieldAndSliderInteractive=t<=i.height+n.height,this.colorFieldAndSliderHovered=!0;const s=this.getCanvasRegion(t);if(s==="color-field"){const a=this.hueThumbState,o=this.baseColorFieldColor.hsv(),l=Math.round(o.saturationv()/(ca.s/i.width)),c=Math.round(i.height-o.value()/(ca.v/i.height)),h=this.containsPoint(e,t,l,c,r.radius);let p=!1;a==="idle"&&h?(this.hueThumbState="hover",p=!0):a==="hover"&&!h&&(this.hueThumbState="idle",p=!0),this.hueThumbState!=="drag"&&p&&this.drawColorFieldAndSlider()}else if(s==="slider"){const a=this.baseColorFieldColor.hsv().saturationv(100).value(100),o=this.sliderThumbState,l=Math.round(a.hue()/(360/n.width)),c=Math.round((n.height+this.getSliderCapSpacing())/2)+i.height,h=this.containsPoint(e,t,l,c,r.radius);let p=!1;o==="idle"&&h?(this.sliderThumbState="hover",p=!0):o==="hover"&&!h&&(this.sliderThumbState="idle",p=!0),this.sliderThumbState!=="drag"&&p&&this.drawColorFieldAndSlider()}},this.storeColorFieldScope=e=>{this.colorFieldScopeNode=e},this.storeHueScope=e=>{this.hueScopeNode=e},this.renderChannelsTabTitle=e=>{const{channelMode:t,messages:i}=this,n=e===t,r=e==="rgb"?i.rgb:i.hsv;return v("calcite-tab-title",{class:zt.colorMode,"data-color-mode":e,key:e,onCalciteTabsActivate:this.handleTabActivate,selected:n},r)},this.renderChannelsTab=e=>{const{channelMode:t,channels:i,messages:n}=this,r=e===t,s=e==="rgb",a=s?[n.r,n.g,n.b]:[n.h,n.s,n.v],o=s?[n.red,n.green,n.blue]:[n.hue,n.saturation,n.value],l=Ci(this.el);return v("calcite-tab",{class:zt.control,key:e,selected:r},v("div",{class:zt.channels,dir:"ltr"},i.map((c,h)=>this.renderChannel(c,h,a[h],o[h],l))))},this.renderChannel=(e,t,i,n,r)=>v("calcite-input",{class:zt.channel,"data-channel-index":t,dir:r,label:n,lang:this.effectiveLocale,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputChange:this.handleChannelChange,onCalciteInputInput:this.handleChannelInput,onKeyDown:this.handleKeyDown,prefixText:i,scale:this.scale==="l"?"m":"s",type:"number",value:e==null?void 0:e.toString()}),this.deleteColor=()=>{const e=this.color.hex();if(!(this.savedColors.indexOf(e)>-1))return;const i=this.savedColors.filter(r=>r!==e);this.savedColors=i;const n=`${S$}${this.storageId}`;this.storageId&&localStorage.setItem(n,JSON.stringify(i))},this.saveColor=()=>{const e=this.color.hex();if(this.savedColors.indexOf(e)>-1)return;const i=[...this.savedColors,e];this.savedColors=i;const n=`${S$}${this.storageId}`;this.storageId&&localStorage.setItem(n,JSON.stringify(i))},this.drawColorFieldAndSlider=wye(()=>{this.fieldAndSliderRenderingContext&&(this.drawColorField(),this.drawHueSlider())},xye),this.captureColorFieldColor=(e,t,i=!0)=>{const{dimensions:{colorField:{height:n,width:r}}}=this,s=Math.round(ca.s/r*e),a=Math.round(ca.v/n*(n-t));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(s).value(a),i)},this.initColorFieldAndSlider=e=>{this.fieldAndSliderRenderingContext=e.getContext("2d"),this.updateCanvasSize(e)},this.allowEmpty=!1,this.color=gg,this.disabled=!1,this.format=Eye,this.hideHex=!1,this.hideChannels=!1,this.hideSaved=!1,this.scale="m",this.storageId=void 0,this.messageOverrides=void 0,this.numberingSystem=void 0,this.value=Sye,this.defaultMessages=void 0,this.colorFieldAndSliderInteractive=!1,this.channelMode="rgb",this.channels=this.toChannels(gg),this.dimensions=K8.m,this.effectiveLocale="",this.messages=void 0,this.savedColors=[],this.colorFieldScopeTop=void 0,this.colorFieldScopeLeft=void 0,this.scopeOrientation=void 0,this.hueScopeLeft=void 0,this.hueScopeTop=void 0}handleColorChange(e,t){this.drawColorFieldAndSlider(),this.updateChannelsFromColor(e),this.previousColor=t}handleFormatChange(e){this.setMode(e),this.internalColorSet(this.color,!1,"internal")}handleScaleChange(e="m"){var t;this.updateDimensions(e),this.updateCanvasSize((t=this.fieldAndSliderRenderingContext)==null?void 0:t.canvas)}onMessagesChange(){}handleValueChange(e,t){const{allowEmpty:i,format:n}=this,r=!i||e;let s=!1;if(r){const c=F8(e);if(!c||n!=="auto"&&c!==n){this.showIncompatibleColorWarning(e,n),this.value=t;return}s=this.mode!==c,this.setMode(c)}const a=this.sliderThumbState==="drag"||this.hueThumbState==="drag";if(this.internalColorUpdateContext==="initial")return;if(this.internalColorUpdateContext==="user-interaction"){this.calciteColorPickerInput.emit(),a||this.calciteColorPickerChange.emit();return}const o=i&&!e?null:Ho(e),l=!N8(o,this.color);(s||l)&&this.internalColorSet(o,!0,"internal")}get baseColorFieldColor(){return this.color||this.previousColor||gg}effectiveLocaleChange(){At(this,this.effectiveLocale)}handleChannelKeyUpOrDown(e){this.shiftKeyChannelAdjustment=0;const{key:t}=e;if(t!=="ArrowUp"&&t!=="ArrowDown"||!e.composedPath().some(r=>{var s;return(s=r.classList)==null?void 0:s.contains(zt.channel)}))return;const{shiftKey:i}=e;if(e.preventDefault(),!this.color){this.internalColorSet(this.previousColor),e.stopPropagation();return}const n=9;this.shiftKeyChannelAdjustment=t==="ArrowUp"&&i?n:t==="ArrowDown"&&i?-n:0}async setFocus(){await He(this),this.el.focus()}async componentWillLoad(){We(this);const{allowEmpty:e,color:t,format:i,value:n}=this,r=e&&!n,s=F8(n),a=r||i==="auto"&&s||i===s,o=r?null:a?Ho(n):t;a||this.showIncompatibleColorWarning(n,i),this.setMode(i),this.internalColorSet(o,!1,"initial"),this.updateDimensions(this.scale);const l=`${S$}${this.storageId}`;this.storageId&&localStorage.getItem(l)&&(this.savedColors=JSON.parse(localStorage.getItem(l))),await $t(this)}connectedCallback(){ht(this),Mt(this)}componentDidLoad(){Ke(this)}disconnectedCallback(){document.removeEventListener("pointermove",this.globalPointerMoveHandler),document.removeEventListener("pointerup",this.globalPointerUpHandler),pt(this),Dt(this)}componentDidRender(){et(this)}render(){const{allowEmpty:e,color:t,messages:i,hideHex:n,hideChannels:r,hideSaved:s,savedColors:a,scale:o}=this,l=t?t.hex():null,c=o==="l"?"m":"s",{colorFieldAndSliderInteractive:h,colorFieldScopeTop:p,colorFieldScopeLeft:m,hueScopeLeft:g,hueScopeTop:y,scopeOrientation:b,dimensions:{colorField:{height:w,width:_},slider:{height:x}}}=this,S=y??x/2+w,k=g??_*gg.hue()/ca.h,A=t===null,T=b==="vertical";return v("div",{class:zt.container},v("div",{class:zt.colorFieldAndSliderWrap},v("canvas",{class:{[zt.colorFieldAndSlider]:!0,[zt.colorFieldAndSliderInteractive]:h},onPointerDown:this.handleColorFieldAndSliderPointerDown,onPointerEnter:this.handleColorFieldAndSliderPointerEnterOrMove,onPointerLeave:this.handleColorFieldAndSliderPointerLeave,onPointerMove:this.handleColorFieldAndSliderPointerEnterOrMove,ref:this.initColorFieldAndSlider}),v("div",{"aria-label":T?i.value:i.saturation,"aria-valuemax":T?ca.v:ca.s,"aria-valuemin":"0","aria-valuenow":(T?t==null?void 0:t.saturationv():t==null?void 0:t.value())||"0",class:{[zt.scope]:!0,[zt.colorFieldScope]:!0},onKeyDown:this.handleColorFieldScopeKeyDown,ref:this.storeColorFieldScope,role:"slider",style:{top:`${p||0}px`,left:`${m||0}px`},tabindex:"0"}),v("div",{"aria-label":i.hue,"aria-valuemax":ca.h,"aria-valuemin":"0","aria-valuenow":(t==null?void 0:t.round().hue())||gg.round().hue(),class:{[zt.scope]:!0,[zt.hueScope]:!0},onKeyDown:this.handleHueScopeKeyDown,ref:this.storeHueScope,role:"slider",style:{top:`${S}px`,left:`${k}px`},tabindex:"0"})),n&&r?null:v("div",{class:{[zt.controlSection]:!0,[zt.section]:!0}},n?null:v("div",{class:zt.hexOptions},v("span",{class:{[zt.header]:!0,[zt.headerHex]:!0}},i.hex),v("calcite-color-picker-hex-input",{allowEmpty:e,class:zt.control,hexLabel:i.hex,numberingSystem:this.numberingSystem,onCalciteColorPickerHexInputChange:this.handleHexInputChange,scale:c,value:l})),r?null:v("calcite-tabs",{class:{[zt.colorModeContainer]:!0,[zt.splitSection]:!0},scale:c},v("calcite-tab-nav",{slot:"title-group"},this.renderChannelsTabTitle("rgb"),this.renderChannelsTabTitle("hsv")),this.renderChannelsTab("rgb"),this.renderChannelsTab("hsv"))),s?null:v("div",{class:{[zt.savedColorsSection]:!0,[zt.section]:!0}},v("div",{class:zt.header},v("label",null,i.saved),v("div",{class:zt.savedColorsButtons},v("calcite-button",{appearance:"transparent",class:zt.deleteColor,disabled:A,iconStart:"minus",kind:"neutral",label:i.deleteColor,onClick:this.deleteColor,scale:c,type:"button"}),v("calcite-button",{appearance:"transparent",class:zt.saveColor,disabled:A,iconStart:"plus",kind:"neutral",label:i.saveColor,onClick:this.saveColor,scale:c,type:"button"}))),a.length>0?v("div",{class:zt.savedColors},[...a.map(C=>v("calcite-color-picker-swatch",{active:l===C,class:zt.savedColor,color:C,key:C,onClick:this.handleSavedColorSelect,onKeyDown:this.handleSavedColorKeyDown,scale:o,tabIndex:0}))]):null))}handleKeyDown(e){e.key==="Enter"&&e.preventDefault()}showIncompatibleColorWarning(e,t){console.warn(`ignoring color value (${e}) as it is not compatible with the current format (${t})`)}setMode(e){this.mode=e==="auto"?this.mode:e}captureHueSliderColor(e){const{dimensions:{slider:{width:t}}}=this,i=360/t*e;this.internalColorSet(this.baseColorFieldColor.hue(i),!1)}getCanvasRegion(e){const{dimensions:{colorField:{height:t},slider:{height:i}}}=this;return e<=t?"color-field":e<=t+i?"slider":"none"}internalColorSet(e,t=!0,i="user-interaction"){t&&N8(e,this.color)||(this.internalColorUpdateContext=i,this.color=e,this.value=this.toValue(e),this.internalColorUpdateContext=null)}toValue(e,t=this.mode){if(!e)return null;const i="hex";if(t.includes(i))return Wd(e.round()[i]());if(t.includes("-css"))return e[t.replace("-css","").replace("a","")]().round().string();const n=e[t]().round().object();return t.endsWith("a")&&(n.a=n.alpha,delete n.alpha),n}getSliderCapSpacing(){const{dimensions:{slider:{height:e},thumb:{radius:t}}}=this;return t*2-e}updateDimensions(e="m"){this.dimensions=K8[e]}drawColorField(){const e=this.fieldAndSliderRenderingContext,{dimensions:{colorField:{height:t,width:i}}}=this;e.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).string(),e.fillRect(0,0,i,t);const n=e.createLinearGradient(0,0,i,0);n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=n,e.fillRect(0,0,i,t);const r=e.createLinearGradient(0,0,0,t);r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=r,e.fillRect(0,0,i,t),this.drawActiveColorFieldColor()}setCanvasContextSize(e,{height:t,width:i}){const n=window.devicePixelRatio||1;e.width=i*n,e.height=t*n,e.style.height=`${t}px`,e.style.width=`${i}px`,e.getContext("2d").scale(n,n)}updateCanvasSize(e){e&&(this.setCanvasContextSize(e,{width:this.dimensions.colorField.width,height:this.dimensions.colorField.height+this.dimensions.slider.height+this.getSliderCapSpacing()*2}),this.drawColorFieldAndSlider())}containsPoint(e,t,i,n,r){return Math.pow(e-i,2)+Math.pow(t-n,2)<=Math.pow(r,2)}drawActiveColorFieldColor(){const{color:e}=this;if(!e)return;const t=e.hsv(),{dimensions:{colorField:{height:i,width:n},thumb:{radius:r}}}=this,s=t.saturationv()/(ca.s/n),a=i-t.value()/(ca.v/i);requestAnimationFrame(()=>{this.colorFieldScopeLeft=s,this.colorFieldScopeTop=a}),this.drawThumb(this.fieldAndSliderRenderingContext,r,s,a,t,this.hueThumbState)}drawThumb(e,t,i,n,r,s){const o=2*Math.PI;e.beginPath(),e.arc(i,n,t,0,o),e.shadowBlur=s==="hover"?32:16,e.shadowColor=`rgba(0, 0, 0, ${s==="drag"?.32:.16})`,e.fillStyle="#fff",e.fill(),e.beginPath(),e.arc(i,n,t-3,0,o),e.shadowBlur=0,e.shadowColor="transparent",e.fillStyle=r.rgb().string(),e.fill()}drawActiveHueSliderColor(){const{color:e}=this;if(!e)return;const t=e.hsv().saturationv(100).value(100),{dimensions:{colorField:{height:i},slider:{height:n,width:r},thumb:{radius:s}}}=this,a=t.hue()/(360/r),o=n/2+i;requestAnimationFrame(()=>{this.hueScopeLeft=a,this.hueScopeTop=o}),this.drawThumb(this.fieldAndSliderRenderingContext,s,a,o,t,this.sliderThumbState)}drawHueSlider(){const e=this.fieldAndSliderRenderingContext,{dimensions:{colorField:{height:t},slider:{height:i,width:n}}}=this,r=e.createLinearGradient(0,0,n,0),s=["red","yellow","lime","cyan","blue","magenta","red"],a=1/(s.length-1);let o=0;s.forEach(l=>{r.addColorStop(o,Ho(l).string()),o+=a}),e.fillStyle=r,e.clearRect(0,t,n,i+this.getSliderCapSpacing()*2),e.fillRect(0,t,n,i),this.drawActiveHueSliderColor()}updateColorFromChannels(e){this.internalColorSet(Ho(e,this.channelMode))}updateChannelsFromColor(e){this.channels=e?this.toChannels(e):[null,null,null]}toChannels(e){const{channelMode:t}=this;return e[t]().array().map(i=>Math.floor(i))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{color:["handleColorChange"],format:["handleFormatChange"],scale:["handleScaleChange"],messageOverrides:["onMessagesChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return _ye}},[17,"calcite-color-picker",{allowEmpty:[516,"allow-empty"],color:[1040],disabled:[516],format:[513],hideHex:[516,"hide-hex"],hideChannels:[516,"hide-channels"],hideSaved:[516,"hide-saved"],scale:[513],storageId:[513,"storage-id"],messageOverrides:[1040],numberingSystem:[513,"numbering-system"],value:[1025],messages:[1040],defaultMessages:[32],colorFieldAndSliderInteractive:[32],channelMode:[32],channels:[32],dimensions:[32],effectiveLocale:[32],savedColors:[32],colorFieldScopeTop:[32],colorFieldScopeLeft:[32],scopeOrientation:[32],hueScopeLeft:[32],hueScopeTop:[32],setFocus:[64]},[[2,"keydown","handleChannelKeyUpOrDown"],[2,"keyup","handleChannelKeyUpOrDown"]]]);function Iye(){if(typeof customElements>"u")return;["calcite-color-picker","calcite-button","calcite-color-picker-hex-input","calcite-color-picker-swatch","calcite-icon","calcite-input","calcite-loader","calcite-progress","calcite-tab","calcite-tab-nav","calcite-tab-title","calcite-tabs"].forEach(t=>{switch(t){case"calcite-color-picker":customElements.get(t)||customElements.define(t,kye);break;case"calcite-button":customElements.get(t)||b_();break;case"calcite-color-picker-hex-input":customElements.get(t)||rJ();break;case"calcite-color-picker-swatch":customElements.get(t)||_F();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-input":customElements.get(t)||Mu();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-progress":customElements.get(t)||so();break;case"calcite-tab":customElements.get(t)||sJ();break;case"calcite-tab-nav":customElements.get(t)||aJ();break;case"calcite-tab-title":customElements.get(t)||oJ();break;case"calcite-tabs":customElements.get(t)||lJ();break}})}Iye();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function Cye(e,t){for(var i=-1,n=e==null?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}var cJ=Array.isArray,Tye=1/0,Y8=o0?o0.prototype:void 0,J8=Y8?Y8.toString:void 0;function uJ(e){if(typeof e=="string")return e;if(cJ(e))return Cye(e,uJ)+"";if(IY(e))return J8?J8.call(e):"";var t=e+"";return t=="0"&&1/e==-Tye?"-0":t}function $ye(e){return e}var Aye="[object AsyncFunction]",Mye="[object Function]",Dye="[object GeneratorFunction]",Oye="[object Proxy]";function Rye(e){if(!l0(e))return!1;var t=mC(e);return t==Mye||t==Dye||t==Aye||t==Oye}var Pye=9007199254740991,Lye=/^(?:0|[1-9]\d*)$/;function Fye(e,t){var i=typeof e;return t=t??Pye,!!t&&(i=="number"||i!="symbol"&&Lye.test(e))&&e>-1&&e%1==0&&e<t}var Nye=9007199254740991;function dJ(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Nye}function zye(e){return e!=null&&dJ(e.length)&&!Rye(e)}var Vye=Object.prototype;function jye(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||Vye;return e===i}function Uye(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}var Bye="[object Arguments]";function Z8(e){return gC(e)&&mC(e)==Bye}var hJ=Object.prototype,Hye=hJ.hasOwnProperty,Gye=hJ.propertyIsEnumerable,qye=Z8(function(){return arguments}())?Z8:function(e){return gC(e)&&Hye.call(e,"callee")&&!Gye.call(e,"callee")};function Wye(){return!1}var pJ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Q8=pJ&&typeof module=="object"&&module&&!module.nodeType&&module,Kye=Q8&&Q8.exports===pJ,X8=Kye?lF.Buffer:void 0,Yye=X8?X8.isBuffer:void 0,Jye=Yye||Wye,Zye="[object Arguments]",Qye="[object Array]",Xye="[object Boolean]",e0e="[object Date]",t0e="[object Error]",i0e="[object Function]",n0e="[object Map]",r0e="[object Number]",s0e="[object Object]",a0e="[object RegExp]",o0e="[object Set]",l0e="[object String]",c0e="[object WeakMap]",u0e="[object ArrayBuffer]",d0e="[object DataView]",h0e="[object Float32Array]",p0e="[object Float64Array]",f0e="[object Int8Array]",m0e="[object Int16Array]",g0e="[object Int32Array]",y0e="[object Uint8Array]",v0e="[object Uint8ClampedArray]",b0e="[object Uint16Array]",w0e="[object Uint32Array]",si={};si[h0e]=si[p0e]=si[f0e]=si[m0e]=si[g0e]=si[y0e]=si[v0e]=si[b0e]=si[w0e]=!0;si[Zye]=si[Qye]=si[u0e]=si[Xye]=si[d0e]=si[e0e]=si[t0e]=si[i0e]=si[n0e]=si[r0e]=si[s0e]=si[a0e]=si[o0e]=si[l0e]=si[c0e]=!1;function _0e(e){return gC(e)&&dJ(e.length)&&!!si[mC(e)]}function x0e(e){return function(t){return e(t)}}var fJ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,I1=fJ&&typeof module=="object"&&module&&!module.nodeType&&module,S0e=I1&&I1.exports===fJ,E$=S0e&&EY.process,eV=function(){try{var e=I1&&I1.require&&I1.require("util").types;return e||E$&&E$.binding&&E$.binding("util")}catch{}}(),tV=eV&&eV.isTypedArray,E0e=tV?x0e(tV):_0e,k0e=Object.prototype,I0e=k0e.hasOwnProperty;function C0e(e,t){var i=cJ(e),n=!i&&qye(e),r=!i&&!n&&Jye(e),s=!i&&!n&&!r&&E0e(e),a=i||n||r||s,o=a?Uye(e.length,String):[],l=o.length;for(var c in e)(t||I0e.call(e,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Fye(c,l)))&&o.push(c);return o}function T0e(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var $0e=Object.prototype,A0e=$0e.hasOwnProperty;function M0e(e){if(!l0(e))return T0e(e);var t=jye(e),i=[];for(var n in e)n=="constructor"&&(t||!A0e.call(e,n))||i.push(n);return i}function D0e(e){return zye(e)?C0e(e,!0):M0e(e)}function O0e(e){return e==null?"":uJ(e)}function R0e(e){return function(t,i,n){for(var r=-1,s=Object(t),a=n(t),o=a.length;o--;){var l=a[e?o:++r];if(i(s[l],l,s)===!1)break}return t}}var P0e=R0e();function L0e(e){return typeof e=="function"?e:$ye}var mJ=/[\\^$.*+?()[\]{}|]/g,F0e=RegExp(mJ.source);function N0e(e){return e=O0e(e),e&&F0e.test(e)?e.replace(mJ,"\\$&"):e}function z0e(e,t){return e==null?e:P0e(e,L0e(t),D0e)}const Q3=(e,t)=>{const i=N0e(t),n=new RegExp(i,"i");e.length===0&&console.warn(`No data was passed to the filter function.
    The data argument should be an array of objects`);const r=(a,o)=>{if(a!=null&&a.constant||a!=null&&a.filterDisabled)return!0;let l=!1;return z0e(a,c=>{typeof c=="function"||c==null||(Array.isArray(c)||typeof c=="object"&&c!==null?r(c,o)&&(l=!0):o.test(c)&&(l=!0))}),l};return e.filter(a=>r(a,n))};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const X3="CALCITE-COMBOBOX-ITEM",SF="CALCITE-COMBOBOX-ITEM-GROUP",eD=`${X3}, ${SF}`;function gJ(e){var n,r;const t=(n=e.parentElement)==null?void 0:n.closest(eD),i=(r=t==null?void 0:t.parentElement)==null?void 0:r.closest(eD);return[t,i].filter(s=>s)}function iV(e){var t;return((t=e.ancestors)==null?void 0:t.filter(i=>i.nodeName==="CALCITE-COMBOBOX-ITEM"))||[]}function V0e(e){return Go(e.querySelectorAll("calcite-combobox-item"))}function nV(e){return Go(e.querySelectorAll("calcite-combobox-item")).filter(i=>i.selected).length>0}function yJ(e){return ro.isBrowser?document.evaluate("ancestor::calcite-combobox-item",e,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength:0}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const j0e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{position:relative;display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){font-size:var(--calcite-font-size--2);--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-input-height:1.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-input-height:2rem}:host([scale=l]){font-size:var(--calcite-font-size-0);--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-input-height:2.75rem}.wrapper{display:flex;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);outline-color:transparent;padding-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);padding-inline:var(--calcite-combobox-item-spacing-unit-l)}:host(:focus-within) .wrapper,.wrapper--active{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.wrapper--single{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l);cursor:pointer;flex-wrap:nowrap}.grid-input{display:flex;flex-grow:1;flex-wrap:wrap;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px}.input{flex-grow:1;-webkit-appearance:none;appearance:none;border-style:none;background-color:transparent;padding:0px;font-family:inherit;color:var(--calcite-ui-text-1);font-size:inherit;block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height);min-inline-size:120px;margin-block-end:var(--calcite-combobox-item-spacing-unit-s)}.input:focus{outline:2px solid transparent;outline-offset:2px}.input--transparent{opacity:0}.input--single{margin-block:0px;padding:0px}.wrapper--active .input-single{cursor:text}.input--hidden{pointer-events:none;inline-size:0px;min-inline-size:0px;opacity:0}.input--icon{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.input-wrap{display:flex;flex-grow:1}.input-wrap--single{flex:1 1 0%;overflow:hidden}.label{pointer-events:none;display:flex;max-inline-size:100%;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-weight:var(--calcite-font-weight-normal);block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height)}.label--icon{padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.icon-end,.icon-start{display:flex;inline-size:1rem;cursor:pointer;align-items:center}.icon-end{flex:none}.floating-ui-container{--calcite-floating-ui-z-index:600;display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index);visibility:hidden}.floating-ui-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:1;border-radius:0.25rem}.floating-ui-container[data-placement^=bottom] .calcite-floating-ui-anim{transform:translateY(-5px)}.floating-ui-container[data-placement^=top] .calcite-floating-ui-anim{transform:translateY(5px)}.floating-ui-container[data-placement^=left] .calcite-floating-ui-anim{transform:translateX(5px)}.floating-ui-container[data-placement^=right] .calcite-floating-ui-anim{transform:translateX(-5px)}.floating-ui-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}.floating-ui-container--active{visibility:visible}@media (forced-colors: active){.wrapper,.floating-ui-container--active{border:1px solid canvasText}}.screen-readers-only{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.list-container{max-block-size:45vh;overflow-y:auto;background-color:var(--calcite-ui-foreground-1);inline-size:var(--calcite-dropdown-width)}.list{margin:0px;display:block;padding:0px}.list--hide{block-size:0px;overflow:hidden}.chip{margin-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);margin-inline:0 var(--calcite-combobox-item-spacing-unit-s);max-inline-size:100%}.chip--active{background-color:var(--calcite-ui-foreground-3)}.item{display:block}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",U0e=e=>e.tagName===SF,rV="combobox-item-",sV="combobox-chip-",aV="combobox-label-",Mx="combobox-listbox-",oV="combobox-input-",B0e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteComboboxChange=B(this,"calciteComboboxChange",6),this.calciteComboboxFilterChange=B(this,"calciteComboboxFilterChange",6),this.calciteComboboxChipClose=B(this,"calciteComboboxChipClose",6),this.calciteComboboxBeforeClose=B(this,"calciteComboboxBeforeClose",6),this.calciteComboboxClose=B(this,"calciteComboboxClose",6),this.calciteComboboxBeforeOpen=B(this,"calciteComboboxBeforeOpen",6),this.calciteComboboxOpen=B(this,"calciteComboboxOpen",6),this.placement=pF,this.internalValueChangeFlag=!1,this.textInput=null,this.mutationObserver=Ct("mutation",()=>this.updateItems()),this.resizeObserver=Ct("resize",()=>this.setMaxScrollerHeight()),this.guid=$i(),this.inputHeight=0,this.ignoreSelectedEventsFlag=!1,this.openTransitionProp="opacity",this.setFilteredPlacements=()=>{const{el:e,flipPlacements:t}=this;this.filteredFlipPlacements=t?bC(t,e):null},this.getValue=()=>{const e=this.selectedItems.map(t=>{var i;return(i=t==null?void 0:t.value)==null?void 0:i.toString()});return e!=null&&e.length?e.length>1?e:e[0]:""},this.onLabelClick=()=>{this.setFocus()},this.keydownHandler=e=>{const{key:t}=e;switch(t){case"Tab":this.activeChipIndex=-1,this.activeItemIndex=-1,this.allowCustomValues&&this.text?(this.addCustomChip(this.text,!0),e.preventDefault()):this.open&&(this.open=!1,e.preventDefault());break;case"ArrowLeft":this.previousChip(),e.preventDefault();break;case"ArrowRight":this.nextChip(),e.preventDefault();break;case"ArrowUp":e.preventDefault(),this.shiftActiveItemIndex(-1),this.comboboxInViewport()||this.el.scrollIntoView();break;case"ArrowDown":e.preventDefault(),this.open||(this.open=!0),this.shiftActiveItemIndex(1),this.comboboxInViewport()||this.el.scrollIntoView();break;case" ":this.textInput.value||(e.preventDefault(),this.open=!0,this.shiftActiveItemIndex(1));break;case"Home":if(!this.open)return;e.preventDefault(),this.updateActiveItemIndex(0),this.scrollToActiveItem(),this.comboboxInViewport()||this.el.scrollIntoView();break;case"End":if(!this.open)return;e.preventDefault(),this.updateActiveItemIndex(this.filteredItems.length-1),this.scrollToActiveItem(),this.comboboxInViewport()||this.el.scrollIntoView();break;case"Escape":this.open=!1,e.preventDefault();break;case"Enter":this.activeItemIndex>-1?(this.toggleSelection(this.filteredItems[this.activeItemIndex]),e.preventDefault()):this.activeChipIndex>-1?(this.removeActiveChip(),e.preventDefault()):this.allowCustomValues&&this.text?(this.addCustomChip(this.text,!0),e.preventDefault()):e.defaultPrevented||Am(this)&&e.preventDefault();break;case"Delete":case"Backspace":this.activeChipIndex>-1?(e.preventDefault(),this.removeActiveChip()):!this.text&&this.isMulti()&&(e.preventDefault(),this.removeLastChip());break}},this.toggleCloseEnd=()=>{this.open=!1,this.el.removeEventListener("calciteComboboxClose",this.toggleCloseEnd)},this.toggleOpenEnd=()=>{this.open=!1,this.el.removeEventListener("calciteComboboxOpen",this.toggleOpenEnd)},this.setMaxScrollerHeight=async()=>{const{listContainerEl:e,open:t,referenceEl:i}=this;if(!e||!t)return;await this.reposition(!0);const n=this.getMaxScrollerHeight();e.style.maxHeight=n>0?`${n}px`:"",e.style.minWidth=`${i.clientWidth}px`,await this.reposition(!0)},this.calciteChipCloseHandler=e=>{this.open=!1;const t=this.items.find(i=>i===e);t&&this.toggleSelection(t,!1),this.calciteComboboxChipClose.emit()},this.clickHandler=e=>{e.composedPath().some(t=>t.tagName==="CALCITE-CHIP")||(this.open=!this.open,this.updateActiveItemIndex(0),this.setFocus())},this.setInactiveIfNotContained=e=>{const t=e.composedPath();!this.open||t.includes(this.el)||t.includes(this.referenceEl)||(this.allowCustomValues&&this.text.trim().length&&this.addCustomChip(this.text),this.selectionMode==="single"&&(this.textInput&&(this.textInput.value=""),this.text="",this.filterItems(""),this.updateActiveItemIndex(-1)),this.open=!1)},this.setFloatingEl=e=>{this.floatingEl=e,Th(this,this.referenceEl,this.floatingEl)},this.setContainerEl=e=>{this.resizeObserver.observe(e),this.listContainerEl=e,this.transitionEl=e,Xa(this)},this.setReferenceEl=e=>{this.referenceEl=e,Th(this,this.referenceEl,this.floatingEl)},this.inputHandler=e=>{const t=e.target.value;this.text=t,this.filterItems(t),t&&(this.activeChipIndex=-1)},this.filterItems=(()=>{const e=(t,i)=>t&&i.some(({label:n,value:r})=>U0e(t)?r===t.label:r===t.textLabel||r===t.value||n===t.textLabel||n===t.value);return Jl(t=>{const i=Q3(this.data,t);this.getCombinedItems().forEach(r=>{const s=!e(r,i);r.hidden=s;const[a,o]=r.ancestors;(e(a,i)||e(o,i))&&(r.hidden=!1),s||r.ancestors.forEach(l=>l.hidden=!1)}),this.filteredItems=this.getfilteredItems(),this.calciteComboboxFilterChange.emit()},100)})(),this.internalComboboxChangeEvent=()=>{this.calciteComboboxChange.emit()},this.emitComboboxChange=Jl(this.internalComboboxChangeEvent,0),this.updateItems=()=>{this.items=this.getItems(),this.groupItems=this.getGroupItems(),this.data=this.getData(),this.selectedItems=this.getSelectedItems(),this.filteredItems=this.getfilteredItems(),this.needsIcon=this.getNeedsIcon(),this.allowCustomValues||this.setMaxScrollerHeight()},this.scrollToActiveItem=()=>{const e=this.filteredItems[this.activeItemIndex];if(!e)return;const t=this.calculateSingleItemHeight(e),{offsetHeight:i,scrollTop:n}=this.listContainerEl;i+n<e.offsetTop+t?this.listContainerEl.scrollTop=e.offsetTop-i+t:e.offsetTop<n&&(this.listContainerEl.scrollTop=e.offsetTop)},this.comboboxFocusHandler=()=>{var e;(e=this.textInput)==null||e.focus()},this.comboboxBlurHandler=e=>{this.setInactiveIfNotContained(e)},this.open=!1,this.disabled=!1,this.label=void 0,this.placeholder=void 0,this.placeholderIcon=void 0,this.placeholderIconFlipRtl=!1,this.maxItems=0,this.name=void 0,this.allowCustomValues=void 0,this.overlayPositioning="absolute",this.required=!1,this.selectionMode="multiple",this.scale="m",this.value=null,this.flipPlacements=void 0,this.messages=void 0,this.messageOverrides=void 0,this.selectedItems=[],this.filteredItems=[],this.items=[],this.groupItems=[],this.needsIcon=void 0,this.activeItemIndex=-1,this.activeChipIndex=-1,this.activeDescendant="",this.text="",this.effectiveLocale=void 0,this.defaultMessages=void 0}openHandler(e){if(e||sm(this.floatingEl),this.disabled){this.open=!1;return}this.setMaxScrollerHeight()}handleDisabledChange(e){e||(this.open=!1)}maxItemsHandler(){this.setMaxScrollerHeight()}overlayPositioningHandler(){this.reposition(!0)}valueHandler(e){if(!this.internalValueChangeFlag){const t=this.getItems();Array.isArray(e)?t.forEach(i=>i.selected=e.includes(i.value)):e?t.forEach(i=>i.selected=e===i.value):t.forEach(i=>i.selected=!1),this.updateItems()}}onMessagesChange(){}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}selectedItemsHandler(){this.internalValueChangeFlag=!0,this.value=this.getValue(),this.internalValueChangeFlag=!1}documentClickHandler(e){dr(e)&&this.setInactiveIfNotContained(e)}calciteComboboxItemChangeHandler(e){if(this.ignoreSelectedEventsFlag)return;const t=e.target,i=this.filteredItems.indexOf(t);this.updateActiveItemIndex(i),this.toggleSelection(t,t.selected)}async reposition(e=!1){const{floatingEl:t,referenceEl:i,placement:n,overlayPositioning:r,filteredFlipPlacements:s}=this;return v_(this,{floatingEl:t,referenceEl:i,overlayPositioning:r,placement:n,flipPlacements:s,type:"menu"},e)}async setFocus(){var e;await He(this),(e=this.textInput)==null||e.focus(),this.activeChipIndex=-1,this.activeItemIndex=-1}connectedCallback(){var e;ht(this),Mt(this),this.internalValueChangeFlag=!0,this.value=this.getValue(),this.internalValueChangeFlag=!1,(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0}),vr(this),na(this),Xa(this),this.setFilteredPlacements(),this.reposition(!0),this.open&&this.openHandler(this.open)}async componentWillLoad(){We(this),this.updateItems(),await $t(this)}componentDidLoad(){_C(this,this.getValue()),this.reposition(!0),Ke(this)}componentDidRender(){this.el.offsetHeight!==this.inputHeight&&(this.reposition(!0),this.inputHeight=this.el.offsetHeight),et(this)}disconnectedCallback(){var e,t;(e=this.mutationObserver)==null||e.disconnect(),(t=this.resizeObserver)==null||t.disconnect(),Gr(this),ra(this),V0(this,this.referenceEl,this.floatingEl),Cm(this),pt(this),Dt(this)}textHandler(){this.updateActiveItemIndex(-1)}effectiveLocaleChange(){At(this,this.effectiveLocale)}comboboxInViewport(){const e=this.el.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.right<=(window.innerWidth||document.documentElement.clientWidth)&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)}onBeforeOpen(){this.calciteComboboxBeforeOpen.emit()}onOpen(){this.calciteComboboxOpen.emit()}onBeforeClose(){this.calciteComboboxBeforeClose.emit()}onClose(){this.calciteComboboxClose.emit()}getMaxScrollerHeight(){const e=this.getCombinedItems().filter(r=>!r.hidden),{maxItems:t}=this;let i=0,n=0;return e.length>t&&e.forEach(r=>{if(i<t&&t>0){const s=this.calculateSingleItemHeight(r);s>0&&(n+=s,i++)}}),n}calculateSingleItemHeight(e){if(!e)return;let t=e.offsetHeight;return Array.from(e.querySelectorAll(eD)).map(n=>n==null?void 0:n.offsetHeight).forEach(n=>{t-=n}),t}getCombinedItems(){return[...this.groupItems,...this.items]}toggleSelection(e,t=!e.selected){e&&(this.isMulti()?(e.selected=t,this.updateAncestors(e),this.selectedItems=this.getSelectedItems(),this.emitComboboxChange(),this.resetText(),this.filterItems("")):(this.ignoreSelectedEventsFlag=!0,this.items.forEach(i=>i.selected=i===e?t:!1),this.ignoreSelectedEventsFlag=!1,this.selectedItems=this.getSelectedItems(),this.emitComboboxChange(),this.textInput&&(this.textInput.value=e.textLabel),this.open=!1,this.updateActiveItemIndex(-1),this.resetText(),this.filterItems("")))}updateAncestors(e){if(this.selectionMode!=="ancestors")return;const t=iV(e),i=V0e(e);e.selected?t.forEach(n=>{n.selected=!0}):(i.forEach(n=>n.selected=!1),[...t].forEach(n=>{nV(n)||(n.selected=!1)}))}getfilteredItems(){return this.items.filter(e=>!e.hidden)}getSelectedItems(){if(!this.isMulti()){const e=this.items.find(({selected:t})=>t);return e?[e]:[]}return this.items.filter(e=>e.selected&&(this.selectionMode!=="ancestors"||!nV(e))).sort((e,t)=>{const i=this.selectedItems.indexOf(e),n=this.selectedItems.indexOf(t);return i>-1&&n>-1?i-n:n-i})}getData(){return this.items.map(e=>({filterDisabled:e.filterDisabled,value:e.value,label:e.textLabel}))}getNeedsIcon(){return this.selectionMode==="single"&&this.items.some(e=>e.icon)}resetText(){this.textInput&&(this.textInput.value=""),this.text=""}getItems(){return Array.from(this.el.querySelectorAll(X3)).filter(t=>!t.disabled)}getGroupItems(){return Array.from(this.el.querySelectorAll(SF))}addCustomChip(e,t){const i=this.items.find(n=>n.textLabel===e);if(i)this.toggleSelection(i,!0);else{this.isMulti()||this.toggleSelection(this.selectedItems[this.selectedItems.length-1],!1);const n=document.createElement(X3);n.value=e,n.textLabel=e,n.selected=!0,this.el.appendChild(n),this.resetText(),t&&this.setFocus(),this.updateItems(),this.filterItems(""),this.emitComboboxChange()}}removeActiveChip(){this.toggleSelection(this.selectedItems[this.activeChipIndex],!1),this.setFocus()}removeLastChip(){this.toggleSelection(this.selectedItems[this.selectedItems.length-1],!1),this.setFocus()}previousChip(){if(this.text)return;const e=this.selectedItems.length-1,t=this.activeChipIndex;this.activeChipIndex=t===-1?e:Math.max(t-1,0),this.updateActiveItemIndex(-1),this.focusChip()}nextChip(){if(this.text||this.activeChipIndex===-1)return;const e=this.selectedItems.length-1,t=this.activeChipIndex+1;t>e?(this.activeChipIndex=-1,this.setFocus()):(this.activeChipIndex=t,this.focusChip()),this.updateActiveItemIndex(-1)}focusChip(){var i;const e=(i=this.selectedItems[this.activeChipIndex])==null?void 0:i.guid,t=e?this.referenceEl.querySelector(`#${sV}${e}`):null;t==null||t.setFocus()}shiftActiveItemIndex(e){const{length:t}=this.filteredItems,i=(this.activeItemIndex+t+e)%t;this.updateActiveItemIndex(i),this.scrollToActiveItem()}updateActiveItemIndex(e){this.activeItemIndex=e;let t=null;this.filteredItems.forEach((i,n)=>{n===e?(i.active=!0,t=`${rV}${i.guid}`):i.active=!1}),this.activeDescendant=t,this.activeItemIndex>-1&&(this.activeChipIndex=-1)}isMulti(){return this.selectionMode!=="single"}renderChips(){const{activeChipIndex:e,scale:t,selectionMode:i,messages:n}=this;return this.selectedItems.map((r,s)=>{const a={chip:!0,"chip--active":e===s},l=[...[...iV(r)].reverse(),r].map(h=>h.textLabel),c=i!=="ancestors"?r.textLabel:l.join(" / ");return v("calcite-chip",{class:a,closable:!0,icon:r.icon,iconFlipRtl:r.iconFlipRtl,id:r.guid?`${sV}${r.guid}`:null,key:r.textLabel,messageOverrides:{dismissLabel:n.removeTag},onCalciteChipClose:()=>this.calciteChipCloseHandler(r),scale:t,title:c,value:r.value},c)})}renderInput(){const{guid:e,disabled:t,placeholder:i,selectionMode:n,selectedItems:r,open:s}=this,a=n==="single",o=r[0],l=!s&&a&&!!o;return v("span",{class:{"input-wrap":!0,"input-wrap--single":a}},l&&v("span",{class:{label:!0,"label--icon":!!(o!=null&&o.icon)},key:"label"},o.textLabel),v("input",{"aria-activedescendant":this.activeDescendant,"aria-autocomplete":"list","aria-controls":`${Mx}${e}`,"aria-label":zr(this),class:{input:!0,"input--single":!0,"input--transparent":this.activeChipIndex>-1,"input--hidden":l,"input--icon":!!this.placeholderIcon},disabled:t,id:`${oV}${e}`,key:"input",onBlur:this.comboboxBlurHandler,onFocus:this.comboboxFocusHandler,onInput:this.inputHandler,placeholder:i,ref:c=>this.textInput=c,type:"text"}))}renderListBoxOptions(){return this.filteredItems.map(e=>v("li",{"aria-selected":ot(e.selected),id:e.guid?`${rV}${e.guid}`:null,role:"option",tabindex:"-1"},e.textLabel))}renderFloatingUIContainer(){const{setFloatingEl:e,setContainerEl:t,open:i}=this,n={"list-container":!0,[el.animation]:!0,[el.animationActive]:i};return v("div",{"aria-hidden":"true",class:{"floating-ui-container":!0,"floating-ui-container--active":i},ref:e},v("div",{class:n,ref:t},v("ul",{class:{list:!0,"list--hide":!i}},v("slot",null))))}renderIconStart(){const{selectedItems:e,placeholderIcon:t,selectionMode:i,placeholderIconFlipRtl:n}=this,r=e[0],s=r==null?void 0:r.icon,a=i==="single";return(!this.open&&r?!!s&&a:!!this.placeholderIcon&&(!r||a))&&v("span",{class:"icon-start"},v("calcite-icon",{class:"selected-icon",flipRtl:this.open&&r?r.iconFlipRtl:n,icon:!this.open&&r?s:t,scale:"s"}))}renderIconEnd(){const{open:e}=this;return v("span",{class:"icon-end"},v("calcite-icon",{icon:e?"chevron-up":"chevron-down",scale:"s"}))}render(){const{guid:e,label:t,open:i}=this,n=this.selectionMode==="single";return v(Fe,{onClick:this.comboboxFocusHandler},v("div",{"aria-autocomplete":"list","aria-controls":`${Mx}${e}`,"aria-expanded":ot(i),"aria-haspopup":"listbox","aria-label":zr(this),"aria-live":"polite","aria-owns":`${Mx}${e}`,class:{wrapper:!0,"wrapper--single":n||!this.selectedItems.length,"wrapper--active":i},onClick:this.clickHandler,onKeyDown:this.keydownHandler,ref:this.setReferenceEl,role:"combobox"},v("div",{class:"grid-input"},this.renderIconStart(),!n&&this.renderChips(),v("label",{class:"screen-readers-only",htmlFor:`${oV}${e}`,id:`${aV}${e}`},t),this.renderInput()),this.renderIconEnd()),v("ul",{"aria-labelledby":`${aV}${e}`,"aria-multiselectable":"true",class:"screen-readers-only",id:`${Mx}${e}`,role:"listbox",tabIndex:-1},this.renderListBoxOptions()),this.renderFloatingUIContainer(),v(sa,{component:this}))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{open:["openHandler"],disabled:["handleDisabledChange"],maxItems:["maxItemsHandler"],overlayPositioning:["overlayPositioningHandler"],value:["valueHandler"],messageOverrides:["onMessagesChange"],flipPlacements:["flipPlacementsHandler"],selectedItems:["selectedItemsHandler"],text:["textHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return j0e}},[1,"calcite-combobox",{open:[1540],disabled:[516],label:[1],placeholder:[1],placeholderIcon:[513,"placeholder-icon"],placeholderIconFlipRtl:[516,"placeholder-icon-flip-rtl"],maxItems:[514,"max-items"],name:[513],allowCustomValues:[516,"allow-custom-values"],overlayPositioning:[513,"overlay-positioning"],required:[516],selectionMode:[513,"selection-mode"],scale:[513],value:[1025],flipPlacements:[16],messages:[1040],messageOverrides:[1040],selectedItems:[1040],filteredItems:[1040],items:[32],groupItems:[32],needsIcon:[32],activeItemIndex:[32],activeChipIndex:[32],activeDescendant:[32],text:[32],effectiveLocale:[32],defaultMessages:[32],reposition:[64],setFocus:[64]},[[5,"pointerdown","documentClickHandler"],[0,"calciteComboboxItemChange","calciteComboboxItemChangeHandler"]]]);function H0e(){if(typeof customElements>"u")return;["calcite-combobox","calcite-chip","calcite-icon"].forEach(t=>{switch(t){case"calcite-combobox":customElements.get(t)||customElements.define(t,B0e);break;case"calcite-chip":customElements.get(t)||wC();break;case"calcite-icon":customElements.get(t)||Te();break}})}H0e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const _s={icon:"icon",iconActive:"icon--active",iconIndent:"icon--indent",custom:"icon--custom",dot:"icon--dot",single:"label--single",label:"label",active:"label--active",selected:"label--selected",title:"title",textContainer:"text-container"},G0e=`@charset "UTF-8";@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}.scale--s{font-size:var(--calcite-font-size--2);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-item-spacing-indent:0.5rem;--calcite-combobox-item-selector-icon-size:1rem}.scale--m{font-size:var(--calcite-font-size--1);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-item-spacing-indent:0.75rem;--calcite-combobox-item-selector-icon-size:1rem}.scale--l{font-size:var(--calcite-font-size-0);line-height:1.25rem;--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.625rem;--calcite-combobox-item-spacing-indent:1rem;--calcite-combobox-item-selector-icon-size:1.5rem}.container{--calcite-combobox-item-indent-value:calc(
    var(--calcite-combobox-item-spacing-indent) * var(--calcite-combobox-item-spacing-indent-multiplier)
  )}:host(:focus){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host,ul{margin:0px;display:flex;flex-direction:column;padding:0px}:host(:focus),ul:focus{outline:2px solid transparent;outline-offset:2px}.label{position:relative;box-sizing:border-box;display:flex;inline-size:100%;min-inline-size:100%;cursor:pointer;align-items:center;color:var(--calcite-ui-text-3);text-decoration-line:none;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);outline-color:transparent;word-wrap:break-word;word-break:break-word;padding-block:var(--calcite-combobox-item-spacing-unit-s);padding-inline:var(--calcite-combobox-item-spacing-unit-l)}:host([disabled]) .label{cursor:default}.label--selected{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}.label--active{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.label:hover,.label:active{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1);text-decoration-line:none;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.title{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.icon{display:inline-flex;opacity:0;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);color:var(--calcite-ui-border-1)}.icon--indent{padding-inline-start:var(--calcite-combobox-item-indent-value)}.icon--custom{margin-block-start:-1px;padding-inline-start:var(--calcite-combobox-item-spacing-unit-l);color:var(--calcite-ui-text-3)}.icon--active{color:var(--calcite-ui-text-1)}.icon--dot{display:flex;justify-content:center;min-inline-size:var(--calcite-combobox-item-selector-icon-size)}.icon--dot:before{text-align:start;content:"•"}.label--active .icon{opacity:1}.label--selected .icon{opacity:1;color:var(--calcite-ui-brand)}:host(:hover[disabled]) .icon{opacity:1}`,q0e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteComboboxItemChange=B(this,"calciteComboboxItemChange",6),this.scale="m",this.itemClickHandler=e=>{e.preventDefault(),this.toggleSelected()},this.disabled=!1,this.selected=!1,this.active=!1,this.ancestors=void 0,this.guid=$i(),this.icon=void 0,this.iconFlipRtl=!1,this.textLabel=void 0,this.value=void 0,this.filterDisabled=void 0}selectedWatchHandler(){this.calciteComboboxItemChange.emit()}connectedCallback(){this.ancestors=gJ(this.el),this.scale=ci(this.el,"scale",this.scale),bn(this)}disconnectedCallback(){wn(this)}componentDidRender(){et(this)}toggleSelected(e){this.disabled||(this.selected=typeof e=="boolean"?e:!this.selected)}renderIcon(e){return this.icon?v("calcite-icon",{class:{[_s.custom]:!!this.icon,[_s.iconActive]:this.icon&&this.selected,[_s.iconIndent]:!0},flipRtl:this.iconFlipRtl,icon:this.icon||e,key:"icon",scale:this.scale==="l"?"m":"s"}):null}renderSelectIndicator(e,t){return e?v("span",{class:{[_s.icon]:!0,[_s.dot]:!0,[_s.iconIndent]:!0}}):v("calcite-icon",{class:{[_s.icon]:!0,[_s.iconActive]:this.selected,[_s.iconIndent]:!0},flipRtl:this.iconFlipRtl,icon:t,key:"indicator",scale:this.scale==="l"?"m":"s"})}renderChildren(){return Xe(this.el)?v("ul",{key:"default-slot-container"},v("slot",null)):null}render(){const e=ci(this.el,"selection-mode","multiple")==="single",t=e&&!this.disabled,i=e?"dot":"check",n=this.disabled?"circle-disallowed":i,r={[_s.label]:!0,[_s.selected]:this.selected,[_s.active]:this.active,[_s.single]:e},s=yJ(this.el);return v(Fe,{"aria-hidden":"true"},v("div",{class:`container scale--${this.scale}`,style:{"--calcite-combobox-item-spacing-indent-multiplier":`${s}`}},v("li",{class:r,id:this.guid,onClick:this.itemClickHandler},this.renderSelectIndicator(t,n),this.renderIcon(n),v("span",{class:"title"},this.textLabel)),this.renderChildren()))}get el(){return this}static get watchers(){return{selected:["selectedWatchHandler"]}}static get style(){return G0e}},[1,"calcite-combobox-item",{disabled:[516],selected:[1540],active:[516],ancestors:[1040],guid:[513],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"],textLabel:[513,"text-label"],value:[8],filterDisabled:[516,"filter-disabled"]}]);function W0e(){if(typeof customElements>"u")return;["calcite-combobox-item","calcite-icon"].forEach(t=>{switch(t){case"calcite-combobox-item":customElements.get(t)||customElements.define(t,q0e);break;case"calcite-icon":customElements.get(t)||Te();break}})}W0e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Dx={list:"list",label:"label",title:"title"},K0e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}.scale--s{font-size:var(--calcite-font-size--2);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-item-spacing-indent-1:0.5rem;--calcite-combobox-item-spacing-indent-2:1rem}.scale--m{font-size:var(--calcite-font-size--1);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-item-spacing-indent-1:0.75rem;--calcite-combobox-item-spacing-indent-2:1.5rem}.scale--l{font-size:var(--calcite-font-size-0);line-height:1.25rem;--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-item-spacing-indent-1:1rem;--calcite-combobox-item-spacing-indent-2:2rem}:host,.list{margin:0px;display:flex;flex-direction:column;padding:0px}:host(:focus),.list:focus{outline:2px solid transparent;outline-offset:2px}.label{box-sizing:border-box;display:flex;inline-size:100%;min-inline-size:0px;max-inline-size:100%;color:var(--calcite-ui-text-3)}.label--indent-1{padding-inline-start:var(--calcite-combobox-item-spacing-indent-1)}.label--indent-2{padding-inline-start:var(--calcite-combobox-item-spacing-indent-2)}.title{border:0 solid;display:block;flex:1 1 0%;border-block-end-width:1px;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-2);word-wrap:break-word;word-break:break-word;border-block-end-color:var(--calcite-ui-border-3);padding-block:var(--calcite-combobox-item-spacing-unit-l);padding-inline:var(--calcite-combobox-item-spacing-unit-s)}",Y0e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.guid=$i(),this.scale="m",this.ancestors=void 0,this.label=void 0}connectedCallback(){this.ancestors=gJ(this.el),this.scale=ci(this.el,"scale",this.scale)}render(){const{el:e,scale:t}=this,i=`${Dx.label}--indent-${yJ(e)}`;return v("ul",{"aria-labelledby":this.guid,class:{[Dx.list]:!0,[`scale--${t}`]:!0},role:"group"},v("li",{class:{[Dx.label]:!0,[i]:!0},id:this.guid,role:"presentation"},v("span",{class:Dx.title},this.label)),v("slot",null))}get el(){return this}static get style(){return K0e}},[1,"calcite-combobox-item-group",{ancestors:[1040],label:[1]}]);function J0e(){if(typeof customElements>"u")return;["calcite-combobox-item-group"].forEach(t=>{switch(t){case"calcite-combobox-item-group":customElements.get(t)||customElements.define(t,Y0e);break}})}J0e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function vJ(e,t,i){if(!e)return;const n=e.getTime(),r=!(t instanceof Date)||n>=t.getTime(),s=!(i instanceof Date)||n<=i.getTime();return r&&s}function zs(e,t,i){if(!(e instanceof Date))return null;const n=e.getTime(),r=t instanceof Date&&n<t.getTime(),s=i instanceof Date&&n>i.getTime();return r?t:s?i:e}function Zi(e,t=!1){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;const i=e.split(/[: T-]/).map(parseFloat),n=new Date(i[0],(i[1]||1)-1,i[2]||1);if(n.setFullYear(i[0]),isNaN(n.getTime()))throw new Error(`Invalid ISO 8601 date: "${e}"`);return t?_J(n):n}function lV(e,t){if(!t)return null;const{separator:i}=t,{day:n,month:r,year:s}=X0e(e,t),a=new Date(s,r,n);a.setFullYear(s);const o=n>0,l=r>-1,c=!isNaN(a.getTime()),h=e.split(i).filter(m=>m).length>2,p=s.toString().length>0;return o&&l&&c&&h&&p?a:null}function bJ(e,t){const{separator:i,unitOrder:n}=t,r=wJ(n),s=e.split(i).map(c=>Me.delocalize(c)),a=s[r.indexOf("d")],o=s[r.indexOf("m")],l=s[r.indexOf("y")];return{day:a,month:o,year:l}}function ns(e){return e instanceof Date?new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().split("T")[0]:""}function Pn(e,t){return e instanceof Date&&t instanceof Date&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Z0e(e){const t=e.getMonth(),i=new Date(e);return i.setMonth(t-1),t===i.getMonth()?new Date(e.getFullYear(),t,0):i}function Q0e(e){const t=e.getMonth(),i=new Date(e);return i.setMonth(t+1),(t+2)%7===i.getMonth()%7?new Date(e.getFullYear(),t+2,0):i}function X0e(e,t){const{day:i,month:n,year:r}=bJ(e,t);return{day:parseInt(i),month:parseInt(n)-1,year:parseInt(r)}}function wJ(e){const t=["d","m","y"],i=e.toLowerCase();return t.sort((n,r)=>i.indexOf(n)-i.indexOf(r))}function Ox(e,t){const i=e.getTime(),n=t.getTime();return(i-n)/(1e3*3600*24)}function _J(e){return e.setHours(23,59,59,999),e}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const eve="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:flex;min-inline-size:0px;cursor:pointer;justify-content:center;color:var(--calcite-ui-text-3);inline-size:14.2857142857%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.day-v-wrapper{flex:1 1 auto}.day-wrapper{display:flex;flex-direction:column;align-items:center}.day{display:flex;align-items:center;justify-content:center;border-radius:9999px;font-size:var(--calcite-font-size--2);line-height:1rem;line-height:1;color:var(--calcite-ui-text-3);opacity:var(--calcite-ui-opacity-disabled);outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;background:none;box-shadow:0 0 0 2px transparent}.text{margin-block:1px 0px;margin-inline-start:0px}:host([scale=s]) .day-v-wrapper{padding-block:0.125rem}:host([scale=s]) .day-wrapper{padding:0px}:host([scale=s]) .day{block-size:27px;inline-size:27px;font-size:var(--calcite-font-size--2)}:host([scale=m]) .day-v-wrapper{padding-block:0.25rem}:host([scale=m]) .day-wrapper{padding-inline:0.25rem}:host([scale=m]) .day{block-size:33px;inline-size:33px;font-size:var(--calcite-font-size--1)}:host([scale=l]) .day-v-wrapper{padding-block:0.25rem}:host([scale=l]) .day-wrapper{padding-inline:0.25rem}:host([scale=l]) .day{block-size:43px;inline-size:43px;font-size:var(--calcite-font-size-0)}:host([current-month]) .day{opacity:1}:host(:hover:not([disabled])) .day,:host([active]:not([range])) .day{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}:host(:focus),:host([active]){outline:2px solid transparent;outline-offset:2px}:host(:focus:not([disabled])) .day{outline:2px solid var(--calcite-ui-brand);outline-offset:2px;box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host([selected]) .day{font-weight:var(--calcite-font-weight-medium);background-color:var(--calcite-ui-brand) !important;color:var(--calcite-ui-foreground-1) !important}:host([range][selected]) .day-wrapper{background-color:var(--calcite-ui-foreground-current)}:host([start-of-range]) .day-wrapper{border-start-start-radius:40%;border-end-start-radius:40%}:host([end-of-range]) .day-wrapper{border-start-end-radius:40%;border-end-end-radius:40%}:host([start-of-range]) :not(.calcite--rtl) .day-wrapper{box-shadow:inset 4px 0 var(--calcite-ui-foreground-1)}:host([start-of-range]) .calcite--rtl .day-wrapper{box-shadow:inset -4px 0 var(--calcite-ui-foreground-1)}:host([start-of-range]) .day{opacity:1}:host([end-of-range]) :not(.calcite--rtl) .day-wrapper{box-shadow:inset -4px 0 var(--calcite-ui-foreground-1)}:host([end-of-range]) .calcite--rtl .day-wrapper{box-shadow:inset 4px 0 var(--calcite-ui-foreground-1)}:host([end-of-range]) .day{opacity:1}:host([start-of-range]:not(:focus)) :not(.calcite--rtl) .day,:host([end-of-range]:not(:focus)) :not(.calcite--rtl) .day{box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host([start-of-range]:not(:focus)) .calcite--rtl .day,:host([end-of-range]:not(:focus)) .calcite--rtl .day{box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host([start-of-range][scale=l]) :not(.calcite--rtl) .day-wrapper{box-shadow:inset 8px 0 var(--calcite-ui-foreground-1)}:host([start-of-range][scale=l]) .calcite--rtl .day-wrapper{box-shadow:inset -8px 0 var(--calcite-ui-foreground-1)}:host([end-of-range][scale=l]) :not(.calcite--rtl) .day-wrapper{box-shadow:inset -8px 0 var(--calcite-ui-foreground-1)}:host([end-of-range][scale=l]) .calcite--rtl .day-wrapper{box-shadow:inset 8px 0 var(--calcite-ui-foreground-1)}:host([highlighted]) .day-wrapper{background-color:var(--calcite-ui-foreground-current)}:host([highlighted]) .day-wrapper .day{color:var(--calcite-ui-text-1)}:host([highlighted]:not([active]:focus)) .day{color:var(--calcite-ui-text-1)}:host([range-hover]:not([selected])) .day-wrapper{background-color:var(--calcite-ui-foreground-2)}:host([range-hover]:not([selected])) .day{border-radius:0px}:host([start-of-range][range-hover]) :not(.calcite--rtl) .day-wrapper{background-image:linear-gradient(to left, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([start-of-range][range-hover]) .calcite--rtl .day-wrapper{background-image:linear-gradient(to right, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([end-of-range][range-hover]) :not(.calcite--rtl) .day-wrapper{background-image:linear-gradient(to right, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([end-of-range][range-hover]) .calcite--rtl .day-wrapper{background-image:linear-gradient(to left, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host(:hover[end-of-range][range-hover]) :not(.calcite--rtl) .day-wrapper,:host(:hover[start-of-range][range-hover]) .calcite--rtl .day-wrapper{background-image:linear-gradient(to right, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-1));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host(:hover[start-of-range][range-hover]) :not(.calcite--rtl) .day-wrapper,:host(:hover[end-of-range][range-hover]) .calcite--rtl .day-wrapper{background-image:linear-gradient(to left, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-1));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host(:hover[range-hover]:not([selected]).focused--start) :not(.calcite--rtl) .day-wrapper{background-image:linear-gradient(to right, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2))}:host(:hover[range-hover]:not([selected]).focused--start) .calcite--rtl .day-wrapper{background-image:linear-gradient(to right, var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current))}:host(:hover[range-hover]:not([selected]).focused--start) .day{border-radius:9999px;opacity:1;box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host(:hover[range-hover]:not([selected]).focused--end) :not(.calcite--rtl) .day-wrapper{background-image:linear-gradient(to right, var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current))}:host(:hover[range-hover]:not([selected]).focused--end) .calcite--rtl .day-wrapper{background-image:linear-gradient(to right, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2))}:host(:hover[range-hover]:not([selected]).focused--end) .day{border-radius:9999px;opacity:1;box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host(:hover[range-hover]:not([selected]).focused--start.hover--outside-range) :not(.calcite--rtl) .day-wrapper,:host(:hover[range-hover]:not([selected]).focused--end.hover--outside-range) .calcite--rtl .day-wrapper{background-image:linear-gradient(to right, var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2))}:host(:hover[range-hover]:not([selected]).focused--start.hover--outside-range) :not(.calcite--rtl) .day,:host(:hover[range-hover]:not([selected]).focused--end.hover--outside-range) .calcite--rtl .day{border-radius:9999px;opacity:1;box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host(:hover[range-hover]:not([selected]).focused--end.hover--outside-range) :not(.calcite--rtl) .day-wrapper,:host(:hover[range-hover]:not([selected]).focused--start.hover--outside-range) .calcite--rtl .day-wrapper{background-image:linear-gradient(to right, var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-1))}:host(:hover[range-hover]:not([selected]).focused--end.hover--outside-range) :not(.calcite--rtl) .day,:host(:hover[range-hover]:not([selected]).focused--start.hover--outside-range) .calcite--rtl .day{border-radius:9999px;opacity:1;box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host(:hover[start-of-range].hover--inside-range.focused--end) .day-wrapper,:host(:hover[end-of-range].hover--inside-range.focused--start) .day-wrapper{background-image:none}:host([start-of-range].hover--inside-range.focused--end) .day-wrapper,:host([end-of-range].hover--inside-range.focused--start) .day-wrapper{background-color:var(--calcite-ui-foreground-2)}:host([highlighted]:last-child) :not(.calcite--rtl) .day-wrapper,:host([range-hover]:last-child) :not(.calcite--rtl) .day-wrapper,:host([highlighted]:first-child) .calcite--rtl .day-wrapper,:host([range-hover]:first-child) .calcite--rtl .day-wrapper{box-shadow:inset -4px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([highlighted]:first-child) :not(.calcite--rtl) .day-wrapper,:host([range-hover]:first-child) :not(.calcite--rtl) .day-wrapper,:host([highlighted]:last-child) .calcite--rtl .day-wrapper,:host([range-hover]:last-child) .calcite--rtl .day-wrapper{box-shadow:inset 4px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([scale=s][highlighted]:last-child) :not(.calcite--rtl) .day-wrapper,:host([scale=s][range-hover]:last-child) :not(.calcite--rtl) .day-wrapper,:host([scale=s][highlighted]:first-child) .calcite--rtl .day-wrapper,:host([scale=s][range-hover]:first-child) .calcite--rtl .day-wrapper{box-shadow:inset -1px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([scale=s][highlighted]:first-child) :not(.calcite--rtl) .day-wrapper,:host([scale=s][range-hover]:first-child) :not(.calcite--rtl) .day-wrapper,:host([scale=s][highlighted]:last-child) .calcite--rtl .day-wrapper,:host([scale=s][range-hover]:last-child) .calcite--rtl .day-wrapper{box-shadow:inset 1px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([scale=l][highlighted]:first-child) :not(.calcite--rtl) .day-wrapper,:host([scale=l][range-hover]:first-child) :not(.calcite--rtl) .day-wrapper,:host([scale=l][highlighted]:last-child) .calcite--rtl .day-wrapper,:host([scale=l][range-hover]:last-child) .calcite--rtl .day-wrapper{box-shadow:inset 6px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([highlighted]:first-child) .day-wrapper,:host([range-hover]:first-child) .day-wrapper{border-start-start-radius:45%;border-end-start-radius:45%}:host([highlighted]:last-child) .day-wrapper,:host([range-hover]:last-child) .day-wrapper{border-start-end-radius:45%;border-end-end-radius:45%}:host([scale=l][highlighted]:last-child) :not(.calcite--rtl) .day-wrapper,:host([scale=l][range-hover]:last-child) :not(.calcite--rtl) .day-wrapper,:host([scale=l][highlighted]:first-child) .calcite--rtl .day-wrapper,:host([scale=l][range-hover]:first-child) .calcite--rtl .day-wrapper{box-shadow:inset -6px 0px 0px 0px var(--calcite-ui-foreground-1)}@media (forced-colors: active){:host(:hover:not([disabled])) .day,:host([active]:not([range])) .day{border-radius:0px}:host([selected]){outline:2px solid canvasText}:host([selected]) .day{border-radius:0px;background-color:highlight}:host([range][selected]) .day-wrapper,:host([highlighted]) .day-wrapper,:host([range-hover]:not([selected])) .day-wrapper{background-color:highlight}:host([range][selected][start-of-range]) .day-wrapper,:host([range][selected][end-of-range]) .day-wrapper{background-color:canvas}}",tve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteDaySelect=B(this,"calciteDaySelect",6),this.calciteInternalDayHover=B(this,"calciteInternalDayHover",6),this.onClick=()=>{!this.disabled&&this.calciteDaySelect.emit()},this.keyDownHandler=e=>{Qa(e.key)&&(!this.disabled&&this.calciteDaySelect.emit(),e.preventDefault())},this.day=void 0,this.disabled=!1,this.currentMonth=!1,this.selected=!1,this.highlighted=!1,this.range=!1,this.startOfRange=!1,this.endOfRange=!1,this.rangeHover=!1,this.active=!1,this.scale=void 0,this.value=void 0}mouseoverHandler(){this.calciteInternalDayHover.emit()}componentWillLoad(){this.parentDatePickerEl=rc(this.el,"calcite-date-picker")}render(){const e=ns(this.value).replaceAll("-","");if(this.parentDatePickerEl){const{numberingSystem:n,lang:r}=this.parentDatePickerEl;Me.numberFormatOptions={useGrouping:!1,...n&&{numberingSystem:n},...r&&{locale:r}}}const t=Me.localize(String(this.day)),i=Ci(this.el);return v(Fe,{id:e,onClick:this.onClick,onKeyDown:this.keyDownHandler,role:"gridcell"},v("div",{class:{"day-v-wrapper":!0,[za.rtl]:i==="rtl"}},v("div",{class:"day-wrapper"},v("span",{class:"day"},v("span",{class:"text"},t)))))}componentDidRender(){et(this,this.isTabbable)}isTabbable(){return this.active}get el(){return this}static get style(){return eve}},[1,"calcite-date-picker-day",{day:[2],disabled:[516],currentMonth:[516,"current-month"],selected:[516],highlighted:[516],range:[516],startOfRange:[516,"start-of-range"],endOfRange:[516,"end-of-range"],rangeHover:[516,"range-hover"],active:[516],scale:[513],value:[16]},[[1,"pointerover","mouseoverHandler"]]]);function SC(){if(typeof customElements>"u")return;["calcite-date-picker-day"].forEach(t=>{switch(t){case"calcite-date-picker-day":customElements.get(t)||customElements.define(t,tve);break}})}SC();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const ive="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}.calender{margin-block-end:0.25rem}.week-headers{display:flex;border-width:0px;border-block-start-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-block:0px;padding-inline:0.25rem}.week-header{text-align:center;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-3);inline-size:14.2857142857%}:host([scale=s]) .week-header{padding-inline:0px;padding-block:0.5rem 0.75rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) .week-header{padding-inline:0px;padding-block:0.75rem 1rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=l]) .week-header{padding-inline:0px;padding-block:1rem 1.25rem;font-size:var(--calcite-font-size--1);line-height:1rem}.week-days{display:flex;flex-direction:row;padding-block:0px;padding-inline:6px}.week-days:focus{outline:2px solid transparent;outline-offset:2px}",kv=7,k$=6,nve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalDatePickerSelect=B(this,"calciteInternalDatePickerSelect",6),this.calciteInternalDatePickerHover=B(this,"calciteInternalDatePickerHover",6),this.calciteInternalDatePickerActiveDateChange=B(this,"calciteInternalDatePickerActiveDateChange",6),this.calciteInternalDatePickerMouseOut=B(this,"calciteInternalDatePickerMouseOut",6),this.keyDownHandler=e=>{if(e.defaultPrevented)return;const t=this.el.dir==="rtl";switch(e.key){case"ArrowUp":e.preventDefault(),this.addDays(-7);break;case"ArrowRight":e.preventDefault(),this.addDays(t?-1:1);break;case"ArrowDown":e.preventDefault(),this.addDays(7);break;case"ArrowLeft":e.preventDefault(),this.addDays(t?1:-1);break;case"PageUp":e.preventDefault(),this.addMonths(-1);break;case"PageDown":e.preventDefault(),this.addMonths(1);break;case"Home":e.preventDefault(),this.activeDate.setDate(1),this.addDays();break;case"End":e.preventDefault(),this.activeDate.setDate(new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()+1,0).getDate()),this.addDays();break;case"Enter":case" ":e.preventDefault();break;case"Tab":this.activeFocus=!1}},this.disableActiveFocus=()=>{this.activeFocus=!1},this.dayHover=e=>{const t=e.target;t.disabled?this.calciteInternalDatePickerMouseOut.emit():this.calciteInternalDatePickerHover.emit(t.value),e.stopPropagation()},this.daySelect=e=>{const t=e.target;this.calciteInternalDatePickerSelect.emit(t.value)},this.selectedDate=void 0,this.activeDate=new Date,this.startDate=void 0,this.endDate=void 0,this.min=void 0,this.max=void 0,this.scale=void 0,this.localeData=void 0,this.hoverRange=void 0}mouseoutHandler(){this.calciteInternalDatePickerMouseOut.emit()}render(){const e=this.activeDate.getMonth(),t=this.activeDate.getFullYear(),i=this.localeData.weekStart%7,{abbreviated:n,short:r,narrow:s}=this.localeData.days,a=this.scale==="s"?s||r||n:r||n||s,o=[...a.slice(i,7),...a.slice(0,i)],l=this.getCurrentMonthDays(e,t),c=this.getPreviousMonthDays(e,t,i),h=this.getNextMonthDays(e,t,i),p=[...c.map(g=>{const y=new Date(t,e-1,g);return this.renderDateDay(!1,g,y)}),...l.map(g=>{const y=new Date(t,e,g),b=Pn(y,this.activeDate);return this.renderDateDay(b,g,y,!0,!0)}),...h.map(g=>{const y=new Date(t,e+1,g);return this.renderDateDay(!1,g,y)})],m=[];for(let g=0;g<p.length;g+=7)m.push(p.slice(g,g+7));return v(Fe,{onFocusOut:this.disableActiveFocus,onKeyDown:this.keyDownHandler},v("div",{class:"calender",role:"grid"},v("div",{class:"week-headers",role:"row"},o.map(g=>v("span",{class:"week-header",role:"columnheader"},g))),m.map(g=>v("div",{class:"week-days",role:"row"},g))))}addMonths(e){const t=new Date(this.activeDate);t.setMonth(this.activeDate.getMonth()+e),this.calciteInternalDatePickerActiveDateChange.emit(zs(t,this.min,this.max)),this.activeFocus=!0}addDays(e=0){const t=new Date(this.activeDate);t.setDate(this.activeDate.getDate()+e),this.calciteInternalDatePickerActiveDateChange.emit(zs(t,this.min,this.max)),this.activeFocus=!0}getPreviousMonthDays(e,t,i){const n=new Date(t,e,0),r=n.getDate(),s=n.getDay(),a=[];if(s===(i+k$)%kv)return a;if(s===i)return[r];for(let o=(kv+s-i)%kv;o>=0;o--)a.push(r-o);return a}getCurrentMonthDays(e,t){const i=new Date(t,e+1,0).getDate(),n=[];for(let r=0;r<i;r++)n.push(r+1);return n}getNextMonthDays(e,t,i){const n=new Date(t,e+1,0).getDay(),r=[];if(n===(i+k$)%kv)return r;for(let s=0;s<(k$-(n-i))%kv;s++)r.push(s+1);return r}betweenSelectedRange(e){return!!(this.startDate&&this.endDate&&e>this.startDate&&e<this.endDate&&!this.isRangeHover(e))}isSelected(e){return!!(Pn(e,this.selectedDate)||this.startDate&&Pn(e,this.startDate)||this.endDate&&Pn(e,this.endDate))}isStartOfRange(e){return!!(this.startDate&&!Pn(this.startDate,this.endDate)&&Pn(this.startDate,e)&&!this.isEndOfRange(e))}isEndOfRange(e){return!!(this.endDate&&!Pn(this.startDate,this.endDate)&&Pn(this.endDate,e)||!this.endDate&&this.hoverRange&&Pn(this.startDate,this.hoverRange.end)&&Pn(e,this.hoverRange.end))}renderDateDay(e,t,i,n,r){var o;const s=this.isFocusedOnStart(),a=this.isHoverInRange()||!this.endDate&&this.hoverRange&&Pn((o=this.hoverRange)==null?void 0:o.end,this.startDate);return v("calcite-date-picker-day",{active:e,class:{"hover--inside-range":this.startDate&&a,"hover--outside-range":this.startDate&&!a,"focused--start":s,"focused--end":!s},currentMonth:n,day:t,disabled:!vJ(i,this.min,this.max),endOfRange:this.isEndOfRange(i),highlighted:this.betweenSelectedRange(i),key:i.toDateString(),onCalciteDaySelect:this.daySelect,onCalciteInternalDayHover:this.dayHover,range:!!this.startDate&&!!this.endDate&&!Pn(this.startDate,this.endDate),rangeHover:this.isRangeHover(i),ref:l=>{r&&e&&this.activeFocus&&(l==null||l.focus())},scale:this.scale,selected:this.isSelected(i),startOfRange:this.isStartOfRange(i),value:i})}isFocusedOnStart(){var e;return((e=this.hoverRange)==null?void 0:e.focused)==="start"}isHoverInRange(){if(!this.hoverRange)return!1;const{start:e,end:t}=this.hoverRange;return!!(!this.isFocusedOnStart()&&this.startDate&&(!this.endDate||t<this.endDate)||this.isFocusedOnStart()&&this.startDate&&e>this.startDate)}isRangeHover(e){if(!this.hoverRange)return!1;const{start:t,end:i}=this.hoverRange,n=this.isFocusedOnStart(),r=this.isHoverInRange(),s=r&&(!n&&e>this.startDate&&(e<i||Pn(e,i))||n&&e<this.endDate&&(e>t||Pn(e,t))),a=!r&&(!n&&e>=this.endDate&&(e<i||Pn(e,i))||n&&(this.startDate&&e<this.startDate||this.endDate&&Pn(e,this.startDate))&&(t&&e>t||Pn(e,t)));return s||a}get el(){return this}static get style(){return ive}},[1,"calcite-date-picker-month",{selectedDate:[16],activeDate:[16],startDate:[16],endDate:[16],min:[16],max:[16],scale:[513],localeData:[16],hoverRange:[16]},[[1,"pointerout","mouseoutHandler"]]]);function EF(){if(typeof customElements>"u")return;["calcite-date-picker-month","calcite-date-picker-day"].forEach(t=>{switch(t){case"calcite-date-picker-month":customElements.get(t)||customElements.define(t,nve);break;case"calcite-date-picker-day":customElements.get(t)||SC();break}})}EF();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const cV=543,ju={header:"header",month:"month",chevron:"chevron",suffix:"suffix",yearSuffix:"year--suffix",yearWrap:"year-wrap",textReverse:"text--reverse"},uV={chevronLeft:"chevron-left",chevronRight:"chevron-right"},rve="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:block}.header{display:flex;justify-content:space-between;padding-block:0px;padding-inline:0.25rem}:host([scale=s]) .text{margin-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=s]) .chevron{block-size:2.25rem}:host([scale=m]) .text{margin-block:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m]) .chevron{block-size:3rem}:host([scale=l]) .text{margin-block:1rem;font-size:var(--calcite-font-size-1);line-height:1.5rem}:host([scale=l]) .chevron{block-size:3.5rem}.chevron{margin-inline:-0.25rem;box-sizing:content-box;display:flex;flex-grow:0;cursor:pointer;align-items:center;justify-content:center;border-style:none;background-color:var(--calcite-ui-foreground-1);padding-inline:0.25rem;color:var(--calcite-ui-text-3);outline:2px solid transparent;outline-offset:2px;outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;inline-size:14.2857142857%}.chevron:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.chevron:hover,.chevron:focus{background-color:var(--calcite-ui-foreground-2);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1)}.chevron:active{background-color:var(--calcite-ui-foreground-3)}.chevron[aria-disabled=true]{pointer-events:none;opacity:0}.text{margin-block:auto;display:flex;inline-size:100%;flex:1 1 auto;align-items:center;justify-content:center;text-align:center;line-height:1}.text--reverse{flex-direction:row-reverse}.month,.year,.suffix{margin-inline:0.25rem;margin-block:auto;display:inline-block;background-color:var(--calcite-ui-foreground-1);font-weight:var(--calcite-font-weight-medium);line-height:1.25;color:var(--calcite-ui-text-1);font-size:inherit}.year{position:relative;inline-size:2.5rem;border-style:none;background-color:transparent;text-align:center;font-family:inherit;outline-color:transparent}.year:hover{transition-duration:100ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-property:outline-color;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}.year:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.year--suffix{text-align:start}.year-wrap{position:relative}.suffix{inset-block-start:0px;white-space:nowrap;text-align:start;inset-inline-start:0}",sve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalDatePickerSelect=B(this,"calciteInternalDatePickerSelect",6),this.onYearKey=e=>{const t=this.parseCalendarYear(e.target.value);switch(e.key){case"ArrowDown":e.preventDefault(),this.setYear({localizedYear:t,offset:-1});break;case"ArrowUp":e.preventDefault(),this.setYear({localizedYear:t,offset:1});break}},this.onYearChange=e=>{this.setYear({localizedYear:this.parseCalendarYear(e.target.value)})},this.onYearInput=e=>{this.setYear({localizedYear:this.parseCalendarYear(e.target.value),commit:!1})},this.prevMonthClick=e=>{this.handleArrowClick(e,this.prevMonthDate)},this.prevMonthKeydown=e=>{Qa(e.key)&&this.prevMonthClick(e)},this.nextMonthClick=e=>{this.handleArrowClick(e,this.nextMonthDate)},this.nextMonthKeydown=e=>{Qa(e.key)&&this.nextMonthClick(e)},this.handleArrowClick=(e,t)=>{e.preventDefault(),this.calciteInternalDatePickerSelect.emit(t)},this.selectedDate=void 0,this.activeDate=void 0,this.headingLevel=void 0,this.min=void 0,this.max=void 0,this.scale=void 0,this.localeData=void 0,this.messages=void 0,this.globalAttributes={},this.nextMonthDate=void 0,this.prevMonthDate=void 0}componentWillLoad(){this.parentDatePickerEl=rc(this.el,"calcite-date-picker")}connectedCallback(){this.setNextPrevMonthDates()}render(){return v("div",{class:ju.header},this.renderContent())}renderContent(){var m;const{messages:e,localeData:t,activeDate:i}=this;if(!i||!t)return null;if(this.parentDatePickerEl){const{numberingSystem:g,lang:y}=this.parentDatePickerEl;Me.numberFormatOptions={useGrouping:!1,...g&&{numberingSystem:g},...y&&{locale:y}}}const n=i.getMonth(),{months:r,unitOrder:s}=t,a=(r.wide||r.narrow||r.abbreviated)[n],o=this.formatCalendarYear(i.getFullYear()),l=this.scale==="l"?"m":"s",c=wJ(s),h=c.indexOf("y")<c.indexOf("m"),p=(m=t.year)==null?void 0:m.suffix;return v(Hr,null,v("a",{"aria-disabled":`${this.prevMonthDate.getMonth()===n}`,"aria-label":e.prevMonth,class:ju.chevron,href:"#",onClick:this.prevMonthClick,onKeyDown:this.prevMonthKeydown,role:"button",tabindex:this.prevMonthDate.getMonth()===n?-1:0},v("calcite-icon",{"flip-rtl":!0,icon:uV.chevronLeft,scale:l})),v("div",{class:{text:!0,[ju.textReverse]:h}},v(Tm,{class:ju.month,level:this.headingLevel},a),v("span",{class:ju.yearWrap},v("input",{"aria-label":e.year,class:{year:!0,[ju.yearSuffix]:!!p},inputmode:"numeric",maxlength:"4",minlength:"1",onChange:this.onYearChange,onInput:this.onYearInput,onKeyDown:this.onYearKey,pattern:"\\d*",ref:g=>this.yearInput=g,type:"text",value:o}),p&&v("span",{class:ju.suffix},p))),v("a",{"aria-disabled":`${this.nextMonthDate.getMonth()===n}`,"aria-label":e.nextMonth,class:ju.chevron,href:"#",onClick:this.nextMonthClick,onKeyDown:this.nextMonthKeydown,role:"button",tabindex:this.nextMonthDate.getMonth()===n?-1:0},v("calcite-icon",{"flip-rtl":!0,icon:uV.chevronRight,scale:l})))}setNextPrevMonthDates(){this.activeDate&&(this.nextMonthDate=zs(Q0e(this.activeDate),this.min,this.max),this.prevMonthDate=zs(Z0e(this.activeDate),this.min,this.max))}formatCalendarYear(e){const{localeData:t}=this,n=t["default-calendar"]==="buddhist"?cV:0;return Me.localize(`${e+n}`)}parseCalendarYear(e){const{localeData:t}=this,n=t["default-calendar"]==="buddhist"?cV:0,r=Number(Me.delocalize(e))-n;return Me.localize(`${r}`)}getInRangeDate({localizedYear:e,offset:t=0}){const{min:i,max:n,activeDate:r}=this,s=Number(Me.delocalize(e)),a=s.toString().length,o=isNaN(s)?!1:s+t,l=o&&(!i||i.getFullYear()<=o)&&(!n||n.getFullYear()>=o);if(o&&l&&a===e.length){const c=new Date(r);return c.setFullYear(o),zs(c,i,n)}}setYear({localizedYear:e,commit:t=!0,offset:i=0}){const{yearInput:n,activeDate:r}=this,s=this.getInRangeDate({localizedYear:e,offset:i});s&&this.calciteInternalDatePickerSelect.emit(s),t&&(n.value=this.formatCalendarYear((s||r).getFullYear()))}get el(){return this}static get watchers(){return{min:["setNextPrevMonthDates"],max:["setNextPrevMonthDates"],activeDate:["setNextPrevMonthDates"]}}static get style(){return rve}},[1,"calcite-date-picker-month-header",{selectedDate:[16],activeDate:[16],headingLevel:[2,"heading-level"],min:[16],max:[16],scale:[513],localeData:[16],messages:[1040],globalAttributes:[32],nextMonthDate:[32],prevMonthDate:[32]}]);function kF(){if(typeof customElements>"u")return;["calcite-date-picker-month-header","calcite-icon"].forEach(t=>{switch(t){case"calcite-date-picker-month-header":customElements.get(t)||customElements.define(t,sve);break;case"calcite-icon":customElements.get(t)||Te();break}})}kF();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const ave=2,I$={},C$={};async function IF(e){const t=fC(e);if(I$[t])return I$[t];C$[t]||(C$[t]=fetch(eF(`./assets/date-picker/nls/${t}.json`)).then(n=>n.json()).catch(()=>(console.error(`Translations for "${t}" not found or invalid, falling back to english`),IF("en"))));const i=await C$[t];return I$[t]=i,i}function C1(e){return e.map((t,i)=>Zi(t,i===1))}const ove="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:relative;display:inline-block;inline-size:100%;overflow:visible;border-radius:0px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1);background-color:var(--calcite-ui-foreground-1);vertical-align:top}:host([scale=s]){max-inline-size:216px}:host([scale=m]){max-inline-size:286px}:host([scale=l]){max-inline-size:398px}",lve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteDatePickerChange=B(this,"calciteDatePickerChange",6),this.calciteDatePickerRangeChange=B(this,"calciteDatePickerRangeChange",6),this.keyDownHandler=e=>{e.key==="Escape"&&this.reset()},this.monthHeaderSelectChange=e=>{const t=new Date(e.detail);this.range?(this.activeRange==="end"?this.activeEndDate=t:this.activeStartDate=t,this.mostRecentRangeValue=t):this.activeDate=t},this.monthActiveDateChange=e=>{const t=new Date(e.detail);this.range?(this.activeRange==="end"?this.activeEndDate=t:this.activeStartDate=t,this.mostRecentRangeValue=t):this.activeDate=t},this.monthHoverChange=e=>{if(!this.range){this.hoverRange=void 0;return}const{valueAsDate:t}=this,i=Array.isArray(t)&&t[0],n=Array.isArray(t)&&t[1],r=new Date(e.detail);if(this.hoverRange={focused:this.activeRange||"start",start:i,end:n},this.proximitySelectionDisabled)n?this.hoverRange=void 0:r<i?this.hoverRange={focused:"start",start:r,end:i}:(this.hoverRange.end=r,this.hoverRange.focused="end");else if(n){const s=Ox(r,i),a=Ox(r,n);a>0?(this.hoverRange.end=r,this.hoverRange.focused="end"):s<0?(this.hoverRange.start=r,this.hoverRange.focused="start"):s>a?(this.hoverRange.start=r,this.hoverRange.focused="start"):(this.hoverRange.end=r,this.hoverRange.focused="end")}else i&&(r<i?this.hoverRange={focused:"start",start:r,end:i}:(this.hoverRange.end=r,this.hoverRange.focused="end"));e.stopPropagation()},this.monthMouseOutChange=()=>{this.hoverRange&&(this.hoverRange=void 0)},this.reset=()=>{var t,i,n,r,s;const{valueAsDate:e}=this;!Array.isArray(e)&&e&&(e==null?void 0:e.getTime())!==((t=this.activeDate)==null?void 0:t.getTime())&&(this.activeDate=new Date(e)),Array.isArray(e)&&(e[0]&&((i=e[0])==null?void 0:i.getTime())!==(this.activeStartDate instanceof Date&&((n=this.activeStartDate)==null?void 0:n.getTime()))&&(this.activeStartDate=new Date(e[0])),e[1]&&((r=e[1])==null?void 0:r.getTime())!==(this.activeStartDate instanceof Date&&((s=this.activeEndDate)==null?void 0:s.getTime()))&&(this.activeEndDate=new Date(e[1])))},this.monthDateChange=e=>{const t=new Date(e.detail),i=ns(t);if(!this.range&&i===ns(this.valueAsDate))return;if(!this.range){this.value=i||"",this.valueAsDate=t||null,this.activeDate=t||null,this.calciteDatePickerChange.emit();return}const n=this.getStartDate(),r=this.getEndDate();if(!n||!r&&t<n)n&&this.setEndDate(new Date(n)),this.activeRange=="end"?this.setEndDate(t):this.setStartDate(t);else if(!r)this.setEndDate(t);else if(this.proximitySelectionDisabled)this.setStartDate(t);else if(this.activeRange)this.activeRange=="end"?this.setEndDate(t):this.setStartDate(t);else{const s=Ox(t,n),a=Ox(t,r);a===0||s<0?this.setStartDate(t):s===0||a<0?this.setEndDate(t):s<a?this.setStartDate(t):this.setEndDate(t)}this.calciteDatePickerChange.emit()},this.activeDate=void 0,this.activeRange=void 0,this.value=void 0,this.headingLevel=void 0,this.valueAsDate=void 0,this.minAsDate=void 0,this.maxAsDate=void 0,this.min=void 0,this.max=void 0,this.numberingSystem=void 0,this.scale="m",this.range=!1,this.proximitySelectionDisabled=!1,this.messageOverrides=void 0,this.messages=void 0,this.activeStartDate=void 0,this.activeEndDate=void 0,this.startAsDate=void 0,this.endAsDate=void 0,this.effectiveLocale="",this.defaultMessages=void 0,this.localeData=void 0,this.hoverRange=void 0}activeDateWatcher(e){this.activeRange==="end"&&(this.activeEndDate=e)}valueAsDateWatcher(e){if(this.range&&Array.isArray(e)){const{activeStartDate:t,activeEndDate:i}=this,n=e[0],r=e[1];this.activeStartDate=t!==n&&n,this.activeEndDate=i!==r&&r}else e&&e!==this.activeDate&&(this.activeDate=e)}onMinChanged(e){e&&(this.minAsDate=Zi(e))}onMaxChanged(e){e&&(this.maxAsDate=Zi(e))}onMessagesChange(){}connectedCallback(){ht(this),Mt(this),Array.isArray(this.value)?this.valueAsDate=C1(this.value):this.value&&(this.valueAsDate=Zi(this.value)),this.min&&(this.minAsDate=Zi(this.min)),this.max&&(this.maxAsDate=Zi(this.max))}disconnectedCallback(){pt(this),Dt(this)}async componentWillLoad(){await this.loadLocaleData(),this.onMinChanged(this.min),this.onMaxChanged(this.max),await $t(this)}render(){var a;const e=zs(this.range&&Array.isArray(this.valueAsDate)?this.valueAsDate[0]:this.valueAsDate,this.minAsDate,this.maxAsDate);let t=this.getActiveDate(e,this.minAsDate,this.maxAsDate);const i=this.range&&Array.isArray(this.valueAsDate)?zs(this.valueAsDate[1],this.minAsDate,this.maxAsDate):null,n=this.getActiveEndDate(i,this.minAsDate,this.maxAsDate);(this.activeRange==="end"||((a=this.hoverRange)==null?void 0:a.focused)==="end"&&(!this.proximitySelectionDisabled||i))&&n&&(t=n),this.range&&this.mostRecentRangeValue&&(t=this.mostRecentRangeValue);const r=this.range&&this.activeRange?this.activeRange==="start"?this.minAsDate:e||this.minAsDate:this.minAsDate,s=this.range&&this.activeRange?this.activeRange==="start"?i||this.maxAsDate:this.maxAsDate:this.maxAsDate;return v(Fe,{onBlur:this.reset,onKeyDown:this.keyDownHandler,role:"application"},this.renderCalendar(t,s,r,e,i))}effectiveLocaleChange(){At(this,this.effectiveLocale)}valueHandler(e){Array.isArray(e)?this.valueAsDate=C1(e):e&&(this.valueAsDate=Zi(e))}async loadLocaleData(){ro.isBrowser&&(Me.numberFormatOptions={numberingSystem:this.numberingSystem,locale:this.effectiveLocale,useGrouping:!1},this.localeData=await IF(this.effectiveLocale))}renderCalendar(e,t,i,n,r){return this.localeData&&[v("calcite-date-picker-month-header",{activeDate:e,headingLevel:this.headingLevel||ave,localeData:this.localeData,max:t,messages:this.messages,min:i,onCalciteInternalDatePickerSelect:this.monthHeaderSelectChange,scale:this.scale,selectedDate:this.activeRange==="end"?r:n||new Date}),v("calcite-date-picker-month",{activeDate:e,endDate:this.range?r:void 0,hoverRange:this.hoverRange,localeData:this.localeData,max:t,min:i,onCalciteInternalDatePickerActiveDateChange:this.monthActiveDateChange,onCalciteInternalDatePickerHover:this.monthHoverChange,onCalciteInternalDatePickerMouseOut:this.monthMouseOutChange,onCalciteInternalDatePickerSelect:this.monthDateChange,scale:this.scale,selectedDate:this.activeRange==="end"?r:n,startDate:this.range?n:void 0})]}getEndDate(){return Array.isArray(this.valueAsDate)&&this.valueAsDate[1]||void 0}setEndDate(e){const t=this.getStartDate(),i=e&&_J(e);this.value=[ns(t),ns(e)],this.valueAsDate=[t,e],this.mostRecentRangeValue=i,this.calciteDatePickerRangeChange.emit(),this.activeEndDate=e||null}getStartDate(){return Array.isArray(this.valueAsDate)&&this.valueAsDate[0]}setStartDate(e){const t=this.getEndDate();this.value=[ns(e),ns(t)],this.valueAsDate=[e,t],this.mostRecentRangeValue=e,this.calciteDatePickerRangeChange.emit(),this.activeStartDate=e||null}getActiveDate(e,t,i){return zs(this.activeDate,t,i)||e||zs(new Date,t,i)}getActiveEndDate(e,t,i){return zs(this.activeEndDate,t,i)||e||zs(new Date,t,i)}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{activeDate:["activeDateWatcher"],valueAsDate:["valueAsDateWatcher"],min:["onMinChanged"],max:["onMaxChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange","loadLocaleData"],value:["valueHandler"]}}static get style(){return ove}},[17,"calcite-date-picker",{activeDate:[1040],activeRange:[513,"active-range"],value:[1025],headingLevel:[514,"heading-level"],valueAsDate:[1040],minAsDate:[1040],maxAsDate:[1040],min:[1537],max:[1537],numberingSystem:[513,"numbering-system"],scale:[513],range:[516],proximitySelectionDisabled:[516,"proximity-selection-disabled"],messageOverrides:[1040],messages:[1040],activeStartDate:[32],activeEndDate:[32],startAsDate:[32],endAsDate:[32],effectiveLocale:[32],defaultMessages:[32],localeData:[32],hoverRange:[32]}]);function xJ(){if(typeof customElements>"u")return;["calcite-date-picker","calcite-date-picker-day","calcite-date-picker-month","calcite-date-picker-month-header","calcite-icon"].forEach(t=>{switch(t){case"calcite-date-picker":customElements.get(t)||customElements.define(t,lve);break;case"calcite-date-picker-day":customElements.get(t)||SC();break;case"calcite-date-picker-month":customElements.get(t)||EF();break;case"calcite-date-picker-month-header":customElements.get(t)||kF();break;case"calcite-icon":customElements.get(t)||Te();break}})}xJ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const cve={dropdownTrigger:"trigger"},uve="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:inline-flex;flex:0 1 auto}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host .calcite-dropdown-wrapper{--calcite-floating-ui-z-index:600;display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index);visibility:hidden}.calcite-dropdown-wrapper .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:1;border-radius:0.25rem}.calcite-dropdown-wrapper[data-placement^=bottom] .calcite-floating-ui-anim{transform:translateY(-5px)}.calcite-dropdown-wrapper[data-placement^=top] .calcite-floating-ui-anim{transform:translateY(5px)}.calcite-dropdown-wrapper[data-placement^=left] .calcite-floating-ui-anim{transform:translateX(5px)}.calcite-dropdown-wrapper[data-placement^=right] .calcite-floating-ui-anim{transform:translateX(-5px)}.calcite-dropdown-wrapper[data-placement] .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([open]) .calcite-dropdown-wrapper{visibility:visible}:host .calcite-dropdown-content{max-block-size:45vh;inline-size:auto;overflow-y:auto;overflow-x:hidden;background-color:var(--calcite-ui-foreground-1);inline-size:var(--calcite-dropdown-width)}.calcite-trigger-container{position:relative;display:flex;flex:1 1 auto}@media (forced-colors: active){:host([open]) .calcite-dropdown-wrapper{border:1px solid canvasText}}:host([width=s]){--calcite-dropdown-width:12rem}:host([width=m]){--calcite-dropdown-width:14rem}:host([width=l]){--calcite-dropdown-width:16rem}",dve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteDropdownSelect=B(this,"calciteDropdownSelect",6),this.calciteDropdownBeforeClose=B(this,"calciteDropdownBeforeClose",6),this.calciteDropdownClose=B(this,"calciteDropdownClose",6),this.calciteDropdownBeforeOpen=B(this,"calciteDropdownBeforeOpen",6),this.calciteDropdownOpen=B(this,"calciteDropdownOpen",6),this.items=[],this.groups=[],this.mutationObserver=Ct("mutation",()=>this.updateItems()),this.resizeObserver=Ct("resize",e=>this.resizeObserverCallback(e)),this.openTransitionProp="opacity",this.guid=`calcite-dropdown-${$i()}`,this.defaultAssignedElements=[],this.slotChangeHandler=e=>{this.defaultAssignedElements=e.target.assignedElements({flatten:!0}),this.updateItems()},this.setFilteredPlacements=()=>{const{el:e,flipPlacements:t}=this;this.filteredFlipPlacements=t?bC(t,e):null},this.updateTriggers=e=>{this.triggers=e.target.assignedElements({flatten:!0}),this.reposition(!0)},this.updateItems=()=>{this.items=this.groups.map(e=>Array.from(e==null?void 0:e.querySelectorAll("calcite-dropdown-item"))).reduce((e,t)=>[...e,...t],[]),this.updateSelectedItems(),this.reposition(!0)},this.updateGroups=e=>{const t=e.target.assignedElements({flatten:!0}).filter(i=>i==null?void 0:i.matches("calcite-dropdown-group"));this.groups=t,this.updateItems()},this.resizeObserverCallback=e=>{e.forEach(t=>{const{target:i}=t;i===this.referenceEl?this.setDropdownWidth():i===this.scrollerEl&&this.setMaxScrollerHeight()})},this.setDropdownWidth=()=>{const{referenceEl:e,scrollerEl:t}=this,i=e==null?void 0:e.clientWidth;!i||!t||(t.style.minWidth=`${i}px`)},this.setMaxScrollerHeight=()=>{const{scrollerEl:e}=this;if(!e)return;this.reposition(!0);const t=this.getMaxScrollerHeight();e.style.maxHeight=t>0?`${t}px`:"",this.reposition(!0)},this.setScrollerAndTransitionEl=e=>{this.resizeObserver.observe(e),this.scrollerEl=e,this.transitionEl=e,Xa(this)},this.setReferenceEl=e=>{this.referenceEl=e,Th(this,this.referenceEl,this.floatingEl),this.resizeObserver.observe(e)},this.setFloatingEl=e=>{this.floatingEl=e,Th(this,this.referenceEl,this.floatingEl)},this.keyDownHandler=e=>{if(e.target!==this.referenceEl)return;const{defaultPrevented:i,key:n}=e;if(!i){if(this.open){if(n==="Escape"){this.closeCalciteDropdown(),e.preventDefault();return}else if(e.shiftKey&&n==="Tab"){this.closeCalciteDropdown(),e.preventDefault();return}}Qa(n)?(this.openCalciteDropdown(),e.preventDefault()):n==="Escape"&&(this.closeCalciteDropdown(),e.preventDefault())}},this.focusOnFirstActiveOrFirstItem=()=>{this.getFocusableElement(this.items.find(e=>e.selected)||this.items[0])},this.toggleOpenEnd=()=>{this.focusOnFirstActiveOrFirstItem(),this.el.removeEventListener("calciteDropdownOpen",this.toggleOpenEnd)},this.openCalciteDropdown=()=>{this.open=!this.open,this.open&&this.el.addEventListener("calciteDropdownOpen",this.toggleOpenEnd)},this.open=!1,this.closeOnSelectDisabled=!1,this.disabled=!1,this.flipPlacements=void 0,this.maxItems=0,this.overlayPositioning="absolute",this.placement=pF,this.scale="m",this.selectedItems=[],this.type="click",this.width=void 0}openHandler(e){if(!this.disabled){e?this.reposition(!0):sm(this.floatingEl);return}e||sm(this.floatingEl),this.open=!1}handleDisabledChange(e){e||(this.open=!1)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}maxItemsHandler(){this.setMaxScrollerHeight()}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}connectedCallback(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0}),this.setFilteredPlacements(),this.reposition(!0),this.open&&this.openHandler(this.open),Xa(this)}componentDidLoad(){this.reposition(!0)}componentDidRender(){et(this)}disconnectedCallback(){var e,t;(e=this.mutationObserver)==null||e.disconnect(),V0(this,this.referenceEl,this.floatingEl),(t=this.resizeObserver)==null||t.disconnect(),Cm(this)}render(){const{open:e,guid:t}=this;return v(Fe,null,v("div",{class:"calcite-trigger-container",id:`${t}-menubutton`,onClick:this.openCalciteDropdown,onKeyDown:this.keyDownHandler,ref:this.setReferenceEl},v("slot",{"aria-controls":`${t}-menu`,"aria-expanded":ot(e),"aria-haspopup":"menu",name:cve.dropdownTrigger,onSlotchange:this.updateTriggers})),v("div",{"aria-hidden":ot(!e),class:"calcite-dropdown-wrapper",ref:this.setFloatingEl},v("div",{"aria-labelledby":`${t}-menubutton`,class:{["calcite-dropdown-content"]:!0,[el.animation]:!0,[el.animationActive]:e},id:`${t}-menu`,ref:this.setScrollerAndTransitionEl,role:"menu"},v("slot",{onSlotchange:this.updateGroups}))))}async reposition(e=!1){const{floatingEl:t,referenceEl:i,placement:n,overlayPositioning:r,filteredFlipPlacements:s}=this;return v_(this,{floatingEl:t,referenceEl:i,overlayPositioning:r,placement:n,flipPlacements:s,type:"menu"},e)}closeCalciteDropdownOnClick(e){!dr(e)||!this.open||e.composedPath().includes(this.el)||this.closeCalciteDropdown(!1)}closeCalciteDropdownOnEvent(e){this.closeCalciteDropdown(),e.stopPropagation()}closeCalciteDropdownOnOpenEvent(e){e.composedPath().includes(this.el)||(this.open=!1)}mouseEnterHandler(){this.type==="hover"&&this.openCalciteDropdown()}mouseLeaveHandler(){this.type==="hover"&&this.closeCalciteDropdown()}calciteInternalDropdownItemKeyEvent(e){const{keyboardEvent:t}=e.detail,i=t.target;switch(t.key){case"Tab":this.items.indexOf(i)===this.items.length-1&&!t.shiftKey?this.closeCalciteDropdown():this.items.indexOf(i)===0&&t.shiftKey&&this.closeCalciteDropdown();break;case"ArrowDown":Xc(this.items,i,"next");break;case"ArrowUp":Xc(this.items,i,"previous");break;case"Home":Xc(this.items,i,"first");break;case"End":Xc(this.items,i,"last");break}e.stopPropagation()}handleItemSelect(e){this.updateSelectedItems(),e.stopPropagation(),this.calciteDropdownSelect.emit(),(!this.closeOnSelectDisabled||e.detail.requestedDropdownGroup.selectionMode==="none")&&this.closeCalciteDropdown(),e.stopPropagation()}onBeforeOpen(){this.calciteDropdownBeforeOpen.emit()}onOpen(){this.calciteDropdownOpen.emit()}onBeforeClose(){this.calciteDropdownBeforeClose.emit()}onClose(){this.calciteDropdownClose.emit()}updateSelectedItems(){this.selectedItems=this.items.filter(e=>e.selected)}getMaxScrollerHeight(){const{maxItems:e,items:t}=this;let i=0,n=0,r;return this.groups.forEach(s=>{e>0&&i<e&&Array.from(s.children).forEach((a,o)=>{o===0&&(isNaN(r)&&(r=a.offsetTop),n+=r),i<e&&(n+=a.offsetHeight,i+=1)})}),t.length>e?n:0}closeCalciteDropdown(e=!0){this.open=!1,e&&Nr(this.triggers[0])}getFocusableElement(e){if(!e)return;const t=e.attributes.isLink?e.shadowRoot.querySelector("a"):e;Nr(t)}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{open:["openHandler"],disabled:["handleDisabledChange"],flipPlacements:["flipPlacementsHandler"],maxItems:["maxItemsHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"]}}static get style(){return uve}},[17,"calcite-dropdown",{open:[1540],closeOnSelectDisabled:[516,"close-on-select-disabled"],disabled:[516],flipPlacements:[16],maxItems:[514,"max-items"],overlayPositioning:[513,"overlay-positioning"],placement:[513],scale:[513],selectedItems:[1040],type:[513],width:[513],reposition:[64]},[[9,"pointerdown","closeCalciteDropdownOnClick"],[0,"calciteInternalDropdownCloseRequest","closeCalciteDropdownOnEvent"],[8,"calciteDropdownOpen","closeCalciteDropdownOnOpenEvent"],[1,"pointerenter","mouseEnterHandler"],[1,"pointerleave","mouseLeaveHandler"],[0,"calciteInternalDropdownItemKeyEvent","calciteInternalDropdownItemKeyEvent"],[0,"calciteInternalDropdownItemSelect","handleItemSelect"]]]);function SJ(){if(typeof customElements>"u")return;["calcite-dropdown"].forEach(t=>{switch(t){case"calcite-dropdown":customElements.get(t)||customElements.define(t,dve);break}})}SJ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const T$={containerSmall:"container--s",containerMedium:"container--m",containerLarge:"container--l"},hve="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:relative;display:block}.container{text-align:start}.container--s{font-size:var(--calcite-font-size--2);line-height:1rem}.container--s .dropdown-title{padding:0.5rem}.container--m{font-size:var(--calcite-font-size--1);line-height:1rem}.container--m .dropdown-title{padding:0.75rem}.container--l{font-size:var(--calcite-font-size-0);line-height:1.25rem}.container--l .dropdown-title{padding:1rem}.dropdown-title{margin-block-end:-1px;display:block;cursor:default;overflow-wrap:break-word;border-width:0px;border-block-end-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-2)}.dropdown-separator{display:block;block-size:1px;background-color:var(--calcite-ui-border-3)}",pve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalDropdownItemChange=B(this,"calciteInternalDropdownItemChange",6),this.groupTitle=void 0,this.selectionMode="single",this.scale=void 0}componentWillLoad(){this.groupPosition=this.getGroupPosition()}render(){const e=this.scale||ci(this.el,"scale","m"),t=this.groupTitle?v("span",{"aria-hidden":"true",class:"dropdown-title"},this.groupTitle):null,i=this.groupPosition>0?v("div",{class:"dropdown-separator",role:"separator"}):null;return v(Fe,{"aria-label":this.groupTitle,role:"group"},v("div",{class:{container:!0,[T$.containerSmall]:e==="s",[T$.containerMedium]:e==="m",[T$.containerLarge]:e==="l"},title:this.groupTitle},i,t,v("slot",null)))}updateActiveItemOnChange(e){this.requestedDropdownGroup=e.detail.requestedDropdownGroup,this.requestedDropdownItem=e.detail.requestedDropdownItem,this.calciteInternalDropdownItemChange.emit({requestedDropdownGroup:this.requestedDropdownGroup,requestedDropdownItem:this.requestedDropdownItem})}getGroupPosition(){return Array.prototype.indexOf.call(this.el.parentElement.querySelectorAll("calcite-dropdown-group"),this.el)}static get delegatesFocus(){return!0}get el(){return this}static get style(){return hve}},[17,"calcite-dropdown-group",{groupTitle:[513,"group-title"],selectionMode:[513,"selection-mode"],scale:[513]},[[0,"calciteInternalDropdownItemSelect","updateActiveItemOnChange"]]]);function fve(){if(typeof customElements>"u")return;["calcite-dropdown-group"].forEach(t=>{switch(t){case"calcite-dropdown-group":customElements.get(t)||customElements.define(t,pve);break}})}fve();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const ua={containerLink:"container--link",containerSmall:"container--s",containerMedium:"container--m",containerLarge:"container--l",containerMulti:"container--multi-selection",containerSingle:"container--single-selection",containerNone:"container--none-selection",icon:"dropdown-item-icon",iconEnd:"dropdown-item-icon-end",iconStart:"dropdown-item-icon-start",itemContent:"dropdown-item-content",link:"dropdown-link"},mve="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}.container--s{padding-block:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;padding-inline-end:0.5rem;padding-inline-start:1.5rem}.container--m{padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;padding-inline-end:0.75rem;padding-inline-start:2rem}.container--l{padding-block:0.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;padding-inline-end:1rem;padding-inline-start:2.5rem}.container--s.container--none-selection{padding-inline-start:0.25rem}.container--s.container--none-selection .dropdown-link{padding-inline-start:0px}.container--m.container--none-selection{padding-inline-start:0.5rem}.container--m.container--none-selection .dropdown-link{padding-inline-start:0px}.container--l.container--none-selection{padding-inline-start:0.75rem}.container--l.container--none-selection .dropdown-link{padding-inline-start:0px}:host{position:relative;display:flex;flex-grow:1;align-items:center}.container{position:relative;display:flex;flex-grow:1;cursor:pointer;align-items:center;color:var(--calcite-ui-text-3);text-decoration-line:none;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);text-align:start}.dropdown-item-content{flex:1 1 auto;padding-block:0.125rem;padding-inline-end:auto;padding-inline-start:0.25rem}:host,.container--link a{outline-color:transparent}:host(:focus){outline:2px solid transparent;outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.container--link{padding:0px}.container--link a{position:relative;display:flex;flex-grow:1;cursor:pointer;align-items:center;color:var(--calcite-ui-text-3);text-decoration-line:none;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.container--s .dropdown-link{padding-block:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;padding-inline-end:0.5rem;padding-inline-start:1.5rem}.container--m .dropdown-link{padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;padding-inline-end:0.75rem;padding-inline-start:2rem}.container--l .dropdown-link{padding-block:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;padding-inline-end:1rem;padding-inline-start:2.5rem}:host(:hover) .container,:host(:active) .container{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1);text-decoration-line:none}:host(:hover) .container--link .dropdown-link,:host(:active) .container--link .dropdown-link{color:var(--calcite-ui-text-1)}:host(:focus) .container{color:var(--calcite-ui-text-1);text-decoration-line:none}:host(:active) .container{background-color:var(--calcite-ui-foreground-3)}:host(:hover) .container:before,:host(:active) .container:before,:host(:focus) .container:before{opacity:1}:host([selected]) .container:not(.container--none-selection),:host([selected]) .container--link .dropdown-link{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([selected]) .container:not(.container--none-selection):before,:host([selected]) .container--link .dropdown-link:before{opacity:1;color:var(--calcite-ui-brand)}:host([selected]) .container:not(.container--none-selection) calcite-icon,:host([selected]) .container--link .dropdown-link calcite-icon{color:var(--calcite-ui-brand)}.container--multi-selection:before,.container--none-selection:before{display:none}.container--s:before{inset-inline-start:0.5rem}.container--m:before{inset-inline-start:0.75rem}.container--l:before{inset-inline-start:1rem}.dropdown-item-icon{position:absolute;opacity:0;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:scale(0.9)}.container--s .dropdown-item-icon{inset-inline-start:0.25rem}.container--m .dropdown-item-icon{inset-inline-start:0.5rem}.container--l .dropdown-item-icon{inset-inline-start:0.75rem}:host(:hover) .dropdown-item-icon{color:var(--calcite-ui-border-1);opacity:1}:host([selected]) .dropdown-item-icon{color:var(--calcite-ui-brand);opacity:1}.container--s .dropdown-item-icon-start{margin-inline-end:0.5rem;margin-inline-start:0.25rem}.container--s .dropdown-item-icon-end{margin-inline-start:0.5rem}.container--m .dropdown-item-icon-start{margin-inline-end:0.75rem;margin-inline-start:0.25rem}.container--m .dropdown-item-icon-end{margin-inline-start:0.75rem}.container--l .dropdown-item-icon-start{margin-inline-end:1rem;margin-inline-start:0.25rem}.container--l .dropdown-item-icon-end{margin-inline-start:1rem}",gve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteDropdownItemSelect=B(this,"calciteDropdownItemSelect",6),this.calciteInternalDropdownItemSelect=B(this,"calciteInternalDropdownItemSelect",6),this.calciteInternalDropdownItemKeyEvent=B(this,"calciteInternalDropdownItemKeyEvent",6),this.calciteInternalDropdownCloseRequest=B(this,"calciteInternalDropdownCloseRequest",6),this.scale="m",this.selected=!1,this.iconFlipRtl=void 0,this.iconStart=void 0,this.iconEnd=void 0,this.href=void 0,this.label=void 0,this.rel=void 0,this.target=void 0}async setFocus(){var e;await He(this),(e=this.el)==null||e.focus()}componentWillLoad(){We(this),this.initialize()}componentDidLoad(){Ke(this)}connectedCallback(){this.initialize()}render(){const e=ci(this.el,"scale",this.scale),t=v("calcite-icon",{class:ua.iconStart,flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:e==="l"?"m":"s"}),i=v("span",{class:ua.itemContent},v("slot",null)),n=v("calcite-icon",{class:ua.iconEnd,flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:e==="l"?"m":"s"}),r=this.iconStart&&this.iconEnd?[t,i,n]:this.iconStart?[t,i]:this.iconEnd?[i,n]:i,s=this.href?v("a",{"aria-label":this.label,class:ua.link,href:this.href,ref:l=>this.childLink=l,rel:this.rel,tabIndex:-1,target:this.target},r):r,a=this.href?null:this.selectionMode==="single"?"menuitemradio":this.selectionMode==="multiple"?"menuitemcheckbox":"menuitem",o=this.selectionMode!=="none"?ot(this.selected):null;return v(Fe,{"aria-checked":o,role:a,tabindex:"0"},v("div",{class:{container:!0,[ua.containerLink]:!!this.href,[ua.containerSmall]:e==="s",[ua.containerMedium]:e==="m",[ua.containerLarge]:e==="l",[ua.containerMulti]:this.selectionMode==="multiple",[ua.containerSingle]:this.selectionMode==="single",[ua.containerNone]:this.selectionMode==="none"}},this.selectionMode!=="none"?v("calcite-icon",{class:ua.icon,icon:this.selectionMode==="multiple"?"check":"bullet-point",scale:e==="l"?"m":"s"}):null,s))}onClick(){this.emitRequestedItem()}keyDownHandler(e){switch(e.key){case" ":case"Enter":this.emitRequestedItem(),this.href&&this.childLink.click(),e.preventDefault();break;case"Escape":this.calciteInternalDropdownCloseRequest.emit(),e.preventDefault();break;case"Tab":this.calciteInternalDropdownItemKeyEvent.emit({keyboardEvent:e});break;case"ArrowUp":case"ArrowDown":case"Home":case"End":e.preventDefault(),this.calciteInternalDropdownItemKeyEvent.emit({keyboardEvent:e});break}}updateActiveItemOnChange(e){e.composedPath().includes(this.parentDropdownGroupEl)&&(this.requestedDropdownGroup=e.detail.requestedDropdownGroup,this.requestedDropdownItem=e.detail.requestedDropdownItem,this.determineActiveItem()),e.stopPropagation()}initialize(){this.selectionMode=ci(this.el,"selection-mode","single"),this.parentDropdownGroupEl=this.el.closest("calcite-dropdown-group"),this.selectionMode==="none"&&(this.selected=!1)}determineActiveItem(){switch(this.selectionMode){case"multiple":this.el===this.requestedDropdownItem&&(this.selected=!this.selected);break;case"single":this.el===this.requestedDropdownItem?this.selected=!0:this.requestedDropdownGroup===this.parentDropdownGroupEl&&(this.selected=!1);break;case"none":this.selected=!1;break}}emitRequestedItem(){this.calciteDropdownItemSelect.emit(),this.calciteInternalDropdownItemSelect.emit({requestedDropdownItem:this.el,requestedDropdownGroup:this.parentDropdownGroupEl})}get el(){return this}static get style(){return mve}},[1,"calcite-dropdown-item",{selected:[1540],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],iconEnd:[513,"icon-end"],href:[513],label:[1],rel:[513],target:[513],setFocus:[64]},[[0,"click","onClick"],[0,"keydown","keyDownHandler"],[16,"calciteInternalDropdownItemChange","updateActiveItemOnChange"]]]);function yve(){if(typeof customElements>"u")return;["calcite-dropdown-item","calcite-icon"].forEach(t=>{switch(t){case"calcite-dropdown-item":customElements.get(t)||customElements.define(t,gve);break;case"calcite-icon":customElements.get(t)||Te();break}})}yve();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const vve={button:"button"},bve={plus:"plus"},wve="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:flex;background-color:transparent}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}calcite-button{--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}calcite-button:hover{--tw-shadow:0 12px 32px -2px rgba(0, 0, 0, 0.1), 0 4px 20px 0 rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 12px 32px -2px var(--tw-shadow-color), 0 4px 20px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}calcite-button:active{--tw-shadow:0 2px 12px -4px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.16);--tw-shadow-colored:0 2px 12px -4px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}",_ve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.appearance="solid",this.kind="brand",this.disabled=!1,this.icon=bve.plus,this.iconFlipRtl=!1,this.label=void 0,this.loading=!1,this.scale="m",this.text=void 0,this.textEnabled=!1}componentWillLoad(){We(this)}componentDidLoad(){Ke(this)}componentDidRender(){et(this)}async setFocus(){await He(this),Nr(this.buttonEl)}render(){const{appearance:e,kind:t,disabled:i,loading:n,scale:r,textEnabled:s,icon:a,label:o,text:l,iconFlipRtl:c}=this,h=s?null:o||l||null;return v("calcite-button",{appearance:e==="solid"?"solid":"outline-fill",class:vve.button,disabled:i,iconFlipRtl:c?"start":null,iconStart:a,kind:t,label:o,loading:n,ref:p=>{this.buttonEl=p},round:!0,scale:r,title:h,type:"button",width:"auto"},this.textEnabled?this.text:null)}get el(){return this}static get style(){return wve}},[1,"calcite-fab",{appearance:[513],kind:[513],disabled:[516],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"],label:[1],loading:[516],scale:[513],text:[1],textEnabled:[516,"text-enabled"],setFocus:[64]}]);function xve(){if(typeof customElements>"u")return;["calcite-fab","calcite-button","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-fab":customElements.get(t)||customElements.define(t,_ve);break;case"calcite-button":customElements.get(t)||b_();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break}})}xve();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Sve={container:"container",searchIcon:"search-icon"},Eve={search:"search",close:"x"},kve=250,Ive="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{display:flex;inline-size:100%;padding:0.5rem}label{position:relative;margin-inline:0.25rem;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}input[type=text]{margin-block-end:0.25rem;inline-size:100%;border-style:none;background-color:transparent;padding-block:0.25rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-ui-text-1);padding-inline-end:0.25rem;padding-inline-start:1.5rem;transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{inline-size:100%}.search-icon{position:absolute;display:flex;color:var(--calcite-ui-text-2);inset-inline-start:0;transition:inset-inline-start var(--calcite-animation-timing), inset-inline-end var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-ui-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:flex;cursor:pointer;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-ui-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-ui-text-1)}",Cve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteFilterChange=B(this,"calciteFilterChange",6),this.filter=Jl((e,t=!1)=>this.updateFiltered(Q3(this.items,e),t),kve),this.inputHandler=e=>{const t=e.target;this.value=t.value,this.filter(t.value,!0)},this.keyDownHandler=e=>{e.key==="Escape"&&(this.clear(),e.preventDefault()),e.key==="Enter"&&e.preventDefault()},this.clear=()=>{this.value="",this.filter("",!0),this.setFocus()},this.items=[],this.disabled=!1,this.filteredItems=[],this.placeholder=void 0,this.scale="m",this.value="",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}watchItemsHandler(){this.filter(this.value)}onMessagesChange(){}valueHandler(e){this.filter(e)}effectiveLocaleChange(){At(this,this.effectiveLocale)}async componentWillLoad(){We(this),this.updateFiltered(Q3(this.items,this.value)),await $t(this)}connectedCallback(){ht(this),Mt(this)}componentDidRender(){et(this)}disconnectedCallback(){pt(this),Dt(this)}componentDidLoad(){Ke(this)}async setFocus(){var e;await He(this),(e=this.el)==null||e.focus()}updateFiltered(e,t=!1){this.filteredItems.length=0,this.filteredItems=this.filteredItems.concat(e),t&&this.calciteFilterChange.emit()}render(){const{disabled:e,scale:t}=this;return v(Hr,null,v("div",{class:Sve.container},v("label",null,v("calcite-input",{"aria-label":this.messages.label,clearable:!0,disabled:e,icon:Eve.search,messageOverrides:{clear:this.messages.clear},onCalciteInputInput:this.inputHandler,onKeyDown:this.keyDownHandler,placeholder:this.placeholder,ref:i=>{this.textInput=i},scale:t,type:"text",value:this.value}))))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{items:["watchItemsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Ive}},[17,"calcite-filter",{items:[1040],disabled:[516],filteredItems:[1040],placeholder:[1],scale:[513],value:[1025],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],setFocus:[64]}]);function EC(){if(typeof customElements>"u")return;["calcite-filter","calcite-icon","calcite-input","calcite-progress"].forEach(t=>{switch(t){case"calcite-filter":customElements.get(t)||customElements.define(t,Cve);break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-input":customElements.get(t)||Mu();break;case"calcite-progress":customElements.get(t)||so();break}})}EC();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const $$={frame:"frame",frameAdvancing:"frame--advancing",frameRetreating:"frame--retreating"},Tve="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:relative;display:flex;inline-size:100%;flex:1 1 auto;align-items:stretch;overflow:hidden;background-color:transparent}:host .frame{position:relative;margin:0px;display:flex;inline-size:100%;flex:1 1 auto;flex-direction:column;align-items:stretch;padding:0px}:host ::slotted(calcite-flow-item),:host ::slotted(calcite-panel){block-size:100%}:host ::slotted(.calcite-match-height:last-child){display:flex;flex:1 1 auto;overflow:hidden}:host .frame--advancing{animation:calcite-frame-advance var(--calcite-animation-timing)}:host .frame--retreating{animation:calcite-frame-retreat var(--calcite-animation-timing)}@keyframes calcite-frame-advance{0%{--tw-bg-opacity:0.5;transform:translate3d(50px, 0, 0)}100%{--tw-bg-opacity:1;transform:translate3d(0, 0, 0)}}@keyframes calcite-frame-retreat{0%{--tw-bg-opacity:0.5;transform:translate3d(-50px, 0, 0)}100%{--tw-bg-opacity:1;transform:translate3d(0, 0, 0)}}",EJ=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.itemMutationObserver=Ct("mutation",()=>this.updateFlowProps()),this.getFlowDirection=(e,t)=>{const i=e>1;return!(e&&t>1)&&!i?null:t<e?"retreating":"advancing"},this.updateFlowProps=()=>{const{el:e,items:t}=this,i=Array.from(e.querySelectorAll("calcite-flow-item")).filter(o=>o.closest("calcite-flow")===e),n=t.length,r=i.length,s=i[r-1],a=i[r-2];if(r&&s&&i.forEach(o=>{o.showBackButton=o===s&&r>1,o.hidden=o!==s}),a&&(a.menuOpen=!1),this.items=i,n!==r){const o=this.getFlowDirection(n,r);this.itemCount=r,this.flowDirection=o}},this.flowDirection=null,this.itemCount=0,this.items=[]}async back(){const{items:e}=this,t=e[e.length-1];return t?(t.beforeBack?t.beforeBack:()=>Promise.resolve()).call(t).then(()=>(t.remove(),t)):void 0}connectedCallback(){var e;(e=this.itemMutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0}),this.updateFlowProps()}disconnectedCallback(){var e;(e=this.itemMutationObserver)==null||e.disconnect()}handleItemBackClick(){this.back()}render(){const{flowDirection:e}=this,t={[$$.frame]:!0,[$$.frameAdvancing]:e==="advancing",[$$.frameRetreating]:e==="retreating"};return v("div",{class:t},v("slot",null))}get el(){return this}static get style(){return Tve}},[1,"calcite-flow",{flowDirection:[32],itemCount:[32],items:[32],back:[64]},[[0,"calciteFlowItemBack","handleItemBackClick"]]]);function kJ(){if(typeof customElements>"u")return;["calcite-flow"].forEach(t=>{switch(t){case"calcite-flow":customElements.get(t)||customElements.define(t,EJ);break}})}kJ();const $ve=EJ,Ave=kJ,Mve=Object.freeze(Object.defineProperty({__proto__:null,CalciteFlow:$ve,defineCustomElement:Ave},Symbol.toStringTag,{value:"Module"}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Jn={backButton:"back-button",container:"container",header:"header",heading:"heading",summary:"summary",description:"description",headerContent:"header-content",headerActions:"header-actions",headerActionsEnd:"header-actions--end",headerActionsStart:"header-actions--start",contentWrapper:"content-wrapper",contentContainer:"content-container",contentHeight:"content-height",fabContainer:"fab-container",footer:"footer"},dV={close:"x",menu:"ellipsis",backLeft:"chevron-left",backRight:"chevron-right"},rs={headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerActions:"footer-actions"},Dve="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{position:relative;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;overflow:hidden;--calcite-min-header-height:calc(var(--calcite-icon-size) * 3)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.header{margin:0px;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:0.5rem}.container{margin:0px;display:flex;inline-size:100%;flex:1 1 auto;flex-direction:column;align-items:stretch;background-color:var(--calcite-ui-background);padding:0px;transition:max-block-size var(--calcite-animation-timing), inline-size var(--calcite-animation-timing)}.container[hidden]{display:none}.header{border-block-end:1px solid;position:sticky;inset-block-start:0px;z-index:400;inline-size:100%;align-items:stretch;justify-content:flex-start;background-color:var(--calcite-ui-foreground-1);border-block-end-color:var(--calcite-ui-border-3);flex:0 0 auto}.header-content{display:flex;flex-direction:column;overflow:hidden;padding-inline:0.75rem;padding-block:0.875rem;margin-inline-end:auto}.header-content .heading,.header-content .description{display:block;overflow-wrap:break-word;padding:0px}.header-content .heading{margin-inline:0px;margin-block:0px 0.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-medium)}.header-content .heading:only-child{margin-block-end:0px}.header-content .description{font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}.back-button{border-width:0px;border-style:solid;border-color:var(--calcite-ui-border-3);border-inline-end-width:1px}.header-actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}.header-actions--end{margin-inline-start:auto}.content-wrapper{overflow:auto}.content-height{block-size:100%}.content-container{display:flex;flex:1 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch;background-color:var(--calcite-ui-background)}.footer{border-block-start:1px solid;position:sticky;inset-block-end:0px;display:flex;inline-size:100%;justify-content:space-evenly;background-color:var(--calcite-ui-foreground-1);border-block-start-color:var(--calcite-ui-border-3);flex:0 0 auto;min-block-size:3rem;padding:0.5rem}.fab-container{position:sticky;inset-block-end:0px;z-index:300;margin-block:0px;margin-inline:auto;display:block;padding:0.5rem;inset-inline:0;inline-size:-moz-fit-content;inline-size:fit-content}[hidden]{display:none}",Ove=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calcitePanelClose=B(this,"calcitePanelClose",6),this.calcitePanelScroll=B(this,"calcitePanelScroll",6),this.resizeObserver=Ct("resize",()=>this.resizeHandler()),this.resizeHandler=()=>{const{panelScrollEl:e}=this;!e||typeof e.scrollHeight!="number"||typeof e.offsetHeight!="number"||(e.tabIndex=e.scrollHeight>e.offsetHeight?0:-1)},this.setContainerRef=e=>{this.containerEl=e},this.setCloseRef=e=>{this.closeButtonEl=e},this.setBackRef=e=>{this.backButtonEl=e},this.panelKeyDownHandler=e=>{this.closable&&e.key==="Escape"&&!e.defaultPrevented&&(this.close(),e.preventDefault())},this.close=()=>{this.closed=!0,this.calcitePanelClose.emit()},this.panelScrollHandler=()=>{this.calcitePanelScroll.emit()},this.handleHeaderActionsStartSlotChange=e=>{const t=e.target.assignedElements({flatten:!0});this.hasStartActions=!!t.length},this.handleHeaderActionsEndSlotChange=e=>{const t=e.target.assignedElements({flatten:!0});this.hasEndActions=!!t.length},this.handleHeaderMenuActionsSlotChange=e=>{const t=e.target.assignedElements({flatten:!0});this.hasMenuItems=!!t.length},this.handleHeaderContentSlotChange=e=>{const t=e.target.assignedElements({flatten:!0});this.hasHeaderContent=!!t.length},this.handleFooterSlotChange=e=>{const t=e.target.assignedElements({flatten:!0});this.hasFooterContent=!!t.length},this.handleFooterActionsSlotChange=e=>{const t=e.target.assignedElements({flatten:!0});this.hasFooterActions=!!t.length},this.handleFabSlotChange=e=>{const t=e.target.assignedElements({flatten:!0});this.hasFab=!!t.length},this.setPanelScrollEl=e=>{var t,i;this.panelScrollEl=e,(t=this.resizeObserver)==null||t.disconnect(),e&&((i=this.resizeObserver)==null||i.observe(e),this.resizeHandler())},this.closed=!1,this.disabled=!1,this.closable=!1,this.headingLevel=void 0,this.loading=!1,this.heading=void 0,this.description=void 0,this.menuOpen=!1,this.messageOverrides=void 0,this.messages=void 0,this.hasStartActions=!1,this.hasEndActions=!1,this.hasMenuItems=!1,this.hasHeaderContent=!1,this.hasFooterContent=!1,this.hasFooterActions=!1,this.hasFab=!1,this.defaultMessages=void 0,this.effectiveLocale=""}onMessagesChange(){}connectedCallback(){ht(this),Mt(this)}async componentWillLoad(){We(this),await $t(this)}componentDidLoad(){Ke(this)}componentDidRender(){et(this)}disconnectedCallback(){var e;pt(this),Dt(this),(e=this.resizeObserver)==null||e.disconnect()}effectiveLocaleChange(){At(this,this.effectiveLocale)}async setFocus(){await He(this),aF(this.containerEl)}async scrollContentTo(e){var t;(t=this.panelScrollEl)==null||t.scrollTo(e)}renderHeaderContent(){const{heading:e,headingLevel:t,description:i,hasHeaderContent:n}=this,r=e?v(Tm,{class:Jn.heading,level:t},e):null,s=i?v("span",{class:Jn.description},i):null;return!n&&(r||s)?v("div",{class:Jn.headerContent,key:"header-content"},r,s):null}renderHeaderSlottedContent(){return v("div",{class:Jn.headerContent,hidden:!this.hasHeaderContent,key:"slotted-header-content"},v("slot",{name:rs.headerContent,onSlotchange:this.handleHeaderContentSlotChange}))}renderHeaderStartActions(){const{hasStartActions:e}=this;return v("div",{class:{[Jn.headerActionsStart]:!0,[Jn.headerActions]:!0},hidden:!e,key:"header-actions-start"},v("slot",{name:rs.headerActionsStart,onSlotchange:this.handleHeaderActionsStartSlotChange}))}renderHeaderActionsEnd(){const{close:e,hasEndActions:t,messages:i,closable:n}=this,r=i.close,s=n?v("calcite-action",{"aria-label":r,icon:dV.close,onClick:e,ref:this.setCloseRef,text:r}):null,a=v("slot",{name:rs.headerActionsEnd,onSlotchange:this.handleHeaderActionsEndSlotChange}),o=t||s;return v("div",{class:{[Jn.headerActionsEnd]:!0,[Jn.headerActions]:!0},hidden:!o,key:"header-actions-end"},a,s)}renderMenu(){const{hasMenuItems:e,messages:t,menuOpen:i}=this;return v("calcite-action-menu",{flipPlacements:["top","bottom"],hidden:!e,key:"menu",label:t.options,open:i,placement:"bottom-end"},v("calcite-action",{icon:dV.menu,slot:c0.trigger,text:t.options}),v("slot",{name:rs.headerMenuActions,onSlotchange:this.handleHeaderMenuActionsSlotChange}))}renderHeaderNode(){const{hasHeaderContent:e,hasStartActions:t,hasEndActions:i,closable:n,hasMenuItems:r}=this,s=this.renderHeaderContent(),a=e||s||t||i||n||r;return v("header",{class:Jn.header,hidden:!a},this.renderHeaderStartActions(),this.renderHeaderSlottedContent(),s,this.renderHeaderActionsEnd(),this.renderMenu())}renderFooterNode(){const{hasFooterContent:e,hasFooterActions:t}=this,i=e||t;return v("footer",{class:Jn.footer,hidden:!i},v("slot",{key:"footer-slot",name:rs.footer,onSlotchange:this.handleFooterSlotChange}),v("slot",{key:"footer-actions-slot",name:rs.footerActions,onSlotchange:this.handleFooterActionsSlotChange}))}renderContent(){const{hasFab:e}=this,t=v("slot",{key:"default-slot"}),i=e?v("section",{class:Jn.contentContainer},t):t;return v("div",{class:{[Jn.contentWrapper]:!0,[Jn.contentContainer]:!e,[Jn.contentHeight]:e},onScroll:this.panelScrollHandler,ref:this.setPanelScrollEl},i,this.renderFab())}renderFab(){return v("div",{class:Jn.fabContainer,hidden:!this.hasFab},v("slot",{name:rs.fab,onSlotchange:this.handleFabSlotChange}))}render(){const{loading:e,panelKeyDownHandler:t,closed:i,closable:n}=this,r=v("article",{"aria-busy":ot(e),class:Jn.container,hidden:i,onKeyDown:t,ref:this.setContainerRef,tabIndex:n?0:-1},this.renderHeaderNode(),this.renderContent(),this.renderFooterNode());return v(Hr,null,e?v("calcite-scrim",{loading:e}):null,r)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Dve}},[1,"calcite-panel",{closed:[1540],disabled:[516],closable:[1540],headingLevel:[514,"heading-level"],loading:[516],heading:[1],description:[1],menuOpen:[516,"menu-open"],messageOverrides:[1040],messages:[1040],hasStartActions:[32],hasEndActions:[32],hasMenuItems:[32],hasHeaderContent:[32],hasFooterContent:[32],hasFooterActions:[32],hasFab:[32],defaultMessages:[32],effectiveLocale:[32],setFocus:[64],scrollContentTo:[64]}]);function IJ(){if(typeof customElements>"u")return;["calcite-panel","calcite-action","calcite-action-menu","calcite-icon","calcite-loader","calcite-popover","calcite-scrim"].forEach(t=>{switch(t){case"calcite-panel":customElements.get(t)||customElements.define(t,Ove);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-action-menu":customElements.get(t)||$m();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-popover":customElements.get(t)||Au();break;case"calcite-scrim":customElements.get(t)||jh();break}})}IJ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const hV={container:"container",arrow:"arrow"},Rve=500,pV="aria-describedby";function CJ(e){const{referenceElement:t}=e;return(typeof t=="string"?sF(e,{id:t}):t)||null}class Pve{constructor(){this.registeredElements=new WeakMap,this.hoverTimeout=null,this.registeredElementCount=0,this.queryTooltip=t=>{const{registeredElements:i}=this,n=t.find(r=>i.has(r));return i.get(n)},this.keyDownHandler=t=>{if(t.key==="Escape"&&!t.defaultPrevented){const{activeTooltipEl:i}=this;if(i&&i.open){this.clearHoverTimeout(),this.toggleTooltip(i,!1);const n=CJ(i);n instanceof Element&&n.contains(t.target)&&t.preventDefault()}}},this.queryHoveredTooltip=t=>{const{activeTooltipEl:i}=this;if(i&&t.includes(i)){this.clearHoverTimeout();return}const n=this.queryTooltip(t);n?this.toggleHoveredTooltip(n,!0):i&&this.toggleHoveredTooltip(i,!1)},this.pointerMoveHandler=t=>{const i=t.composedPath();this.clearHoverTimeout(),this.hoverTimeout=window.setTimeout(()=>this.queryHoveredTooltip(i),Rve)},this.pointerDownHandler=t=>{if(!dr(t))return;const i=this.queryTooltip(t.composedPath());this.clickedTooltip=i,i!=null&&i.closeOnClick&&(this.toggleTooltip(i,!1),this.clearHoverTimeout())},this.focusInHandler=t=>{this.queryFocusedTooltip(t,!0)},this.focusOutHandler=t=>{this.queryFocusedTooltip(t,!1)},this.toggleHoveredTooltip=(t,i)=>{i&&this.closeExistingTooltip(),this.toggleTooltip(t,i)}}registerElement(t,i){this.registeredElementCount++,this.registeredElements.set(t,i),this.registeredElementCount===1&&this.addListeners()}unregisterElement(t){this.registeredElements.delete(t)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}addListeners(){document.addEventListener("keydown",this.keyDownHandler,{capture:!0}),document.addEventListener("pointermove",this.pointerMoveHandler,{capture:!0}),document.addEventListener("pointerdown",this.pointerDownHandler,{capture:!0}),document.addEventListener("focusin",this.focusInHandler,{capture:!0}),document.addEventListener("focusout",this.focusOutHandler,{capture:!0})}removeListeners(){document.removeEventListener("keydown",this.keyDownHandler,{capture:!0}),document.removeEventListener("pointermove",this.pointerMoveHandler,{capture:!0}),document.removeEventListener("pointerdown",this.pointerDownHandler,{capture:!0}),document.removeEventListener("focusin",this.focusInHandler,{capture:!0}),document.removeEventListener("focusout",this.focusOutHandler,{capture:!0})}clearHoverTimeout(){window.clearTimeout(this.hoverTimeout)}closeExistingTooltip(){const{activeTooltipEl:t}=this;t&&this.toggleTooltip(t,!1)}toggleFocusedTooltip(t,i){this.closeExistingTooltip(),i&&this.clearHoverTimeout(),this.toggleTooltip(t,i)}toggleTooltip(t,i){t.open=i,i&&(this.activeTooltipEl=t)}queryFocusedTooltip(t,i){const n=this.queryTooltip(t.composedPath());if(!n||n===this.clickedTooltip){this.clickedTooltip=null;return}this.toggleFocusedTooltip(n,i)}}const Lve='@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{--calcite-floating-ui-z-index:var(--calcite-tooltip-z-index, 901);display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index)}.calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:1;border-radius:0.25rem}:host([data-placement^=bottom]) .calcite-floating-ui-anim{transform:translateY(-5px)}:host([data-placement^=top]) .calcite-floating-ui-anim{transform:translateY(5px)}:host([data-placement^=left]) .calcite-floating-ui-anim{transform:translateX(5px)}:host([data-placement^=right]) .calcite-floating-ui-anim{transform:translateX(-5px)}:host([data-placement]) .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}.arrow,.arrow::before{position:absolute;inline-size:8px;block-size:8px;z-index:-1}.arrow::before{content:"";--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transform:rotate(45deg);background:var(--calcite-ui-foreground-1)}:host([data-placement^=top]) .arrow{inset-block-end:-4px}:host([data-placement^=bottom]) .arrow{inset-block-start:-4px}:host([data-placement^=right]) .arrow,:host([data-placement^=left]) .arrow{direction:ltr;text-align:start}:host([data-placement^=left]) .arrow{inset-inline-end:-4px}:host([data-placement^=right]) .arrow{inset-inline-start:-4px}.container{position:relative;overflow:hidden;border-radius:0.25rem;background-color:var(--calcite-ui-foreground-1);padding-block:0.75rem;padding-inline:1rem;font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);max-inline-size:20rem;max-block-size:20rem;text-align:start}.calcite-floating-ui-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1)}.arrow::before{outline:1px solid var(--calcite-ui-border-3)}',fV=new Pve,Fve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTooltipBeforeClose=B(this,"calciteTooltipBeforeClose",6),this.calciteTooltipClose=B(this,"calciteTooltipClose",6),this.calciteTooltipBeforeOpen=B(this,"calciteTooltipBeforeOpen",6),this.calciteTooltipOpen=B(this,"calciteTooltipOpen",6),this.guid=`calcite-tooltip-${$i()}`,this.hasLoaded=!1,this.openTransitionProp="opacity",this.setTransitionEl=e=>{this.transitionEl=e,Xa(this)},this.setUpReferenceElement=(e=!0)=>{this.removeReferences(),this.effectiveReferenceElement=CJ(this.el),Th(this,this.effectiveReferenceElement,this.el);const{el:t,referenceElement:i,effectiveReferenceElement:n}=this;e&&i&&!n&&console.warn(`${t.tagName}: reference-element id "${i}" was not found.`,{el:t}),this.addReferences()},this.getId=()=>this.el.id||this.guid,this.addReferences=()=>{const{effectiveReferenceElement:e}=this;if(!e)return;const t=this.getId();"setAttribute"in e&&e.setAttribute(pV,t),fV.registerElement(e,this.el)},this.removeReferences=()=>{const{effectiveReferenceElement:e}=this;e&&("removeAttribute"in e&&e.removeAttribute(pV),fV.unregisterElement(e))},this.closeOnClick=!1,this.label=void 0,this.offsetDistance=zY,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.referenceElement=void 0,this.effectiveReferenceElement=void 0}offsetDistanceOffsetHandler(){this.reposition(!0)}offsetSkiddingHandler(){this.reposition(!0)}openHandler(e){e?this.reposition(!0):sm(this.el)}overlayPositioningHandler(){this.reposition(!0)}placementHandler(){this.reposition(!0)}referenceElementHandler(){this.setUpReferenceElement()}connectedCallback(){Xa(this),this.setUpReferenceElement(this.hasLoaded)}componentDidLoad(){this.referenceElement&&!this.effectiveReferenceElement&&this.setUpReferenceElement(),this.reposition(!0),this.hasLoaded=!0}disconnectedCallback(){this.removeReferences(),V0(this,this.effectiveReferenceElement,this.el),Cm(this)}async reposition(e=!1){const{el:t,effectiveReferenceElement:i,placement:n,overlayPositioning:r,offsetDistance:s,offsetSkidding:a,arrowEl:o}=this;return v_(this,{floatingEl:t,referenceEl:i,overlayPositioning:r,placement:n,offsetDistance:s,offsetSkidding:a,includeArrow:!0,arrowEl:o,type:"tooltip"},e)}onBeforeOpen(){this.calciteTooltipBeforeOpen.emit()}onOpen(){this.calciteTooltipOpen.emit()}onBeforeClose(){this.calciteTooltipBeforeClose.emit()}onClose(){this.calciteTooltipClose.emit()}render(){const{effectiveReferenceElement:e,label:t,open:i}=this,n=e&&i,r=!n;return v(Fe,{"aria-hidden":ot(r),"aria-label":t,"aria-live":"polite","calcite-hydrated-hidden":r,id:this.getId(),role:"tooltip"},v("div",{class:{[el.animation]:!0,[el.animationActive]:n},ref:this.setTransitionEl},v("div",{class:hV.arrow,ref:s=>this.arrowEl=s}),v("div",{class:hV.container},v("slot",null))))}get el(){return this}static get watchers(){return{offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"]}}static get style(){return Lve}},[1,"calcite-tooltip",{closeOnClick:[516,"close-on-click"],label:[1],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[516],overlayPositioning:[513,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],effectiveReferenceElement:[32],reposition:[64]}]);function TJ(){if(typeof customElements>"u")return;["calcite-tooltip"].forEach(t=>{switch(t){case"calcite-tooltip":customElements.get(t)||customElements.define(t,Fve);break}})}TJ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Nve={backButton:"back-button"},mV={backLeft:"chevron-left",backRight:"chevron-right"},Qh={headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerActions:"footer-actions"},zve="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{position:relative;display:flex;inline-size:100%;flex:1 1 auto;overflow:hidden}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.back-button{border-width:0px;border-style:solid;border-color:var(--calcite-ui-border-3);border-inline-end-width:1px}",$J=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteFlowItemBack=B(this,"calciteFlowItemBack",6),this.calciteFlowItemScroll=B(this,"calciteFlowItemScroll",6),this.calciteFlowItemClose=B(this,"calciteFlowItemClose",6),this.handlePanelScroll=e=>{e.stopPropagation(),this.calciteFlowItemScroll.emit()},this.handlePanelClose=e=>{e.stopPropagation(),this.calciteFlowItemClose.emit()},this.backButtonClick=()=>{this.calciteFlowItemBack.emit()},this.setBackRef=e=>{this.backButtonEl=e},this.setContainerRef=e=>{this.containerEl=e},this.closable=!1,this.closed=!1,this.beforeBack=void 0,this.description=void 0,this.disabled=!1,this.heading=void 0,this.headingLevel=void 0,this.loading=!1,this.menuOpen=!1,this.messageOverrides=void 0,this.messages=void 0,this.showBackButton=!1,this.backButtonEl=void 0,this.defaultMessages=void 0,this.effectiveLocale=""}onMessagesChange(){}connectedCallback(){ht(this),Mt(this)}async componentWillLoad(){await $t(this),We(this)}componentDidRender(){et(this)}disconnectedCallback(){pt(this),Dt(this)}componentDidLoad(){Ke(this)}effectiveLocaleChange(){At(this,this.effectiveLocale)}async setFocus(){await He(this);const{backButtonEl:e,containerEl:t}=this;if(e){e.setFocus();return}t==null||t.setFocus()}async scrollContentTo(e){var t;await((t=this.containerEl)==null?void 0:t.scrollContentTo(e))}renderBackButton(){const{el:e}=this,t=Ci(e)==="rtl",{showBackButton:i,backButtonClick:n,messages:r}=this,s=r.back,a=t?mV.backRight:mV.backLeft;return i?v("calcite-action",{"aria-label":s,class:Nve.backButton,icon:a,key:"flow-back-button",onClick:n,ref:this.setBackRef,scale:"s",slot:"header-actions-start",text:s}):null}render(){const{closable:e,closed:t,description:i,disabled:n,heading:r,headingLevel:s,loading:a,menuOpen:o,messages:l,backButtonEl:c}=this,h=l.back;return v(Fe,null,v("calcite-panel",{closable:e,closed:t,description:i,disabled:n,heading:r,headingLevel:s,loading:a,menuOpen:o,messageOverrides:l,onCalcitePanelClose:this.handlePanelClose,onCalcitePanelScroll:this.handlePanelScroll,ref:this.setContainerRef},this.renderBackButton(),v("slot",{name:Qh.headerActionsStart,slot:rs.headerActionsStart}),v("slot",{name:Qh.headerActionsEnd,slot:rs.headerActionsEnd}),v("slot",{name:Qh.headerContent,slot:rs.headerContent}),v("slot",{name:Qh.headerMenuActions,slot:rs.headerMenuActions}),v("slot",{name:Qh.fab,slot:rs.fab}),v("slot",{name:Qh.footerActions,slot:rs.footerActions}),v("slot",{name:Qh.footer,slot:rs.footer}),v("slot",null)),c?v("calcite-tooltip",{label:h,overlayPositioning:"fixed",placement:"top",referenceElement:c},h):null)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return zve}},[1,"calcite-flow-item",{closable:[1540],closed:[1540],beforeBack:[16],description:[1],disabled:[516],heading:[1],headingLevel:[514,"heading-level"],loading:[516],menuOpen:[516,"menu-open"],messageOverrides:[1040],messages:[1040],showBackButton:[4,"show-back-button"],backButtonEl:[32],defaultMessages:[32],effectiveLocale:[32],setFocus:[64],scrollContentTo:[64]}]);function AJ(){if(typeof customElements>"u")return;["calcite-flow-item","calcite-action","calcite-action-menu","calcite-icon","calcite-loader","calcite-panel","calcite-popover","calcite-scrim","calcite-tooltip"].forEach(t=>{switch(t){case"calcite-flow-item":customElements.get(t)||customElements.define(t,$J);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-action-menu":customElements.get(t)||$m();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-panel":customElements.get(t)||IJ();break;case"calcite-popover":customElements.get(t)||Au();break;case"calcite-scrim":customElements.get(t)||jh();break;case"calcite-tooltip":customElements.get(t)||TJ();break}})}AJ();const Vve=$J,jve=AJ,Uve=Object.freeze(Object.defineProperty({__proto__:null,CalciteFlowItem:Vve,defineCustomElement:jve},Symbol.toStringTag,{value:"Module"}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function Bve(e,t,i){const n=t[0]-e[0],r=i[0]-t[0],s=t[1]-e[1],a=i[1]-t[1],o=s/(n||r<0&&0),l=a/(r||n<0&&0),c=(o*r+l*n)/(n+r);return(Math.sign(o)+Math.sign(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function gV(e,t,i){const n=t[0]-e[0],r=t[1]-e[1];return n?(3*r/n-i)/2:i}function yV(e,t,i,n,r){const[s,a]=e,[o,l]=t,c=(o-s)/3,h=r([s+c,a+c*i]).join(","),p=r([o-c,l-c*n]).join(","),m=r([o,l]).join(",");return`C ${h} ${p} ${m}`}function Hve({width:e,height:t,min:i,max:n}){const r=n[0]-i[0],s=n[1]-i[1];return a=>{const o=(a[0]-i[0])/r*e,l=t-a[1]/s*t;return[o,l]}}function Gve(e){const[t,i]=e[0],n=[t,i],r=[t,i];return e.reduce(({min:s,max:a},[o,l])=>({min:[Math.min(s[0],o),Math.min(s[1],l)],max:[Math.max(a[0],o),Math.max(a[1],l)]}),{min:n,max:r})}function qve({data:e,min:t,max:i,t:n}){if(e.length===0)return"";const[r,s]=n(e[0]),[a,o]=n(t),[l]=n(i);let c,h,p;const m=e.reduce((b,w,_)=>{if(h=e[_-2],p=e[_-1],_>1){const x=Bve(h,p,w),S=c===void 0?gV(h,p,x):c,k=yV(h,p,S,x,n);return c=x,`${b} ${k}`}return b},`M ${a},${o} L ${a},${s} L ${r},${s}`),g=e[e.length-1],y=yV(p,g,c,gV(p,g,c),n);return`${m} ${y} L ${l},${o} Z`}const Wve="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:block;block-size:100%}.svg{fill:currentColor;stroke:transparent;margin:0px;display:block;block-size:100%;inline-size:100%;padding:0px}.svg .graph-path--highlight{fill:var(--calcite-ui-brand);opacity:0.5}",Kve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.graphId=`calcite-graph-${$i()}`,this.resizeObserver=Ct("resize",()=>F0(this)),this.data=[],this.colorStops=void 0,this.highlightMin=void 0,this.highlightMax=void 0,this.min=void 0,this.max=void 0}connectedCallback(){var e;(e=this.resizeObserver)==null||e.observe(this.el)}disconnectedCallback(){var e;(e=this.resizeObserver)==null||e.disconnect()}render(){const{data:e,colorStops:t,el:i,highlightMax:n,highlightMin:r,min:s,max:a}=this,o=this.graphId,{clientHeight:l,clientWidth:c}=i;if(!e||e.length===0)return v("svg",{"aria-hidden":"true",class:"svg",height:l,preserveAspectRatio:"none",viewBox:`0 0 ${c} ${l}`,width:c});const{min:h,max:p}=Gve(e);let m=h,g=p;(s<h[0]||s>h[0])&&(m=[s,0]),(a>p[0]||a<p[0])&&(g=[a,p[1]]);const y=Hve({min:m,max:g,width:c,height:l}),[b]=y([r,g[1]]),[w]=y([n,g[1]]),_=qve({data:e,min:h,max:p,t:y}),x=t?`url(#linear-gradient-${o})`:void 0;return v("svg",{"aria-hidden":"true",class:"svg",height:l,preserveAspectRatio:"none",viewBox:`0 0 ${c} ${l}`,width:c},t?v("defs",null,v("linearGradient",{id:`linear-gradient-${o}`,x1:"0",x2:"1",y1:"0",y2:"0"},t.map(({offset:S,color:k,opacity:A})=>v("stop",{offset:`${S*100}%`,"stop-color":k,"stop-opacity":A})))):null,r!==void 0?[v("mask",{height:"100%",id:`${o}1`,width:"100%",x:"0%",y:"0%"},v("path",{d:`
            M 0,0
            L ${b-1},0
            L ${b-1},${l}
            L 0,${l}
            Z
          `,fill:"white"})),v("mask",{height:"100%",id:`${o}2`,width:"100%",x:"0%",y:"0%"},v("path",{d:`
            M ${b+1},0
            L ${w-1},0
            L ${w-1},${l}
            L ${b+1}, ${l}
            Z
          `,fill:"white"})),v("mask",{height:"100%",id:`${o}3`,width:"100%",x:"0%",y:"0%"},v("path",{d:`
                M ${w+1},0
                L ${c},0
                L ${c},${l}
                L ${w+1}, ${l}
                Z
              `,fill:"white"})),v("path",{class:"graph-path",d:_,fill:x,mask:`url(#${o}1)`}),v("path",{class:"graph-path--highlight",d:_,fill:x,mask:`url(#${o}2)`}),v("path",{class:"graph-path",d:_,fill:x,mask:`url(#${o}3)`})]:v("path",{class:"graph-path",d:_,fill:x}))}get el(){return this}static get style(){return Wve}},[1,"calcite-graph",{data:[16],colorStops:[16],highlightMin:[2,"highlight-min"],highlightMax:[2,"highlight-max"],min:[514],max:[514]}]);function MJ(){if(typeof customElements>"u")return;["calcite-graph"].forEach(t=>{switch(t){case"calcite-graph":customElements.get(t)||customElements.define(t,Kve);break}})}MJ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Xh={wrapper:"wrapper",confirmChangesButton:"confirm-changes-button",cancelEditingButton:"cancel-editing-button",inputWrapper:"input-wrapper",cancelEditingButtonWrapper:"cancel-editing-button-wrapper",enableEditingButton:"enable-editing-button",controlsWrapper:"controls-wrapper"},Yve="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:block}:host([scale=s]) .controls-wrapper{block-size:1.5rem}:host([scale=m]) .controls-wrapper{block-size:2rem}:host([scale=l]) .controls-wrapper{block-size:2.75rem}:host(:not([editing-enabled]):not([disabled])) .wrapper:hover{background-color:var(--calcite-ui-foreground-2)}.wrapper{box-sizing:border-box;display:flex;justify-content:space-between;background-color:var(--calcite-ui-foreground-1);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.wrapper .input-wrapper{flex:1 1 0%}.controls-wrapper{display:flex}:host([disabled]) .cancel-editing-button-wrapper{border-color:var(--calcite-ui-border-2)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",Jve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInlineEditableEditCancel=B(this,"calciteInlineEditableEditCancel",6),this.calciteInlineEditableEditConfirm=B(this,"calciteInlineEditableEditConfirm",6),this.calciteInternalInlineEditableEnableEditingChange=B(this,"calciteInternalInlineEditableEnableEditingChange",6),this.mutationObserver=Ct("mutation",()=>this.mutationObserverCallback()),this.enableEditing=()=>{var e,t;this.valuePriorToEditing=(e=this.inputElement)==null?void 0:e.value,this.editingEnabled=!0,(t=this.inputElement)==null||t.setFocus(),this.calciteInternalInlineEditableEnableEditingChange.emit()},this.disableEditing=()=>{this.editingEnabled=!1},this.cancelEditing=()=>{this.inputElement&&(this.inputElement.value=this.valuePriorToEditing),this.disableEditing(),this.enableEditingButton.setFocus(),!this.editingEnabled&&this.shouldEmitCancel&&this.calciteInlineEditableEditCancel.emit()},this.escapeKeyHandler=async e=>{var t;e.defaultPrevented||(e.key==="Escape"&&(e.preventDefault(),this.cancelEditing()),e.key==="Tab"&&this.shouldShowControls&&(!e.shiftKey&&e.target===this.inputElement&&(e.preventDefault(),this.cancelEditingButton.setFocus()),e.shiftKey&&e.target===this.cancelEditingButton&&(e.preventDefault(),(t=this.inputElement)==null||t.setFocus())))},this.cancelEditingHandler=async e=>{e.preventDefault(),this.cancelEditing()},this.enableEditingHandler=async e=>{this.disabled||e.target===this.cancelEditingButton||e.target===this.confirmEditingButton||(e.preventDefault(),this.editingEnabled||this.enableEditing())},this.confirmChangesHandler=async e=>{e.preventDefault(),this.calciteInlineEditableEditConfirm.emit();try{this.afterConfirm&&(this.loading=!0,await this.afterConfirm(),this.disableEditing(),this.enableEditingButton.setFocus())}catch{}finally{this.loading=!1}},this.disabled=!1,this.editingEnabled=!1,this.loading=!1,this.controls=!1,this.scale=void 0,this.afterConfirm=void 0,this.messages=void 0,this.messageOverrides=void 0,this.defaultMessages=void 0,this.effectiveLocale=void 0}disabledWatcher(e){this.inputElement&&(this.inputElement.disabled=e)}editingEnabledWatcher(e,t){this.inputElement&&(this.inputElement.editingEnabled=e),!e&&t&&(this.shouldEmitCancel=!0)}onMessagesChange(){}connectedCallback(){var e;vr(this),ht(this),Mt(this),(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0}),this.mutationObserverCallback()}async componentWillLoad(){We(this),await $t(this)}componentDidLoad(){Ke(this)}disconnectedCallback(){var e;Gr(this),pt(this),Dt(this),(e=this.mutationObserver)==null||e.disconnect()}componentDidRender(){et(this)}render(){return v("div",{class:Xh.wrapper,onClick:this.enableEditingHandler,onKeyDown:this.escapeKeyHandler},v("div",{class:Xh.inputWrapper},v("slot",null)),v("div",{class:Xh.controlsWrapper},v("calcite-button",{appearance:"transparent",class:Xh.enableEditingButton,disabled:this.disabled,iconStart:"pencil",kind:"neutral",label:this.messages.enableEditing,onClick:this.enableEditingHandler,ref:e=>this.enableEditingButton=e,scale:this.scale,style:{opacity:this.editingEnabled?"0":"1",width:this.editingEnabled?"0":"inherit"},type:"button"}),this.shouldShowControls&&[v("div",{class:Xh.cancelEditingButtonWrapper},v("calcite-button",{appearance:"transparent",class:Xh.cancelEditingButton,disabled:this.disabled,iconStart:"x",kind:"neutral",label:this.messages.cancelEditing,onClick:this.cancelEditingHandler,ref:e=>this.cancelEditingButton=e,scale:this.scale,type:"button"})),v("calcite-button",{appearance:"solid",class:Xh.confirmChangesButton,disabled:this.disabled,iconStart:"check",kind:"brand",label:this.messages.confirmChanges,loading:this.loading,onClick:this.confirmChangesHandler,ref:e=>this.confirmEditingButton=e,scale:this.scale,type:"button"})]))}blurHandler(){this.controls||this.disableEditing()}effectiveLocaleChange(){At(this,this.effectiveLocale)}async setFocus(){var e;await He(this),(e=this.el)==null||e.focus()}mutationObserverCallback(){var e;this.updateSlottedInput(),this.scale=this.scale||((e=this.inputElement)==null?void 0:e.scale)||ci(this.el,"scale",void 0)}onLabelClick(){this.setFocus()}updateSlottedInput(){const e=Xe(this.el,{matches:"calcite-input"});this.inputElement=e,e&&(this.inputElement.disabled=this.disabled,this.inputElement.label=this.inputElement.label||zr(this))}get shouldShowControls(){return this.editingEnabled&&this.controls}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{disabled:["disabledWatcher"],editingEnabled:["editingEnabledWatcher"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Yve}},[17,"calcite-inline-editable",{disabled:[516],editingEnabled:[1540,"editing-enabled"],loading:[1540],controls:[516],scale:[1537],afterConfirm:[16],messages:[1040],messageOverrides:[1040],defaultMessages:[32],effectiveLocale:[32],setFocus:[64]},[[0,"calciteInternalInputBlur","blurHandler"]]]);function Zve(){if(typeof customElements>"u")return;["calcite-inline-editable","calcite-button","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-inline-editable":customElements.get(t)||customElements.define(t,Jve);break;case"calcite-button":customElements.get(t)||b_();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break}})}Zve();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const vV={menu:"menu-container",menuActive:"menu-container--active"},Qve="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{position:relative;display:inline-block;inline-size:100%;overflow:visible;vertical-align:top;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host .menu-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:1;border-radius:0.25rem}:host .menu-container[data-placement^=bottom] .calcite-floating-ui-anim{transform:translateY(-5px)}:host .menu-container[data-placement^=top] .calcite-floating-ui-anim{transform:translateY(5px)}:host .menu-container[data-placement^=left] .calcite-floating-ui-anim{transform:translateX(5px)}:host .menu-container[data-placement^=right] .calcite-floating-ui-anim{transform:translateX(-5px)}:host .menu-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.calendar-picker-wrapper{position:static;inline-size:100%;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transform:translate3d(0, 0, 0)}.input-wrapper{position:relative}:host([range]) .input-container{display:flex}:host([range]) .input-wrapper{flex:1 1 auto}:host([range]) .horizontal-arrow-container{display:flex;align-items:center;border-width:1px;border-inline-start-width:0px;border-inline-end-width:0px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-background);padding-block:0px;padding-inline:0.25rem}:host([range][layout=vertical]) .input-wrapper{inline-size:100%}:host([range][layout=vertical]) .input-container{flex-direction:column;align-items:flex-start}:host([range][layout=vertical]) .calendar-picker-wrapper--end{transform:translate3d(0, 0, 0)}:host([range][layout=vertical]) .vertical-arrow-container{inset-block-start:1.5rem;position:absolute;z-index:1;margin-inline:1px;background-color:var(--calcite-ui-foreground-1);padding-inline:0.625rem;inset-inline-start:0}:host([scale=s][range]:not([layout=vertical])) .calendar-picker-wrapper{inline-size:216px}:host([scale=m][range]:not([layout=vertical])) .calendar-picker-wrapper{inline-size:286px}:host([scale=l][range]:not([layout=vertical])) .calendar-picker-wrapper{inline-size:398px}.menu-container{--calcite-floating-ui-z-index:600;display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index);visibility:hidden}.menu-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:1;border-radius:0.25rem}.menu-container[data-placement^=bottom] .calcite-floating-ui-anim{transform:translateY(-5px)}.menu-container[data-placement^=top] .calcite-floating-ui-anim{transform:translateY(5px)}.menu-container[data-placement^=left] .calcite-floating-ui-anim{transform:translateX(5px)}.menu-container[data-placement^=right] .calcite-floating-ui-anim{transform:translateX(-5px)}.menu-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([open]) .menu-container{visibility:visible}.menu-container--active{visibility:visible}.input .calcite-input__wrapper{margin-block-start:0px}:host([range][layout=vertical][scale=m]) .vertical-arrow-container{inset-block-start:1.5rem;padding-inline-start:0.75rem}:host([range][layout=vertical][scale=m]) .vertical-arrow-container calcite-icon{block-size:0.75rem;inline-size:0.75rem;min-inline-size:0px}:host([range][layout=vertical][scale=l]) .vertical-arrow-container{inset-block-start:2.25rem;padding-inline:0.875rem}:host([range][layout=vertical][open]) .vertical-arrow-container{display:none}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",Xve=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInputDatePickerChange=B(this,"calciteInputDatePickerChange",6),this.calciteInputDatePickerBeforeClose=B(this,"calciteInputDatePickerBeforeClose",6),this.calciteInputDatePickerClose=B(this,"calciteInputDatePickerClose",6),this.calciteInputDatePickerBeforeOpen=B(this,"calciteInputDatePickerBeforeOpen",6),this.calciteInputDatePickerOpen=B(this,"calciteInputDatePickerOpen",6),this.calciteInternalInputInputHandler=e=>{const t=e.target,i=t.value,n=this.parseNumerals(i),r=this.formatNumerals(n);t.value=r;const{year:s}=bJ(i,this.localeData);if(s&&s.length<4)return;const a=lV(i,this.localeData);vJ(a,this.min,this.max)&&(this.datePickerActiveDate=a)},this.calciteInternalInputBlurHandler=()=>{this.commitValue()},this.userChangedValue=!1,this.openTransitionProp="opacity",this.valueAsDateChangedExternally=!1,this.setFilteredPlacements=()=>{const{el:e,flipPlacements:t}=this;this.filteredFlipPlacements=t?bC(t,e):null},this.setTransitionEl=e=>{this.transitionEl=e,Xa(this)},this.setStartInput=e=>{this.startInput=e},this.setEndInput=e=>{this.endInput=e},this.deactivate=()=>{this.open=!1},this.keyDownHandler=e=>{var n,r;const{defaultPrevented:t,key:i}=e;i==="Enter"&&!t?(this.commitValue(),this.shouldFocusRangeEnd()?(n=this.endInput)==null||n.setFocus():this.shouldFocusRangeStart()&&((r=this.startInput)==null||r.setFocus()),Am(this)&&e.preventDefault()):i==="Escape"&&!t&&(this.open=!1,e.preventDefault())},this.startInputFocus=()=>{this.readOnly||(this.open=!0),this.focusedInput="start"},this.endInputFocus=()=>{this.readOnly||(this.open=!0),this.focusedInput="end"},this.setFloatingEl=e=>{e&&(this.floatingEl=e,Th(this,this.referenceEl,this.floatingEl))},this.setStartWrapper=e=>{this.startWrapper=e,this.setReferenceEl()},this.setEndWrapper=e=>{this.endWrapper=e,this.setReferenceEl()},this.handleDateChange=e=>{this.range||(e.stopPropagation(),this.setValue(e.target.valueAsDate),this.localizeInputValues())},this.handleDateRangeChange=e=>{var i,n;if(!this.range)return;e.stopPropagation();const t=e.target.valueAsDate;this.setRangeValue(t),this.localizeInputValues(),this.shouldFocusRangeEnd()?(i=this.endInput)==null||i.setFocus():this.shouldFocusRangeStart()&&((n=this.startInput)==null||n.setFocus())},this.setInputValue=(e,t="start")=>{const i=this[`${t}Input`];i&&(i.value=e)},this.setRangeValue=e=>{if(!this.range)return;const{value:t}=this,i=Array.isArray(t),n=Array.isArray(e),r=n?e[0]:null,s=n?ns(r):"",a=n?e[1]:null,o=n?ns(a):"",l=s||o?[s,o]:"";if(l===t)return;this.userChangedValue=!0,this.value=l,this.valueAsDate=l?C1(l):void 0;const c=this.calciteInputDatePickerChange.emit();c&&c.defaultPrevented&&(this.value=t,i?(this.setInputValue(t[0],"start"),this.setInputValue(t[1],"end")):(this.value=t,this.setInputValue(t)))},this.setValue=e=>{if(this.range)return;const t=this.value,i=ns(e);if(i===t)return;this.userChangedValue=!0,this.valueAsDate=i?Zi(i):void 0,this.value=i||"",this.calciteInputDatePickerChange.emit().defaultPrevented&&(this.value=t,this.setInputValue(t))},this.commonDateSeparators=[".","-","/"],this.formatNumerals=e=>e?e.split("").map(t=>{var i,n,r;return(i=this.commonDateSeparators)!=null&&i.includes(t)?(n=this.localeData)==null?void 0:n.separator:Va!=null&&Va.includes(t)?(r=Me==null?void 0:Me.numberFormatter)==null?void 0:r.format(Number(t)):t}).join(""):"",this.parseNumerals=e=>e?e.split("").map(t=>Va.includes(t)?Me.delocalize(t):t).join(""):"",this.disabled=!1,this.readOnly=!1,this.value="",this.flipPlacements=void 0,this.headingLevel=void 0,this.valueAsDate=void 0,this.minAsDate=void 0,this.maxAsDate=void 0,this.min=void 0,this.max=void 0,this.open=!1,this.name=void 0,this.numberingSystem=void 0,this.scale="m",this.placement=pF,this.range=!1,this.required=!1,this.overlayPositioning="absolute",this.proximitySelectionDisabled=!1,this.layout="horizontal",this.messageOverrides=void 0,this.datePickerActiveDate=void 0,this.effectiveLocale="",this.focusedInput="start",this.globalAttributes={},this.localeData=void 0}handleDisabledAndReadOnlyChange(e){e||(this.open=!1)}valueWatcher(e){if(!this.userChangedValue){let t;Array.isArray(e)?t=C1(e):e?t=Zi(e):t=void 0,!this.valueAsDateChangedExternally&&t!==this.valueAsDate&&(this.valueAsDate=t),this.localizeInputValues()}this.userChangedValue=!1}valueAsDateWatcher(e){this.datePickerActiveDate=e;const t=this.range&&Array.isArray(e)?[ns(e[0]),ns(e[1])]:ns(e);this.value!==t&&(this.valueAsDateChangedExternally=!0,this.value=t,this.valueAsDateChangedExternally=!1)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}onMinChanged(e){e&&(this.minAsDate=Zi(e))}onMaxChanged(e){e&&(this.maxAsDate=Zi(e))}openHandler(e){if(this.disabled||this.readOnly){e||sm(this.floatingEl),this.open=!1;return}e?this.reposition(!0):sm(this.floatingEl)}overlayPositioningHandler(){this.reposition(!0)}calciteDaySelectHandler(){this.shouldFocusRangeStart()||this.shouldFocusRangeEnd()||(this.open=!1)}async setFocus(){await He(this),this.el.focus()}async reposition(e=!1){const{floatingEl:t,referenceEl:i,placement:n,overlayPositioning:r,filteredFlipPlacements:s}=this;return v_(this,{floatingEl:t,referenceEl:i,overlayPositioning:r,placement:n,flipPlacements:s,type:"menu"},e)}connectedCallback(){ht(this);const{open:e}=this;if(e&&this.openHandler(e),Array.isArray(this.value))this.valueAsDate=C1(this.value);else if(this.value)try{this.valueAsDate=Zi(this.value)}catch{this.warnAboutInvalidValue(this.value),this.value=""}else this.range&&this.valueAsDate&&this.setRangeValue(this.valueAsDate);this.min&&(this.minAsDate=Zi(this.min)),this.max&&(this.maxAsDate=Zi(this.max)),vr(this),na(this),Xa(this),this.setFilteredPlacements(),this.reposition(!0),Me.numberFormatOptions={numberingSystem:this.numberingSystem,locale:this.effectiveLocale,useGrouping:!1}}async componentWillLoad(){We(this),await this.loadLocaleData(),this.onMinChanged(this.min),this.onMaxChanged(this.max)}componentDidLoad(){Ke(this),this.localizeInputValues(),this.reposition(!0)}disconnectedCallback(){Gr(this),ra(this),V0(this,this.referenceEl,this.floatingEl),Cm(this),pt(this)}componentDidRender(){et(this)}render(){var r,s;const{disabled:e,effectiveLocale:t,numberingSystem:i,readOnly:n}=this;return Me.numberFormatOptions={numberingSystem:i,locale:t,useGrouping:!1},v(Fe,{onBlur:this.deactivate,onKeyDown:this.keyDownHandler,role:"application"},this.localeData&&v("div",{"aria-expanded":ot(this.open),class:"input-container",role:"application"},v("div",{class:"input-wrapper",ref:this.setStartWrapper},v("calcite-input",{class:`input ${this.layout==="vertical"&&this.range?"no-bottom-border":""}`,disabled:e,icon:"calendar",label:zr(this),"number-button-type":"none",numberingSystem:i,onCalciteInputInput:this.calciteInternalInputInputHandler,onCalciteInternalInputBlur:this.calciteInternalInputBlurHandler,onCalciteInternalInputFocus:this.startInputFocus,placeholder:(r=this.localeData)==null?void 0:r.placeholder,readOnly:n,ref:this.setStartInput,scale:this.scale,type:"text"})),v("div",{"aria-hidden":ot(!this.open),class:{[vV.menu]:!0,[vV.menuActive]:this.open},ref:this.setFloatingEl},v("div",{class:{["calendar-picker-wrapper"]:!0,["calendar-picker-wrapper--end"]:this.focusedInput==="end",[el.animation]:!0,[el.animationActive]:this.open},ref:this.setTransitionEl},v("calcite-date-picker",{activeDate:this.datePickerActiveDate,activeRange:this.focusedInput,headingLevel:this.headingLevel,max:this.max,maxAsDate:this.maxAsDate,messageOverrides:this.messageOverrides,min:this.min,minAsDate:this.minAsDate,numberingSystem:i,onCalciteDatePickerChange:this.handleDateChange,onCalciteDatePickerRangeChange:this.handleDateRangeChange,proximitySelectionDisabled:this.proximitySelectionDisabled,range:this.range,scale:this.scale,tabIndex:0,valueAsDate:this.valueAsDate}))),this.range&&this.layout==="horizontal"&&v("div",{class:"horizontal-arrow-container"},v("calcite-icon",{flipRtl:!0,icon:"arrow-right",scale:this.scale==="l"?"m":"s"})),this.range&&this.layout==="vertical"&&this.scale!=="s"&&v("div",{class:"vertical-arrow-container"},v("calcite-icon",{icon:"arrow-down",scale:this.scale==="l"?"m":"s"})),this.range&&v("div",{class:"input-wrapper",ref:this.setEndWrapper},v("calcite-input",{class:{input:!0,"border-top-color-one":this.layout==="vertical"&&this.range},disabled:e,icon:"calendar","number-button-type":"none",numberingSystem:i,onCalciteInputInput:this.calciteInternalInputInputHandler,onCalciteInternalInputBlur:this.calciteInternalInputBlurHandler,onCalciteInternalInputFocus:this.endInputFocus,placeholder:(s=this.localeData)==null?void 0:s.placeholder,readOnly:n,ref:this.setEndInput,scale:this.scale,type:"text"}))),v(sa,{component:this}))}setReferenceEl(){const{focusedInput:e,layout:t,endWrapper:i,startWrapper:n}=this;this.referenceEl=e==="end"||t==="vertical"?i||n:n||i,Th(this,this.referenceEl,this.floatingEl)}onLabelClick(){this.setFocus()}onBeforeOpen(){this.calciteInputDatePickerBeforeOpen.emit()}onOpen(){this.calciteInputDatePickerOpen.emit()}onBeforeClose(){this.calciteInputDatePickerBeforeClose.emit()}onClose(){this.calciteInputDatePickerClose.emit()}commitValue(){const{focusedInput:e,value:t}=this,i=`${e}Input`,n=this[i].value,r=lV(n,this.localeData),s=ns(r),a=Array.isArray(t);if(this.range){const o=e==="start"?0:1;if(a){if(s===t[o])return;r?(this.setRangeValue([e==="start"?r:Zi(t[0]),e==="end"?r:Zi(t[1])]),this.localizeInputValues()):this.setRangeValue([e==="end"&&Zi(t[0]),e==="start"&&Zi(t[1])])}else r&&(this.setRangeValue([e==="start"?r:Zi(t[0]),e==="end"?r:Zi(t[1])]),this.localizeInputValues())}else{if(s===t)return;this.setValue(r),this.localizeInputValues()}}async loadLocaleData(){ro.isBrowser&&(Me.numberFormatOptions={numberingSystem:this.numberingSystem,locale:this.effectiveLocale,useGrouping:!1},this.localeData=await IF(this.effectiveLocale),this.localizeInputValues())}shouldFocusRangeStart(){const e=this.value[0]||void 0;return!!((this.value[1]||void 0)&&!e&&this.focusedInput==="end"&&this.startInput)}shouldFocusRangeEnd(){const e=this.value[0]||void 0,t=this.value[1]||void 0;return!!(e&&!t&&this.focusedInput==="start"&&this.endInput)}localizeInputValues(){const e=zs(this.range?Array.isArray(this.valueAsDate)&&this.valueAsDate[0]||void 0:this.valueAsDate,this.minAsDate,this.maxAsDate),t=this.range?zs(Array.isArray(this.valueAsDate)&&this.valueAsDate[1]||void 0,this.minAsDate,this.maxAsDate):null,i=e&&this.formatNumerals(e.toLocaleDateString(this.effectiveLocale)),n=t&&this.formatNumerals(t.toLocaleDateString(this.effectiveLocale));i&&this.setInputValue(i,"start"),this.range&&n&&this.setInputValue(n,"end")}warnAboutInvalidValue(e){console.warn(`The specified value "${e}" does not conform to the required format, "YYYY-MM-DD".`)}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{disabled:["handleDisabledAndReadOnlyChange"],readOnly:["handleDisabledAndReadOnlyChange"],value:["valueWatcher"],valueAsDate:["valueAsDateWatcher"],flipPlacements:["flipPlacementsHandler"],min:["onMinChanged"],max:["onMaxChanged"],open:["openHandler"],overlayPositioning:["overlayPositioningHandler"],layout:["setReferenceEl"],focusedInput:["setReferenceEl"],effectiveLocale:["loadLocaleData"]}}static get style(){return Qve}},[17,"calcite-input-date-picker",{disabled:[516],readOnly:[516,"read-only"],value:[1025],flipPlacements:[16],headingLevel:[514,"heading-level"],valueAsDate:[1040],minAsDate:[1040],maxAsDate:[1040],min:[1025],max:[1025],open:[1540],name:[513],numberingSystem:[513,"numbering-system"],scale:[513],placement:[513],range:[516],required:[516],overlayPositioning:[513,"overlay-positioning"],proximitySelectionDisabled:[4,"proximity-selection-disabled"],layout:[513],messageOverrides:[1040],datePickerActiveDate:[32],effectiveLocale:[32],focusedInput:[32],globalAttributes:[32],localeData:[32],setFocus:[64],reposition:[64]},[[0,"calciteDaySelect","calciteDaySelectHandler"]]]);function ebe(){if(typeof customElements>"u")return;["calcite-input-date-picker","calcite-date-picker","calcite-date-picker-day","calcite-date-picker-month","calcite-date-picker-month-header","calcite-icon","calcite-input","calcite-progress"].forEach(t=>{switch(t){case"calcite-input-date-picker":customElements.get(t)||customElements.define(t,Xve);break;case"calcite-date-picker":customElements.get(t)||xJ();break;case"calcite-date-picker-day":customElements.get(t)||SC();break;case"calcite-date-picker-month":customElements.get(t)||EF();break;case"calcite-date-picker-month-header":customElements.get(t)||kF();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-input":customElements.get(t)||Mu();break;case"calcite-progress":customElements.get(t)||so();break}})}ebe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */var Tk;(function(e){e.valid="check-circle",e.invalid="exclamation-mark-triangle",e.idle="information"})(Tk||(Tk={}));const tbe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([scale=m]),:host([scale=l]){--calcite-input-message-spacing-value:0.25rem}:host{visibility:hidden;box-sizing:border-box;display:flex;block-size:0px;inline-size:100%;align-items:center;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);visibility:visible;block-size:auto;opacity:1;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}:host([scale=m]),:host([scale=l]){margin-block-start:var(--calcite-input-message-spacing-value)}.calcite-input-message-icon{pointer-events:none;display:inline-flex;flex-shrink:0;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;margin-inline-end:0.5rem}:host([status=invalid]) .calcite-input-message-icon{color:var(--calcite-ui-danger)}:host([status=warning]) .calcite-input-message-icon{color:var(--calcite-ui-warning)}:host([status=valid]) .calcite-input-message-icon{color:var(--calcite-ui-success)}:host([status=idle]) .calcite-input-message-icon{color:var(--calcite-ui-brand)}:host([status]){color:var(--calcite-ui-text-1)}:host([status][scale=s]){font-size:var(--calcite-font-size--3);line-height:0.75rem}:host([status][scale=m]){margin-block-start:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([status][scale=l]){margin-block-start:0.25rem;font-size:var(--calcite-font-size--1);line-height:1rem}",ibe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.icon=void 0,this.iconFlipRtl=!1,this.scale="m",this.status="idle"}handleIconEl(){this.requestedIcon=Za(Tk,this.icon,this.status)}connectedCallback(){this.scale=ci(this.el,"scale",this.scale),this.requestedIcon=Za(Tk,this.icon,this.status)}render(){const e=this.el.hidden;return v(Fe,{"calcite-hydrated-hidden":e},this.renderIcon(this.requestedIcon),v("slot",null))}renderIcon(e){if(e)return v("calcite-icon",{class:"calcite-input-message-icon",flipRtl:this.iconFlipRtl,icon:e,scale:"s"})}get el(){return this}static get watchers(){return{status:["handleIconEl"],icon:["handleIconEl"]}}static get style(){return tbe}},[1,"calcite-input-message",{icon:[520],iconFlipRtl:[516,"icon-flip-rtl"],scale:[1537],status:[1537]}]);function nbe(){if(typeof customElements>"u")return;["calcite-input-message","calcite-icon"].forEach(t=>{switch(t){case"calcite-input-message":customElements.get(t)||customElements.define(t,ibe);break;case"calcite-icon":customElements.get(t)||Te();break}})}nbe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const xs={loader:"loader",clearButton:"clear-button",editingEnabled:"editing-enabled",inlineChild:"inline-child",inputIcon:"icon",prefix:"prefix",suffix:"suffix",numberButtonWrapper:"number-button-wrapper",buttonItemHorizontal:"number-button-item--horizontal",wrapper:"element-wrapper",inputWrapper:"wrapper",actionWrapper:"action-wrapper",resizeIconWrapper:"resize-icon-wrapper",numberButtonItem:"number-button-item"},rbe={action:"action"},sbe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:block}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;padding-inline:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .number-button-wrapper,:host([scale=s]) .action-wrapper calcite-button,:host([scale=s]) .action-wrapper calcite-button button{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;padding-inline:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .number-button-wrapper,:host([scale=m]) .action-wrapper calcite-button,:host([scale=m]) .action-wrapper calcite-button button{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .number-button-wrapper,:host([scale=l]) .action-wrapper calcite-button,:host([scale=l]) .action-wrapper calcite-button button{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host input{transition:var(--calcite-animation-timing), block-size 0, outline-offset 0s;-webkit-appearance:none;position:relative;margin:0px;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;border-radius:0px;background-color:var(--calcite-ui-foreground-1);font-family:inherit;font-weight:var(--calcite-font-weight-normal);border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);color:var(--calcite-ui-text-1)}:host input::placeholder,:host input:-ms-input-placeholder,:host input::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}:host input:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-text-1)}:host input[readonly]{background-color:var(--calcite-ui-background);font-weight:var(--calcite-font-weight-medium)}:host input[readonly]:focus{color:var(--calcite-ui-text-1)}:host calcite-icon{color:var(--calcite-ui-text-3)}:host input{outline-color:transparent}:host input:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([status=invalid]) input{border-color:var(--calcite-ui-danger)}:host([status=invalid]) input:focus{outline:2px solid var(--calcite-ui-danger);outline-offset:-2px}:host([scale=s]) .icon{inset-inline-start:0.5rem}:host([scale=m]) .icon{inset-inline-start:0.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center}.icon{pointer-events:none;position:absolute;z-index:1;display:block;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.clear-button{pointer-events:initial;order:4;margin:0px;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);outline-color:transparent;border-inline-start-width:0px}.clear-button:hover{background-color:var(--calcite-ui-foreground-2);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.clear-button:hover calcite-icon{color:var(--calcite-ui-text-1);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.clear-button:active{background-color:var(--calcite-ui-foreground-3)}.clear-button:active calcite-icon{color:var(--calcite-ui-text-1)}.clear-button:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.clear-button:disabled{opacity:var(--calcite-ui-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-background);font-weight:var(--calcite-font-weight-medium);line-height:1;color:var(--calcite-ui-text-2)}.prefix{order:2;border-inline-end-width:0px}.suffix{order:5;border-inline-start-width:0px}:host([alignment=start]) input{text-align:start}:host([alignment=end]) input{text-align:end}.number-button-wrapper{pointer-events:none;order:6;box-sizing:border-box;display:flex;flex-direction:column;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}:host([number-button-type=vertical]) .wrapper{flex-direction:row;display:flex}:host([number-button-type=vertical]) input{order:2}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=down] calcite-icon{transform:rotate(-90deg)}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=up] calcite-icon{transform:rotate(-90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down],.number-button-item.number-button-item--horizontal[data-adjustment=up]{order:1;max-block-size:100%;min-block-size:100%;align-self:stretch}.number-button-item.number-button-item--horizontal[data-adjustment=down] calcite-icon,.number-button-item.number-button-item--horizontal[data-adjustment=up] calcite-icon{transform:rotate(90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down]{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);border-inline-end-width:0px}.number-button-item.number-button-item--horizontal[data-adjustment=down]:hover{background-color:var(--calcite-ui-foreground-2)}.number-button-item.number-button-item--horizontal[data-adjustment=down]:hover calcite-icon{color:var(--calcite-ui-text-1)}.number-button-item.number-button-item--horizontal[data-adjustment=up]{order:5}.number-button-item.number-button-item--horizontal[data-adjustment=up]:hover{background-color:var(--calcite-ui-foreground-2)}.number-button-item.number-button-item--horizontal[data-adjustment=up]:hover calcite-icon{color:var(--calcite-ui-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]:hover{background-color:var(--calcite-ui-foreground-2)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]:hover calcite-icon{color:var(--calcite-ui-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=up]:hover{background-color:var(--calcite-ui-foreground-2)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=up]:hover calcite-icon{color:var(--calcite-ui-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]{border-block-start-width:0px}.number-button-item{max-block-size:50%;min-block-size:50%;pointer-events:initial;margin:0px;box-sizing:border-box;display:flex;cursor:pointer;align-items:center;align-self:center;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);padding-block:0px;padding-inline:0.5rem;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-inline-start-width:0px}.number-button-item calcite-icon{pointer-events:none;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.number-button-item:focus{background-color:var(--calcite-ui-foreground-2)}.number-button-item:focus calcite-icon{color:var(--calcite-ui-text-1)}.number-button-item:active{background-color:var(--calcite-ui-foreground-3)}.number-button-item:disabled{pointer-events:none}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host(.no-bottom-border) input{border-block-end-width:0px}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-ui-border-1)}:host .inline-child{background-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}:host .inline-child .editing-enabled{background-color:inherit}:host .inline-child:not(.editing-enabled){display:flex;cursor:pointer;border-color:transparent;padding-inline-start:0}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",abe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalInputNumberFocus=B(this,"calciteInternalInputNumberFocus",6),this.calciteInternalInputNumberBlur=B(this,"calciteInternalInputNumberBlur",6),this.calciteInputNumberInput=B(this,"calciteInputNumberInput",7),this.calciteInputNumberChange=B(this,"calciteInputNumberChange",6),this.previousValueOrigin="initial",this.mutationObserver=Ct("mutation",()=>this.setDisabledAction()),this.userChangedValue=!1,this.keyDownHandler=e=>{this.readOnly||this.disabled||(this.isClearable&&e.key==="Escape"&&(this.clearInputValue(e),e.preventDefault()),e.key==="Enter"&&!e.defaultPrevented&&Am(this)&&e.preventDefault())},this.clearInputValue=e=>{this.setNumberValue({committing:!0,nativeEvent:e,origin:"user",value:""})},this.emitChangeIfUserModified=()=>{this.previousValueOrigin==="user"&&this.value!==this.previousEmittedNumberValue&&(this.calciteInputNumberChange.emit(),this.setPreviousEmittedNumberValue(this.value))},this.inputNumberBlurHandler=()=>{this.calciteInternalInputNumberBlur.emit(),this.emitChangeIfUserModified()},this.clickHandler=e=>{const t=Xe(this.el,"action");e.target!==t&&this.setFocus()},this.inputNumberFocusHandler=()=>{this.calciteInternalInputNumberFocus.emit()},this.inputNumberInputHandler=e=>{if(this.disabled||this.readOnly)return;const t=e.target.value;Me.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator};const i=Me.delocalize(t);e.inputType==="insertFromPaste"?(It(i)||e.preventDefault(),this.setNumberValue({nativeEvent:e,origin:"user",value:bY(i)}),this.childNumberEl.value=this.localizedValue):this.setNumberValue({nativeEvent:e,origin:"user",value:i})},this.inputNumberKeyDownHandler=e=>{if(this.disabled||this.readOnly)return;if(e.key==="ArrowUp"){e.preventDefault(),this.nudgeNumberValue("up",e);return}if(e.key==="ArrowDown"){this.nudgeNumberValue("down",e);return}const t=[...Va,"ArrowLeft","ArrowRight","Backspace","Delete","Enter","Escape","Tab"];if(e.altKey||e.ctrlKey||e.metaKey)return;const i=e.shiftKey&&e.key==="Tab";if(t.includes(e.key)&&(!e.shiftKey||i)){e.key==="Enter"&&this.emitChangeIfUserModified();return}Me.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator},!(e.key===Me.decimal&&(!this.value&&!this.childNumberEl.value||this.value&&this.childNumberEl.value.indexOf(Me.decimal)===-1))&&(/[eE]/.test(e.key)&&(!this.value&&!this.childNumberEl.value||this.value&&!/[eE]/.test(this.childNumberEl.value))||e.key==="-"&&(!this.value&&!this.childNumberEl.value||this.value&&this.childNumberEl.value.split("-").length<=2)||e.preventDefault())},this.nudgeNumberValue=(e,t)=>{if(t instanceof KeyboardEvent&&t.repeat)return;const i=this.maxString?parseFloat(this.maxString):null,n=this.minString?parseFloat(this.minString):null,r=150;this.incrementOrDecrementNumberValue(e,i,n,t),this.nudgeNumberValueIntervalId&&window.clearInterval(this.nudgeNumberValueIntervalId);let s=!0;this.nudgeNumberValueIntervalId=window.setInterval(()=>{if(s){s=!1;return}this.incrementOrDecrementNumberValue(e,i,n,t)},r)},this.nudgeButtonPointerUpAndOutHandler=e=>{dr(e)&&window.clearInterval(this.nudgeNumberValueIntervalId)},this.nudgeButtonPointerDownHandler=e=>{if(!dr(e))return;e.preventDefault();const t=e.target.dataset.adjustment;this.disabled||this.nudgeNumberValue(t,e)},this.hiddenInputChangeHandler=e=>{e.target.name===this.name&&this.setNumberValue({value:e.target.value,origin:"direct"}),e.stopPropagation()},this.setChildNumberElRef=e=>{this.childNumberEl=e},this.setInputNumberValue=e=>{this.childNumberEl&&(this.childNumberEl.value=e)},this.setPreviousEmittedNumberValue=e=>{this.previousEmittedNumberValue=this.normalizeValue(e)},this.setPreviousNumberValue=e=>{this.previousValue=this.normalizeValue(e)},this.setNumberValue=({committing:e=!1,nativeEvent:t,origin:i,previousValue:n,value:r})=>{Me.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator};const s=wY(this.numberingSystem&&this.numberingSystem!=="latn"||pC!=="latn"?Me.delocalize(r):r),a=r&&!s?It(this.previousValue)?this.previousValue:"":s,o=Me.localize(a);this.localizedValue=o,this.setPreviousNumberValue(n??this.value),this.previousValueOrigin=i,this.userChangedValue=i==="user"&&this.value!==a,this.value=["-","."].includes(a)?"":a,i==="direct"&&(this.setInputNumberValue(o),this.setPreviousEmittedNumberValue(o)),t&&(this.calciteInputNumberInput.emit().defaultPrevented?(this.value=this.previousValue,this.localizedValue=Me.localize(this.previousValue)):e&&this.emitChangeIfUserModified())},this.inputNumberKeyUpHandler=()=>{window.clearInterval(this.nudgeNumberValueIntervalId)},this.alignment="start",this.autofocus=!1,this.clearable=!1,this.disabled=!1,this.groupSeparator=!1,this.hidden=!1,this.icon=void 0,this.iconFlipRtl=!1,this.label=void 0,this.loading=!1,this.numberingSystem=void 0,this.localeFormat=!1,this.max=void 0,this.min=void 0,this.maxLength=void 0,this.minLength=void 0,this.name=void 0,this.numberButtonType="vertical",this.placeholder=void 0,this.prefixText=void 0,this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.step=void 0,this.autocomplete=void 0,this.inputMode="decimal",this.enterKeyHint=void 0,this.suffixText=void 0,this.editingEnabled=!1,this.value="",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale="",this.defaultMessages=void 0,this.localizedValue=void 0,this.slottedActionElDisabledInternally=!1}disabledWatcher(){this.setDisabledAction()}maxWatcher(){var e;this.maxString=((e=this.max)==null?void 0:e.toString())||null}minWatcher(){var e;this.minString=((e=this.min)==null?void 0:e.toString())||null}onMessagesChange(){}valueWatcher(e,t){this.userChangedValue||(this.setNumberValue({origin:"direct",previousValue:t,value:e==null||e==""?"":It(e)?e:this.previousValue||""}),this.warnAboutInvalidNumberValue(e)),this.userChangedValue=!1}updateRequestedIcon(){this.requestedIcon=Za({},this.icon,"number")}get isClearable(){return this.clearable&&this.value.length>0}effectiveLocaleWatcher(e){At(this,this.effectiveLocale),Me.numberFormatOptions={locale:e,numberingSystem:this.numberingSystem,useGrouping:!1}}connectedCallback(){var e;ht(this),Mt(this),this.scale=ci(this.el,"scale",this.scale),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),vr(this),na(this),this.setPreviousEmittedNumberValue(this.value),this.setPreviousNumberValue(this.value),this.warnAboutInvalidNumberValue(this.value),this.setNumberValue({origin:"connected",value:It(this.value)?this.value:""}),(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0}),this.setDisabledAction(),this.el.addEventListener("calciteInternalHiddenInputChange",this.hiddenInputChangeHandler)}componentDidLoad(){Ke(this)}disconnectedCallback(){var e;Gr(this),ra(this),pt(this),Dt(this),(e=this.mutationObserver)==null||e.disconnect(),this.el.removeEventListener("calciteInternalHiddenInputChange",this.hiddenInputChangeHandler)}async componentWillLoad(){var e,t;We(this),this.maxString=(e=this.max)==null?void 0:e.toString(),this.minString=(t=this.min)==null?void 0:t.toString(),this.requestedIcon=Za({},this.icon,"number"),await $t(this)}componentShouldUpdate(e,t,i){return i==="value"&&e&&!It(e)?(this.setNumberValue({origin:"reset",value:t}),!1):!0}componentDidRender(){et(this)}async setFocus(){var e;await He(this),(e=this.childNumberEl)==null||e.focus()}async selectText(){var e;(e=this.childNumberEl)==null||e.select()}onLabelClick(){this.setFocus()}incrementOrDecrementNumberValue(e,t,i,n){const{value:r}=this,s=this.step==="any"?1:Math.abs(this.step||1),a=r&&r!==""?parseFloat(r):0,l=a+s*(e==="up"?1:-1),c=typeof i=="number"&&!isNaN(i)&&l<i?i:typeof t=="number"&&!isNaN(t)&&l>t?t:l,h=eh(a),p=eh(s);this.setNumberValue({committing:!0,nativeEvent:n,origin:"user",value:c.toFixed(Math.max(h,p))})}onFormReset(){this.setNumberValue({origin:"reset",value:this.defaultValue})}syncHiddenFormInput(e){var t,i;e.type="number",e.min=((t=this.min)==null?void 0:t.toString(10))??"",e.max=((i=this.max)==null?void 0:i.toString(10))??""}setDisabledAction(){const e=Xe(this.el,"action");e&&(this.disabled?(e.getAttribute("disabled")==null&&(this.slottedActionElDisabledInternally=!0),e.setAttribute("disabled","")):this.slottedActionElDisabledInternally&&(e.removeAttribute("disabled"),this.slottedActionElDisabledInternally=!1))}normalizeValue(e){return It(e)?e:""}warnAboutInvalidNumberValue(e){e&&!It(e)&&console.warn(`The specified value "${e}" cannot be parsed, or is out of range.`)}render(){const e=Ci(this.el),t=v("div",{class:xs.loader},v("calcite-progress",{label:this.messages.loading,type:"indeterminate"})),i=v("button",{"aria-label":this.messages.clear,class:xs.clearButton,disabled:this.disabled||this.readOnly,onClick:this.clearInputValue,tabIndex:-1,type:"button"},v("calcite-icon",{icon:"x",scale:this.scale==="l"?"m":"s"})),n=v("calcite-icon",{class:xs.inputIcon,flipRtl:this.iconFlipRtl,icon:this.requestedIcon,scale:this.scale==="l"?"m":"s"}),r=this.numberButtonType==="horizontal",s=v("button",{"aria-hidden":"true",class:{[xs.numberButtonItem]:!0,[xs.buttonItemHorizontal]:r},"data-adjustment":"up",disabled:this.disabled||this.readOnly,onPointerDown:this.nudgeButtonPointerDownHandler,onPointerOut:this.nudgeButtonPointerUpAndOutHandler,onPointerUp:this.nudgeButtonPointerUpAndOutHandler,tabIndex:-1,type:"button"},v("calcite-icon",{icon:"chevron-up",scale:this.scale==="l"?"m":"s"})),a=v("button",{"aria-hidden":"true",class:{[xs.numberButtonItem]:!0,[xs.buttonItemHorizontal]:r},"data-adjustment":"down",disabled:this.disabled||this.readOnly,onPointerDown:this.nudgeButtonPointerDownHandler,onPointerOut:this.nudgeButtonPointerUpAndOutHandler,onPointerUp:this.nudgeButtonPointerUpAndOutHandler,tabIndex:-1,type:"button"},v("calcite-icon",{icon:"chevron-down",scale:this.scale==="l"?"m":"s"})),o=v("div",{class:xs.numberButtonWrapper},s,a),l=v("div",{class:xs.prefix},this.prefixText),c=v("div",{class:xs.suffix},this.suffixText),h=v("input",{"aria-label":zr(this),autocomplete:this.autocomplete,autofocus:this.autofocus?!0:null,defaultValue:this.defaultValue,disabled:this.disabled?!0:null,enterKeyHint:this.enterKeyHint,inputMode:this.inputMode,key:"localized-input",maxLength:this.maxLength,minLength:this.minLength,name:void 0,onBlur:this.inputNumberBlurHandler,onFocus:this.inputNumberFocusHandler,onInput:this.inputNumberInputHandler,onKeyDown:this.inputNumberKeyDownHandler,onKeyUp:this.inputNumberKeyUpHandler,placeholder:this.placeholder||"",readOnly:this.readOnly,ref:this.setChildNumberElRef,type:"text",value:this.localizedValue});return v(Fe,{onClick:this.clickHandler,onKeyDown:this.keyDownHandler},v("div",{class:{[xs.inputWrapper]:!0,[za.rtl]:e==="rtl"}},this.numberButtonType==="horizontal"&&!this.readOnly?a:null,this.prefixText?l:null,v("div",{class:xs.wrapper},h,this.isClearable?i:null,this.requestedIcon?n:null,this.loading?t:null),v("div",{class:xs.actionWrapper},v("slot",{name:rbe.action})),this.numberButtonType==="vertical"&&!this.readOnly?o:null,this.suffixText?c:null,this.numberButtonType==="horizontal"&&!this.readOnly?s:null,v(sa,{component:this})))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{disabled:["disabledWatcher"],max:["maxWatcher"],min:["minWatcher"],messageOverrides:["onMessagesChange"],value:["valueWatcher"],icon:["updateRequestedIcon"],effectiveLocale:["effectiveLocaleWatcher"]}}static get style(){return sbe}},[1,"calcite-input-number",{alignment:[513],autofocus:[516],clearable:[516],disabled:[516],groupSeparator:[516,"group-separator"],hidden:[516],icon:[520],iconFlipRtl:[516,"icon-flip-rtl"],label:[1],loading:[516],numberingSystem:[513,"numbering-system"],localeFormat:[4,"locale-format"],max:[514],min:[514],maxLength:[514,"max-length"],minLength:[514,"min-length"],name:[513],numberButtonType:[513,"number-button-type"],placeholder:[1],prefixText:[1,"prefix-text"],readOnly:[516,"read-only"],required:[516],scale:[1537],status:[1537],step:[520],autocomplete:[1],inputMode:[1,"input-mode"],enterKeyHint:[1,"enter-key-hint"],suffixText:[1,"suffix-text"],editingEnabled:[1540,"editing-enabled"],value:[1025],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],localizedValue:[32],slottedActionElDisabledInternally:[32],setFocus:[64],selectText:[64]}]);function obe(){if(typeof customElements>"u")return;["calcite-input-number","calcite-icon","calcite-progress"].forEach(t=>{switch(t){case"calcite-input-number":customElements.get(t)||customElements.define(t,abe);break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-progress":customElements.get(t)||so();break}})}obe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const cl={loader:"loader",clearButton:"clear-button",editingEnabled:"editing-enabled",inlineChild:"inline-child",inputIcon:"icon",prefix:"prefix",suffix:"suffix",wrapper:"element-wrapper",inputWrapper:"wrapper",actionWrapper:"action-wrapper",resizeIconWrapper:"resize-icon-wrapper"},lbe={action:"action"},cbe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:block}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;padding-inline:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .action-wrapper calcite-button,:host([scale=s]) .action-wrapper calcite-button button{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;padding-inline:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .action-wrapper calcite-button,:host([scale=m]) .action-wrapper calcite-button button{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .action-wrapper calcite-button,:host([scale=l]) .action-wrapper calcite-button button{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}input{transition:var(--calcite-animation-timing), block-size 0, outline-offset 0s;-webkit-appearance:none;position:relative;margin:0px;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;border-radius:0px;background-color:var(--calcite-ui-foreground-1);font-family:inherit;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-1)}:host input{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);color:var(--calcite-ui-text-1)}:host input::placeholder,:host input:-ms-input-placeholder,:host input::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}:host input:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-text-1)}:host input[readonly]{background-color:var(--calcite-ui-background);font-weight:var(--calcite-font-weight-medium)}:host input[readonly]:focus{color:var(--calcite-ui-text-1)}:host calcite-icon{color:var(--calcite-ui-text-3)}input{outline-color:transparent}input:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([status=invalid]) input{border-color:var(--calcite-ui-danger)}:host([status=invalid]) input:focus{outline:2px solid var(--calcite-ui-danger);outline-offset:-2px}:host([scale=s]) .icon{inset-inline-start:0.5rem}:host([scale=m]) .icon{inset-inline-start:0.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center}.icon{pointer-events:none;position:absolute;z-index:1;display:block;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;block-size:0px;inline-size:0px}.clear-button{pointer-events:initial;order:4;margin:0px;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);outline-color:transparent;border-inline-start-width:0px}.clear-button:hover{background-color:var(--calcite-ui-foreground-2);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.clear-button:hover calcite-icon{color:var(--calcite-ui-text-1);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.clear-button:active{background-color:var(--calcite-ui-foreground-3)}.clear-button:active calcite-icon{color:var(--calcite-ui-text-1)}.clear-button:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.clear-button:disabled{opacity:var(--calcite-ui-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-background);font-weight:var(--calcite-font-weight-medium);line-height:1;color:var(--calcite-ui-text-2)}.prefix{order:2;border-inline-end-width:0px}.suffix{order:5;border-inline-start-width:0px}:host([alignment=start]) input{text-align:start}:host([alignment=end]) input{text-align:end}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host(.no-bottom-border) input{border-block-end-width:0px}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-ui-border-1)}.inline-child{background-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.inline-child .editing-enabled{background-color:inherit}.inline-child:not(.editing-enabled){display:flex;cursor:pointer;border-color:transparent;padding-inline-start:0}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",ube=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalInputTextFocus=B(this,"calciteInternalInputTextFocus",7),this.calciteInternalInputTextBlur=B(this,"calciteInternalInputTextBlur",7),this.calciteInputTextInput=B(this,"calciteInputTextInput",7),this.calciteInputTextChange=B(this,"calciteInputTextChange",7),this.previousValueOrigin="initial",this.mutationObserver=Ct("mutation",()=>this.setDisabledAction()),this.userChangedValue=!1,this.keyDownHandler=e=>{this.readOnly||this.disabled||(this.isClearable&&e.key==="Escape"&&(this.clearInputTextValue(e),e.preventDefault()),e.key==="Enter"&&!e.defaultPrevented&&Am(this)&&e.preventDefault())},this.clearInputTextValue=e=>{this.setValue({committing:!0,nativeEvent:e,origin:"user",value:""})},this.emitChangeIfUserModified=()=>{this.previousValueOrigin==="user"&&this.value!==this.previousEmittedValue&&(this.calciteInputTextChange.emit(),this.setPreviousEmittedValue(this.value))},this.inputTextBlurHandler=()=>{this.calciteInternalInputTextBlur.emit({element:this.childEl,value:this.value}),this.emitChangeIfUserModified()},this.clickHandler=e=>{const t=Xe(this.el,"action");e.target!==t&&this.setFocus()},this.inputTextFocusHandler=()=>{this.calciteInternalInputTextFocus.emit({element:this.childEl,value:this.value})},this.inputTextInputHandler=e=>{this.disabled||this.readOnly||this.setValue({nativeEvent:e,origin:"user",value:e.target.value})},this.inputTextKeyDownHandler=e=>{this.disabled||this.readOnly||e.key==="Enter"&&this.emitChangeIfUserModified()},this.hiddenInputChangeHandler=e=>{e.target.name===this.name&&this.setValue({value:e.target.value,origin:"direct"}),e.stopPropagation()},this.setChildElRef=e=>{this.childEl=e},this.setInputValue=e=>{this.childEl&&(this.childEl.value=e)},this.setPreviousEmittedValue=e=>{this.previousEmittedValue=e},this.setPreviousValue=e=>{this.previousValue=e},this.setValue=({committing:e=!1,nativeEvent:t,origin:i,previousValue:n,value:r})=>{this.setPreviousValue(n??this.value),this.previousValueOrigin=i,this.userChangedValue=i==="user"&&r!==this.value,this.value=r,i==="direct"&&(this.setInputValue(r),this.setPreviousEmittedValue(r)),t&&(this.calciteInputTextInput.emit().defaultPrevented?this.value=this.previousValue:e&&this.emitChangeIfUserModified())},this.alignment="start",this.autofocus=!1,this.clearable=!1,this.disabled=!1,this.hidden=!1,this.icon=void 0,this.iconFlipRtl=!1,this.label=void 0,this.loading=!1,this.maxLength=void 0,this.minLength=void 0,this.name=void 0,this.placeholder=void 0,this.prefixText=void 0,this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.autocomplete=void 0,this.inputMode="text",this.enterKeyHint=void 0,this.pattern=void 0,this.suffixText=void 0,this.editingEnabled=!1,this.value="",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0,this.slottedActionElDisabledInternally=!1}disabledWatcher(){this.setDisabledAction()}onMessagesChange(){}valueWatcher(e,t){this.userChangedValue||this.setValue({origin:"direct",previousValue:t,value:e||""}),this.userChangedValue=!1}updateRequestedIcon(){this.requestedIcon=Za({},this.icon,"text")}get isClearable(){return this.clearable&&this.value.length>0}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){var e;ht(this),Mt(this),this.scale=ci(this.el,"scale",this.scale),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),this.setPreviousEmittedValue(this.value),this.setPreviousValue(this.value),vr(this),na(this),(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0}),this.setDisabledAction(),this.el.addEventListener("calciteInternalHiddenInputChange",this.hiddenInputChangeHandler)}disconnectedCallback(){var e;Gr(this),ra(this),pt(this),Dt(this),(e=this.mutationObserver)==null||e.disconnect(),this.el.removeEventListener("calciteInternalHiddenInputChange",this.hiddenInputChangeHandler)}async componentWillLoad(){We(this),this.requestedIcon=Za({},this.icon,"text"),await $t(this)}componentDidLoad(){Ke(this)}componentDidRender(){et(this)}async setFocus(){var e;await He(this),(e=this.childEl)==null||e.focus()}async selectText(){var e;(e=this.childEl)==null||e.select()}onLabelClick(){this.setFocus()}onFormReset(){this.setValue({origin:"reset",value:this.defaultValue})}syncHiddenFormInput(e){this.minLength!=null&&(e.minLength=this.minLength),this.maxLength!=null&&(e.maxLength=this.maxLength)}setDisabledAction(){const e=Xe(this.el,"action");e&&(this.disabled?(e.getAttribute("disabled")==null&&(this.slottedActionElDisabledInternally=!0),e.setAttribute("disabled","")):this.slottedActionElDisabledInternally&&(e.removeAttribute("disabled"),this.slottedActionElDisabledInternally=!1))}render(){const e=Ci(this.el),t=v("div",{class:cl.loader},v("calcite-progress",{label:this.messages.loading,type:"indeterminate"})),i=v("button",{"aria-label":this.messages.clear,class:cl.clearButton,disabled:this.disabled||this.readOnly,onClick:this.clearInputTextValue,tabIndex:-1,type:"button"},v("calcite-icon",{icon:"x",scale:this.scale==="l"?"m":"s"})),n=v("calcite-icon",{class:cl.inputIcon,flipRtl:this.iconFlipRtl,icon:this.requestedIcon,scale:this.scale==="l"?"m":"s"}),r=v("div",{class:cl.prefix},this.prefixText),s=v("div",{class:cl.suffix},this.suffixText),a=v("input",{"aria-label":zr(this),autocomplete:this.autocomplete,autofocus:this.autofocus?!0:null,class:{[cl.editingEnabled]:this.editingEnabled,[cl.inlineChild]:!!this.inlineEditableEl},defaultValue:this.defaultValue,disabled:this.disabled?!0:null,enterKeyHint:this.enterKeyHint,inputMode:this.inputMode,maxLength:this.maxLength,minLength:this.minLength,name:this.name,onBlur:this.inputTextBlurHandler,onFocus:this.inputTextFocusHandler,onInput:this.inputTextInputHandler,onKeyDown:this.inputTextKeyDownHandler,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readOnly,ref:this.setChildElRef,required:this.required?!0:null,tabIndex:this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null,type:"text",value:this.value});return v(Fe,{onClick:this.clickHandler,onKeyDown:this.keyDownHandler},v("div",{class:{[cl.inputWrapper]:!0,[za.rtl]:e==="rtl"}},this.prefixText?r:null,v("div",{class:cl.wrapper},a,this.isClearable?i:null,this.requestedIcon?n:null,this.loading?t:null),v("div",{class:cl.actionWrapper},v("slot",{name:lbe.action})),this.suffixText?s:null,v(sa,{component:this})))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{disabled:["disabledWatcher"],messageOverrides:["onMessagesChange"],value:["valueWatcher"],icon:["updateRequestedIcon"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return cbe}},[1,"calcite-input-text",{alignment:[513],autofocus:[516],clearable:[516],disabled:[516],hidden:[516],icon:[520],iconFlipRtl:[516,"icon-flip-rtl"],label:[1],loading:[516],maxLength:[514,"max-length"],minLength:[514,"min-length"],name:[513],placeholder:[1],prefixText:[1,"prefix-text"],readOnly:[516,"read-only"],required:[516],scale:[1537],status:[1537],autocomplete:[1],inputMode:[1,"input-mode"],enterKeyHint:[1,"enter-key-hint"],pattern:[1],suffixText:[1,"suffix-text"],editingEnabled:[1540,"editing-enabled"],value:[1025],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],slottedActionElDisabledInternally:[32],setFocus:[64],selectText:[64]}]);function dbe(){if(typeof customElements>"u")return;["calcite-input-text","calcite-icon","calcite-progress"].forEach(t=>{switch(t){case"calcite-input-text":customElements.get(t)||customElements.define(t,ube);break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-progress":customElements.get(t)||so();break}})}dbe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const bV=5;function w_(e,t,i=!0){try{const n={hour:"2-digit",minute:"2-digit",timeZone:"UTC",numberingSystem:xY(t)};return i&&(n.second="2-digit"),new Intl.DateTimeFormat(fC(e),n)}catch{throw new Error(`Invalid locale supplied while attempting to create a DateTime formatter: ${e}`)}}function Oy(e){const t=e.toString();return e>=0&&e<=9?t.padStart(2,"0"):t}function hbe(e){if(!Mm(e))return null;const[t,i,n]=e.split(":"),r=Oy(parseInt(t)),s=Oy(parseInt(i));if(n){const a=Oy(parseInt(n));return`${r}:${s}:${a}`}return`${r}:${s}`}function pbe(e,t){const n=w_(e,t).formatToParts(new Date(Date.UTC(0,0,0,0,0,0)));return jc("meridiem",n)?"12":"24"}function jc(e,t){var i,n,r,s;if(!e||!t)return null;if(e==="hourSuffix"){const a=t.indexOf(t.find(({type:c})=>c==="hour")),o=t.indexOf(t.find(({type:c})=>c==="minute")),l=t[a+1];return l&&l.type==="literal"&&o-a===2&&((i=l.value)==null?void 0:i.trim())||null}if(e==="minuteSuffix"){const a=t.indexOf(t.find(({type:c})=>c==="minute")),o=t.indexOf(t.find(({type:c})=>c==="second")),l=t[a+1];return l&&l.type==="literal"&&o-a===2&&((n=l.value)==null?void 0:n.trim())||null}if(e==="secondSuffix"){const a=t.indexOf(t.find(({type:l})=>l==="second")),o=t[a+1];return o&&o.type==="literal"&&((r=o.value)==null?void 0:r.trim())||null}return((s=t.find(({type:a})=>e=="meridiem"?a==="dayPeriod":a===e))==null?void 0:s.value)||null}function fbe(e){if(!It(e))return null;const t=parseInt(e);return t>=0&&t<=11?"AM":"PM"}function Mm(e){if(!e||e.startsWith(":")||e.endsWith(":"))return!1;const t=e.split(":");if(!(t.length>1&&t.length<4))return!1;const[n,r,s]=t,a=parseInt(t[0]),o=parseInt(t[1]),l=parseInt(t[2]),c=It(n)&&a>=0&&a<24,h=It(r)&&o>=0&&o<60,p=It(s)&&l>=0&&l<60;if(c&&h&&!s||c&&h&&p)return!0}function mbe(e,t){if(t==="meridiem")return e==="AM"||e==="PM";if(!It(e))return!1;const i=Number(e);return t==="hour"?i>=0&&i<24:i>=0&&i<60}function A$({value:e,part:t,locale:i,numberingSystem:n}){if(!mbe(e,t))return;const r=parseInt(e),s=new Date(Date.UTC(0,0,0,t==="hour"?r:t==="meridiem"?e==="AM"?0:12:0,t==="minute"?r:0,t==="second"?r:0));if(!s)return;const o=w_(i,n).formatToParts(s);return jc(t,o)}function Rx({value:e,locale:t,numberingSystem:i,includeSeconds:n=!0}){if(!Mm(e))return null;const{hour:r,minute:s,second:a="0"}=kC(e),o=new Date(Date.UTC(0,0,0,parseInt(r),parseInt(s),parseInt(a))),l=w_(t,i,n);return(l==null?void 0:l.format(o))||null}function wV({value:e,locale:t,numberingSystem:i}){if(!Mm(e))return null;const{hour:n,minute:r,second:s="0"}=kC(e),a=new Date(Date.UTC(0,0,0,parseInt(n),parseInt(r),parseInt(s)));if(a){const l=w_(t,i).formatToParts(a);return{localizedHour:jc("hour",l),localizedHourSuffix:jc("hourSuffix",l),localizedMinute:jc("minute",l),localizedMinuteSuffix:jc("minuteSuffix",l),localizedSecond:jc("second",l),localizedSecondSuffix:jc("secondSuffix",l),localizedMeridiem:jc("meridiem",l)}}return null}function _V({value:e,locale:t,numberingSystem:i}){if(!Mm(e))return null;const{hour:n,minute:r,second:s="0"}=kC(e),a=new Date(Date.UTC(0,0,0,parseInt(n),parseInt(r),parseInt(s)));return a?w_(t,i).formatToParts(a):null}function kC(e){if(Mm(e)){const[t,i,n]=e.split(":");return{hour:t,minute:i,second:n}}return{hour:null,minute:null,second:null}}const it={button:"button",buttonBottomLeft:"button--bottom-left",buttonBottomRight:"button--bottom-right",buttonHourDown:"button--hour-down",buttonHourUp:"button--hour-up",buttonMeridiemDown:"button--meridiem-down",buttonMeridiemUp:"button--meridiem-up",buttonMinuteDown:"button--minute-down",buttonMinuteUp:"button--minute-up",buttonSecondDown:"button--second-down",buttonSecondUp:"button--second-up",buttonTopLeft:"button--top-left",buttonTopRight:"button--top-right",column:"column",delimiter:"delimiter",hour:"hour",input:"input",meridiem:"meridiem",minute:"minute",second:"second",showMeridiem:"show-meridiem",showSecond:"show-second","scale-s":"scale-s","scale-m":"scale-m","scale-l":"scale-l",timePicker:"time-picker",meridiemStart:"meridiem--start"},gbe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:inline-block}.time-picker{display:flex;-webkit-user-select:none;user-select:none;align-items:center;background-color:var(--calcite-ui-foreground-1);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-radius:var(--calcite-border-radius)}.time-picker .column{display:flex;flex-direction:column}.time-picker .meridiem--start{order:-1}.time-picker .button{display:inline-flex;cursor:pointer;align-items:center;justify-content:center;background-color:var(--calcite-ui-foreground-1)}.time-picker .button:hover,.time-picker .button:focus{background-color:var(--calcite-ui-foreground-2);outline:2px solid transparent;outline-offset:2px;z-index:400;outline-offset:0}.time-picker .button:active{background-color:var(--calcite-ui-foreground-3)}.time-picker .button.top-left{border-start-start-radius:var(--calcite-border-radius)}.time-picker .button.bottom-left{border-end-start-radius:var(--calcite-border-radius)}.time-picker .button.top-right{border-start-end-radius:var(--calcite-border-radius)}.time-picker .button.bottom-right{border-end-end-radius:var(--calcite-border-radius)}.time-picker .button calcite-icon{color:var(--calcite-ui-text-3)}.time-picker .input{display:inline-flex;cursor:pointer;align-items:center;justify-content:center;background-color:var(--calcite-ui-foreground-1);font-weight:var(--calcite-font-weight-medium)}.time-picker .input:hover{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-2);z-index:400}.time-picker .input:focus,.time-picker .input:hover:focus{outline:2px solid transparent;outline-offset:2px;box-shadow:inset 0 0 0 2px var(--calcite-ui-brand);z-index:400;outline-offset:0}.time-picker.scale-s{font-size:var(--calcite-font-size--1)}.time-picker.scale-s .button,.time-picker.scale-s .input{padding-inline:0.75rem;padding-block:0.25rem}.time-picker.scale-s:not(.show-meridiem) .delimiter:last-child{padding-inline-end:0.75rem}.time-picker.scale-m{font-size:var(--calcite-font-size-0)}.time-picker.scale-m .button,.time-picker.scale-m .input{padding-inline:1rem;padding-block:0.5rem}.time-picker.scale-m:not(.show-meridiem) .delimiter:last-child{padding-inline-end:1rem}.time-picker.scale-l{font-size:var(--calcite-font-size-1)}.time-picker.scale-l .button,.time-picker.scale-l .input{padding-inline:1.25rem;padding-block:0.75rem}.time-picker.scale-l:not(.show-meridiem) .delimiter:last-child{padding-inline-end:1.25rem}";function ybe(e){return e.charAt(0).toUpperCase()+e.slice(1)}const vbe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalTimePickerBlur=B(this,"calciteInternalTimePickerBlur",6),this.calciteInternalTimePickerChange=B(this,"calciteInternalTimePickerChange",6),this.calciteInternalTimePickerFocus=B(this,"calciteInternalTimePickerFocus",6),this.decrementHour=()=>{const e=this.hour?this.hour==="00"?23:parseInt(this.hour)-1:0;this.setValuePart("hour",e)},this.decrementMeridiem=()=>{const e=this.meridiem==="PM"?"AM":"PM";this.setValuePart("meridiem",e)},this.decrementMinuteOrSecond=e=>{let t;if(It(this[e])){const i=parseInt(this[e]);t=i===0?59:i-1}else t=59;this.setValuePart(e,t)},this.decrementMinute=()=>{this.decrementMinuteOrSecond("minute")},this.decrementSecond=()=>{this.decrementMinuteOrSecond("second")},this.focusHandler=e=>{this.activeEl=e.currentTarget},this.hourDownButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.decrementHour()},this.hourKeyDownHandler=e=>{const{key:t}=e;if(Va.includes(t)){const i=parseInt(t);let n;if(It(this.hour))switch(this.hourCycle){case"12":n=this.hour==="01"&&i>=0&&i<=2?`1${i}`:i;break;case"24":this.hour==="01"?n=`1${i}`:this.hour==="02"&&i>=0&&i<=3?n=`2${i}`:n=i;break}else n=i;this.setValuePart("hour",n)}else switch(t){case"Backspace":case"Delete":this.setValuePart("hour",null);break;case"ArrowDown":e.preventDefault(),this.decrementHour();break;case"ArrowUp":e.preventDefault(),this.incrementHour();break;case" ":e.preventDefault();break}},this.hourUpButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.incrementHour()},this.incrementMeridiem=()=>{const e=this.meridiem==="AM"?"PM":"AM";this.setValuePart("meridiem",e)},this.incrementHour=()=>{const e=It(this.hour)?this.hour==="23"?0:parseInt(this.hour)+1:1;this.setValuePart("hour",e)},this.incrementMinuteOrSecond=e=>{const t=It(this[e])?this[e]==="59"?0:parseInt(this[e])+1:0;this.setValuePart(e,t)},this.incrementMinute=()=>{this.incrementMinuteOrSecond("minute")},this.incrementSecond=()=>{this.incrementMinuteOrSecond("second")},this.meridiemDownButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.decrementMeridiem()},this.meridiemKeyDownHandler=e=>{switch(e.key){case"a":this.setValuePart("meridiem","AM");break;case"p":this.setValuePart("meridiem","PM");break;case"Backspace":case"Delete":this.setValuePart("meridiem",null);break;case"ArrowUp":e.preventDefault(),this.incrementMeridiem();break;case"ArrowDown":e.preventDefault(),this.decrementMeridiem();break;case" ":e.preventDefault();break}},this.meridiemUpButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.incrementMeridiem()},this.minuteDownButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.decrementMinute()},this.minuteKeyDownHandler=e=>{const{key:t}=e;if(Va.includes(t)){const i=parseInt(t);let n;if(It(this.minute)&&this.minute.startsWith("0")){const r=parseInt(this.minute);n=r>bV?i:`${r}${i}`}else n=i;this.setValuePart("minute",n)}else switch(t){case"Backspace":case"Delete":this.setValuePart("minute",null);break;case"ArrowDown":e.preventDefault(),this.decrementMinute();break;case"ArrowUp":e.preventDefault(),this.incrementMinute();break;case" ":e.preventDefault();break}},this.minuteUpButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.incrementMinute()},this.secondDownButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.decrementSecond()},this.secondKeyDownHandler=e=>{const{key:t}=e;if(Va.includes(t)){const i=parseInt(t);let n;if(It(this.second)&&this.second.startsWith("0")){const r=parseInt(this.second);n=r>bV?i:`${r}${i}`}else n=i;this.setValuePart("second",n)}else switch(t){case"Backspace":case"Delete":this.setValuePart("second",null);break;case"ArrowDown":e.preventDefault(),this.decrementSecond();break;case"ArrowUp":e.preventDefault(),this.incrementSecond();break;case" ":e.preventDefault();break}},this.secondUpButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.incrementSecond()},this.setHourEl=e=>this.hourEl=e,this.setMeridiemEl=e=>this.meridiemEl=e,this.setMinuteEl=e=>this.minuteEl=e,this.setSecondEl=e=>this.secondEl=e,this.setValue=(e,t=!0)=>{if(Mm(e)){const{hour:i,minute:n,second:r}=kC(e),{effectiveLocale:s,numberingSystem:a}=this,{localizedHour:o,localizedHourSuffix:l,localizedMinute:c,localizedMinuteSuffix:h,localizedSecond:p,localizedSecondSuffix:m,localizedMeridiem:g}=wV({value:e,locale:s,numberingSystem:a});if(this.localizedHour=o,this.localizedHourSuffix=l,this.localizedMinute=c,this.localizedMinuteSuffix=h,this.localizedSecond=p,this.localizedSecondSuffix=m,this.hour=i,this.minute=n,this.second=r,g){this.localizedMeridiem=g,this.meridiem=fbe(this.hour);const y=_V({value:e,locale:s,numberingSystem:a});this.meridiemOrder=this.getMeridiemOrder(y)}}else this.hour=null,this.localizedHour=null,this.localizedHourSuffix=null,this.localizedMeridiem=null,this.localizedMinute=null,this.localizedMinuteSuffix=null,this.localizedSecond=null,this.localizedSecondSuffix=null,this.meridiem=null,this.minute=null,this.second=null,this.value=null;t&&this.calciteInternalTimePickerChange.emit()},this.setValuePart=(e,t,i=!0)=>{var s;const{effectiveLocale:n,numberingSystem:r}=this;if(e==="meridiem"){if(this.meridiem=t,It(this.hour)){const a=parseInt(this.hour);switch(t){case"AM":a>=12&&(this.hour=Oy(a-12));break;case"PM":a<12&&(this.hour=Oy(a+12));break}this.localizedHour=A$({value:this.hour,part:"hour",locale:n,numberingSystem:r})}}else this[e]=typeof t=="number"?Oy(t):t,this[`localized${ybe(e)}`]=A$({value:this[e],part:e,locale:n,numberingSystem:r});if(this.hour&&this.minute){const a=this.second&&this.showSecond;this.value=`${this.hour}:${this.minute}:${a?this.second:"00"}`}else this.value=null;this.localizedMeridiem=this.value?((s=wV({value:this.value,locale:n,numberingSystem:r}))==null?void 0:s.localizedMeridiem)||null:A$({value:this.meridiem,part:"meridiem",locale:n,numberingSystem:r}),i&&this.calciteInternalTimePickerChange.emit()},this.scale="m",this.step=60,this.numberingSystem=void 0,this.value=null,this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale="",this.hour=void 0,this.hourCycle=void 0,this.localizedHour=void 0,this.localizedHourSuffix=void 0,this.localizedMeridiem=void 0,this.localizedMinute=void 0,this.localizedMinuteSuffix=void 0,this.localizedSecond=void 0,this.localizedSecondSuffix=void 0,this.meridiem=void 0,this.minute=void 0,this.second=void 0,this.showSecond=this.step<60,this.defaultMessages=void 0}valueWatcher(e){this.setValue(e,!1)}onMessagesChange(){}effectiveLocaleWatcher(){this.updateLocale()}hostBlurHandler(){this.calciteInternalTimePickerBlur.emit()}hostFocusHandler(){this.calciteInternalTimePickerFocus.emit()}keyDownHandler(e){const{defaultPrevented:t,key:i}=e;if(!t)switch(this.activeEl){case this.hourEl:i==="ArrowRight"&&(this.focusPart("minute"),e.preventDefault());break;case this.minuteEl:switch(i){case"ArrowLeft":this.focusPart("hour"),e.preventDefault();break;case"ArrowRight":this.step!==60?(this.focusPart("second"),e.preventDefault()):this.hourCycle==="12"&&(this.focusPart("meridiem"),e.preventDefault());break}break;case this.secondEl:switch(i){case"ArrowLeft":this.focusPart("minute"),e.preventDefault();break;case"ArrowRight":this.hourCycle==="12"&&(this.focusPart("meridiem"),e.preventDefault());break}break;case this.meridiemEl:switch(i){case"ArrowLeft":this.step!==60?(this.focusPart("second"),e.preventDefault()):(this.focusPart("minute"),e.preventDefault());break}break}}async setFocus(){var e;await He(this),(e=this.el)==null||e.focus()}async focusPart(e){var t;await He(this),(t=this[`${e||"hour"}El`])==null||t.focus()}buttonActivated(e){const{key:t}=e;return t===" "&&e.preventDefault(),Qa(t)}getMeridiemOrder(e){const t=this.effectiveLocale;return e&&!(t==="ar"||t==="he")?e.findIndex(r=>r.value===this.localizedMeridiem):0}updateLocale(){At(this,this.effectiveLocale),this.hourCycle=pbe(this.effectiveLocale,this.numberingSystem),this.setValue(this.value,!1)}connectedCallback(){ht(this),this.updateLocale(),Mt(this),this.meridiemOrder=this.getMeridiemOrder(_V({value:"0:00:00",locale:this.effectiveLocale,numberingSystem:this.numberingSystem}))}async componentWillLoad(){We(this),await $t(this)}componentDidLoad(){Ke(this)}disconnectedCallback(){pt(this),Dt(this)}render(){const e=It(this.hour),t=this.scale==="s"||this.scale==="m"?"s":"m",i=It(this.minute),n=It(this.second),r=this.hourCycle==="12";return v("div",{class:{[it.timePicker]:!0,[it.showMeridiem]:r,[it.showSecond]:this.showSecond,[it[`scale-${this.scale}`]]:!0},dir:"ltr"},v("div",{class:it.column,role:"group"},v("span",{"aria-label":this.messages.hourUp,class:{[it.button]:!0,[it.buttonHourUp]:!0,[it.buttonTopLeft]:!0},onClick:this.incrementHour,onKeyDown:this.hourUpButtonKeyDownHandler,role:"button",tabIndex:-1},v("calcite-icon",{icon:"chevron-up",scale:t})),v("span",{"aria-label":this.messages.hour,"aria-valuemax":"23","aria-valuemin":"1","aria-valuenow":e&&parseInt(this.hour)||"0","aria-valuetext":this.hour,class:{[it.input]:!0,[it.hour]:!0},onFocus:this.focusHandler,onKeyDown:this.hourKeyDownHandler,ref:this.setHourEl,role:"spinbutton",tabIndex:0},this.localizedHour||"--"),v("span",{"aria-label":this.messages.hourDown,class:{[it.button]:!0,[it.buttonHourDown]:!0,[it.buttonBottomLeft]:!0},onClick:this.decrementHour,onKeyDown:this.hourDownButtonKeyDownHandler,role:"button",tabIndex:-1},v("calcite-icon",{icon:"chevron-down",scale:t}))),v("span",{class:it.delimiter},this.localizedHourSuffix),v("div",{class:it.column,role:"group"},v("span",{"aria-label":this.messages.minuteUp,class:{[it.button]:!0,[it.buttonMinuteUp]:!0},onClick:this.incrementMinute,onKeyDown:this.minuteUpButtonKeyDownHandler,role:"button",tabIndex:-1},v("calcite-icon",{icon:"chevron-up",scale:t})),v("span",{"aria-label":this.messages.minute,"aria-valuemax":"12","aria-valuemin":"1","aria-valuenow":i&&parseInt(this.minute)||"0","aria-valuetext":this.minute,class:{[it.input]:!0,[it.minute]:!0},onFocus:this.focusHandler,onKeyDown:this.minuteKeyDownHandler,ref:this.setMinuteEl,role:"spinbutton",tabIndex:0},this.localizedMinute||"--"),v("span",{"aria-label":this.messages.minuteDown,class:{[it.button]:!0,[it.buttonMinuteDown]:!0},onClick:this.decrementMinute,onKeyDown:this.minuteDownButtonKeyDownHandler,role:"button",tabIndex:-1},v("calcite-icon",{icon:"chevron-down",scale:t}))),this.showSecond&&v("span",{class:it.delimiter},this.localizedMinuteSuffix),this.showSecond&&v("div",{class:it.column,role:"group"},v("span",{"aria-label":this.messages.secondUp,class:{[it.button]:!0,[it.buttonSecondUp]:!0},onClick:this.incrementSecond,onKeyDown:this.secondUpButtonKeyDownHandler,role:"button",tabIndex:-1},v("calcite-icon",{icon:"chevron-up",scale:t})),v("span",{"aria-label":this.messages.second,"aria-valuemax":"59","aria-valuemin":"0","aria-valuenow":n&&parseInt(this.second)||"0","aria-valuetext":this.second,class:{[it.input]:!0,[it.second]:!0},onFocus:this.focusHandler,onKeyDown:this.secondKeyDownHandler,ref:this.setSecondEl,role:"spinbutton",tabIndex:0},this.localizedSecond||"--"),v("span",{"aria-label":this.messages.secondDown,class:{[it.button]:!0,[it.buttonSecondDown]:!0},onClick:this.decrementSecond,onKeyDown:this.secondDownButtonKeyDownHandler,role:"button",tabIndex:-1},v("calcite-icon",{icon:"chevron-down",scale:t}))),this.localizedSecondSuffix&&v("span",{class:it.delimiter},this.localizedSecondSuffix),r&&v("div",{class:{[it.column]:!0,[it.meridiemStart]:this.meridiemOrder===0},role:"group"},v("span",{"aria-label":this.messages.meridiemUp,class:{[it.button]:!0,[it.buttonMeridiemUp]:!0,[it.buttonTopRight]:!0},onClick:this.incrementMeridiem,onKeyDown:this.meridiemUpButtonKeyDownHandler,role:"button",tabIndex:-1},v("calcite-icon",{icon:"chevron-up",scale:t})),v("span",{"aria-label":this.messages.meridiem,"aria-valuemax":"2","aria-valuemin":"1","aria-valuenow":this.meridiem==="PM"&&"2"||"1","aria-valuetext":this.meridiem,class:{[it.input]:!0,[it.meridiem]:!0},onFocus:this.focusHandler,onKeyDown:this.meridiemKeyDownHandler,ref:this.setMeridiemEl,role:"spinbutton",tabIndex:0},this.localizedMeridiem||"--"),v("span",{"aria-label":this.messages.meridiemDown,class:{[it.button]:!0,[it.buttonMeridiemDown]:!0,[it.buttonBottomRight]:!0},onClick:this.decrementMeridiem,onKeyDown:this.meridiemDownButtonKeyDownHandler,role:"button",tabIndex:-1},v("calcite-icon",{icon:"chevron-down",scale:t}))))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{value:["valueWatcher"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleWatcher"]}}static get style(){return gbe}},[17,"calcite-time-picker",{scale:[513],step:[514],numberingSystem:[1,"numbering-system"],value:[1025],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],hour:[32],hourCycle:[32],localizedHour:[32],localizedHourSuffix:[32],localizedMeridiem:[32],localizedMinute:[32],localizedMinuteSuffix:[32],localizedSecond:[32],localizedSecondSuffix:[32],meridiem:[32],minute:[32],second:[32],showSecond:[32],defaultMessages:[32],setFocus:[64]},[[0,"blur","hostBlurHandler"],[0,"focus","hostFocusHandler"],[0,"keydown","keyDownHandler"]]]);function DJ(){if(typeof customElements>"u")return;["calcite-time-picker","calcite-icon"].forEach(t=>{switch(t){case"calcite-time-picker":customElements.get(t)||customElements.define(t,vbe);break;case"calcite-icon":customElements.get(t)||Te();break}})}DJ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const bbe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:inline-block;-webkit-user-select:none;user-select:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",wbe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInputTimePickerChange=B(this,"calciteInputTimePickerChange",7),this.internalValueChange=!1,this.previousValidValue=null,this.referenceElementId=`input-time-picker-${$i()}`,this.calciteInternalInputBlurHandler=()=>{this.open=!1;const e=this.shouldIncludeSeconds(),{effectiveLocale:t,numberingSystem:i,value:n,calciteInputEl:r}=this;Me.numberFormatOptions={locale:t,numberingSystem:i,useGrouping:!1};const s=Me.delocalize(r.value),a=Rx({value:s,includeSeconds:e,locale:t,numberingSystem:i});this.setInputValue(a||Rx({value:n,locale:t,numberingSystem:i,includeSeconds:e}))},this.calciteInternalInputFocusHandler=e=>{this.readOnly||(this.open=!0,e.stopPropagation())},this.calciteInputInputHandler=e=>{const t=e.target;Me.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:!1};const i=Me.delocalize(t.value);this.setValue({value:i});const n=i.split("").map(r=>Va.includes(r)?Me.numberFormatter.format(Number(r)):r).join("");this.setInputValue(n)},this.timePickerChangeHandler=e=>{e.stopPropagation();const i=e.target.value;this.setValue({value:i,origin:"time-picker"})},this.keyDownHandler=e=>{const{defaultPrevented:t,key:i}=e;t||(i==="Enter"&&Am(this)&&e.preventDefault(),i==="Escape"&&this.open&&(this.open=!1,e.preventDefault()))},this.setCalcitePopoverEl=e=>{this.popoverEl=e},this.setCalciteInputEl=e=>{this.calciteInputEl=e},this.setCalciteTimePickerEl=e=>{this.calciteTimePickerEl=e},this.setInputValue=e=>{this.calciteInputEl&&(this.calciteInputEl.value=e)},this.setValue=({value:e,origin:t="input"})=>{const i=this.value,n=hbe(e),r=Rx({value:n,locale:this.effectiveLocale,numberingSystem:this.numberingSystem,includeSeconds:this.shouldIncludeSeconds()});this.internalValueChange=t!=="external"&&t!=="loading";const s=t!=="loading"&&t!=="external"&&(e!==this.previousValidValue&&!e||!!(!this.previousValidValue&&n)||n!==this.previousValidValue&&n);e?(s&&(this.previousValidValue=n),n&&n!==this.value&&(this.value=n),this.localizedValue=r):(this.value=e,this.localizedValue=null),(t==="time-picker"||t==="external")&&this.setInputValue(r),s&&(this.calciteInputTimePickerChange.emit().defaultPrevented?(this.internalValueChange=!1,this.value=i,this.setInputValue(i),this.previousValidValue=i):this.previousValidValue=n)},this.open=!1,this.disabled=!1,this.readOnly=!1,this.messagesOverrides=void 0,this.name=void 0,this.numberingSystem=void 0,this.required=!1,this.scale="m",this.overlayPositioning="absolute",this.placement="auto",this.step=60,this.value=null,this.effectiveLocale="",this.localizedValue=void 0}openHandler(e){if(this.disabled||this.readOnly){this.open=!1;return}e&&this.reposition(!0)}handleDisabledAndReadOnlyChange(e){e||(this.open=!1)}valueWatcher(e){this.internalValueChange||this.setValue({value:e,origin:"external"}),this.internalValueChange=!1}effectiveLocaleWatcher(){this.setInputValue(Rx({value:this.value,locale:this.effectiveLocale,numberingSystem:this.numberingSystem,includeSeconds:this.shouldIncludeSeconds()}))}clickHandler(e){e.composedPath().includes(this.calciteTimePickerEl)||this.setFocus()}timePickerBlurHandler(e){e.preventDefault(),e.stopPropagation(),this.open=!1}timePickerFocusHandler(e){e.preventDefault(),e.stopPropagation(),this.readOnly||(this.open=!0)}async setFocus(){await He(this),this.el.focus()}async reposition(e=!1){var t;(t=this.popoverEl)==null||t.reposition(e)}onLabelClick(){this.setFocus()}shouldIncludeSeconds(){return this.step<60}connectedCallback(){ht(this),this.value&&this.setValue({value:Mm(this.value)?this.value:void 0,origin:"loading"}),vr(this),na(this)}componentWillLoad(){We(this)}componentDidLoad(){Ke(this),this.setInputValue(this.localizedValue)}disconnectedCallback(){Gr(this),ra(this),pt(this)}componentDidRender(){et(this)}render(){const e=`${this.referenceElementId}-popover`;return v(Fe,{onKeyDown:this.keyDownHandler},v("div",{"aria-controls":e,"aria-haspopup":"dialog","aria-label":this.name,"aria-owns":e,id:this.referenceElementId,role:"combobox"},v("calcite-input",{disabled:this.disabled,icon:"clock",label:zr(this),onCalciteInputInput:this.calciteInputInputHandler,onCalciteInternalInputBlur:this.calciteInternalInputBlurHandler,onCalciteInternalInputFocus:this.calciteInternalInputFocusHandler,readOnly:this.readOnly,ref:this.setCalciteInputEl,scale:this.scale,step:this.step})),v("calcite-popover",{focusTrapDisabled:!0,id:e,label:"Time Picker",open:this.open,overlayPositioning:this.overlayPositioning,placement:this.placement,ref:this.setCalcitePopoverEl,referenceElement:this.referenceElementId,triggerDisabled:!0},v("calcite-time-picker",{lang:this.effectiveLocale,messageOverrides:this.messagesOverrides,numberingSystem:this.numberingSystem,onCalciteInternalTimePickerChange:this.timePickerChangeHandler,ref:this.setCalciteTimePickerEl,scale:this.scale,step:this.step,value:this.value})),v(sa,{component:this}))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{open:["openHandler"],disabled:["handleDisabledAndReadOnlyChange"],readOnly:["handleDisabledAndReadOnlyChange"],value:["valueWatcher"],effectiveLocale:["effectiveLocaleWatcher"]}}static get style(){return bbe}},[17,"calcite-input-time-picker",{open:[1540],disabled:[516],readOnly:[516,"read-only"],messagesOverrides:[16],name:[1],numberingSystem:[1,"numbering-system"],required:[516],scale:[513],overlayPositioning:[1,"overlay-positioning"],placement:[513],step:[2],value:[1025],effectiveLocale:[32],localizedValue:[32],setFocus:[64],reposition:[64]},[[0,"click","clickHandler"],[0,"calciteInternalTimePickerBlur","timePickerBlurHandler"],[0,"calciteInternalTimePickerFocus","timePickerFocusHandler"]]]);function _be(){if(typeof customElements>"u")return;["calcite-input-time-picker","calcite-action","calcite-icon","calcite-input","calcite-loader","calcite-popover","calcite-progress","calcite-time-picker"].forEach(t=>{switch(t){case"calcite-input-time-picker":customElements.get(t)||customElements.define(t,wbe);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-input":customElements.get(t)||Mu();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-popover":customElements.get(t)||Au();break;case"calcite-progress":customElements.get(t)||so();break;case"calcite-time-picker":customElements.get(t)||DJ();break}})}_be();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const xbe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:inline}:host a,:host span{position:relative;display:flex;cursor:pointer;align-items:center;justify-content:center;border-radius:0px;border-style:none;font-family:inherit;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;text-decoration:none;line-height:inherit;font-size:inherit;-webkit-appearance:none}:host a:hover,:host span:hover{text-decoration:none}:host a,:host span{outline-color:transparent}:host a:focus,:host span:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}calcite-icon{inline-size:1em;block-size:1em;min-inline-size:unset;min-block-size:unset}.calcite-link--icon{vertical-align:middle;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;margin-block-start:-0.25em}:host .calcite-link--icon.icon-start{margin-inline-end:0.5rem}:host .calcite-link--icon.icon-end{margin-inline-start:0.5rem}:host span,:host a{position:relative;display:inline;border-style:none;background-color:transparent;padding:0px;color:var(--calcite-ui-text-link);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;line-height:inherit;white-space:initial;background-image:linear-gradient(currentColor, currentColor), linear-gradient(var(--calcite-link-blue-underline), var(--calcite-link-blue-underline));background-position-x:0%, 100%;background-position-y:min(1.5em, 100%);background-repeat:no-repeat, no-repeat;background-size:0% 1px, 100% 1px}:host span:hover,:host span:focus,:host a:hover,:host a:focus{background-size:100% 1px, 100% 1px}:host span:active,:host a:active{background-size:100% 2px, 100% 2px}:host span.calcite--rtl,:host a.calcite--rtl{background-position:100% 100%, 100% 100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",Sbe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childElClickHandler=e=>{e.isTrusted||e.stopPropagation()},this.storeTagRef=e=>{this.childEl=e},this.disabled=!1,this.download=!1,this.href=void 0,this.iconEnd=void 0,this.iconFlipRtl=void 0,this.iconStart=void 0,this.rel=void 0,this.target=void 0}componentWillLoad(){We(this)}componentDidLoad(){Ke(this)}componentDidRender(){et(this)}render(){const{download:e,el:t}=this,i=Ci(t),n=this.href?"a":"span",r=v("calcite-icon",{class:"calcite-link--icon icon-start",flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:"s"}),s=v("calcite-icon",{class:"calcite-link--icon icon-end",flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:"s"}),a=n,o=n==="span"?"link":null,l=n==="span"?0:null;return v(Fe,{role:"presentation"},v(a,{class:{[za.rtl]:i==="rtl"},download:a==="a"&&(e===""||e)?e:null,href:a==="a"&&this.href,onClick:this.childElClickHandler,ref:this.storeTagRef,rel:a==="a"&&this.rel,role:o,tabIndex:l,target:a==="a"&&this.target},this.iconStart?r:null,v("slot",null),this.iconEnd?s:null))}clickHandler(e){e.isTrusted||this.childEl.click()}async setFocus(){await He(this),Nr(this.childEl)}get el(){return this}static get style(){return xbe}},[1,"calcite-link",{disabled:[516],download:[520],href:[513],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],rel:[1],target:[1],setFocus:[64]},[[0,"click","clickHandler"]]]);function CF(){if(typeof customElements>"u")return;["calcite-link","calcite-icon"].forEach(t=>{switch(t){case"calcite-link":customElements.get(t)||customElements.define(t,Sbe);break;case"calcite-icon":customElements.get(t)||Te();break}})}CF();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const sn={container:"container",containerBorderSelected:"container--border-selected",containerBorderUnselected:"container--border-unselected",contentContainer:"content-container",contentContainerSelectable:"content-container--selectable",contentContainerHasCenterContent:"content-container--has-center-content",nestedContainer:"nested-container",nestedContainerHidden:"nested-container--hidden",content:"content",customContent:"custom-content",actionsStart:"actions-start",contentStart:"content-start",label:"label",description:"description",contentEnd:"content-end",actionsEnd:"actions-end",selectionContainer:"selection-container",openContainer:"open-container"},Iv={actionsStart:"actions-start",contentStart:"content-start",content:"content",contentEnd:"content-end",actionsEnd:"actions-end"},OJ=5,ep={selectedMultiple:"check-circle-f",selectedSingle:"circle-f",unselected:"blank",closedLTR:"caret-right",closedRTL:"caret-left",open:"caret-down",blank:"blank"},Ebe="calcite-list-item-group",xV="calcite-list-item";function RJ(e){const t=e.target.assignedElements({flatten:!0}),i=t.filter(r=>r==null?void 0:r.matches(Ebe)).map(r=>Array.from(r.querySelectorAll(xV))).reduce((r,s)=>[...r,...s],[]),n=t.filter(r=>r==null?void 0:r.matches(xV));return[...i,...n]}function PJ(e){e.forEach(t=>{t.setPosition=e.indexOf(t)+1,t.setSize=e.length})}function tD(e,t=!1){if(!ro.isBrowser)return 0;const i=t?"ancestor::calcite-list-item | ancestor::calcite-list-item-group":"ancestor::calcite-list-item";return document.evaluate(i,e,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Cv={container:"container",table:"table",scrim:"scrim",tableContainer:"table-container",sticky:"sticky-pos"},kbe=100,Ibe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{position:relative}.table-container{position:relative;z-index:1;box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;background-color:transparent}.table-container *{box-sizing:border-box}.table{inline-size:100%}::slotted(calcite-list-item){margin-block-end:1px;--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}::slotted(calcite-list-item:last-child){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.sticky-pos{position:sticky;inset-block-start:0px;z-index:300}calcite-filter{margin-block-end:1px}",SV="calcite-list-item",LJ=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteListFilter=B(this,"calciteListFilter",6),this.listItems=[],this.enabledListItems=[],this.mutationObserver=Ct("mutation",()=>this.updateListItems()),this.handleDefaultSlotChange=e=>{PJ(RJ(e))},this.setActiveListItem=()=>{const{enabledListItems:e}=this;e.some(t=>t.active)||e[0]&&(e[0].active=!0)},this.updateSelectedItems=Jl(()=>{this.selectedItems=this.enabledListItems.filter(e=>e.selected)},kbe),this.updateFilteredItems=Jl(()=>{const{listItems:e,filteredData:t,filterText:i}=this,n=t.map(a=>a.value),r=new Set,s=(e==null?void 0:e.filter(a=>{const o=a.parentElement;o.matches("calcite-list-item-group")&&r.add(o);const c=i?n.includes(a.value):!0;return a.hidden=!c,c}))||[];this.filteredItems=s,r.forEach(a=>{const o=s.some(c=>a.contains(c));if(a.hidden=!o,!o)return;const l=a.closest("calcite-list-item");l&&(l.hidden=!1,s.includes(l)&&Array.from(a.querySelectorAll("calcite-list-item")).forEach(c=>c.hidden=!1))}),r.clear()}),this.handleFilter=e=>{e.stopPropagation();const{filteredItems:t,value:i}=e.currentTarget;this.filteredData=t,this.filterText=i,this.updateFilteredItems(),this.calciteListFilter.emit()},this.getItemData=()=>this.listItems.map(e=>({label:e.label,description:e.description,metadata:e.metadata,value:e.value})),this.queryListItems=()=>Array.from(this.el.querySelectorAll(SV)),this.focusRow=e=>{const{enabledListItems:t}=this;e&&(t.forEach(i=>i.active=i===e),e.setFocus())},this.isNavigable=e=>{var i;const t=(i=e.parentElement)==null?void 0:i.closest(SV);return t?t.open&&this.isNavigable(t):!0},this.handleListKeydown=e=>{const{key:t}=e,i=this.enabledListItems.filter(r=>this.isNavigable(r)),n=i.findIndex(r=>r.active);if(t==="ArrowDown"){e.preventDefault();const r=n+1;i[r]&&this.focusRow(i[r])}else if(t==="ArrowUp"){e.preventDefault();const r=n-1;i[r]&&this.focusRow(i[r])}else if(t==="Home"){e.preventDefault();const r=i[0];r&&this.focusRow(r)}else if(t==="End"){e.preventDefault();const r=i[i.length-1];r&&this.focusRow(r)}},this.disabled=!1,this.filterEnabled=!1,this.filteredItems=[],this.filteredData=[],this.filterPlaceholder=void 0,this.filterText=void 0,this.label=void 0,this.loading=!1,this.openable=!1,this.selectedItems=[],this.selectionMode="none",this.selectionAppearance="icon",this.dataForFilter=[]}handleFilterEnabledChange(){this.updateListItems()}handleSelectionAppearanceChange(){this.updateListItems()}handleCalciteInternalFocusPreviousItem(e){e.stopPropagation();const{enabledListItems:t}=this,n=t.findIndex(r=>r.active)-1;t[n]&&this.focusRow(t[n])}handleCalciteListItemActive(e){const t=e.target,{listItems:i}=this;i.forEach(n=>{n.active=n===t})}handleCalciteListItemSelect(e){const t=e.target,{listItems:i,selectionMode:n}=this;i.forEach(r=>{n==="single"&&(r.selected=r===t)}),this.updateSelectedItems()}connectedCallback(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0}),this.updateListItems()}disconnectedCallback(){var e;(e=this.mutationObserver)==null||e.disconnect()}componentWillLoad(){We(this)}componentDidRender(){et(this)}componentDidLoad(){Ke(this);const{filterEl:e}=this,t=e==null?void 0:e.filteredItems;t&&(this.filteredData=t),this.updateFilteredItems()}async setFocus(){var e;await He(this),(e=this.enabledListItems.find(t=>t.active))==null||e.setFocus()}render(){const{loading:e,label:t,disabled:i,dataForFilter:n,filterEnabled:r,filterPlaceholder:s,filterText:a}=this;return v("div",{class:Cv.container},e?v("calcite-scrim",{class:Cv.scrim,loading:e}):null,v("table",{"aria-busy":ot(e),"aria-label":t||"",class:Cv.table,onKeyDown:this.handleListKeydown,role:"treegrid"},r?v("thead",null,v("tr",{class:{[Cv.sticky]:!0}},v("th",{colSpan:OJ},v("calcite-filter",{"aria-label":s,disabled:e||i,items:n,onCalciteFilterChange:this.handleFilter,placeholder:s,ref:o=>this.filterEl=o,value:a})))):null,v("tbody",{class:Cv.tableContainer},v("slot",{onSlotchange:this.handleDefaultSlotChange}))))}updateListItems(){const{selectionAppearance:e,selectionMode:t}=this,i=this.queryListItems();i.forEach(n=>{n.selectionAppearance=e,n.selectionMode=t}),this.listItems=i,this.enabledListItems=i.filter(n=>!n.disabled),this.filterEnabled&&(this.dataForFilter=this.getItemData()),this.setActiveListItem(),this.updateSelectedItems(),this.updateFilteredItems()}get el(){return this}static get watchers(){return{filterEnabled:["handleFilterEnabledChange"],selectionMode:["handleSelectionAppearanceChange"],selectionAppearance:["handleSelectionAppearanceChange"]}}static get style(){return Ibe}},[1,"calcite-list",{disabled:[516],filterEnabled:[516,"filter-enabled"],filteredItems:[1040],filteredData:[1040],filterPlaceholder:[513,"filter-placeholder"],filterText:[1537,"filter-text"],label:[1],loading:[516],openable:[4],selectedItems:[1040],selectionMode:[513,"selection-mode"],selectionAppearance:[513,"selection-appearance"],dataForFilter:[32],setFocus:[64]},[[0,"calciteInternalFocusPreviousItem","handleCalciteInternalFocusPreviousItem"],[0,"calciteInternalListItemActive","handleCalciteListItemActive"],[0,"calciteInternalListItemSelect","handleCalciteListItemSelect"]]]);function FJ(){if(typeof customElements>"u")return;["calcite-list","calcite-filter","calcite-icon","calcite-input","calcite-loader","calcite-progress","calcite-scrim"].forEach(t=>{switch(t){case"calcite-list":customElements.get(t)||customElements.define(t,LJ);break;case"calcite-filter":customElements.get(t)||EC();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-input":customElements.get(t)||Mu();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-progress":customElements.get(t)||so();break;case"calcite-scrim":customElements.get(t)||jh();break}})}FJ();const Cbe=LJ,Tbe=FJ,$be=Object.freeze(Object.defineProperty({__proto__:null,CalciteList:Cbe,defineCustomElement:Tbe},Symbol.toStringTag,{value:"Module"}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Abe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:flex;flex-direction:column;--calcite-list-item-icon-color:var(--calcite-ui-brand);--calcite-list-item-spacing-indent:1rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{box-sizing:border-box;display:flex;flex:1 1 0%;background-color:var(--calcite-ui-foreground-1);font-family:var(--calcite-sans-family);padding-inline-start:calc(var(--calcite-list-item-spacing-indent) * var(--calcite-list-item-spacing-indent-multiplier))}.container *{box-sizing:border-box}.container:hover{cursor:pointer;background-color:var(--calcite-ui-foreground-2)}.container--border-selected{border-inline-start:4px solid var(--calcite-ui-brand)}.container--border-unselected{border-inline-start:4px solid transparent}.nested-container{display:flex;flex-direction:column;background-color:var(--calcite-ui-foreground-1)}.nested-container--hidden{display:none}.content-container{display:flex;flex:1 1 auto;align-items:stretch;padding:0px;font-family:var(--calcite-sans-family);font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2)}tr,td{outline-color:transparent}tr:focus,td:focus{z-index:300;outline:2px solid var(--calcite-ui-brand)}.content,.custom-content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;padding-inline:0.75rem;padding-block:0.5rem;font-size:var(--calcite-font-size--2);line-height:1.375}.label,.description{font-family:var(--calcite-sans-family);font-size:var(--calcite-font-size--2);font-weight:var(--calcite-font-weight-normal);word-wrap:break-word;word-break:break-word}.label:only-child,.description:only-child{margin:0px;padding-block:0.25rem}.label{color:var(--calcite-ui-text-1)}.description{margin-block-start:0.125rem;color:var(--calcite-ui-text-3)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:1 1 auto}.content-container--has-center-content .content-start,.content-container--has-center-content .content-end{flex:0 1 auto}.selection-container{display:flex;padding-inline:0.75rem;color:var(--calcite-list-item-icon-color)}.actions-start,.actions-end,.content-start,.content-end,.selection-container,.open-container{display:flex;align-items:center}.open-container,.selection-container{cursor:pointer}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:0.75rem;align-self:center}.actions-start ::slotted(calcite-action),.actions-end ::slotted(calcite-action){align-self:stretch;color:inherit}::slotted(calcite-list-item){border-width:0px;border-block-start-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3)}[hidden]{display:none}",M$=new Map,Mbe="calcite-list",NJ=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteListItemSelect=B(this,"calciteListItemSelect",6),this.calciteInternalListItemSelect=B(this,"calciteInternalListItemSelect",6),this.calciteInternalListItemActive=B(this,"calciteInternalListItemActive",6),this.calciteInternalFocusPreviousItem=B(this,"calciteInternalFocusPreviousItem",6),this.handleContentSlotChange=e=>{this.hasCustomContent=La(e)},this.handleActionsStartSlotChange=e=>{this.hasActionsStart=La(e)},this.handleActionsEndSlotChange=e=>{this.hasActionsEnd=La(e)},this.handleContentStartSlotChange=e=>{this.hasContentStart=La(e)},this.handleContentEndSlotChange=e=>{this.hasContentEnd=La(e)},this.handleDefaultSlotChange=e=>{const{parentListEl:t}=this,i=RJ(e);PJ(i);const n=!!i.length;n&&t&&!t.openable&&(t.openable=!0),this.openable=n,n||(this.open=!1)},this.toggleOpen=()=>{this.open=!this.open},this.itemClicked=()=>{this.toggleSelected(),this.calciteInternalListItemActive.emit()},this.toggleSelected=()=>{this.disabled||(this.selectionMode!=="none"&&(this.selected=!this.selected),this.calciteListItemSelect.emit())},this.handleItemKeyDown=e=>{const{key:t}=e,i=e.composedPath(),{containerEl:n,contentEl:r,actionsStartEl:s,actionsEndEl:a,open:o,openable:l}=this,c=[s,r,a].filter(Boolean),h=c.findIndex(p=>i.includes(p));if(t===" ")e.preventDefault(),this.toggleSelected();else if(t==="ArrowRight"){e.preventDefault();const p=h+1;h===-1?!o&&l?(this.open=!0,this.focusCell(null)):c[0]&&this.focusCell(c[0]):c[h]&&c[p]&&this.focusCell(c[p])}else if(t==="ArrowLeft"){e.preventDefault();const p=h-1;h===-1?(this.focusCell(null),o&&l?this.open=!1:this.calciteInternalFocusPreviousItem.emit()):h===0?(this.focusCell(null),n.focus()):c[h]&&c[p]&&this.focusCell(c[p])}},this.focusCellNull=()=>{this.focusCell(null)},this.focusCell=(e,t=!0)=>{const{contentEl:i,actionsStartEl:n,actionsEndEl:r,parentListEl:s}=this;t&&M$.set(s,null),[n,i,r].filter(Boolean).forEach((a,o)=>{const l="tabindex";a===e?(a.setAttribute(l,"0"),t&&M$.set(s,o)):a.removeAttribute(l)}),e==null||e.focus()},this.active=!1,this.description=void 0,this.disabled=!1,this.label=void 0,this.metadata=void 0,this.open=!1,this.setSize=null,this.setPosition=null,this.selected=!1,this.value=void 0,this.selectionMode=null,this.selectionAppearance=null,this.level=null,this.visualLevel=null,this.parentListEl=void 0,this.openable=!1,this.hasActionsStart=!1,this.hasActionsEnd=!1,this.hasCustomContent=!1,this.hasContentStart=!1,this.hasContentEnd=!1}activeHandler(e){e||this.focusCell(null,!1)}handleSelectedChange(e){e&&this.calciteInternalListItemSelect.emit()}connectedCallback(){const{el:e}=this;this.parentListEl=e.closest(Mbe),this.level=tD(e)+1,this.visualLevel=tD(e,!0),this.setSelectionDefaults()}componentWillLoad(){We(this)}componentDidLoad(){Ke(this)}componentDidRender(){et(this,"managed")}async setFocus(){await He(this);const{containerEl:e,contentEl:t,actionsStartEl:i,actionsEndEl:n,parentListEl:r}=this,s=M$.get(r);if(typeof s=="number"){const a=[i,t,n].filter(Boolean);a[s]?this.focusCell(a[s]):e==null||e.focus();return}e==null||e.focus()}renderSelected(){const{selected:e,selectionMode:t,selectionAppearance:i}=this;return t==="none"||i==="border"?null:v("td",{class:sn.selectionContainer,key:"selection-container",onClick:this.itemClicked},v("calcite-icon",{icon:e?t==="multiple"?ep.selectedMultiple:ep.selectedSingle:ep.unselected,scale:"s"}))}renderOpen(){const{el:e,open:t,openable:i,parentListEl:n}=this,r=Ci(e);return i?v("td",{class:sn.openContainer,key:"open-container",onClick:this.toggleOpen},v("calcite-icon",{icon:t?ep.open:r==="rtl"?ep.closedRTL:ep.closedLTR,scale:"s"})):n!=null&&n.openable?v("td",{class:sn.openContainer,key:"open-container",onClick:this.itemClicked},v("calcite-icon",{icon:ep.blank,scale:"s"})):null}renderActionsStart(){const{label:e,hasActionsStart:t}=this;return v("td",{"aria-label":e,class:sn.actionsStart,hidden:!t,key:"actions-start-container",ref:i=>this.actionsStartEl=i,role:"gridcell"},v("slot",{name:Iv.actionsStart,onSlotchange:this.handleActionsStartSlotChange}))}renderActionsEnd(){const{label:e,hasActionsEnd:t}=this;return v("td",{"aria-label":e,class:sn.actionsEnd,hidden:!t,key:"actions-end-container",ref:i=>this.actionsEndEl=i,role:"gridcell"},v("slot",{name:Iv.actionsEnd,onSlotchange:this.handleActionsEndSlotChange}))}renderContentStart(){const{hasContentStart:e}=this;return v("div",{class:sn.contentStart,hidden:!e},v("slot",{name:Iv.contentStart,onSlotchange:this.handleContentStartSlotChange}))}renderCustomContent(){const{hasCustomContent:e}=this;return v("div",{class:sn.customContent,hidden:!e},v("slot",{name:Iv.content,onSlotchange:this.handleContentSlotChange}))}renderContentEnd(){const{hasContentEnd:e}=this;return v("div",{class:sn.contentEnd,hidden:!e},v("slot",{name:Iv.contentEnd,onSlotchange:this.handleContentEndSlotChange}))}renderContentProperties(){const{label:e,description:t,hasCustomContent:i}=this;return!i&&(e||t)?v("div",{class:sn.content,key:"content"},e?v("div",{class:sn.label,key:"label"},e):null,t?v("div",{class:sn.description,key:"description"},t):null):null}renderContentContainer(){const{description:e,label:t,selectionMode:i,hasCustomContent:n}=this,r=n||!!t||!!e,s=[this.renderContentStart(),this.renderCustomContent(),this.renderContentProperties(),this.renderContentEnd()];return v("td",{"aria-label":t,class:{[sn.contentContainer]:!0,[sn.contentContainerSelectable]:i!=="none",[sn.contentContainerHasCenterContent]:r},key:"content-container",onClick:this.itemClicked,ref:a=>this.contentEl=a,role:"gridcell"},s)}render(){const{openable:e,open:t,level:i,setPosition:n,setSize:r,active:s,label:a,selected:o,selectionAppearance:l,selectionMode:c}=this,h=c!=="none"&&l==="border",p=h&&o,m=h&&!o;return v(Fe,null,v("tr",{"aria-expanded":e?ot(t):null,"aria-label":a,"aria-level":i,"aria-posinset":n,"aria-selected":ot(o),"aria-setsize":r,class:{[sn.container]:!0,[sn.containerBorderSelected]:p,[sn.containerBorderUnselected]:m},onFocus:this.focusCellNull,onKeyDown:this.handleItemKeyDown,ref:g=>this.containerEl=g,role:"row",style:{"--calcite-list-item-spacing-indent-multiplier":`${this.visualLevel}`},tabIndex:s?0:-1},this.renderSelected(),this.renderOpen(),this.renderActionsStart(),this.renderContentContainer(),this.renderActionsEnd()),v("div",{class:{[sn.nestedContainer]:!0,[sn.nestedContainerHidden]:e&&!t}},v("slot",{onSlotchange:this.handleDefaultSlotChange})))}setSelectionDefaults(){const{parentListEl:e,selectionMode:t,selectionAppearance:i}=this;e&&(t||(this.selectionMode=e.selectionMode),i||(this.selectionAppearance=e.selectionAppearance))}get el(){return this}static get watchers(){return{active:["activeHandler"],selected:["handleSelectedChange"]}}static get style(){return Abe}},[1,"calcite-list-item",{active:[4],description:[1],disabled:[516],label:[1],metadata:[16],open:[1540],setSize:[2,"set-size"],setPosition:[2,"set-position"],selected:[1540],value:[8],selectionMode:[1025,"selection-mode"],selectionAppearance:[1025,"selection-appearance"],level:[32],visualLevel:[32],parentListEl:[32],openable:[32],hasActionsStart:[32],hasActionsEnd:[32],hasCustomContent:[32],hasContentStart:[32],hasContentEnd:[32],setFocus:[64]}]);function zJ(){if(typeof customElements>"u")return;["calcite-list-item","calcite-icon"].forEach(t=>{switch(t){case"calcite-list-item":customElements.get(t)||customElements.define(t,NJ);break;case"calcite-icon":customElements.get(t)||Te();break}})}zJ();const Dbe=NJ,Obe=zJ,Rbe=Object.freeze(Object.defineProperty({__proto__:null,CalciteListItem:Dbe,defineCustomElement:Obe},Symbol.toStringTag,{value:"Module"}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const EV={container:"container",heading:"heading"},Pbe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:flex;flex-direction:column;background-color:var(--calcite-ui-foreground-1);--calcite-list-item-spacing-indent:1rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{margin:0px;display:flex;flex:1 1 0%;background-color:var(--calcite-ui-foreground-2);padding:0.75rem;font-family:var(--calcite-sans-family);font-size:var(--calcite-font-size--1);font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-2)}.heading{padding-inline-start:calc(var(--calcite-list-item-spacing-indent) * var(--calcite-list-item-spacing-indent-multiplier))}::slotted(calcite-list-item){margin-block-end:1px;--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}::slotted(calcite-list-item:last-child){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}",Lbe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.disabled=!1,this.heading=void 0,this.visualLevel=null}connectedCallback(){const{el:e}=this;this.visualLevel=tD(e,!0)}componentDidRender(){et(this)}render(){const{heading:e,visualLevel:t}=this;return v(Fe,null,v("tr",{class:EV.container,style:{"--calcite-list-item-spacing-indent-multiplier":`${t}`}},v("td",{class:EV.heading,colSpan:OJ},e)),v("slot",null))}get el(){return this}static get style(){return Pbe}},[1,"calcite-list-item-group",{disabled:[516],heading:[513],visualLevel:[32]}]);function Fbe(){if(typeof customElements>"u")return;["calcite-list-item-group"].forEach(t=>{switch(t){case"calcite-list-item-group":customElements.get(t)||customElements.define(t,Lbe);break}})}Fbe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Vt={modal:"modal",modalOpen:"modal--open",title:"title",header:"header",footer:"footer",scrim:"scrim",back:"back",close:"close",secondary:"secondary",primary:"primary",overflowHidden:"overflow-hidden",container:"container",content:"content",contentNoFooter:"content--no-footer",slottedInShell:"slotted-in-shell",openingIdle:"modal--opening-idle",openingActive:"modal--opening-active",closingIdle:"modal--closing-idle",closingActive:"modal--closing-active"},Nbe={close:"x"},hc={content:"content",header:"header",back:"back",secondary:"secondary",primary:"primary"},zbe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:absolute;inset:0px;z-index:700;display:flex;opacity:0;visibility:hidden !important;transition:visibility 0ms linear var(--calcite-internal-animation-timing-slow), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);--calcite-modal-scrim-background-internal:rgba(0, 0, 0, 0.85)}.container{position:fixed;inset:0px;z-index:700;display:flex;align-items:center;justify-content:center;overflow-y:hidden;color:var(--calcite-ui-text-2);opacity:0;visibility:hidden !important;transition:visibility 0ms linear var(--calcite-internal-animation-timing-slow), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88)}:host([scale=s]){--calcite-modal-padding-internal:0.75rem;--calcite-modal-padding-large-internal:1rem;--calcite-modal-title-text-internal:var(--calcite-font-size-1);--calcite-modal-content-text-internal:var(--calcite-font-size--1)}:host([scale=m]){--calcite-modal-padding-internal:1rem;--calcite-modal-padding-large-internal:1.25rem;--calcite-modal-title-text-internal:var(--calcite-font-size-2);--calcite-modal-content-text-internal:var(--calcite-font-size-0)}:host([scale=l]){--calcite-modal-padding-internal:1.25rem;--calcite-modal-padding-large-internal:1.5rem;--calcite-modal-title-text-internal:var(--calcite-font-size-3);--calcite-modal-content-text-internal:var(--calcite-font-size-1)}.scrim{--calcite-scrim-background:var(--calcite-modal-scrim-background, var(--calcite-modal-scrim-background-internal));position:fixed;inset:0px;display:flex;overflow-y:hidden}.modal{pointer-events:none;z-index:800;float:none;margin:1.5rem;box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;overflow:hidden;border-radius:0.25rem;background-color:var(--calcite-ui-foreground-1);opacity:0;--tw-shadow:0 2px 12px -4px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.16);--tw-shadow-colored:0 2px 12px -4px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-overflow-scrolling:touch;visibility:hidden;transition:transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), visibility 0ms linear var(--calcite-internal-animation-timing-slow), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);--calcite-modal-hidden-position:translate3d(0, 20px, 0);--calcite-modal-shown-position:translate3d(0, 0, 0)}.modal--opening-idle{transform:var(--calcite-modal-hidden-position)}.modal--opening-active{transform:var(--calcite-modal-shown-position)}.modal--closing-idle{transform:var(--calcite-modal-shown-position)}.modal--closing-active{transform:var(--calcite-modal-hidden-position)}:host([open]){opacity:1;visibility:visible !important;transition-delay:0ms}:host([open]) .container{opacity:1;visibility:visible !important;transition-delay:0ms}:host([open]) .container .modal--open{pointer-events:auto;visibility:visible;opacity:1;transition:transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), visibility 0ms linear, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-inline-size var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-block-size var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition-delay:0ms}.header{z-index:400;display:flex;min-inline-size:0px;max-inline-size:100%;border-start-start-radius:0.25rem;border-start-end-radius:0.25rem;border-width:0px;border-block-end-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1);flex:0 0 auto}.close{order:2;margin:0px;cursor:pointer;-webkit-appearance:none;appearance:none;border-style:none;background-color:transparent;color:var(--calcite-ui-text-3);outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;padding-block:var(--calcite-modal-padding-internal);padding-inline:var(--calcite-modal-padding-internal);flex:0 0 auto}.close calcite-icon{pointer-events:none;vertical-align:-2px}.close:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.close:hover,.close:focus,.close:active{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.title{order:1;display:flex;min-inline-size:0px;align-items:center;flex:1 1 auto;padding-block:var(--calcite-modal-padding-internal);padding-inline:var(--calcite-modal-padding-large-internal)}slot[name=header]::slotted(*),*::slotted([slot=header]){margin:0px;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-1);font-size:var(--calcite-modal-title-text-internal)}.content{position:relative;box-sizing:border-box;display:block;block-size:100%;overflow:auto;padding:0px;max-block-size:100%;background-color:var(--calcite-modal-content-background, var(--calcite-ui-foreground-1));padding-block:var(--calcite-modal-content-padding, var(--calcite-modal-padding-internal));padding-inline:var(--calcite-modal-content-padding, var(--calcite-modal-padding-internal))}.content--no-footer{border-end-end-radius:0.25rem;border-end-start-radius:0.25rem}slot[name=content]::slotted(*),*::slotted([slot=content]){font-size:var(--calcite-modal-context-text-internal)}.footer{z-index:400;margin-block-start:auto;box-sizing:border-box;display:flex;inline-size:100%;justify-content:space-between;border-end-end-radius:0.25rem;border-end-start-radius:0.25rem;border-width:0px;border-block-start-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1);flex:0 0 auto;padding-block:var(--calcite-modal-padding-internal);padding-inline:var(--calcite-modal-padding-large-internal)}.footer--hide-back .back,.footer--hide-secondary .secondary{display:none}.back{display:block;margin-inline-end:auto}.secondary{margin-inline:0.25rem;display:block}slot[name=primary]{display:block}:host([width=small]) .modal{inline-size:auto}:host([width=s]) .modal{max-block-size:100%;max-inline-size:100%;inline-size:var(--calcite-modal-width, 32rem);block-size:var(--calcite-modal-height, auto)}@media screen and (max-width: 35rem){:host([width=s]) .modal{margin:0px;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%}:host([width=s]) .content{flex:1 1 auto;max-block-size:unset}:host([width=s][docked]) .container{align-items:flex-end}}:host([width=m]) .modal{max-block-size:100%;max-inline-size:100%;inline-size:var(--calcite-modal-width, 48rem);block-size:var(--calcite-modal-height, auto)}@media screen and (max-width: 51rem){:host([width=m]) .modal{margin:0px;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%}:host([width=m]) .content{flex:1 1 auto;max-block-size:unset}:host([width=m][docked]) .container{align-items:flex-end}}:host([width=l]) .modal{max-block-size:100%;max-inline-size:100%;inline-size:var(--calcite-modal-width, 94rem);block-size:var(--calcite-modal-height, auto)}@media screen and (max-width: 97rem){:host([width=l]) .modal{margin:0px;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%}:host([width=l]) .content{flex:1 1 auto;max-block-size:unset}:host([width=l][docked]) .container{align-items:flex-end}}:host([fullscreen]) .modal{margin:0px;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;border-radius:0px;--calcite-modal-hidden-position:translate3D(0, 20px, 0) scale(0.95);--calcite-modal-shown-position:translate3D(0, 0, 0) scale(1)}:host([fullscreen]) .content{max-block-size:100%;flex:1 1 auto}:host([open][fullscreen]) .header{border-radius:0}:host([open][fullscreen]) .footer{border-radius:0}:host([docked]) .modal{block-size:var(--calcite-modal-height, auto)}:host([docked]) .content{block-size:auto;flex:1 1 auto}:host([kind=brand]) .modal{border-color:var(--calcite-ui-brand)}:host([kind=danger]) .modal{border-color:var(--calcite-ui-danger)}:host([kind=info]) .modal{border-color:var(--calcite-ui-info)}:host([kind=success]) .modal{border-color:var(--calcite-ui-success)}:host([kind=warning]) .modal{border-color:var(--calcite-ui-warning)}:host([kind=brand]) .modal,:host([kind=danger]) .modal,:host([kind=info]) .modal,:host([kind=success]) .modal,:host([kind=warning]) .modal{border-width:0px;border-block-start-width:4px;border-style:solid}:host([kind=brand]) .header,:host([kind=danger]) .header,:host([kind=info]) .header,:host([kind=success]) .header,:host([kind=warning]) .header{border-radius:0.25rem;border-end-end-radius:0px;border-end-start-radius:0px}@media screen and (max-width: 860px){slot[name=header]::slotted(*),*::slotted([slot=header]){font-size:var(--calcite-font-size-1)}.footer{position:sticky;inset-block-end:0px}}@media screen and (max-width: 480px){.footer{flex-direction:column}.back,.secondary{margin:0px;margin-block-end:0.25rem}}.container.slotted-in-shell{position:absolute;pointer-events:auto}.container.slotted-in-shell calcite-scrim{position:absolute}",Vbe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteModalBeforeClose=B(this,"calciteModalBeforeClose",6),this.calciteModalClose=B(this,"calciteModalClose",6),this.calciteModalBeforeOpen=B(this,"calciteModalBeforeOpen",6),this.calciteModalOpen=B(this,"calciteModalOpen",6),this.mutationObserver=Ct("mutation",()=>{this.updateFooterVisibility()}),this.cssVarObserver=Ct("mutation",()=>{this.updateSizeCssVars()}),this.openTransitionProp="opacity",this.setTransitionEl=e=>{this.transitionEl=e,this.focusTrapEl=e,jY(this)},this.openEnd=()=>{this.setFocus(),this.el.removeEventListener("calciteModalOpen",this.openEnd)},this.handleOutsideClose=()=>{this.outsideCloseDisabled||this.close()},this.close=()=>this.beforeClose(this.el).then(()=>{this.open=!1,this.isOpen=!1,this.removeOverflowHiddenClass()}),this.updateFooterVisibility=()=>{this.hasFooter=!!Xe(this.el,[hc.back,hc.primary,hc.secondary])},this.updateSizeCssVars=()=>{this.cssWidth=getComputedStyle(this.el).getPropertyValue("--calcite-modal-width"),this.cssHeight=getComputedStyle(this.el).getPropertyValue("--calcite-modal-height")},this.open=!1,this.beforeClose=()=>Promise.resolve(),this.closeButtonDisabled=!1,this.focusTrapDisabled=!1,this.outsideCloseDisabled=!1,this.docked=void 0,this.escapeDisabled=!1,this.scale="m",this.width="m",this.fullscreen=void 0,this.kind=void 0,this.messages=void 0,this.messageOverrides=void 0,this.slottedInShell=void 0,this.cssWidth=void 0,this.cssHeight=void 0,this.hasFooter=!0,this.isOpen=!1,this.effectiveLocale=void 0,this.defaultMessages=void 0}handlefocusTrapDisabled(e){this.open&&(e?My(this):xk(this))}onMessagesChange(){}async componentWillLoad(){await $t(this),We(this),this.open&&(Sk(this),requestAnimationFrame(()=>this.openModal()))}componentDidLoad(){Ke(this)}connectedCallback(){var e,t;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0}),(t=this.cssVarObserver)==null||t.observe(this.el,{attributeFilter:["style"]}),this.updateFooterVisibility(),this.updateSizeCssVars(),bn(this),ht(this),Mt(this)}disconnectedCallback(){var e,t;this.removeOverflowHiddenClass(),(e=this.mutationObserver)==null||e.disconnect(),(t=this.cssVarObserver)==null||t.disconnect(),wn(this),My(this),pt(this),Dt(this),this.slottedInShell=!1}render(){return v(Fe,{"aria-describedby":this.contentId,"aria-labelledby":this.titleId,"aria-modal":"true",role:"dialog"},v("div",{class:{[Vt.container]:!0,[Vt.slottedInShell]:this.slottedInShell}},v("calcite-scrim",{class:Vt.scrim,onClick:this.handleOutsideClose}),this.renderStyle(),v("div",{class:{[Vt.modal]:!0,[Vt.modalOpen]:this.isOpen},ref:this.setTransitionEl},v("div",{class:Vt.header},this.renderCloseButton(),v("header",{class:Vt.title},v("slot",{name:Vt.header}))),v("div",{class:{[Vt.content]:!0,[Vt.contentNoFooter]:!this.hasFooter},ref:e=>this.modalContent=e},v("slot",{name:hc.content})),this.renderFooter())))}renderFooter(){return this.hasFooter?v("div",{class:Vt.footer,key:"footer"},v("span",{class:Vt.back},v("slot",{name:hc.back})),v("span",{class:Vt.secondary},v("slot",{name:hc.secondary})),v("span",{class:Vt.primary},v("slot",{name:hc.primary}))):null}renderCloseButton(){return this.closeButtonDisabled?null:v("button",{"aria-label":this.messages.close,class:Vt.close,key:"button",onClick:this.close,ref:e=>this.closeButtonEl=e,title:this.messages.close},v("calcite-icon",{icon:Nbe.close,scale:this.scale==="s"?"s":this.scale==="m"?"m":this.scale==="l"?"l":null}))}renderStyle(){if(!this.fullscreen&&(this.cssWidth||this.cssHeight))return v("style",null,`.${Vt.container} {
              ${this.docked&&this.cssWidth?"align-items: center !important;":""}
            }
            .${Vt.modal} {
              block-size: ${this.cssHeight?this.cssHeight:"auto"} !important;
              ${this.cssWidth?`inline-size: ${this.cssWidth} !important;`:""}
              ${this.cssWidth?`max-inline-size: ${this.cssWidth} !important;`:""}
              ${this.docked?"border-radius: var(--calcite-border-radius) !important;":""}
            }
            @media screen and (max-width: ${this.cssWidth}) {
              .${Vt.container} {
                ${this.docked?"align-items: flex-end !important;":""}
              }
              .${Vt.modal} {
                max-block-size: 100% !important;
                inline-size: 100% !important;
                max-inline-size: 100% !important;
                min-inline-size: 100% !important;
                margin: 0 !important;
                ${this.docked?"":"block-size: 100% !important;"}
                ${this.docked?"":"border-radius: 0 !important;"}
                ${this.docked?"border-radius: var(--calcite-border-radius) var(--calcite-border-radius) 0 0 !important;":""}
              }
            }
          `)}effectiveLocaleChange(){At(this,this.effectiveLocale)}handleEscape(e){this.open&&!this.escapeDisabled&&e.key==="Escape"&&!e.defaultPrevented&&(this.close(),e.preventDefault())}async setFocus(){await He(this),aF(this.focusTrapEl)}async updateFocusTrapElements(){UY(this)}async scrollContent(e=0,t=0){this.modalContent&&(this.modalContent.scrollTo?this.modalContent.scrollTo({top:e,left:t,behavior:"smooth"}):(this.modalContent.scrollTop=e,this.modalContent.scrollLeft=t))}onBeforeOpen(){this.transitionEl.classList.add(Vt.openingActive),this.calciteModalBeforeOpen.emit()}onOpen(){this.transitionEl.classList.remove(Vt.openingIdle,Vt.openingActive),this.calciteModalOpen.emit(),xk(this)}onBeforeClose(){this.transitionEl.classList.add(Vt.closingActive),this.calciteModalBeforeClose.emit()}onClose(){this.transitionEl.classList.remove(Vt.closingIdle,Vt.closingActive),this.calciteModalClose.emit(),My(this)}async toggleModal(e){var t,i;Sk(this),e?((t=this.transitionEl)==null||t.classList.add(Vt.openingIdle),this.openModal()):((i=this.transitionEl)==null||i.classList.add(Vt.closingIdle),this.close())}openModal(){this.el.addEventListener("calciteModalOpen",this.openEnd),this.open=!0,this.isOpen=!0;const e=Xe(this.el,hc.header),t=Xe(this.el,hc.content);this.titleId=r8(e),this.contentId=r8(t),this.slottedInShell||document.documentElement.classList.add(Vt.overflowHidden)}removeOverflowHiddenClass(){document.documentElement.classList.remove(Vt.overflowHidden)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{focusTrapDisabled:["handlefocusTrapDisabled"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"],open:["toggleModal"]}}static get style(){return zbe}},[1,"calcite-modal",{open:[1540],beforeClose:[16],closeButtonDisabled:[516,"close-button-disabled"],focusTrapDisabled:[516,"focus-trap-disabled"],outsideCloseDisabled:[516,"outside-close-disabled"],docked:[516],escapeDisabled:[516,"escape-disabled"],scale:[513],width:[513],fullscreen:[516],kind:[513],messages:[1040],messageOverrides:[1040],slottedInShell:[1028,"slotted-in-shell"],cssWidth:[32],cssHeight:[32],hasFooter:[32],isOpen:[32],effectiveLocale:[32],defaultMessages:[32],setFocus:[64],updateFocusTrapElements:[64],scrollContent:[64]},[[8,"keydown","handleEscape"]]]);function jbe(){if(typeof customElements>"u")return;["calcite-modal","calcite-icon","calcite-loader","calcite-scrim"].forEach(t=>{switch(t){case"calcite-modal":customElements.get(t)||customElements.define(t,Vbe);break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-scrim":customElements.get(t)||jh();break}})}jbe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Tv={title:"title",message:"message",link:"link",actionsEnd:"actions-end"},$v={actionsEnd:"actions-end",close:"notice-close",container:"container",content:"notice-content",icon:"notice-icon"},Ube="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([scale=s]){--calcite-notice-spacing-token-small:0.5rem;--calcite-notice-spacing-token-large:0.75rem}:host([scale=s]) .container slot[name=title]::slotted(*),:host([scale=s]) .container *::slotted([slot=title]){margin-block:0.125rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=s]) .container slot[name=message]::slotted(*),:host([scale=s]) .container *::slotted([slot=message]){margin-block:0.125rem;font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) ::slotted(calcite-link){margin-block:0.125rem;font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) .notice-close{padding:0.5rem}:host([scale=m]){--calcite-notice-spacing-token-small:0.75rem;--calcite-notice-spacing-token-large:1rem}:host([scale=m]) .container slot[name=title]::slotted(*),:host([scale=m]) .container *::slotted([slot=title]){margin-block:0.125rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=m]) .container slot[name=message]::slotted(*),:host([scale=m]) .container *::slotted([slot=message]){margin-block:0.125rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) ::slotted(calcite-link){margin-block:0.125rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=l]){--calcite-notice-spacing-token-small:1rem;--calcite-notice-spacing-token-large:1.25rem}:host([scale=l]) .container slot[name=title]::slotted(*),:host([scale=l]) .container *::slotted([slot=title]){margin-block:0.125rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host([scale=l]) .container slot[name=message]::slotted(*),:host([scale=l]) .container *::slotted([slot=message]){margin-block:0.125rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) ::slotted(calcite-link){margin-block:0.125rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([width=auto]){--calcite-notice-width:auto}:host([width=half]){--calcite-notice-width:50%}:host([width=full]){--calcite-notice-width:100%}:host{margin-inline:auto;display:none;max-inline-size:100%;align-items:center;inline-size:var(--calcite-notice-width)}.container{pointer-events:none;margin-block:0px;box-sizing:border-box;display:none;inline-size:100%;background-color:var(--calcite-ui-foreground-1);opacity:0;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;max-block-size:0;text-align:start;border-inline-start:0px solid;box-shadow:0 0 0 0 transparent}.notice-close{outline-color:transparent}.notice-close:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host{display:flex}:host([open]) .container{pointer-events:auto;display:flex;max-block-size:100%;align-items:center;border-width:2px;opacity:1;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.container slot[name=title]::slotted(*),.container *::slotted([slot=title]){margin:0px;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}.container slot[name=message]::slotted(*),.container *::slotted([slot=message]){margin:0px;display:inline;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2);margin-inline-end:var(--calcite-notice-spacing-token-small)}.notice-content{box-sizing:border-box;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;padding-inline:var(--calcite-notice-spacing-token-large);flex:0 0 auto;display:flex;min-inline-size:0px;flex-direction:column;overflow-wrap:break-word;flex:1 1 0;padding-block:var(--calcite-notice-spacing-token-small);padding-inline:0 var(--calcite-notice-spacing-token-small)}.notice-content:first-of-type:not(:only-child){padding-inline-start:var(--calcite-notice-spacing-token-large)}.notice-content:only-of-type{padding-block:var(--calcite-notice-spacing-token-small);padding-inline:var(--calcite-notice-spacing-token-large)}.notice-icon{display:flex;align-items:center;box-sizing:border-box;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;padding-block:var(--calcite-notice-spacing-token-small);padding-inline:var(--calcite-notice-spacing-token-large);flex:0 0 auto}.notice-close{display:flex;cursor:pointer;align-items:center;align-self:stretch;border-style:none;background-color:transparent;color:var(--calcite-ui-text-3);outline:2px solid transparent;outline-offset:2px;box-sizing:border-box;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;padding-block:var(--calcite-notice-spacing-token-small);padding-inline:var(--calcite-notice-spacing-token-large);flex:0 0 auto;-webkit-appearance:none}.notice-close:hover,.notice-close:focus{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.notice-close:active{background-color:var(--calcite-ui-foreground-3)}.actions-end{display:flex;align-self:stretch}:host([kind=brand]) .container{border-color:var(--calcite-ui-brand)}:host([kind=brand]) .container .notice-icon{color:var(--calcite-ui-brand)}:host([kind=info]) .container{border-color:var(--calcite-ui-info)}:host([kind=info]) .container .notice-icon{color:var(--calcite-ui-info)}:host([kind=danger]) .container{border-color:var(--calcite-ui-danger)}:host([kind=danger]) .container .notice-icon{color:var(--calcite-ui-danger)}:host([kind=success]) .container{border-color:var(--calcite-ui-success)}:host([kind=success]) .container .notice-icon{color:var(--calcite-ui-success)}:host([kind=warning]) .container{border-color:var(--calcite-ui-warning)}:host([kind=warning]) .container .notice-icon{color:var(--calcite-ui-warning)}",VJ=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteNoticeClose=B(this,"calciteNoticeClose",6),this.calciteNoticeOpen=B(this,"calciteNoticeOpen",6),this.close=()=>{this.open=!1,this.calciteNoticeClose.emit()},this.open=!1,this.kind="brand",this.closable=!1,this.icon=void 0,this.iconFlipRtl=!1,this.scale="m",this.width="auto",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}onMessagesChange(){}updateRequestedIcon(){this.requestedIcon=Za(u0,this.icon,this.kind)}connectedCallback(){bn(this),ht(this),Mt(this)}disconnectedCallback(){wn(this),pt(this),Dt(this)}async componentWillLoad(){We(this),this.requestedIcon=Za(u0,this.icon,this.kind),await $t(this)}componentDidLoad(){Ke(this)}render(){const{el:e}=this,t=v("button",{"aria-label":this.messages.close,class:$v.close,onClick:this.close,ref:n=>this.closeButton=n},v("calcite-icon",{icon:"x",scale:this.scale==="l"?"m":"s"})),i=Xe(e,Tv.actionsEnd);return v("div",{class:$v.container},this.requestedIcon?v("div",{class:$v.icon},v("calcite-icon",{flipRtl:this.iconFlipRtl,icon:this.requestedIcon,scale:this.scale==="l"?"m":"s"})):null,v("div",{class:$v.content},v("slot",{name:Tv.title}),v("slot",{name:Tv.message}),v("slot",{name:Tv.link})),i?v("div",{class:$v.actionsEnd},v("slot",{name:Tv.actionsEnd})):null,this.closable?t:null)}async setFocus(){await He(this);const e=this.el.querySelector("calcite-link");!this.closeButton&&!e||(e?e.setFocus():this.closeButton&&this.closeButton.focus())}effectiveLocaleChange(){At(this,this.effectiveLocale)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],icon:["updateRequestedIcon"],kind:["updateRequestedIcon"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Ube}},[1,"calcite-notice",{open:[1540],kind:[513],closable:[516],icon:[520],iconFlipRtl:[516,"icon-flip-rtl"],scale:[513],width:[513],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],setFocus:[64]}]);function jJ(){if(typeof customElements>"u")return;["calcite-notice","calcite-icon"].forEach(t=>{switch(t){case"calcite-notice":customElements.get(t)||customElements.define(t,VJ);break;case"calcite-icon":customElements.get(t)||Te();break}})}jJ();const Bbe=VJ,Hbe=jJ,UJ=Object.freeze(Object.defineProperty({__proto__:null,CalciteNotice:Bbe,defineCustomElement:Hbe},Symbol.toStringTag,{value:"Module"}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Gbe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:block}",qbe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalOptionChange=B(this,"calciteInternalOptionChange",6),this.mutationObserver=Ct("mutation",()=>{this.ensureTextContentDependentProps(),this.calciteInternalOptionChange.emit()}),this.disabled=!1,this.label=void 0,this.selected=void 0,this.value=void 0}handlePropChange(e,t,i){(i==="label"||i==="value")&&this.ensureTextContentDependentProps(),this.calciteInternalOptionChange.emit()}ensureTextContentDependentProps(){const{el:{textContent:e}}=this;(!this.label||this.label===this.internallySetLabel)&&(this.label=e,this.internallySetLabel=e),(!this.value||this.value===this.internallySetValue)&&(this.value=e,this.internallySetValue=e)}connectedCallback(){var e;this.ensureTextContentDependentProps(),(e=this.mutationObserver)==null||e.observe(this.el,{attributeFilter:["label","value"],characterData:!0,childList:!0,subtree:!0})}disconnectedCallback(){var e;(e=this.mutationObserver)==null||e.disconnect()}render(){return v("slot",null,this.label)}get el(){return this}static get watchers(){return{disabled:["handlePropChange"],label:["handlePropChange"],selected:["handlePropChange"],value:["handlePropChange"]}}static get style(){return Gbe}},[1,"calcite-option",{disabled:[516],label:[1025],selected:[516],value:[1032]}]);function Wbe(){if(typeof customElements>"u")return;["calcite-option"].forEach(t=>{switch(t){case"calcite-option":customElements.get(t)||customElements.define(t,qbe);break}})}Wbe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Kbe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:block}",Ybe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalOptionGroupChange=B(this,"calciteInternalOptionGroupChange",6),this.disabled=!1,this.label=void 0}handlePropChange(){this.calciteInternalOptionGroupChange.emit()}render(){return v(Hr,null,v("div",null,this.label),v("slot",null))}static get watchers(){return{disabled:["handlePropChange"],label:["handlePropChange"]}}static get style(){return Kbe}},[1,"calcite-option-group",{disabled:[516],label:[1]}]);function Jbe(){if(typeof customElements>"u")return;["calcite-option-group"].forEach(t=>{switch(t){case"calcite-option-group":customElements.get(t)||customElements.define(t,Ybe);break}})}Jbe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const ul={page:"page",selected:"is-selected",previous:"previous",next:"next",disabled:"is-disabled",ellipsis:"ellipsis",ellipsisStart:"ellipsis--start",ellipsisEnd:"ellipsis--end"},Zbe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([scale=s]){--calcite-pagination-spacing-internal:0.25rem 0.5rem}:host([scale=s]) .previous,:host([scale=s]) .next,:host([scale=s]) .page{block-size:1.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .previous,:host([scale=s]) .next{padding-inline:0.25rem}:host([scale=m]){--calcite-pagination-spacing-internal:0.5rem 0.75rem}:host([scale=m]) .previous,:host([scale=m]) .next,:host([scale=m]) .page{block-size:2rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .previous,:host([scale=m]) .next{padding-inline:0.5rem}:host([scale=l]){--calcite-pagination-spacing-internal:0.75rem 1rem}:host([scale=l]) .previous,:host([scale=l]) .next,:host([scale=l]) .page{block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .previous,:host([scale=l]) .next{padding-inline:1rem}:host{display:flex;writing-mode:horizontal-tb}:host button{outline-color:transparent}:host button:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.previous,.next,.page{box-sizing:border-box;display:flex;cursor:pointer;align-items:center;border-style:none;--tw-border-opacity:0;background-color:transparent;font-family:inherit;font-size:var(--calcite-font-size-0);line-height:1.25rem;color:var(--calcite-ui-text-3);border-block:2px solid transparent}.previous:hover,.next:hover,.page:hover{color:var(--calcite-ui-text-1);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.page:hover{border-block-end-color:var(--calcite-ui-border-2)}.page.is-selected{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);border-block-end-color:var(--calcite-ui-brand)}.previous:hover,.next:hover{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-brand)}.previous:active,.next:active{background-color:var(--calcite-ui-foreground-3)}.previous.is-disabled,.next.is-disabled{pointer-events:none;background-color:transparent}.previous.is-disabled>calcite-icon,.next.is-disabled>calcite-icon{opacity:var(--calcite-ui-opacity-disabled)}.next{margin-inline-end:0px}.page,.ellipsis{padding:var(--calcite-pagination-spacing-internal)}.ellipsis{display:flex;align-items:flex-end;color:var(--calcite-ui-text-3)}",Px=5,Qbe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calcitePaginationChange=B(this,"calcitePaginationChange",6),this.previousClicked=()=>{this.previousPage().then(),this.emitUpdate()},this.nextClicked=()=>{this.nextPage(),this.emitUpdate()},this.groupSeparator=!1,this.messageOverrides=void 0,this.pageSize=20,this.numberingSystem=void 0,this.startItem=1,this.totalItems=0,this.scale="m",this.defaultMessages=void 0,this.effectiveLocale="",this.messages=void 0}onMessagesChange(){}effectiveLocaleChange(){At(this,this.effectiveLocale)}effectiveLocaleWatcher(){Me.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator}}connectedCallback(){ht(this),Mt(this)}async componentWillLoad(){await $t(this)}disconnectedCallback(){pt(this),Dt(this)}async nextPage(){this.startItem=Math.min(this.getLastStart(),this.startItem+this.pageSize)}async previousPage(){this.startItem=Math.max(1,this.startItem-this.pageSize)}getLastStart(){const{totalItems:e,pageSize:t}=this;return(e%t===0?e-t:Math.floor(e/t)*t)+1}showLeftEllipsis(){return Math.floor(this.startItem/this.pageSize)>3}showRightEllipsis(){return(this.totalItems-this.startItem)/this.pageSize>3}emitUpdate(){this.calcitePaginationChange.emit()}renderPages(){const e=this.getLastStart();let t,i;this.totalItems/this.pageSize<=Px?(i=1+this.pageSize,t=e-this.pageSize):this.startItem/this.pageSize<Px-1?(i=1+this.pageSize,t=1+4*this.pageSize):this.startItem+3*this.pageSize>=this.totalItems?(i=e-4*this.pageSize,t=e-this.pageSize):(i=this.startItem-this.pageSize,t=this.startItem+this.pageSize);const n=[];for(;i<=t;)n.push(i),i=i+this.pageSize;return n.map(r=>this.renderPage(r))}renderPage(e){const t=Math.floor(e/this.pageSize)+(this.pageSize===1?0:1);Me.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator};const i=Me.localize(t.toString());return v("button",{class:{[ul.page]:!0,[ul.selected]:e===this.startItem},onClick:()=>{this.startItem=e,this.emitUpdate()}},i)}renderLeftEllipsis(){if(this.totalItems/this.pageSize>Px&&this.showLeftEllipsis())return v("span",{class:`${ul.ellipsis} ${ul.ellipsisStart}`},"…")}renderRightEllipsis(){if(this.totalItems/this.pageSize>Px&&this.showRightEllipsis())return v("span",{class:`${ul.ellipsis} ${ul.ellipsisEnd}`},"…")}render(){const{totalItems:e,pageSize:t,startItem:i}=this,n=t===1?i<=t:i<t,r=i+t>e;return v(Hr,null,v("button",{"aria-label":this.messages.previous,class:{[ul.previous]:!0,[ul.disabled]:n},disabled:n,onClick:this.previousClicked},v("calcite-icon",{flipRtl:!0,icon:"chevronLeft",scale:this.scale==="l"?"m":"s"})),e>t?this.renderPage(1):null,this.renderLeftEllipsis(),this.renderPages(),this.renderRightEllipsis(),this.renderPage(this.getLastStart()),v("button",{"aria-label":this.messages.next,class:{[ul.next]:!0,[ul.disabled]:r},disabled:r,onClick:this.nextClicked},v("calcite-icon",{flipRtl:!0,icon:"chevronRight",scale:this.scale==="l"?"m":"s"})))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange","effectiveLocaleWatcher"]}}static get style(){return Zbe}},[17,"calcite-pagination",{groupSeparator:[516,"group-separator"],messageOverrides:[1040],pageSize:[514,"page-size"],numberingSystem:[1,"numbering-system"],startItem:[1538,"start-item"],totalItems:[514,"total-items"],scale:[513],messages:[1040],defaultMessages:[32],effectiveLocale:[32],nextPage:[64],previousPage:[64]}]);function Xbe(){if(typeof customElements>"u")return;["calcite-pagination","calcite-icon"].forEach(t=>{switch(t){case"calcite-pagination":customElements.get(t)||customElements.define(t,Qbe);break;case"calcite-icon":customElements.get(t)||Te();break}})}Xbe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const e1e={sticky:"sticky-pos"};var om;(function(e){e.circle="circle",e.square="square",e.grip="grip"})(om||(om={}));const t1e={menuActions:"menu-actions"};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const D$={heading:"heading",container:"container",indented:"container--indented"},iD={parentItem:"parent-item"};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function BJ(){this.setUpItems(),this.setUpFilter(),this.deselectRemovedItems()}const i1e=["ArrowUp","ArrowDown"];function HJ(){this.setUpItems(),this.setUpFilter(),this.emitCalciteListChange=Jl(a1e.bind(this),0),this.emitCalciteListFilter=Jl(s1e.bind(this),0)}function GJ(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}function qJ(){var e;(e=this.mutationObserver)==null||e.disconnect()}function WJ(e){const{selectedValues:t}=this,{item:i,value:n,selected:r,shiftPressed:s}=e.detail;r?(this.multiple&&s&&this.selectSiblings(i),this.multiple||this.deselectSiblingItems(i),t.set(n,i)):(t.delete(n),this.multiple&&s&&this.selectSiblings(i,!0)),this.multiple||(jf(i,r),r&&Nr(i)),this.lastSelectedItem=i,this.emitCalciteListChange()}function KJ(e){const t=e.detail.oldValue,i=this.selectedValues;if(i.has(t)){const n=i.get(t);i.delete(t),i.set(e.detail.newValue,n)}e.stopPropagation()}function n1e(e){return!!i1e.find(t=>t===e)}function YJ(e){const{el:t,items:i,multiple:n,selectedValues:r}=this;n||t.contains(e.relatedTarget)||nD(i).forEach(a=>{jf(a,r.size===0?a.contains(e.target)||e.target===a:a.selected)})}function JJ(e){const{key:t,target:i}=e;if(!n1e(t))return;const{items:n,multiple:r,selectionFollowsFocus:s}=this,{length:a}=n,o=n.indexOf(i);if(!a||o===-1)return;e.preventDefault();const l=ZJ(this,i,t==="ArrowUp"?"up":"down"),c=n[l];n.forEach(h=>jf(h,h===c)),!r&&s&&(c.selected=!0),Nr(c)}function ZJ(e,t,i){const{items:n}=e,{length:r}=n,s=n.indexOf(t),a=i==="up"?-1:1;let o=1,l=a0(s+a*o++,r);const c=l;for(;n[l].disabled&&(l=a0(s+a*o++,r),l!==c););return l}function r1e(e,t){const{items:i}=e;return i.indexOf(t)}function nD(e){return e.filter(t=>!t.disabled)}function s1e(){this.calciteListFilter.emit()}function a1e(){this.calciteListChange.emit(this.selectedValues)}function QJ(e){if(e.defaultPrevented)return;const t=e.target,i=this.selectedValues;t.parentElement.tagName==="CALCITE-PICK-LIST-GROUP"&&t.slot===iD.parentItem?(t.parentElement.remove(),Array.from(t.parentElement.children).forEach(n=>i.delete(n.value))):(t.remove(),i.delete(t.value)),this.emitCalciteListChange()}function jf(e,t){e.disabled||(t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}async function XJ(e){var a;if(this.filterEnabled&&e==="filter"){await Nr(this.filterEl);return}const{items:t,multiple:i,selectionFollowsFocus:n}=this;if(t.length===0)return;if(i)return(a=nD(t)[0])==null?void 0:a.setFocus();const r=nD(t),s=r.find(o=>o.selected)||r[0];return n&&s&&(s.selected=!0),s.setFocus()}function eZ(e){this.items=Array.from(this.el.querySelectorAll(e));let t=!1;const{items:i}=this;i.forEach(r=>{r.icon=this.getIconType(),this.multiple||(r.deselectDisabled=!0,jf(r,!1)),r.selected&&(t=!0,jf(r,!0),this.selectedValues.set(r.value,r))});const[n]=i;!t&&n&&!n.disabled&&jf(n,!0)}function tZ(){const e=this.selectedValues,t=this.items.map(({value:i})=>i);e.forEach(i=>{t.includes(i.value)||this.selectedValues.delete(i.value)})}function iZ(e){this.items.forEach(t=>{t.value!==e.value&&(t.toggleSelected(!1),this.selectedValues.has(t.value)&&this.selectedValues.delete(t.value))})}function nZ(e,t=!1){if(!this.lastSelectedItem)return;const{items:i}=this,n=i.findIndex(s=>s.value===this.lastSelectedItem.value),r=i.findIndex(s=>s.value===e.value);i.slice(Math.min(n,r),Math.max(n,r)).forEach(s=>{s.toggleSelected(!t),t?this.selectedValues.delete(s.value):this.selectedValues.set(s.value,s)})}let Av;function rZ(e=!1){var a;const{filteredData:t,filterText:i}=this,n=t.map(o=>o.value);let r=!1;Av||(Av=new Set);const s=((a=this.items)==null?void 0:a.filter(o=>{const l=o.parentElement;l.matches("calcite-pick-list-group")&&Av.add(l);const h=i?n.includes(o.value):!0;return o.hidden=!h,r||(r=h&&o.selected),h}))||[];Av.forEach(o=>{const l=s.some(h=>o.contains(h));if(o.hidden=!l,!l)return;const c=Xe(o,"parent-item");c&&(c.hidden=!1,s.includes(c)&&Array.from(o.children).forEach(h=>h.hidden=!1))}),Av.clear(),s.length>0&&!r&&!this.multiple&&jf(s[0],!0),this.setFilteredItems(s),e&&this.emitCalciteListFilter()}function sZ(){var t;const e=(t=this.filterEl)==null?void 0:t.filteredItems;e&&(this.filteredData=e),this.handleFilter()}function aZ(e){e.stopPropagation();const{filteredItems:t,value:i}=e.currentTarget;this.filterText=i,this.filteredData=t,this.handleFilter(!0)}function oZ(){return this.items.map(e=>({label:e.label,description:e.description,metadata:e.metadata,value:e.value}))}const lZ=({props:{disabled:e,loading:t,filterEnabled:i,dataForFilter:n,handleFilterEvent:r,filterPlaceholder:s,filterText:a,setFilterEl:o,dragEnabled:l,storeAssistiveEl:c},...h})=>{const p=v("slot",null);return v(Fe,{"aria-busy":ot(t),role:"menu",...h},v("section",null,l?v("span",{"aria-live":"assertive",class:"assistive-text",ref:c}):null,v("header",{class:{[e1e.sticky]:!0}},i?v("calcite-filter",{"aria-label":s,disabled:t||e,items:n,onCalciteFilterChange:r,placeholder:s,ref:o,value:a}):null,v("slot",{name:t1e.menuActions})),t?v("calcite-scrim",{loading:t}):null,p))};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const o1e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{position:relative;box-sizing:border-box;display:flex;flex-shrink:0;flex-grow:1;flex-direction:column;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}:host *{box-sizing:border-box}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([filter-enabled]) header{margin-block-end:0.25rem;display:flex;align-items:stretch;justify-content:flex-end;background-color:var(--calcite-ui-foreground-1);--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([filter-enabled]) header.sticky-pos{position:sticky;inset-block-start:0px;z-index:1}calcite-filter{margin-block-end:0px}:host([loading][disabled]){min-block-size:2rem}",l1e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteListChange=B(this,"calciteListChange",6),this.calciteListFilter=B(this,"calciteListFilter",6),this.lastSelectedItem=null,this.mutationObserver=Ct("mutation",BJ.bind(this)),this.setFilterEl=e=>{this.filterEl=e},this.setFilteredItems=e=>{this.filteredItems=e},this.deselectRemovedItems=tZ.bind(this),this.deselectSiblingItems=iZ.bind(this),this.selectSiblings=nZ.bind(this),this.handleFilter=rZ.bind(this),this.handleFilterEvent=aZ.bind(this),this.getItemData=oZ.bind(this),this.keyDownHandler=JJ.bind(this),this.disabled=!1,this.filteredItems=[],this.filteredData=[],this.filterEnabled=!1,this.filterPlaceholder=void 0,this.filterText=void 0,this.headingLevel=void 0,this.loading=!1,this.multiple=!1,this.selectionFollowsFocus=!1,this.selectedValues=new Map,this.dataForFilter=[]}connectedCallback(){HJ.call(this),GJ.call(this)}disconnectedCallback(){qJ.call(this)}componentWillLoad(){We(this)}componentDidLoad(){Ke(this),sZ.call(this)}componentDidRender(){et(this)}calciteListItemRemoveHandler(e){QJ.call(this,e)}calciteListItemChangeHandler(e){WJ.call(this,e)}calciteInternalListItemPropsChangeHandler(e){e.stopPropagation(),this.setUpFilter()}calciteInternalListItemValueChangeHandler(e){KJ.call(this,e),e.stopPropagation()}calciteListFocusOutHandler(e){YJ.call(this,e)}setUpItems(){eZ.call(this,"calcite-pick-list-item")}setUpFilter(){this.filterEnabled&&(this.dataForFilter=this.getItemData())}async getSelectedItems(){return this.selectedValues}async setFocus(e){return await He(this),XJ.call(this,e)}getIconType(){return this.multiple?om.square:om.circle}render(){return v(lZ,{onKeyDown:this.keyDownHandler,props:this})}get el(){return this}static get style(){return o1e}},[1,"calcite-pick-list",{disabled:[516],filteredItems:[1040],filteredData:[1040],filterEnabled:[516,"filter-enabled"],filterPlaceholder:[513,"filter-placeholder"],filterText:[1537,"filter-text"],headingLevel:[514,"heading-level"],loading:[516],multiple:[516],selectionFollowsFocus:[516,"selection-follows-focus"],selectedValues:[32],dataForFilter:[32],getSelectedItems:[64],setFocus:[64]},[[0,"calciteListItemRemove","calciteListItemRemoveHandler"],[0,"calciteListItemChange","calciteListItemChangeHandler"],[0,"calciteInternalListItemPropsChange","calciteInternalListItemPropsChangeHandler"],[0,"calciteInternalListItemValueChange","calciteInternalListItemValueChangeHandler"],[0,"focusout","calciteListFocusOutHandler"]]]);function c1e(){if(typeof customElements>"u")return;["calcite-pick-list","calcite-filter","calcite-icon","calcite-input","calcite-loader","calcite-progress","calcite-scrim"].forEach(t=>{switch(t){case"calcite-pick-list":customElements.get(t)||customElements.define(t,l1e);break;case"calcite-filter":customElements.get(t)||EC();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-input":customElements.get(t)||Mu();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-progress":customElements.get(t)||so();break;case"calcite-scrim":customElements.get(t)||jh();break}})}c1e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const u1e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{margin-block-end:0.25rem;box-sizing:border-box;display:block;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2)}:host *{box-sizing:border-box}:host(:last-child){margin-block-end:0px}.header{margin:0px;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:0.5rem}.heading{margin-block:0.5rem;margin-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;font-size:var(--calcite-font-size--1);line-height:1.375;color:var(--calcite-ui-text-3)}.container--indented{margin-inline-start:1.5rem}",d1e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.groupTitle=void 0,this.headingLevel=void 0}connectedCallback(){bn(this)}disconnectedCallback(){wn(this)}render(){var c;const{el:e,groupTitle:t,headingLevel:i}=this,n=Xe(e,iD.parentItem)!==null,r={[D$.container]:!0,[D$.indented]:n},s=t,a=(c=e.closest("calcite-pick-list"))==null?void 0:c.headingLevel,o=a?BY(a+1):null,l=i||o;return v(Hr,null,s?v(Tm,{class:D$.heading,level:l},s):null,v("slot",{name:iD.parentItem}),v("section",{class:r},v("slot",null)))}get el(){return this}static get style(){return u1e}},[1,"calcite-pick-list-group",{groupTitle:[513,"group-title"],headingLevel:[514,"heading-level"]}]);function h1e(){if(typeof customElements>"u")return;["calcite-pick-list-group"].forEach(t=>{switch(t){case"calcite-pick-list-group":customElements.get(t)||customElements.define(t,d1e);break}})}h1e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Ds={actions:"actions",actionsEnd:"actions--end",actionsStart:"actions--start",description:"description",handle:"handle",handleActivated:"handle--activated",highlight:"highlight",icon:"icon",iconDot:"icon-dot",label:"label",remove:"remove",title:"title",textContainer:"text-container"},kV={checked:"check",remove:"x"},af={actionsEnd:"actions-end",actionsStart:"actions-start"},p1e='@charset "UTF-8";@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{margin:0px;margin-block-end:1px;box-sizing:border-box;display:flex;align-items:stretch;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-1);--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transition:background-color var(--calcite-animation-timing);animation:calcite-fade-in var(--calcite-animation-timing)}:host *{box-sizing:border-box}.label{display:flex;flex:1 1 auto;cursor:pointer;align-items:center;background-color:transparent;outline-color:transparent}.label:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.label:hover{background-color:var(--calcite-ui-foreground-2)}:host([non-interactive]:hover){background-color:var(--calcite-ui-foreground-1)}:host([non-interactive]) .label,:host([non-interactive]) .icon{pointer-events:none}.icon{margin-block:0px;display:flex;cursor:pointer;align-items:center;padding:0.25rem;color:var(--calcite-ui-brand);flex:0 0 auto;line-height:0}.icon:hover{background-color:var(--calcite-ui-foreground-2)}.icon-dot{display:flex;inline-size:1.5rem;align-items:center;padding:0.5rem}.icon-dot:before{opacity:0;content:"•"}.icon calcite-icon{opacity:0}:host([selected]) .icon-dot:before,:host([selected]) .icon calcite-icon{transition:opacity var(--calcite-animation-timing);opacity:1}.text-container{pointer-events:none;display:flex;flex-direction:column;flex-wrap:nowrap;overflow:hidden;padding-block:0.5rem;padding-inline:0.75rem;font-size:var(--calcite-font-size--2);line-height:1.375;word-wrap:break-word;word-break:break-word}.title{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-1)}.description{margin-block-start:0.125rem;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}.actions{margin:0px;display:flex;flex:0 1 auto;align-items:stretch;justify-content:flex-end}.actions--start~.label{padding-inline-start:0.25rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}',f1e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteListItemChange=B(this,"calciteListItemChange",6),this.calciteListItemRemove=B(this,"calciteListItemRemove",7),this.calciteInternalListItemPropsChange=B(this,"calciteInternalListItemPropsChange",6),this.calciteInternalListItemValueChange=B(this,"calciteInternalListItemValueChange",6),this.pickListClickHandler=e=>{this.disabled||this.deselectDisabled&&this.selected||this.nonInteractive||(this.shiftPressed=e.shiftKey,this.selected=!this.selected)},this.pickListKeyDownHandler=e=>{if(e.key===" "){if(e.preventDefault(),this.deselectDisabled&&this.selected||this.nonInteractive)return;this.selected=!this.selected}},this.removeClickHandler=()=>{this.calciteListItemRemove.emit()},this.description=void 0,this.disabled=!1,this.deselectDisabled=!1,this.nonInteractive=!1,this.icon=null,this.iconFlipRtl=!1,this.label=void 0,this.messageOverrides=void 0,this.messages=void 0,this.metadata=void 0,this.removable=!1,this.selected=!1,this.value=void 0,this.defaultMessages=void 0,this.effectiveLocale=""}descriptionWatchHandler(){this.calciteInternalListItemPropsChange.emit()}labelWatchHandler(){this.calciteInternalListItemPropsChange.emit()}onMessagesChange(){}metadataWatchHandler(){this.calciteInternalListItemPropsChange.emit()}selectedWatchHandler(){this.calciteListItemChange.emit({item:this.el,value:this.value,selected:this.selected,shiftPressed:this.shiftPressed}),this.shiftPressed=!1}valueWatchHandler(e,t){this.calciteInternalListItemValueChange.emit({oldValue:t,newValue:e})}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){ht(this),Mt(this),bn(this)}async componentWillLoad(){await $t(this),We(this)}componentDidLoad(){Ke(this)}disconnectedCallback(){pt(this),Dt(this),wn(this)}componentDidRender(){et(this,this.el.closest("calcite-pick-list")?"managed":!1)}async toggleSelected(e){this.selected=typeof e=="boolean"?e:!this.selected}async setFocus(){var e;await He(this),(e=this.focusEl)==null||e.focus()}renderIcon(){const{icon:e,iconFlipRtl:t}=this;return e?v("span",{class:{[Ds.icon]:!0,[Ds.iconDot]:e===om.circle},onClick:this.pickListClickHandler},e===om.square?v("calcite-icon",{flipRtl:t,icon:kV.checked,scale:"s"}):null):null}renderRemoveAction(){return this.removable?v("calcite-action",{class:Ds.remove,icon:kV.remove,onClick:this.removeClickHandler,slot:af.actionsEnd,text:this.messages.remove}):null}renderActionsStart(){const{el:e}=this;return Xe(e,af.actionsStart)?v("div",{class:{[Ds.actions]:!0,[Ds.actionsStart]:!0}},v("slot",{name:af.actionsStart})):null}renderActionsEnd(){const{el:e,removable:t}=this;return Xe(e,af.actionsEnd)||t?v("div",{class:{[Ds.actions]:!0,[Ds.actionsEnd]:!0}},v("slot",{name:af.actionsEnd}),this.renderRemoveAction()):null}render(){const{description:e,label:t}=this;return v(Hr,null,this.renderIcon(),this.renderActionsStart(),v("label",{"aria-label":t,class:Ds.label,onClick:this.pickListClickHandler,onKeyDown:this.pickListKeyDownHandler,ref:i=>this.focusEl=i,tabIndex:0},v("div",{"aria-checked":ot(this.selected),class:Ds.textContainer,role:"menuitemcheckbox"},v("span",{class:Ds.title},t),e?v("span",{class:Ds.description},e):null)),this.renderActionsEnd())}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{description:["descriptionWatchHandler"],label:["labelWatchHandler"],defaultMessages:["onMessagesChange"],messageOverrides:["onMessagesChange"],metadata:["metadataWatchHandler"],selected:["selectedWatchHandler"],value:["valueWatchHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return p1e}},[1,"calcite-pick-list-item",{description:[513],disabled:[516],deselectDisabled:[516,"deselect-disabled"],nonInteractive:[516,"non-interactive"],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"],label:[513],messageOverrides:[1040],messages:[1040],metadata:[16],removable:[516],selected:[1540],value:[8],defaultMessages:[32],effectiveLocale:[32],toggleSelected:[64],setFocus:[64]}]);function cZ(){if(typeof customElements>"u")return;["calcite-pick-list-item","calcite-action","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-pick-list-item":customElements.get(t)||customElements.define(t,f1e);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break}})}cZ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const m1e={container:"container"},g1e='@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:block;cursor:pointer}:host .container{position:relative;outline:2px solid transparent;outline-offset:2px}:host .radio{cursor:pointer;border-radius:9999px;background-color:var(--calcite-ui-foreground-1);outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input)}:host([hovered]) .radio,:host(:not([checked])[focused]:not([disabled])) .radio{box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([focused]) .radio{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host([disabled]) .radio{cursor:default;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([hovered][disabled]) .radio{box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input)}:host([scale=s]){--calcite-radio-size:var(--calcite-font-size--2)}:host([scale=m]){--calcite-radio-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-radio-size:var(--calcite-font-size-0)}.radio{block-size:var(--calcite-radio-size);max-inline-size:var(--calcite-radio-size);min-inline-size:var(--calcite-radio-size)}:host([scale=s][checked]) .radio,:host([hovered][scale=s][checked][disabled]) .radio{box-shadow:inset 0 0 0 4px var(--calcite-ui-brand)}:host([scale=s][focused][checked]:not([disabled])) .radio{box-shadow:inset 0 0 0 4px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1)}:host([scale=m][checked]) .radio,:host([hovered][scale=m][checked][disabled]) .radio{box-shadow:inset 0 0 0 5px var(--calcite-ui-brand)}:host([scale=m][focused][checked]:not([disabled])) .radio{box-shadow:inset 0 0 0 5px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1)}:host([scale=l][checked]) .radio,:host([hovered][scale=l][checked][disabled]) .radio{box-shadow:inset 0 0 0 6px var(--calcite-ui-brand)}:host([scale=l][focused][checked]:not([disabled])) .radio{box-shadow:inset 0 0 0 6px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1)}@media (forced-colors: active){:host([checked]) .radio::after,:host([checked][disabled]) .radio::after{content:"";inline-size:var(--calcite-radio-size);block-size:var(--calcite-radio-size);background-color:windowText;display:block}}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}',y1e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalRadioButtonBlur=B(this,"calciteInternalRadioButtonBlur",6),this.calciteRadioButtonChange=B(this,"calciteRadioButtonChange",6),this.calciteInternalRadioButtonCheckedChange=B(this,"calciteInternalRadioButtonCheckedChange",6),this.calciteInternalRadioButtonFocus=B(this,"calciteInternalRadioButtonFocus",6),this.selectItem=(e,t)=>{e[t].click()},this.queryButtons=()=>Array.from(this.rootNode.querySelectorAll("calcite-radio-button:not([hidden])")).filter(e=>e.name===this.name),this.isDefaultSelectable=()=>{const e=this.queryButtons();return!e.some(t=>t.checked)&&e[0]===this.el},this.check=()=>{this.disabled||(this.uncheckAllRadioButtonsInGroup(),this.checked=!0,this.focused=!0,this.calciteRadioButtonChange.emit(),this.setFocus())},this.clickHandler=()=>{this.check()},this.setContainerEl=e=>{this.containerEl=e},this.handleKeyDown=e=>{const t=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"," "],{key:i}=e,{el:n}=this;if(t.indexOf(i)===-1)return;if(i===" "){this.check(),e.preventDefault();return}let r=i;Ci(n)==="rtl"&&(i==="ArrowRight"&&(r="ArrowLeft"),i==="ArrowLeft"&&(r="ArrowRight"));const s=Array.from(this.rootNode.querySelectorAll("calcite-radio-button:not([hidden]")).filter(l=>l.name===this.name);let a=0;const o=s.length;switch(s.some((l,c)=>{if(l.checked)return a=c,!0}),r){case"ArrowLeft":case"ArrowUp":e.preventDefault(),this.selectItem(s,a0(Math.max(a-1,-1),o));return;case"ArrowRight":case"ArrowDown":e.preventDefault(),this.selectItem(s,a0(a+1,o));return;default:return}},this.onContainerBlur=()=>{this.focused=!1,this.calciteInternalRadioButtonBlur.emit()},this.onContainerFocus=()=>{this.disabled||(this.focused=!0,this.calciteInternalRadioButtonFocus.emit())},this.checked=!1,this.disabled=!1,this.focused=!1,this.guid=void 0,this.hidden=!1,this.hovered=!1,this.label=void 0,this.name=void 0,this.required=!1,this.scale="m",this.value=void 0}checkedChanged(e){e&&this.uncheckOtherRadioButtonsInGroup(),this.calciteInternalRadioButtonCheckedChange.emit()}nameChanged(){this.checkLastRadioButton()}async setFocus(){await He(this),this.disabled||Nr(this.containerEl)}syncHiddenFormInput(e){e.type="radio"}onLabelClick(e){if(!this.disabled&&!this.hidden){this.uncheckOtherRadioButtonsInGroup();const t=e.currentTarget,i=t.for?this.rootNode.querySelector(`calcite-radio-button[id="${t.for}"]`):t.querySelector(`calcite-radio-button[name="${this.name}"]`);i&&(i.checked=!0,i.focused=!0),this.calciteRadioButtonChange.emit(),this.setFocus()}}checkLastRadioButton(){const t=this.queryButtons().filter(i=>i.checked);if((t==null?void 0:t.length)>1){const i=t[t.length-1];t.filter(n=>n!==i).forEach(n=>{n.checked=!1,n.emitCheckedChange()})}}async emitCheckedChange(){this.calciteInternalRadioButtonCheckedChange.emit()}uncheckAllRadioButtonsInGroup(){this.queryButtons().forEach(t=>{t.checked&&(t.checked=!1,t.focused=!1)})}uncheckOtherRadioButtonsInGroup(){this.queryButtons().filter(i=>i.guid!==this.guid).forEach(i=>{i.checked&&(i.checked=!1,i.focused=!1)})}getTabIndex(){if(!this.disabled)return this.checked||this.isDefaultSelectable()?0:-1}mouseenter(){this.hovered=!0}mouseleave(){this.hovered=!1}connectedCallback(){this.rootNode=this.el.getRootNode(),this.guid=this.el.id||`calcite-radio-button-${$i()}`,this.name&&this.checkLastRadioButton(),vr(this),na(this)}componentWillLoad(){We(this)}componentDidLoad(){Ke(this),this.focused&&!this.disabled&&this.setFocus()}disconnectedCallback(){Gr(this),ra(this)}componentDidRender(){et(this)}render(){const e=this.getTabIndex();return v(Fe,{onClick:this.clickHandler,onKeyDown:this.handleKeyDown},v("div",{"aria-checked":ot(this.checked),"aria-label":zr(this),class:m1e.container,onBlur:this.onContainerBlur,onFocus:this.onContainerFocus,ref:this.setContainerEl,role:"radio",tabIndex:e},v("div",{class:"radio"})),v(sa,{component:this}))}get el(){return this}static get watchers(){return{checked:["checkedChanged"],name:["nameChanged"]}}static get style(){return g1e}},[1,"calcite-radio-button",{checked:[1540],disabled:[516],focused:[1540],guid:[1537],hidden:[516],hovered:[1540],label:[1],name:[513],required:[516],scale:[513],value:[1032],setFocus:[64],emitCheckedChange:[64]},[[1,"pointerenter","mouseenter"],[1,"pointerleave","mouseleave"]]]);function v1e(){if(typeof customElements>"u")return;["calcite-radio-button"].forEach(t=>{switch(t){case"calcite-radio-button":customElements.get(t)||customElements.define(t,y1e);break}})}v1e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const b1e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:flex;max-inline-size:100vw}:host([layout=horizontal]){flex-direction:row;flex-wrap:wrap}:host([layout=horizontal][scale=s]){gap:1rem}:host([layout=horizontal][scale=m]){gap:1.25rem}:host([layout=horizontal][scale=l]){gap:1.5rem}:host([layout=vertical]){flex-direction:column}",w1e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteRadioButtonGroupChange=B(this,"calciteRadioButtonGroupChange",6),this.mutationObserver=Ct("mutation",()=>this.passPropsToRadioButtons()),this.passPropsToRadioButtons=()=>{const e=this.el.querySelectorAll("calcite-radio-button");this.selectedItem=Array.from(e).find(t=>t.checked)||null,e.length>0&&e.forEach(t=>{t.disabled=this.disabled||t.disabled,t.hidden=this.hidden,t.name=this.name,t.required=this.required,t.scale=this.scale})},this.disabled=!1,this.hidden=!1,this.layout="horizontal",this.name=void 0,this.required=!1,this.selectedItem=null,this.scale="m"}onDisabledChange(){this.passPropsToRadioButtons()}onHiddenChange(){this.passPropsToRadioButtons()}onLayoutChange(){this.passPropsToRadioButtons()}onScaleChange(){this.passPropsToRadioButtons()}connectedCallback(){var e;this.passPropsToRadioButtons(),(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}disconnectedCallback(){var e;(e=this.mutationObserver)==null||e.disconnect()}radioButtonChangeHandler(e){this.selectedItem=e.target,this.calciteRadioButtonGroupChange.emit()}render(){return v(Fe,{role:"radiogroup"},v("slot",null))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{disabled:["onDisabledChange"],hidden:["onHiddenChange"],layout:["onLayoutChange"],scale:["onScaleChange"]}}static get style(){return b1e}},[17,"calcite-radio-button-group",{disabled:[516],hidden:[516],layout:[513],name:[513],required:[516],selectedItem:[1040],scale:[513]},[[0,"calciteRadioButtonChange","radioButtonChangeHandler"]]]);function _1e(){if(typeof customElements>"u")return;["calcite-radio-button-group"].forEach(t=>{switch(t){case"calcite-radio-button-group":customElements.get(t)||customElements.define(t,w1e);break}})}_1e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const IV=({full:e,scale:t,partial:i})=>v("calcite-icon",{class:i?void 0:"icon",icon:e?"star-f":"star",scale:t}),x1e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{position:relative;display:flex;align-items:center;inline-size:-moz-fit-content;inline-size:fit-content}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){block-size:1.5rem;--calcite-rating-spacing-unit:0.25rem}:host([scale=m]){block-size:2rem;--calcite-rating-spacing-unit:0.5rem}:host([scale=l]){block-size:2.75rem;--calcite-rating-spacing-unit:0.75rem}:host([read-only]){pointer-events:none}.fieldset{margin:0;display:flex;border-width:0;padding:0;align-items:center;gap:var(--calcite-rating-spacing-unit)}.wrapper{display:inline-block}.star{transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;position:relative;display:flex;flex-direction:column;cursor:pointer;color:var(--calcite-ui-border-input)}.focused{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.average,.fraction{color:var(--calcite-ui-warning)}.hovered,.selected{color:var(--calcite-ui-brand)}.fraction{transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;position:absolute;pointer-events:none;inset-block-start:0;overflow:hidden;inset-inline-start:0}calcite-chip{pointer-events:none;cursor:default}.number--average{font-weight:bold}.number--count{color:var(--calcite-ui-text-2);font-style:italic}.number--count:not(:first-child){margin-inline-start:var(--calcite-rating-spacing-unit)}.visually-hidden{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",S1e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteRatingChange=B(this,"calciteRatingChange",6),this.handleRatingPointerOver=()=>{this.isKeyboardInteraction=!1},this.handleRatingPointerOut=()=>{this.isKeyboardInteraction=!0,this.hoverValue=null,this.focusValue=null,this.hasFocus=!1},this.handleRatingFocusIn=()=>{const e=this.value>0?this.value-1:0,t=this.inputRefs[e],i=Number(t.value);t.select(),this.focusValue=i,this.hoverValue=i,this.hasFocus=!0},this.handleRatingFocusLeave=()=>{this.focusValue=null,this.hoverValue=null,this.hasFocus=!1},this.handleHostKeyDown=()=>{this.isKeyboardInteraction=!0},this.handleInputKeyDown=e=>{const t=e.currentTarget,i=Number(t.value),n=e.key,r=n==" "?void 0:Number(n);if(this.emit=!0,isNaN(r))switch(n){case"Enter":case" ":this.value=!this.required&&this.value===i?0:i;break;case"ArrowLeft":this.value=i-1;break;case"ArrowRight":this.value=i+1;break;case"Tab":this.hasFocus&&(this.hasFocus=!1,this.focusValue=null,this.hoverValue=null)}else!this.required&&r>=0&&r<=this.max?this.value=r:this.required&&r>0&&r<=this.max&&(this.value=r)},this.handleInputChange=e=>{if(this.isKeyboardInteraction===!0){const t=Number(e.target.value);this.focusValue=t,this.hoverValue=t,this.value=t}},this.handleLabelPointerOver=e=>{const t=e.currentTarget,i=Number(t.firstChild.value||0);this.hoverValue=i,this.focusValue=null},this.handleLabelPointerDown=e=>{const t=e.currentTarget,i=Number(t.firstChild.value||0);this.focusValue=null,this.hoverValue=null,this.emit=!0,this.value=!this.required&&this.value===i?0:i},this.emit=!1,this.guid=`calcite-ratings-${$i()}`,this.isKeyboardInteraction=!0,this.max=5,this.average=void 0,this.count=void 0,this.disabled=!1,this.messages=void 0,this.messageOverrides=void 0,this.name=void 0,this.readOnly=!1,this.required=!1,this.scale="m",this.showChip=!1,this.value=0,this.effectiveLocale="",this.defaultMessages=void 0,this.hoverValue=void 0,this.focusValue=void 0,this.hasFocus=void 0}onMessagesChange(){}handleValueUpdate(e){this.hoverValue=e,this.focusValue=e,this.emit&&this.calciteRatingChange.emit(),this.emit=!1}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){ht(this),Mt(this),vr(this),na(this)}async componentWillLoad(){await $t(this),We(this),this.inputRefs=Array(this.max)}componentWillRender(){this.starsMap=Array.from({length:this.max},(e,t)=>{const i=t+1,n=!this.focusValue&&!this.hoverValue&&this.average&&!this.value&&i<=this.average,r=i===this.value,s=this.isKeyboardInteraction&&this.hasFocus&&this.focusValue===i,a=this.average&&this.average+1-i,o=i<=this.hoverValue,l=`${this.guid}-${i}`,c=!this.focusValue&&!this.hoverValue&&!this.value&&!o&&a>0&&a<1,h=this.value>=i;return{average:n,checked:r,focused:s,fraction:a,hovered:o,id:l,idx:t,partial:c,selected:h,value:i}})}componentDidLoad(){Ke(this)}disconnectedCallback(){pt(this),Dt(this),Gr(this),ra(this)}componentDidRender(){et(this)}render(){var e,t;return v(Fe,{onBlur:this.handleRatingFocusLeave,onFocus:this.handleRatingFocusIn,onKeyDown:this.handleHostKeyDown,onPointerOut:this.handleRatingPointerOut,onPointerOver:this.handleRatingPointerOver},v("span",{class:"wrapper"},v("fieldset",{class:"fieldset",disabled:this.disabled},v("legend",{class:"visually-hidden"},this.messages.rating),this.starsMap.map(({average:i,checked:n,focused:r,fraction:s,hovered:a,id:o,idx:l,partial:c,selected:h,value:p})=>v("label",{class:{star:!0,focused:r,selected:h,hovered:a,average:i,partial:c},htmlFor:o,onPointerDown:this.handleLabelPointerDown,onPointerOver:this.handleLabelPointerOver},v("input",{checked:n,class:"visually-hidden",disabled:this.disabled||this.readOnly,id:o,name:this.guid,onChange:this.handleInputChange,onKeyDown:this.handleInputKeyDown,ref:m=>(this.inputRefs[l]=m,(p===1||p===this.value)&&(this.inputFocusRef=m)),type:"radio",value:p}),v(IV,{full:h||i,scale:this.scale}),c&&v("div",{class:"fraction",style:{width:`${s*100}%`}},v(IV,{full:!0,partial:!0,scale:this.scale})),v("span",{class:"visually-hidden"},this.messages.stars.replace("${num}",`${p}`)))),(this.count||this.average)&&this.showChip?v("calcite-chip",{scale:this.scale,value:(e=this.count)==null?void 0:e.toString()},!!this.average&&v("span",{class:"number--average"},this.average.toString()),!!this.count&&v("span",{class:"number--count"},"(",(t=this.count)==null?void 0:t.toString(),")")):null),v(sa,{component:this})))}onLabelClick(){this.setFocus()}async setFocus(){var e;await He(this),(e=this.inputFocusRef)==null||e.focus()}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],value:["handleValueUpdate"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return x1e}},[1,"calcite-rating",{average:[514],count:[514],disabled:[516],messages:[1040],messageOverrides:[1040],name:[513],readOnly:[516,"read-only"],required:[516],scale:[513],showChip:[516,"show-chip"],value:[1538],effectiveLocale:[32],defaultMessages:[32],hoverValue:[32],focusValue:[32],hasFocus:[32],setFocus:[64]}]);function E1e(){if(typeof customElements>"u")return;["calcite-rating","calcite-chip","calcite-icon"].forEach(t=>{switch(t){case"calcite-rating":customElements.get(t)||customElements.define(t,S1e);break;case"calcite-chip":customElements.get(t)||wC();break;case"calcite-icon":customElements.get(t)||Te();break}})}E1e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const O$={icon:"icon",iconContainer:"icon-container",select:"select"},k1e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{position:relative;display:flex;align-items:stretch;inline-size:var(--select-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){block-size:1.5rem;--calcite-select-font-size:var(--calcite-font-size--2);--calcite-select-spacing-inline:0.5rem 2rem}:host([scale=s]) .icon-container{padding-inline:0.5rem}:host([scale=m]){block-size:2rem;--calcite-select-font-size:var(--calcite-font-size--1);--calcite-select-spacing-inline:0.75rem 2.5rem}:host([scale=m]) .icon-container{padding-inline:0.75rem}:host([scale=l]){block-size:44px;--calcite-select-font-size:var(--calcite-font-size-0);--calcite-select-spacing-inline:1rem 3rem}:host([scale=l]) .icon-container{padding-inline:1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}.select{margin:0px;box-sizing:border-box;inline-size:100%;cursor:pointer;-webkit-appearance:none;appearance:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:0px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);font-family:inherit;color:var(--calcite-ui-text-2);outline-color:transparent;font-size:var(--calcite-select-font-size);padding-inline:var(--calcite-select-spacing-inline);border-inline-end-width:0px}.select:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.select:hover{background-color:var(--calcite-ui-foreground-2)}select:disabled{border-color:var(--calcite-ui-border-input);--tw-bg-opacity:1}.icon-container{pointer-events:none;position:absolute;inset-block:0px;display:flex;align-items:center;border-width:0px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:transparent;color:var(--calcite-ui-text-2);inset-inline-end:0px;border-inline-width:0px 1px}.select:focus~.icon-container{border-color:transparent}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}";function Lx(e){return e.tagName==="CALCITE-OPTION"}function I1e(e){return e.tagName==="CALCITE-OPTION-GROUP"}const C1e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteSelectChange=B(this,"calciteSelectChange",6),this.componentToNativeEl=new Map,this.mutationObserver=Ct("mutation",()=>this.populateInternalSelect()),this.handleInternalSelectChange=()=>{const e=this.selectEl.selectedOptions[0];this.selectFromNativeOption(e),requestAnimationFrame(()=>this.emitChangeEvent())},this.populateInternalSelect=()=>{const e=Array.from(this.el.children).filter(t=>t.tagName==="CALCITE-OPTION"||t.tagName==="CALCITE-OPTION-GROUP");this.clearInternalSelect(),e.forEach(t=>{var i;return(i=this.selectEl)==null?void 0:i.append(this.toNativeElement(t))})},this.storeSelectRef=e=>{this.selectEl=e,this.populateInternalSelect();const t=this.selectEl.selectedOptions[0];this.selectFromNativeOption(t)},this.emitChangeEvent=()=>{this.calciteSelectChange.emit()},this.disabled=!1,this.label=void 0,this.name=void 0,this.required=!1,this.scale="m",this.value=null,this.selectedOption=void 0,this.width="auto"}valueHandler(e){this.el.querySelectorAll("calcite-option").forEach(i=>i.selected=i.value===e)}selectedOptionHandler(e){this.value=e==null?void 0:e.value}connectedCallback(){var t;const{el:e}=this;(t=this.mutationObserver)==null||t.observe(e,{subtree:!0,childList:!0}),vr(this),na(this)}disconnectedCallback(){var e;(e=this.mutationObserver)==null||e.disconnect(),Gr(this),ra(this)}componentWillLoad(){We(this)}componentDidLoad(){var e;Ke(this),_C(this,((e=this.selectedOption)==null?void 0:e.value)??"")}componentDidRender(){et(this)}async setFocus(){await He(this),Nr(this.selectEl)}handleOptionOrGroupChange(e){e.stopPropagation();const t=e.target,i=this.componentToNativeEl.get(t);i&&(this.updateNativeElement(t,i),Lx(t)&&t.selected&&(this.deselectAllExcept(t),this.selectedOption=t))}onLabelClick(){this.setFocus()}updateNativeElement(e,t){if(t.disabled=e.disabled,t.label=e.label,Lx(e)){const i=t;i.selected=e.selected,i.value=e.value,i.innerText=e.label}}clearInternalSelect(){this.componentToNativeEl.forEach(e=>e.remove()),this.componentToNativeEl.clear()}selectFromNativeOption(e){if(!e)return;let t;this.componentToNativeEl.forEach((i,n)=>{Lx(n)&&i===e&&(n.selected=!0,t=n,this.deselectAllExcept(n))}),t&&(this.selectedOption=t)}toNativeElement(e){if(Lx(e)){const t=document.createElement("option");return this.updateNativeElement(e,t),this.componentToNativeEl.set(e,t),t}if(I1e(e)){const t=document.createElement("optgroup");return this.updateNativeElement(e,t),Array.from(e.children).forEach(i=>{const n=this.toNativeElement(i);t.append(n),this.componentToNativeEl.set(e,n)}),this.componentToNativeEl.set(e,t),t}throw new Error("unsupported element child provided")}deselectAllExcept(e){this.el.querySelectorAll("calcite-option").forEach(t=>{t!==e&&(t.selected=!1)})}renderChevron(){return v("div",{class:O$.iconContainer},v("calcite-icon",{class:O$.icon,icon:"chevron-down",scale:this.scale==="l"?"m":"s"}))}render(){return v(Hr,null,v("select",{"aria-label":zr(this),class:O$.select,disabled:this.disabled,onChange:this.handleInternalSelectChange,ref:this.storeSelectRef},v("slot",null)),this.renderChevron(),v(sa,{component:this}))}get el(){return this}static get watchers(){return{value:["valueHandler"],selectedOption:["selectedOptionHandler"]}}static get style(){return k1e}},[1,"calcite-select",{disabled:[516],label:[1],name:[513],required:[516],scale:[513],value:[1025],selectedOption:[1040],width:[513],setFocus:[64]},[[0,"calciteInternalOptionChange","handleOptionOrGroupChange"],[0,"calciteInternalOptionGroupChange","handleOptionOrGroupChange"]]]);function T1e(){if(typeof customElements>"u")return;["calcite-select","calcite-icon"].forEach(t=>{switch(t){case"calcite-select":customElements.get(t)||customElements.define(t,C1e);break;case"calcite-icon":customElements.get(t)||Te();break}})}T1e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Gm={main:"main",content:"content",contentBehind:"content--behind",footer:"footer",positionedSlotWrapper:"positioned-slot-wrapper",container:"container"},tp={centerRow:"center-row",panelStart:"panel-start",panelEnd:"panel-end",header:"header",footer:"footer",alerts:"alerts",modals:"modals"},$1e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:absolute;inset:0px;display:flex;block-size:100%;inline-size:100%;flex-direction:column;overflow:hidden;--calcite-shell-tip-spacing:26vw}.main{position:relative;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;flex-direction:row;justify-content:space-between;overflow:hidden}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;overflow:auto}.content ::slotted(calcite-shell-center-row),.content ::slotted(calcite-panel),.content ::slotted(calcite-flow){flex:1 1 auto;align-self:stretch;max-block-size:unset}.content--behind{position:absolute;inset:0px;border-width:0px;z-index:calc(1 - 1);display:initial}::slotted(calcite-shell-center-row){inline-size:unset}::slotted(.header .heading){font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-normal)}slot[name=panel-end]::slotted(calcite-shell-panel){margin-inline-start:auto}::slotted(calcite-shell-panel),::slotted(calcite-shell-center-row){position:relative;z-index:1}::slotted(calcite-panel),::slotted(calcite-flow){border-width:1px;border-inline-start-width:0px;border-inline-end-width:0px;border-style:solid;border-color:var(--calcite-ui-border-3)}slot[name=center-row]::slotted(calcite-shell-center-row:not([detached])){border-inline-start-width:1px;border-inline-end-width:1px;border-color:var(--calcite-ui-border-3)}::slotted(calcite-tip-manager){position:absolute;z-index:500;box-sizing:border-box}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}::slotted(calcite-tip-manager){animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:0.25rem;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);inset-block-end:0.5rem;inset-inline:var(--calcite-shell-tip-spacing)}.position-wrapper{position:absolute;pointer-events:none;inset:0}",A1e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.handleHeaderSlotChange=e=>{this.hasHeader=!!La(e)},this.handleFooterSlotChange=e=>{this.hasFooter=!!La(e)},this.handleAlertsSlotChange=e=>{var t;this.hasAlerts=!!La(e),(t=B3(e))==null||t.map(i=>{i.nodeName==="CALCITE-ALERT"&&(i.slottedInShell=!0)})},this.handleModalsSlotChange=e=>{var t;this.hasModals=!!La(e),(t=B3(e))==null||t.map(i=>{i.nodeName==="CALCITE-MODAL"&&(i.slottedInShell=!0)})},this.contentBehind=!1,this.hasHeader=!1,this.hasFooter=!1,this.hasAlerts=!1,this.hasModals=!1}connectedCallback(){bn(this)}disconnectedCallback(){wn(this)}renderHeader(){return v("div",{hidden:!this.hasHeader},v("slot",{key:"header",name:tp.header,onSlotchange:this.handleHeaderSlotChange}))}renderFooter(){return v("div",{class:Gm.footer,hidden:!this.hasFooter,key:"footer"},v("slot",{name:tp.footer,onSlotchange:this.handleFooterSlotChange}))}renderAlerts(){return v("div",{hidden:!this.hasAlerts},v("slot",{key:"alerts",name:tp.alerts,onSlotchange:this.handleAlertsSlotChange}))}renderModals(){return v("div",{hidden:!this.hasModals},v("slot",{key:"modals",name:tp.modals,onSlotchange:this.handleModalsSlotChange}))}renderContent(){const e=v("slot",{key:"default-slot"}),t=v("slot",{key:"center-row-slot",name:tp.centerRow}),i="content-container";return this.contentBehind?[v("div",{class:{[Gm.content]:!0,[Gm.contentBehind]:!0},key:i},e),t]:[v("div",{class:Gm.content,key:i},e,t)]}renderMain(){return v("div",{class:Gm.main},v("slot",{name:tp.panelStart}),this.renderContent(),v("slot",{name:tp.panelEnd}))}renderPositionedSlots(){return v("div",{class:Gm.positionedSlotWrapper},this.renderAlerts(),this.renderModals())}render(){return v(Hr,null,this.renderHeader(),this.renderMain(),this.renderFooter(),this.renderPositionedSlots())}get el(){return this}static get style(){return $1e}},[1,"calcite-shell",{contentBehind:[516,"content-behind"],hasHeader:[32],hasFooter:[32],hasAlerts:[32],hasModals:[32]}]);function M1e(){if(typeof customElements>"u")return;["calcite-shell"].forEach(t=>{switch(t){case"calcite-shell":customElements.get(t)||customElements.define(t,A1e);break}})}M1e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const CV={actionBarContainer:"action-bar-container",content:"content"},TV={actionBar:"action-bar"},D1e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:flex;flex:1 1 auto;overflow:hidden;background-color:transparent}.content{margin:0px;display:flex;block-size:100%;inline-size:100%;overflow:hidden;flex:1 0 0}.action-bar-container{display:flex}:host([detached]){margin-inline:0.5rem;margin-block:0.5rem 1.5rem}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}:host([detached]){animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:0.25rem;border-width:0px;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([position=end]){align-self:flex-end}:host([position=start]){align-self:flex-start}:host([height-scale=s]){block-size:33.333333%}:host([height-scale=m]){block-size:70%}:host([height-scale=l]){block-size:100%}:host([height-scale=l][detached]){block-size:calc(100% - 2rem)}::slotted(calcite-panel){block-size:100%;inline-size:100%}::slotted(calcite-action-bar),::slotted(calcite-action-bar[position=end]){border-inline-end:1px solid;border-color:var(--calcite-ui-border-3)}",O1e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.detached=!1,this.heightScale="s",this.position="end"}connectedCallback(){bn(this)}disconnectedCallback(){wn(this)}render(){const{el:e}=this,t=v("div",{class:CV.content},v("slot",null)),i=Xe(e,TV.actionBar),r=[i?v("div",{class:CV.actionBarContainer,key:"action-bar"},v("slot",{name:TV.actionBar})):null,t];return(i==null?void 0:i.position)==="end"&&r.reverse(),v(Hr,null,r)}get el(){return this}static get style(){return D1e}},[1,"calcite-shell-center-row",{detached:[516],heightScale:[513,"height-scale"],position:[513]}]);function R1e(){if(typeof customElements>"u")return;["calcite-shell-center-row"].forEach(t=>{switch(t){case"calcite-shell-center-row":customElements.get(t)||customElements.define(t,O1e);break}})}R1e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const qm={container:"container",content:"content",contentHeader:"content__header",contentBody:"content__body",contentDetached:"content--detached",separator:"separator"},R$={actionBar:"action-bar",header:"header"},P1e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{pointer-events:none;display:flex;flex:0 1 auto;align-items:stretch;--calcite-shell-panel-detached-max-height:unset}:host([width-scale=s]) .content{--calcite-shell-panel-width-internal:var(--calcite-shell-panel-width, 12vw);--calcite-shell-panel-max-width-internal:var(--calcite-shell-panel-max-width, 300px);--calcite-shell-panel-min-width-internal:var(--calcite-shell-panel-min-width, 150px)}:host([width-scale=m]) .content{--calcite-shell-panel-width-internal:var(--calcite-shell-panel-width, 20vw);--calcite-shell-panel-max-width-internal:var(--calcite-shell-panel-max-width, 420px);--calcite-shell-panel-min-width-internal:var(--calcite-shell-panel-min-width, 240px)}:host([width-scale=l]) .content{--calcite-shell-panel-width-internal:var(--calcite-shell-panel-width, 45vw);--calcite-shell-panel-max-width-internal:var(--calcite-shell-panel-max-width, 680px);--calcite-shell-panel-min-width-internal:var(--calcite-shell-panel-min-width, 340px)}:host([detached-height-scale=s]) .content--detached{--calcite-shell-panel-detached-max-height-internal:var(--calcite-shell-panel-detached-max-height, 40vh)}:host([detached-height-scale=m]) .content--detached{--calcite-shell-panel-detached-max-height-internal:var(--calcite-shell-panel-detached-max-height, 60vh)}:host([detached-height-scale=l]) .content--detached{--calcite-shell-panel-detached-max-height-internal:var(--calcite-shell-panel-detached-max-height, 80vh)}.container{pointer-events:none;box-sizing:border-box;display:flex;flex:1 1 auto;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2)}.container *{box-sizing:border-box}:host(:hover) .separator:not(:hover):not(:focus),:host(:focus-within) .separator:not(:hover):not(:focus){opacity:1;background-color:var(--calcite-ui-border-3)}.separator{pointer-events:auto;position:absolute;inset-block:0px;display:flex;block-size:100%;inline-size:0.125rem;background-color:transparent;opacity:0;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;cursor:col-resize;outline:none}.separator:hover{opacity:1;background-color:var(--calcite-ui-border-2)}.separator:focus{background-color:var(--calcite-ui-brand);opacity:1}:host([position=start]) .separator{inset-inline-end:-2px}:host([position=end]) .separator{inset-inline-start:-2px}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%;inline-size:100%;flex:1 1 auto;max-block-size:unset;max-inline-size:unset}::slotted(.calcite-match-height){display:flex;flex:1 1 auto;overflow:hidden}.content{pointer-events:auto;display:flex;flex-direction:column;flex-wrap:nowrap;align-items:stretch;align-self:stretch;background-color:var(--calcite-ui-background);padding:0px;inline-size:var(--calcite-shell-panel-width-internal);max-inline-size:var(--calcite-shell-panel-max-width-internal);min-inline-size:var(--calcite-shell-panel-min-width-internal);transition:max-block-size var(--calcite-animation-timing), max-inline-size var(--calcite-animation-timing)}.content__header{display:flex;flex:0 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch}.content__body{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.content--detached{margin-inline:0.5rem;margin-block:0.5rem auto;block-size:auto;overflow:hidden;border-radius:0.25rem;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);max-block-size:var(--calcite-shell-panel-detached-max-height-internal)}.content--detached ::slotted(calcite-panel),.content--detached ::slotted(calcite-flow){max-block-size:unset}:host([position=start]) .content--detached ::slotted(calcite-panel),:host([position=start]) .content--detached ::slotted(calcite-flow),:host([position=end]) .content--detached ::slotted(calcite-panel),:host([position=end]) .content--detached ::slotted(calcite-flow){border-style:none}.content[hidden]{display:none}slot[name=action-bar]::slotted(calcite-action-bar),.content ::slotted(calcite-flow),.content ::slotted(calcite-panel:not([closed])){border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3)}:host([position=start]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=start]) .content ::slotted(calcite-flow),:host([position=start]) .content ::slotted(calcite-panel){border-inline-start:none}:host([position=end]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=end]) .content ::slotted(calcite-flow),:host([position=end]) .content ::slotted(calcite-panel){border-inline-end:none}",L1e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.initialContentWidth=null,this.initialClientX=null,this.contentWidthMax=null,this.contentWidthMin=null,this.step=1,this.stepMultiplier=10,this.storeContentEl=e=>{this.contentEl=e},this.getKeyAdjustedWidth=e=>{const{key:t}=e,{el:i,step:n,stepMultiplier:r,contentWidthMin:s,contentWidthMax:a,initialContentWidth:o,position:l}=this,c=n*r;["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].indexOf(t)>-1&&e.preventDefault();const p=Ci(i),m=["ArrowLeft","ArrowRight"],g=p==="rtl"&&m.includes(t)?-1:1;if(t==="ArrowUp"||(l==="end"?t===m[0]:t===m[1])){const w=e.shiftKey?c:n;return o+g*w}if(t==="ArrowDown"||(l==="end"?t===m[1]:t===m[0])){const w=e.shiftKey?c:n;return o-g*w}return typeof s=="number"&&t==="Home"?s:typeof a=="number"&&t==="End"?a:t==="PageDown"?o-c:t==="PageUp"?o+c:null},this.separatorKeyDown=e=>{this.setInitialContentWidth();const t=this.getKeyAdjustedWidth(e);typeof t=="number"&&this.setContentWidth(t)},this.separatorPointerMove=e=>{e.preventDefault();const{el:t,initialContentWidth:i,position:n,initialClientX:r}=this,s=e.clientX-r,o=Ci(t)==="rtl"?-1:1,l=n==="end"?-o*s:o*s,c=i+l;this.setContentWidth(c)},this.separatorPointerUp=e=>{dr(e)&&(e.preventDefault(),document.removeEventListener("pointerup",this.separatorPointerUp),document.removeEventListener("pointermove",this.separatorPointerMove))},this.setInitialContentWidth=()=>{var e;this.initialContentWidth=(e=this.contentEl)==null?void 0:e.getBoundingClientRect().width},this.separatorPointerDown=e=>{if(!dr(e))return;e.preventDefault();const{separatorEl:t}=this;t&&document.activeElement!==t&&t.focus(),this.setInitialContentWidth(),this.initialClientX=e.clientX,document.addEventListener("pointerup",this.separatorPointerUp),document.addEventListener("pointermove",this.separatorPointerMove)},this.connectSeparator=e=>{this.disconnectSeparator(),this.separatorEl=e,e.addEventListener("pointerdown",this.separatorPointerDown)},this.disconnectSeparator=()=>{var e;(e=this.separatorEl)==null||e.removeEventListener("pointerdown",this.separatorPointerDown)},this.collapsed=!1,this.detached=!1,this.detachedHeightScale="l",this.widthScale="m",this.position=void 0,this.resizable=!1,this.messages=void 0,this.messageOverrides=void 0,this.contentWidth=null,this.defaultMessages=void 0,this.effectiveLocale=""}onMessagesChange(){}connectedCallback(){bn(this),ht(this),Mt(this)}async componentWillLoad(){await $t(this)}disconnectedCallback(){wn(this),this.disconnectSeparator(),pt(this),Dt(this)}componentDidLoad(){this.updateAriaValues()}effectiveLocaleChange(){At(this,this.effectiveLocale)}renderHeader(){const{el:e}=this;return Xe(e,R$.header)?v("div",{class:qm.contentHeader,key:"header"},v("slot",{name:R$.header})):null}render(){const{collapsed:e,detached:t,position:i,initialContentWidth:n,contentWidth:r,contentWidthMax:s,contentWidthMin:a,resizable:o}=this,l=!t&&o,c=v("div",{class:{[qm.content]:!0,[qm.contentDetached]:t},hidden:e,key:"content",ref:this.storeContentEl,style:l&&r?{width:`${r}px`}:null},this.renderHeader(),v("div",{class:qm.contentBody},v("slot",null))),h=l?v("div",{"aria-label":this.messages.resize,"aria-orientation":"horizontal","aria-valuemax":s,"aria-valuemin":a,"aria-valuenow":r??n,class:qm.separator,key:"separator",onKeyDown:this.separatorKeyDown,ref:this.connectSeparator,role:"separator",tabIndex:0,"touch-action":"none"}):null,m=[v("slot",{key:"action-bar",name:R$.actionBar}),c,h];return i==="end"&&m.reverse(),v("div",{class:{[qm.container]:!0}},m)}setContentWidth(e){const{contentWidthMax:t,contentWidthMin:i}=this,n=Math.round(e);this.contentWidth=typeof t=="number"&&typeof i=="number"?xF(n,i,t):n}updateAriaValues(){const{contentEl:e}=this,t=e&&getComputedStyle(e);if(!t)return;const i=parseInt(t.getPropertyValue("max-width"),10),n=parseInt(t.getPropertyValue("min-width"),10),r=parseInt(t.getPropertyValue("width"),10);typeof r=="number"&&!isNaN(r)&&(this.initialContentWidth=r),typeof i=="number"&&!isNaN(i)&&(this.contentWidthMax=i),typeof n=="number"&&!isNaN(n)&&(this.contentWidthMin=n),F0(this)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return P1e}},[1,"calcite-shell-panel",{collapsed:[516],detached:[516],detachedHeightScale:[513,"detached-height-scale"],widthScale:[513,"width-scale"],position:[513],resizable:[516],messages:[1040],messageOverrides:[1040],contentWidth:[32],defaultMessages:[32],effectiveLocale:[32]}]);function F1e(){if(typeof customElements>"u")return;["calcite-shell-panel"].forEach(t=>{switch(t){case"calcite-shell-panel":customElements.get(t)||customElements.define(t,L1e);break}})}F1e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Wm={handleLabel:"handle__label",handleLabelMinValue:"handle__label--minValue",handleLabelValue:"handle__label--value",tickMin:"tick__label--min",tickMax:"tick__label--max"},N1e=`@charset "UTF-8";@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}.scale--s{--calcite-slider-handle-size:0.625rem;--calcite-slider-handle-extension-height:0.4rem;--calcite-slider-container-font-size:var(--calcite-font-size--3)}.scale--s .handle__label,.scale--s .tick__label{line-height:.75rem}.scale--m{--calcite-slider-handle-size:0.875rem;--calcite-slider-handle-extension-height:0.5rem;--calcite-slider-container-font-size:var(--calcite-font-size--2)}.scale--m .handle__label,.scale--m .tick__label{line-height:1rem}.scale--l{--calcite-slider-handle-size:1rem;--calcite-slider-handle-extension-height:0.65rem;--calcite-slider-container-font-size:var(--calcite-font-size--1)}.scale--l .handle__label,.scale--l .tick__label{line-height:1rem}.handle__label,.tick__label{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2);font-size:var(--calcite-slider-container-font-size)}:host{display:block}.container{position:relative;display:block;overflow-wrap:normal;word-break:normal;padding-inline:calc(var(--calcite-slider-handle-size) * 0.5);padding-block:calc(var(--calcite-slider-handle-size) * 0.5);margin-block:calc(var(--calcite-slider-handle-size) * 0.5);margin-inline:0;--calcite-slider-full-handle-height:calc(
    var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height)
  )}:host([disabled]) .track__range,:host([disabled]) .tick--active{background-color:var(--calcite-ui-text-3)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.scale--s .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-0.375rem}.scale--m .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-0.5rem}.scale--l .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-0.55rem}:host([precise]:not([has-histogram])) .container .thumb--value{--calcite-slider-thumb-y-offset:calc(var(--calcite-slider-full-handle-height) * -1)}.thumb-container{position:relative;max-inline-size:100%}.thumb{--calcite-slider-thumb-x-offset:calc(var(--calcite-slider-handle-size) * 0.5);position:absolute;margin:0px;display:flex;cursor:pointer;flex-direction:column;align-items:center;border-style:none;background-color:transparent;padding:0px;font-family:inherit;outline:2px solid transparent;outline-offset:2px;transform:translate(var(--calcite-slider-thumb-x-offset), var(--calcite-slider-thumb-y-offset))}.thumb .handle__label.static,.thumb .handle__label.transformed{position:absolute;inset-block:0px;opacity:0}.thumb .handle__label.hyphen::after{content:"—";display:inline-block;inline-size:1em}.thumb .handle__label.hyphen--wrap{display:flex}.thumb .handle{box-sizing:border-box;border-radius:9999px;background-color:var(--calcite-ui-foreground-1);outline-color:transparent;block-size:var(--calcite-slider-handle-size);inline-size:var(--calcite-slider-handle-size);box-shadow:0 0 0 2px var(--calcite-ui-text-3) inset;transition:border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, box-shadow var(--calcite-animation-timing) ease}.thumb .handle-extension{inline-size:0.125rem;block-size:var(--calcite-slider-handle-extension-height);background-color:var(--calcite-ui-text-3)}.thumb:hover .handle{box-shadow:0 0 0 3px var(--calcite-ui-brand) inset}.thumb:hover .handle-extension{background-color:var(--calcite-ui-brand)}.thumb:focus .handle{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.thumb:focus .handle-extension{background-color:var(--calcite-ui-brand)}.thumb.thumb--minValue{transform:translate(calc(var(--calcite-slider-thumb-x-offset) * -1), var(--calcite-slider-thumb-y-offset))}.thumb.thumb--precise{--calcite-slider-thumb-y-offset:-0.125rem}:host([label-handles]) .thumb{--calcite-slider-thumb-x-offset:50%}:host([label-handles]):host(:not([has-histogram])) .scale--s .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-1.4375rem}:host([label-handles]):host(:not([has-histogram])) .scale--m .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-1.875rem}:host([label-handles]):host(:not([has-histogram])) .scale--l .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-2rem}:host([has-histogram][label-handles]) .handle__label,:host([label-handles]:not([has-histogram])) .thumb--minValue.thumb--precise .handle__label{margin-block-start:0.5em}:host(:not([has-histogram]):not([precise])) .handle__label,:host([label-handles]:not([has-histogram])) .thumb--value .handle__label{margin-block-end:0.5em}:host([label-handles][precise]):host(:not([has-histogram])) .scale--s .thumb--value{--calcite-slider-thumb-y-offset:-2.075rem}:host([label-handles][precise]):host(:not([has-histogram])) .scale--m .thumb--value{--calcite-slider-thumb-y-offset:-2.75rem}:host([label-handles][precise]):host(:not([has-histogram])) .scale--l .thumb--value{--calcite-slider-thumb-y-offset:-3.0625rem}.thumb:focus .handle,.thumb--active .handle{background-color:var(--calcite-ui-brand);box-shadow:0 0 8px 0 rgba(0, 0, 0, 0.16)}.thumb:hover.thumb--precise:after,.thumb:focus.thumb--precise:after,.thumb--active.thumb--precise:after{background-color:var(--calcite-ui-brand)}.track{position:relative;block-size:0.125rem;border-radius:0px;background-color:var(--calcite-ui-border-2);transition:all var(--calcite-internal-animation-timing-medium) ease-in}.track__range{position:absolute;inset-block-start:0px;block-size:0.125rem;background-color:var(--calcite-ui-brand)}.container--range .track__range:hover{cursor:ew-resize}.container--range .track__range:after{position:absolute;inline-size:100%;content:"";inset-block-start:calc(var(--calcite-slider-full-handle-height) * 0.5 * -1);block-size:calc(var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height))}@media (forced-colors: active){.thumb{outline-width:0;outline-offset:0}.handle{outline:2px solid transparent;outline-offset:2px}.thumb:focus .handle,.thumb .handle-extension,.thumb:hover .handle-extension,.thumb:focus .handle-extension,.thumb:active .handle-extension{background-color:canvasText}.track{background-color:canvasText}.track__range{background-color:highlight}}.tick{position:absolute;block-size:0.25rem;inline-size:0.125rem;border-width:1px;border-style:solid;background-color:var(--calcite-ui-border-input);border-color:var(--calcite-ui-foreground-1);inset-block-start:-2px;pointer-events:none;margin-inline-start:calc(-1 * 0.125rem)}.tick--active{background-color:var(--calcite-ui-brand)}.tick__label{pointer-events:none;margin-block-start:0.875rem;display:flex;justify-content:center}.tick__label--min{transition:opacity var(--calcite-animation-timing)}.tick__label--max{transition:opacity var(--calcite-internal-animation-timing-fast)}:host([has-histogram][label-handles]) .tick__label--min,:host([has-histogram][label-handles]) .tick__label--max,:host([has-histogram][precise]) .tick__label--min,:host([has-histogram][precise]) .tick__label--max{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}.graph{color:var(--calcite-ui-foreground-3);block-size:48px}:host([label-ticks][ticks]) .container{padding-block-end:calc(0.875rem + var(--calcite-slider-container-font-size))}:host([has-histogram]):host([precise][label-handles]) .container{padding-block-end:calc(var(--calcite-slider-full-handle-height) + 1em)}:host([has-histogram]):host([label-handles]:not([precise])) .container{padding-block-end:calc(var(--calcite-slider-handle-size) * 0.5 + 1em)}:host([has-histogram]):host([precise]:not([label-handles])) .container{padding-block-end:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([precise]:not([label-handles])) .container{padding-block-start:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([precise]:not([label-handles])) .container--range{padding-block-end:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([label-handles]:not([precise])) .container{padding-block-start:calc(var(--calcite-slider-full-handle-height) + 4px)}:host(:not([has-histogram])):host([label-handles][precise]) .container{padding-block-start:calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px)}:host(:not([has-histogram])):host([label-handles][precise]) .container--range{padding-block-end:calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px)}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}`;function Wr(e){return Array.isArray(e)}const z1e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteSliderInput=B(this,"calciteSliderInput",6),this.calciteSliderChange=B(this,"calciteSliderChange",6),this.activeProp="value",this.guid=`calcite-slider-${$i()}`,this.dragUpdate=e=>{if(e.preventDefault(),this.dragProp){const t=this.translate(e.clientX||e.pageX);if(Wr(this.value)&&this.dragProp==="minMaxValue")if(this.minValueDragRange&&this.maxValueDragRange&&this.minMaxValueRange){const i=t-this.minValueDragRange,n=t+this.maxValueDragRange;n<=this.max&&i>=this.min&&n-i===this.minMaxValueRange&&this.setValue({minValue:this.clamp(i,"minValue"),maxValue:this.clamp(n,"maxValue")})}else this.minValueDragRange=t-this.minValue,this.maxValueDragRange=this.maxValue-t,this.minMaxValueRange=this.maxValue-this.minValue;else this.setValue({[this.dragProp]:this.clamp(t,this.dragProp)})}},this.pointerUpDragEnd=e=>{dr(e)&&this.dragEnd(e)},this.dragEnd=e=>{this.removeDragListeners(),this.focusActiveHandle(e.clientX),this.lastDragPropValue!=this[this.dragProp]&&this.emitChange(),this.dragProp=null,this.lastDragPropValue=null,this.minValueDragRange=null,this.maxValueDragRange=null,this.minMaxValueRange=null},this.storeTrackRef=e=>{this.trackEl=e},this.determineGroupSeparator=e=>{if(typeof e=="number")return Me.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator},Me.localize(e.toString())},this.disabled=!1,this.groupSeparator=!1,this.hasHistogram=!1,this.histogram=void 0,this.histogramStops=void 0,this.labelHandles=!1,this.labelTicks=!1,this.max=100,this.maxLabel=void 0,this.maxValue=void 0,this.min=0,this.minLabel=void 0,this.minValue=void 0,this.mirrored=!1,this.name=void 0,this.numberingSystem=void 0,this.pageStep=void 0,this.precise=!1,this.required=!1,this.snap=!1,this.step=1,this.ticks=void 0,this.value=0,this.scale="m",this.effectiveLocale="",this.minMaxValueRange=null,this.minValueDragRange=null,this.maxValueDragRange=null,this.tickValues=[]}histogramWatcher(e){this.hasHistogram=!!e}valueHandler(){this.setMinMaxFromValue()}minMaxValueHandler(){this.setValueFromMinMax()}connectedCallback(){ht(this),this.setMinMaxFromValue(),this.setValueFromMinMax(),vr(this),na(this)}disconnectedCallback(){Gr(this),ra(this),pt(this),this.removeDragListeners()}componentWillLoad(){We(this),this.tickValues=this.generateTickValues(),Wr(this.value)||(this.value=this.clamp(this.value)),_C(this,this.value),this.snap&&!Wr(this.value)&&(this.value=this.getClosestStep(this.value)),this.histogram&&(this.hasHistogram=!0)}componentDidLoad(){Ke(this)}componentDidRender(){this.labelHandles&&(this.adjustHostObscuredHandleLabel("value"),Wr(this.value)&&(this.adjustHostObscuredHandleLabel("minValue"),this.precise&&!this.hasHistogram||this.hyphenateCollidingRangeHandleLabels())),this.hideObscuredBoundingTickLabels(),et(this)}render(){const e=this.el.id||this.guid,t=Wr(this.value)?"maxValue":"value",i=Wr(this.value)?this.maxValue:this.value,n=this.determineGroupSeparator(i),r=this.determineGroupSeparator(this.minValue),s=this.minValue||this.min,a=this.shouldUseMinValue(),o=this.getUnitInterval(a?this.minValue:s)*100,l=this.getUnitInterval(i)*100,c=this.shouldMirror(),h=`${c?100-o:o}%`,p=`${c?l:100-l}%`,m=Wr(this.value),g=`${Wm.handleLabel} ${Wm.handleLabelMinValue}`,y=`${Wm.handleLabel} ${Wm.handleLabelValue}`,b=v("div",{"aria-disabled":this.disabled,"aria-label":m?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":i,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===t},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=t,onPointerDown:P=>this.pointerDownDragStart(P,t),ref:P=>this.maxHandle=P,role:"slider",style:{right:p},tabIndex:0},v("div",{class:"handle"})),w=v("div",{"aria-disabled":this.disabled,"aria-label":m?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":i,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===t},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=t,onPointerDown:P=>this.pointerDownDragStart(P,t),ref:P=>this.maxHandle=P,role:"slider",style:{right:p},tabIndex:0},v("span",{"aria-hidden":"true",class:y},n),v("span",{"aria-hidden":"true",class:`${y} static`},n),v("span",{"aria-hidden":"true",class:`${y} transformed`},n),v("div",{class:"handle"})),_=v("div",{"aria-disabled":this.disabled,"aria-label":m?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":i,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===t},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=t,onPointerDown:P=>this.pointerDownDragStart(P,t),ref:P=>this.maxHandle=P,role:"slider",style:{right:p},tabIndex:0},v("div",{class:"handle"}),v("span",{"aria-hidden":"true",class:y},n),v("span",{"aria-hidden":"true",class:`${y} static`},n),v("span",{"aria-hidden":"true",class:`${y} transformed`},n)),x=v("div",{"aria-disabled":this.disabled,"aria-label":m?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":i,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===t,"thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=t,onPointerDown:P=>this.pointerDownDragStart(P,t),ref:P=>this.maxHandle=P,role:"slider",style:{right:p},tabIndex:0},v("div",{class:"handle"}),v("div",{class:"handle-extension"})),S=v("div",{"aria-disabled":this.disabled,"aria-label":m?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":i,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===t,"thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=t,onPointerDown:P=>this.pointerDownDragStart(P,t),ref:P=>this.maxHandle=P,role:"slider",style:{right:p},tabIndex:0},v("div",{class:"handle-extension"}),v("div",{class:"handle"})),k=v("div",{"aria-disabled":this.disabled,"aria-label":m?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":i,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===t,"thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=t,onPointerDown:P=>this.pointerDownDragStart(P,t),ref:P=>this.maxHandle=P,role:"slider",style:{right:p},tabIndex:0},v("span",{"aria-hidden":"true",class:y},n),v("span",{"aria-hidden":"true",class:`${y} static`},n),v("span",{"aria-hidden":"true",class:`${y} transformed`},n),v("div",{class:"handle"}),v("div",{class:"handle-extension"})),A=v("div",{"aria-disabled":this.disabled,"aria-label":m?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":i,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===t,"thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=t,onPointerDown:P=>this.pointerDownDragStart(P,t),ref:P=>this.maxHandle=P,role:"slider",style:{right:p},tabIndex:0},v("div",{class:"handle-extension"}),v("div",{class:"handle"}),v("span",{"aria-hidden":"true",class:y},n),v("span",{"aria-hidden":"true",class:`${y} static`},n),v("span",{"aria-hidden":"true",class:`${y} transformed`},n)),T=v("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue"},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:P=>this.pointerDownDragStart(P,"minValue"),ref:P=>this.minHandle=P,role:"slider",style:{left:h},tabIndex:0},v("div",{class:"handle"})),C=v("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue"},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:P=>this.pointerDownDragStart(P,"minValue"),ref:P=>this.minHandle=P,role:"slider",style:{left:h},tabIndex:0},v("span",{"aria-hidden":"true",class:g},r),v("span",{"aria-hidden":"true",class:`${g} static`},r),v("span",{"aria-hidden":"true",class:`${g} transformed`},r),v("div",{class:"handle"})),M=v("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue"},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:P=>this.pointerDownDragStart(P,"minValue"),ref:P=>this.minHandle=P,role:"slider",style:{left:h},tabIndex:0},v("div",{class:"handle"}),v("span",{"aria-hidden":"true",class:g},r),v("span",{"aria-hidden":"true",class:`${g} static`},r),v("span",{"aria-hidden":"true",class:`${g} transformed`},r)),L=v("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue","thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:P=>this.pointerDownDragStart(P,"minValue"),ref:P=>this.minHandle=P,role:"slider",style:{left:h},tabIndex:0},v("div",{class:"handle-extension"}),v("div",{class:"handle"})),V=v("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue","thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:P=>this.pointerDownDragStart(P,"minValue"),ref:P=>this.minHandle=P,role:"slider",style:{left:h},tabIndex:0},v("div",{class:"handle-extension"}),v("div",{class:"handle"}),v("span",{"aria-hidden":"true",class:g},r),v("span",{"aria-hidden":"true",class:`${g} static`},r),v("span",{"aria-hidden":"true",class:`${g} transformed`},r));return v(Fe,{id:e,onTouchStart:this.handleTouchStart},v("div",{"aria-label":zr(this),class:{container:!0,["container--range"]:m,[`scale--${this.scale}`]:!0}},this.renderGraph(),v("div",{class:"track",ref:this.storeTrackRef},v("div",{class:"track__range",onPointerDown:P=>this.pointerDownDragStart(P,"minMaxValue"),style:{left:`${c?100-l:o}%`,right:`${c?o:100-l}%`}}),v("div",{class:"ticks"},this.tickValues.map(P=>{const J=`${this.getUnitInterval(P)*100}%`;let oe=P>=s&&P<=i;return a&&(oe=P>=this.minValue&&P<=this.maxValue),v("span",{class:{tick:!0,"tick--active":oe},style:{left:c?"":J,right:c?J:""}},this.renderTickLabel(P))}))),v("div",{class:"thumb-container"},!this.precise&&!this.labelHandles&&m&&T,!this.hasHistogram&&!this.precise&&this.labelHandles&&m&&C,this.precise&&!this.labelHandles&&m&&L,this.precise&&this.labelHandles&&m&&V,this.hasHistogram&&!this.precise&&this.labelHandles&&m&&M,!this.precise&&!this.labelHandles&&b,!this.hasHistogram&&!this.precise&&this.labelHandles&&w,!this.hasHistogram&&this.precise&&!this.labelHandles&&x,this.hasHistogram&&this.precise&&!this.labelHandles&&S,!this.hasHistogram&&this.precise&&this.labelHandles&&k,this.hasHistogram&&!this.precise&&this.labelHandles&&_,this.hasHistogram&&this.precise&&this.labelHandles&&A,v(sa,{component:this}))))}renderGraph(){return this.histogram?v("calcite-graph",{class:"graph",colorStops:this.histogramStops,data:this.histogram,highlightMax:Wr(this.value)?this.maxValue:this.value,highlightMin:Wr(this.value)?this.minValue:this.min,max:this.max,min:this.min}):null}renderTickLabel(e){const t=Wr(this.value),i=e===this.min,n=e===this.max,r=this.determineGroupSeparator(e),s=v("span",{class:{tick__label:!0,[Wm.tickMin]:i,[Wm.tickMax]:n}},r);return this.labelTicks&&!this.hasHistogram&&!t||this.labelTicks&&!this.hasHistogram&&t&&!this.precise&&!this.labelHandles||this.labelTicks&&!this.hasHistogram&&t&&!this.precise&&this.labelHandles||this.labelTicks&&!this.hasHistogram&&t&&this.precise&&(i||n)||this.labelTicks&&this.hasHistogram&&!this.precise&&!this.labelHandles||this.labelTicks&&this.hasHistogram&&this.precise&&!this.labelHandles&&(i||n)||this.labelTicks&&this.hasHistogram&&!this.precise&&this.labelHandles&&(i||n)||this.labelTicks&&this.hasHistogram&&this.precise&&this.labelHandles&&(i||n)?s:null}keyDownHandler(e){const t=this.shouldMirror(),{activeProp:i,max:n,min:r,pageStep:s,step:a}=this,o=this[i],{key:l}=e;if(Qa(l)){e.preventDefault();return}let c;if(l==="ArrowUp"||l==="ArrowRight"?c=o+a*(t&&l==="ArrowRight"?-1:1):l==="ArrowDown"||l==="ArrowLeft"?c=o-a*(t&&l==="ArrowLeft"?-1:1):l==="PageUp"?s&&(c=o+s):l==="PageDown"?s&&(c=o-s):l==="Home"?c=r:l==="End"&&(c=n),isNaN(c))return;e.preventDefault();const h=Number(c.toFixed(eh(a)));this.setValue({[i]:this.clamp(h,i)})}pointerDownHandler(e){if(!dr(e))return;const t=e.clientX||e.pageX,i=this.translate(t);let n="value";Wr(this.value)&&(i>=this.minValue&&i<=this.maxValue&&this.lastDragProp==="minMaxValue"?n="minMaxValue":n=Math.abs(this.maxValue-i)<Math.abs(this.minValue-i)||i>this.maxValue?"maxValue":"minValue"),this.lastDragPropValue=this[n],this.dragStart(n),this.el.shadowRoot.querySelector(".thumb:active")||this.setValue({[n]:this.clamp(i,n)}),this.focusActiveHandle(t)}handleTouchStart(e){e.preventDefault()}async setFocus(){await He(this);const e=this.minHandle?this.minHandle:this.maxHandle;e==null||e.focus()}setValueFromMinMax(){const{minValue:e,maxValue:t}=this;typeof e=="number"&&typeof t=="number"&&(this.value=[e,t])}setMinMaxFromValue(){const{value:e}=this;Wr(e)&&(this.minValue=e[0],this.maxValue=e[1])}onLabelClick(){this.setFocus()}shouldMirror(){return this.mirrored&&!this.hasHistogram}shouldUseMinValue(){return Wr(this.value)?this.hasHistogram&&this.maxValue===0||!this.hasHistogram&&this.minValue===0:!1}generateTickValues(){const e=[];let t=this.min;for(;this.ticks&&t<this.max+this.ticks;)e.push(Math.min(t,this.max)),t=t+this.ticks;return e}pointerDownDragStart(e,t){dr(e)&&this.dragStart(t)}dragStart(e){this.dragProp=e,this.lastDragProp=this.dragProp,this.activeProp=e,document.addEventListener("pointermove",this.dragUpdate),document.addEventListener("pointerup",this.pointerUpDragEnd),document.addEventListener("pointercancel",this.dragEnd)}focusActiveHandle(e){switch(this.dragProp){case"minValue":this.minHandle.focus();break;case"maxValue":case"value":this.maxHandle.focus();break;case"minMaxValue":this.getClosestHandle(e).focus();break}}emitInput(){this.calciteSliderInput.emit()}emitChange(){this.calciteSliderChange.emit()}removeDragListeners(){document.removeEventListener("pointermove",this.dragUpdate),document.removeEventListener("pointerup",this.pointerUpDragEnd),document.removeEventListener("pointercancel",this.dragEnd)}setValue(e){let t;if(Object.keys(e).forEach(n=>{const r=e[n];t||(t=this[n]!==r),this[n]=r}),!t)return;this.dragProp||this.emitChange(),this.emitInput()}clamp(e,t){return e=xF(e,this.min,this.max),t==="maxValue"&&(e=Math.max(e,this.minValue)),t==="minValue"&&(e=Math.min(e,this.maxValue)),e}translate(e){const t=this.max-this.min,{left:i,width:n}=this.trackEl.getBoundingClientRect(),r=(e-i)/n,s=this.shouldMirror(),a=this.clamp(this.min+t*(s?1-r:r));let o=Number(a.toFixed(eh(this.step)));return this.snap&&this.step&&(o=this.getClosestStep(o)),o}getClosestStep(e){if(e=Number(this.clamp(e).toFixed(eh(this.step))),this.step){const t=Math.round(e/this.step)*this.step;e=Number(this.clamp(t).toFixed(eh(this.step)))}return e}getClosestHandle(e){return this.getDistanceX(this.maxHandle,e)>this.getDistanceX(this.minHandle,e)?this.minHandle:this.maxHandle}getDistanceX(e,t){return Math.abs(e.getBoundingClientRect().left-t)}getFontSizeForElement(e){return Number(window.getComputedStyle(e).getPropertyValue("font-size").match(/\d+/)[0])}getUnitInterval(e){e=this.clamp(e);const t=this.max-this.min;return(e-this.min)/t}adjustHostObscuredHandleLabel(e){const t=this.el.shadowRoot.querySelector(`.handle__label--${e}`),i=this.el.shadowRoot.querySelector(`.handle__label--${e}.static`),n=this.el.shadowRoot.querySelector(`.handle__label--${e}.transformed`),r=i.getBoundingClientRect(),s=this.getHostOffset(r.left,r.right);t.style.transform=`translateX(${s}px)`,n.style.transform=`translateX(${s}px)`}hyphenateCollidingRangeHandleLabels(){const{shadowRoot:e}=this.el,t=this.shouldMirror(),i=t?"value":"minValue",n=t?"minValue":"value",r=e.querySelector(`.handle__label--${i}`),s=e.querySelector(`.handle__label--${i}.static`),a=e.querySelector(`.handle__label--${i}.transformed`),o=this.getHostOffset(s.getBoundingClientRect().left,s.getBoundingClientRect().right),l=e.querySelector(`.handle__label--${n}`),c=e.querySelector(`.handle__label--${n}.static`),h=e.querySelector(`.handle__label--${n}.transformed`),p=this.getHostOffset(c.getBoundingClientRect().left,c.getBoundingClientRect().right),m=this.getFontSizeForElement(r),g=this.getRangeLabelOverlap(a,h),y=r,b=m/2;if(g>0){if(y.classList.add("hyphen","hyphen--wrap"),p===0&&o===0){let w=g/2-b;w=Math.sign(w)===-1?Math.abs(w):-w;const _=this.getHostOffset(a.getBoundingClientRect().left+w-b,a.getBoundingClientRect().right+w-b);let x=g/2;const S=this.getHostOffset(h.getBoundingClientRect().left+x,h.getBoundingClientRect().right+x);_!==0&&(w+=_,x+=_),S!==0&&(w+=S,x+=S),r.style.transform=`translateX(${w}px)`,a.style.transform=`translateX(${w-b}px)`,l.style.transform=`translateX(${x}px)`,h.style.transform=`translateX(${x}px)`}else if(o>0||p>0)r.style.transform=`translateX(${o+b}px)`,l.style.transform=`translateX(${g+p}px)`,h.style.transform=`translateX(${g+p}px)`;else if(o<0||p<0){let w=Math.abs(o)+g-b;w=Math.sign(w)===-1?Math.abs(w):-w,r.style.transform=`translateX(${w}px)`,a.style.transform=`translateX(${w-b}px)`}}else y.classList.remove("hyphen","hyphen--wrap"),r.style.transform=`translateX(${o}px)`,a.style.transform=`translateX(${o}px)`,l.style.transform=`translateX(${p}px)`,h.style.transform=`translateX(${p}px)`}hideObscuredBoundingTickLabels(){const e=Wr(this.value);if(!this.hasHistogram&&!e&&!this.labelHandles&&!this.precise||!this.hasHistogram&&!e&&this.labelHandles&&!this.precise||!this.hasHistogram&&!e&&!this.labelHandles&&this.precise||!this.hasHistogram&&!e&&this.labelHandles&&this.precise||!this.hasHistogram&&e&&!this.precise||this.hasHistogram&&!this.precise&&!this.labelHandles)return;const t=this.el.shadowRoot.querySelector(".thumb--minValue"),i=this.el.shadowRoot.querySelector(".thumb--value"),n=this.el.shadowRoot.querySelector(".tick__label--min"),r=this.el.shadowRoot.querySelector(".tick__label--max");!t&&i&&n&&r&&(n.style.opacity=this.isMinTickLabelObscured(n,i)?"0":"1",r.style.opacity=this.isMaxTickLabelObscured(r,i)?"0":"1"),t&&i&&n&&r&&(n.style.opacity=this.isMinTickLabelObscured(n,t)||this.isMinTickLabelObscured(n,i)?"0":"1",r.style.opacity=this.isMaxTickLabelObscured(r,t)||this.isMaxTickLabelObscured(r,i)&&this.hasHistogram?"0":"1")}getHostOffset(e,t){const i=this.el.getBoundingClientRect(),n=7;return e+n<i.left?i.left-e-n:t-n>i.right?-(t-i.right)+n:0}getRangeLabelOverlap(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect(),r=this.getFontSizeForElement(e),s=i.right+r-n.left;return Math.max(s,0)}isMinTickLabelObscured(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return s8(i,n)}isMaxTickLabelObscured(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return s8(i,n)}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{histogram:["histogramWatcher"],value:["valueHandler"],minValue:["minMaxValueHandler"],maxValue:["minMaxValueHandler"]}}static get style(){return N1e}},[17,"calcite-slider",{disabled:[516],groupSeparator:[516,"group-separator"],hasHistogram:[1540,"has-histogram"],histogram:[16],histogramStops:[16],labelHandles:[516,"label-handles"],labelTicks:[516,"label-ticks"],max:[514],maxLabel:[1,"max-label"],maxValue:[1026,"max-value"],min:[514],minLabel:[1,"min-label"],minValue:[1026,"min-value"],mirrored:[516],name:[513],numberingSystem:[1,"numbering-system"],pageStep:[514,"page-step"],precise:[516],required:[516],snap:[516],step:[514],ticks:[514],value:[1538],scale:[513],effectiveLocale:[32],minMaxValueRange:[32],minValueDragRange:[32],maxValueDragRange:[32],tickValues:[32],setFocus:[64]},[[0,"keydown","keyDownHandler"],[1,"pointerdown","pointerDownHandler"]]]);function V1e(){if(typeof customElements>"u")return;["calcite-slider","calcite-graph"].forEach(t=>{switch(t){case"calcite-slider":customElements.get(t)||customElements.define(t,z1e);break;case"calcite-graph":customElements.get(t)||MJ();break}})}V1e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 *//**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function $V(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Xl(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?$V(Object(i),!0).forEach(function(n){j1e(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$V(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function l2(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l2=function(t){return typeof t}:l2=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l2(e)}function j1e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function gu(){return gu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gu.apply(this,arguments)}function U1e(e,t){if(e==null)return{};var i={},n=Object.keys(e),r,s;for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&(i[r]=e[r]);return i}function B1e(e,t){if(e==null)return{};var i=U1e(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var H1e="1.15.0";function ru(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Du=ru(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),__=ru(/Edge/i),AV=ru(/firefox/i),T1=ru(/safari/i)&&!ru(/chrome/i)&&!ru(/android/i),uZ=ru(/iP(ad|od|hone)/i),dZ=ru(/chrome/i)&&ru(/android/i),hZ={capture:!1,passive:!1};function Pt(e,t,i){e.addEventListener(t,i,!Du&&hZ)}function bt(e,t,i){e.removeEventListener(t,i,!Du&&hZ)}function $k(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function G1e(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ll(e,t,i,n){if(e){i=i||document;do{if(t!=null&&(t[0]===">"?e.parentNode===i&&$k(e,t):$k(e,t))||n&&e===i)return e;if(e===i)break}while(e=G1e(e))}return null}var MV=/\s+/g;function ks(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(MV," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(MV," ")}}function Pe(e,t,i){var n=e&&e.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),t===void 0?i:i[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=i+(typeof i=="string"?"":"px")}}function Ry(e,t){var i="";if(typeof e=="string")i=e;else do{var n=Pe(e,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(i)}function pZ(e,t,i){if(e){var n=e.getElementsByTagName(t),r=0,s=n.length;if(i)for(;r<s;r++)i(n[r],r);return n}return[]}function ql(){var e=document.scrollingElement;return e||document.documentElement}function mn(e,t,i,n,r){if(!(!e.getBoundingClientRect&&e!==window)){var s,a,o,l,c,h,p;if(e!==window&&e.parentNode&&e!==ql()?(s=e.getBoundingClientRect(),a=s.top,o=s.left,l=s.bottom,c=s.right,h=s.height,p=s.width):(a=0,o=0,l=window.innerHeight,c=window.innerWidth,h=window.innerHeight,p=window.innerWidth),(t||i)&&e!==window&&(r=r||e.parentNode,!Du))do if(r&&r.getBoundingClientRect&&(Pe(r,"transform")!=="none"||i&&Pe(r,"position")!=="static")){var m=r.getBoundingClientRect();a-=m.top+parseInt(Pe(r,"border-top-width")),o-=m.left+parseInt(Pe(r,"border-left-width")),l=a+s.height,c=o+s.width;break}while(r=r.parentNode);if(n&&e!==window){var g=Ry(r||e),y=g&&g.a,b=g&&g.d;g&&(a/=b,o/=y,p/=y,h/=b,l=a+h,c=o+p)}return{top:a,left:o,bottom:l,right:c,width:p,height:h}}}function DV(e,t,i){for(var n=th(e,!0),r=mn(e)[t];n;){var s=mn(n)[i],a=void 0;if(i==="top"||i==="left"?a=r>=s:a=r<=s,!a)return n;if(n===ql())break;n=th(n,!1)}return!1}function d0(e,t,i,n){for(var r=0,s=0,a=e.children;s<a.length;){if(a[s].style.display!=="none"&&a[s]!==Oe.ghost&&(n||a[s]!==Oe.dragged)&&Ll(a[s],i.draggable,e,!1)){if(r===t)return a[s];r++}s++}return null}function TF(e,t){for(var i=e.lastElementChild;i&&(i===Oe.ghost||Pe(i,"display")==="none"||t&&!$k(i,t));)i=i.previousElementSibling;return i||null}function Ca(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Oe.clone&&(!t||$k(e,t))&&i++;return i}function OV(e){var t=0,i=0,n=ql();if(e)do{var r=Ry(e),s=r.a,a=r.d;t+=e.scrollLeft*s,i+=e.scrollTop*a}while(e!==n&&(e=e.parentNode));return[t,i]}function q1e(e,t){for(var i in e)if(e.hasOwnProperty(i)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i)}return-1}function th(e,t){if(!e||!e.getBoundingClientRect)return ql();var i=e,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var r=Pe(i);if(i.clientWidth<i.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return ql();if(n||t)return i;n=!0}}while(i=i.parentNode);return ql()}function W1e(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function P$(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var $1;function fZ(e,t){return function(){if(!$1){var i=arguments,n=this;i.length===1?e.call(n,i[0]):e.apply(n,i),$1=setTimeout(function(){$1=void 0},t)}}}function K1e(){clearTimeout($1),$1=void 0}function mZ(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function gZ(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}var Bs="Sortable"+new Date().getTime();function Y1e(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(Pe(r,"display")==="none"||r===Oe.ghost)){e.push({target:r,rect:mn(r)});var s=Xl({},e[e.length-1].rect);if(r.thisAnimationDuration){var a=Ry(r,!0);a&&(s.top-=a.f,s.left-=a.e)}r.fromRect=s}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(q1e(e,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var s=!1,a=0;e.forEach(function(o){var l=0,c=o.target,h=c.fromRect,p=mn(c),m=c.prevFromRect,g=c.prevToRect,y=o.rect,b=Ry(c,!0);b&&(p.top-=b.f,p.left-=b.e),c.toRect=p,c.thisAnimationDuration&&P$(m,p)&&!P$(h,p)&&(y.top-p.top)/(y.left-p.left)===(h.top-p.top)/(h.left-p.left)&&(l=Z1e(y,m,g,r.options)),P$(p,h)||(c.prevFromRect=h,c.prevToRect=p,l||(l=r.options.animation),r.animate(c,y,p,l)),l&&(s=!0,a=Math.max(a,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),s?t=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),e=[]},animate:function(n,r,s,a){if(a){Pe(n,"transition",""),Pe(n,"transform","");var o=Ry(this.el),l=o&&o.a,c=o&&o.d,h=(r.left-s.left)/(l||1),p=(r.top-s.top)/(c||1);n.animatingX=!!h,n.animatingY=!!p,Pe(n,"transform","translate3d("+h+"px,"+p+"px,0)"),this.forRepaintDummy=J1e(n),Pe(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),Pe(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){Pe(n,"transition",""),Pe(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function J1e(e){return e.offsetWidth}function Z1e(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}var Km=[],L$={initializeByDefault:!0},x_={mount:function(t){for(var i in L$)L$.hasOwnProperty(i)&&!(i in t)&&(t[i]=L$[i]);Km.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Km.push(t)},pluginEvent:function(t,i,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var s=t+"Global";Km.forEach(function(a){i[a.pluginName]&&(i[a.pluginName][s]&&i[a.pluginName][s](Xl({sortable:i},n)),i.options[a.pluginName]&&i[a.pluginName][t]&&i[a.pluginName][t](Xl({sortable:i},n)))})},initializePlugins:function(t,i,n,r){Km.forEach(function(o){var l=o.pluginName;if(!(!t.options[l]&&!o.initializeByDefault)){var c=new o(t,i,t.options);c.sortable=t,c.options=t.options,t[l]=c,gu(n,c.defaults)}});for(var s in t.options)if(t.options.hasOwnProperty(s)){var a=this.modifyOption(t,s,t.options[s]);typeof a<"u"&&(t.options[s]=a)}},getEventProperties:function(t,i){var n={};return Km.forEach(function(r){typeof r.eventProperties=="function"&&gu(n,r.eventProperties.call(i[r.pluginName],t))}),n},modifyOption:function(t,i,n){var r;return Km.forEach(function(s){t[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[i]=="function"&&(r=s.optionListeners[i].call(t[s.pluginName],n))}),r}};function Q1e(e){var t=e.sortable,i=e.rootEl,n=e.name,r=e.targetEl,s=e.cloneEl,a=e.toEl,o=e.fromEl,l=e.oldIndex,c=e.newIndex,h=e.oldDraggableIndex,p=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,y=e.extraEventProperties;if(t=t||i&&i[Bs],!!t){var b,w=t.options,_="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Du&&!__?b=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(n,!0,!0)),b.to=a||i,b.from=o||i,b.item=r||i,b.clone=s,b.oldIndex=l,b.newIndex=c,b.oldDraggableIndex=h,b.newDraggableIndex=p,b.originalEvent=m,b.pullMode=g?g.lastPutMode:void 0;var x=Xl(Xl({},y),x_.getEventProperties(n,t));for(var S in x)b[S]=x[S];i&&i.dispatchEvent(b),w[_]&&w[_].call(t,b)}}var X1e=["evt"],Kr=function(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,s=B1e(n,X1e);x_.pluginEvent.bind(Oe)(t,i,Xl({dragEl:ce,parentEl:Oi,ghostEl:Ge,rootEl:pi,nextEl:yp,lastDownEl:c2,cloneEl:wi,cloneHidden:Kd,dragStarted:cb,putSortable:Nn,activeSortable:Oe.active,originalEvent:r,oldIndex:dy,oldDraggableIndex:A1,newIndex:Os,newDraggableIndex:Pd,hideGhostForTarget:wZ,unhideGhostForTarget:_Z,cloneNowHidden:function(){Kd=!0},cloneNowShown:function(){Kd=!1},dispatchSortableEvent:function(o){Er({sortable:i,name:o,originalEvent:r})}},s))};function Er(e){Q1e(Xl({putSortable:Nn,cloneEl:wi,targetEl:ce,rootEl:pi,oldIndex:dy,oldDraggableIndex:A1,newIndex:Os,newDraggableIndex:Pd},e))}var ce,Oi,Ge,pi,yp,c2,wi,Kd,dy,Os,A1,Pd,Fx,Nn,yg=!1,Ak=!1,Mk=[],ip,uo,F$,N$,RV,PV,cb,Ym,M1,D1=!1,Nx=!1,u2,Zn,z$=[],rD=!1,Dk=[],IC=typeof document<"u",zx=uZ,LV=__||Du?"cssFloat":"float",ewe=IC&&!dZ&&!uZ&&"draggable"in document.createElement("div"),yZ=function(){if(IC){if(Du)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),vZ=function(t,i){var n=Pe(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),s=d0(t,0,i),a=d0(t,1,i),o=s&&Pe(s),l=a&&Pe(a),c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+mn(s).width,h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+mn(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&o.float&&o.float!=="none"){var p=o.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===p)?"vertical":"horizontal"}return s&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||c>=r&&n[LV]==="none"||a&&n[LV]==="none"&&c+h>r)?"vertical":"horizontal"},twe=function(t,i,n){var r=n?t.left:t.top,s=n?t.right:t.bottom,a=n?t.width:t.height,o=n?i.left:i.top,l=n?i.right:i.bottom,c=n?i.width:i.height;return r===o||s===l||r+a/2===o+c/2},iwe=function(t,i){var n;return Mk.some(function(r){var s=r[Bs].options.emptyInsertThreshold;if(!(!s||TF(r))){var a=mn(r),o=t>=a.left-s&&t<=a.right+s,l=i>=a.top-s&&i<=a.bottom+s;if(o&&l)return n=r}}),n},bZ=function(t){function i(s,a){return function(o,l,c,h){var p=o.options.group.name&&l.options.group.name&&o.options.group.name===l.options.group.name;if(s==null&&(a||p))return!0;if(s==null||s===!1)return!1;if(a&&s==="clone")return s;if(typeof s=="function")return i(s(o,l,c,h),a)(o,l,c,h);var m=(a?o:l).options.group.name;return s===!0||typeof s=="string"&&s===m||s.join&&s.indexOf(m)>-1}}var n={},r=t.group;(!r||l2(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=i(r.pull,!0),n.checkPut=i(r.put),n.revertClone=r.revertClone,t.group=n},wZ=function(){!yZ&&Ge&&Pe(Ge,"display","none")},_Z=function(){!yZ&&Ge&&Pe(Ge,"display","")};IC&&!dZ&&document.addEventListener("click",function(e){if(Ak)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ak=!1,!1},!0);var np=function(t){if(ce){t=t.touches?t.touches[0]:t;var i=iwe(t.clientX,t.clientY);if(i){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[Bs]._onDragOver(n)}}},nwe=function(t){ce&&ce.parentNode[Bs]._isOutsideThisEl(t.target)};function Oe(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=gu({},t),e[Bs]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return vZ(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,o){a.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Oe.supportPointer!==!1&&"PointerEvent"in window&&!T1,emptyInsertThreshold:5};x_.initializePlugins(this,e,i);for(var n in i)!(n in t)&&(t[n]=i[n]);bZ(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:ewe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Pt(e,"pointerdown",this._onTapStart):(Pt(e,"mousedown",this._onTapStart),Pt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Pt(e,"dragover",this),Pt(e,"dragenter",this)),Mk.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),gu(this,Y1e())}Oe.prototype={constructor:Oe,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ym=null)},_getDirection:function(t,i){return typeof this.options.direction=="function"?this.options.direction.call(this,t,i,ce):this.options.direction},_onTapStart:function(t){if(t.cancelable){var i=this,n=this.el,r=this.options,s=r.preventOnFilter,a=t.type,o=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(o||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,h=r.filter;if(dwe(n),!ce&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&T1&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Ll(l,r.draggable,n,!1),!(l&&l.animated)&&c2!==l)){if(dy=Ca(l),A1=Ca(l,r.draggable),typeof h=="function"){if(h.call(this,t,l,this)){Er({sortable:i,rootEl:c,name:"filter",targetEl:l,toEl:n,fromEl:n}),Kr("filter",i,{evt:t}),s&&t.cancelable&&t.preventDefault();return}}else if(h&&(h=h.split(",").some(function(p){if(p=Ll(c,p.trim(),n,!1),p)return Er({sortable:i,rootEl:p,name:"filter",targetEl:l,fromEl:n,toEl:n}),Kr("filter",i,{evt:t}),!0}),h)){s&&t.cancelable&&t.preventDefault();return}r.handle&&!Ll(c,r.handle,n,!1)||this._prepareDragStart(t,o,l)}}},_prepareDragStart:function(t,i,n){var r=this,s=r.el,a=r.options,o=s.ownerDocument,l;if(n&&!ce&&n.parentNode===s){var c=mn(n);if(pi=s,ce=n,Oi=ce.parentNode,yp=ce.nextSibling,c2=n,Fx=a.group,Oe.dragged=ce,ip={target:ce,clientX:(i||t).clientX,clientY:(i||t).clientY},RV=ip.clientX-c.left,PV=ip.clientY-c.top,this._lastX=(i||t).clientX,this._lastY=(i||t).clientY,ce.style["will-change"]="all",l=function(){if(Kr("delayEnded",r,{evt:t}),Oe.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!AV&&r.nativeDraggable&&(ce.draggable=!0),r._triggerDragStart(t,i),Er({sortable:r,name:"choose",originalEvent:t}),ks(ce,a.chosenClass,!0)},a.ignore.split(",").forEach(function(h){pZ(ce,h.trim(),V$)}),Pt(o,"dragover",np),Pt(o,"mousemove",np),Pt(o,"touchmove",np),Pt(o,"mouseup",r._onDrop),Pt(o,"touchend",r._onDrop),Pt(o,"touchcancel",r._onDrop),AV&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ce.draggable=!0),Kr("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(__||Du))){if(Oe.eventCanceled){this._onDrop();return}Pt(o,"mouseup",r._disableDelayedDrag),Pt(o,"touchend",r._disableDelayedDrag),Pt(o,"touchcancel",r._disableDelayedDrag),Pt(o,"mousemove",r._delayedDragTouchMoveHandler),Pt(o,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&Pt(o,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var i=t.touches?t.touches[0]:t;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ce&&V$(ce),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;bt(t,"mouseup",this._disableDelayedDrag),bt(t,"touchend",this._disableDelayedDrag),bt(t,"touchcancel",this._disableDelayedDrag),bt(t,"mousemove",this._delayedDragTouchMoveHandler),bt(t,"touchmove",this._delayedDragTouchMoveHandler),bt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,i){i=i||t.pointerType=="touch"&&t,!this.nativeDraggable||i?this.options.supportPointer?Pt(document,"pointermove",this._onTouchMove):i?Pt(document,"touchmove",this._onTouchMove):Pt(document,"mousemove",this._onTouchMove):(Pt(ce,"dragend",this),Pt(pi,"dragstart",this._onDragStart));try{document.selection?d2(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,i){if(yg=!1,pi&&ce){Kr("dragStarted",this,{evt:i}),this.nativeDraggable&&Pt(document,"dragover",nwe);var n=this.options;!t&&ks(ce,n.dragClass,!1),ks(ce,n.ghostClass,!0),Oe.active=this,t&&this._appendGhost(),Er({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(uo){this._lastX=uo.clientX,this._lastY=uo.clientY,wZ();for(var t=document.elementFromPoint(uo.clientX,uo.clientY),i=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(uo.clientX,uo.clientY),t!==i);)i=t;if(ce.parentNode[Bs]._isOutsideThisEl(t),i)do{if(i[Bs]){var n=void 0;if(n=i[Bs]._onDragOver({clientX:uo.clientX,clientY:uo.clientY,target:t,rootEl:i}),n&&!this.options.dragoverBubble)break}t=i}while(i=i.parentNode);_Z()}},_onTouchMove:function(t){if(ip){var i=this.options,n=i.fallbackTolerance,r=i.fallbackOffset,s=t.touches?t.touches[0]:t,a=Ge&&Ry(Ge,!0),o=Ge&&a&&a.a,l=Ge&&a&&a.d,c=zx&&Zn&&OV(Zn),h=(s.clientX-ip.clientX+r.x)/(o||1)+(c?c[0]-z$[0]:0)/(o||1),p=(s.clientY-ip.clientY+r.y)/(l||1)+(c?c[1]-z$[1]:0)/(l||1);if(!Oe.active&&!yg){if(n&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(Ge){a?(a.e+=h-(F$||0),a.f+=p-(N$||0)):a={a:1,b:0,c:0,d:1,e:h,f:p};var m="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Pe(Ge,"webkitTransform",m),Pe(Ge,"mozTransform",m),Pe(Ge,"msTransform",m),Pe(Ge,"transform",m),F$=h,N$=p,uo=s}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ge){var t=this.options.fallbackOnBody?document.body:pi,i=mn(ce,!0,zx,!0,t),n=this.options;if(zx){for(Zn=t;Pe(Zn,"position")==="static"&&Pe(Zn,"transform")==="none"&&Zn!==document;)Zn=Zn.parentNode;Zn!==document.body&&Zn!==document.documentElement?(Zn===document&&(Zn=ql()),i.top+=Zn.scrollTop,i.left+=Zn.scrollLeft):Zn=ql(),z$=OV(Zn)}Ge=ce.cloneNode(!0),ks(Ge,n.ghostClass,!1),ks(Ge,n.fallbackClass,!0),ks(Ge,n.dragClass,!0),Pe(Ge,"transition",""),Pe(Ge,"transform",""),Pe(Ge,"box-sizing","border-box"),Pe(Ge,"margin",0),Pe(Ge,"top",i.top),Pe(Ge,"left",i.left),Pe(Ge,"width",i.width),Pe(Ge,"height",i.height),Pe(Ge,"opacity","0.8"),Pe(Ge,"position",zx?"absolute":"fixed"),Pe(Ge,"zIndex","100000"),Pe(Ge,"pointerEvents","none"),Oe.ghost=Ge,t.appendChild(Ge),Pe(Ge,"transform-origin",RV/parseInt(Ge.style.width)*100+"% "+PV/parseInt(Ge.style.height)*100+"%")}},_onDragStart:function(t,i){var n=this,r=t.dataTransfer,s=n.options;if(Kr("dragStart",this,{evt:t}),Oe.eventCanceled){this._onDrop();return}Kr("setupClone",this),Oe.eventCanceled||(wi=gZ(ce),wi.removeAttribute("id"),wi.draggable=!1,wi.style["will-change"]="",this._hideClone(),ks(wi,this.options.chosenClass,!1),Oe.clone=wi),n.cloneId=d2(function(){Kr("clone",n),!Oe.eventCanceled&&(n.options.removeCloneOnHide||pi.insertBefore(wi,ce),n._hideClone(),Er({sortable:n,name:"clone"}))}),!i&&ks(ce,s.dragClass,!0),i?(Ak=!0,n._loopId=setInterval(n._emulateDragOver,50)):(bt(document,"mouseup",n._onDrop),bt(document,"touchend",n._onDrop),bt(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(n,r,ce)),Pt(document,"drop",n),Pe(ce,"transform","translateZ(0)")),yg=!0,n._dragStartId=d2(n._dragStarted.bind(n,i,t)),Pt(document,"selectstart",n),cb=!0,T1&&Pe(document.body,"user-select","none")},_onDragOver:function(t){var i=this.el,n=t.target,r,s,a,o=this.options,l=o.group,c=Oe.active,h=Fx===l,p=o.sort,m=Nn||c,g,y=this,b=!1;if(rD)return;function w(Z,ge){Kr(Z,y,Xl({evt:t,isOwner:h,axis:g?"vertical":"horizontal",revert:a,dragRect:r,targetRect:s,canSort:p,fromSortable:m,target:n,completed:x,onMove:function($e,Ue){return Vx(pi,i,ce,r,$e,mn($e),t,Ue)},changed:S},ge))}function _(){w("dragOverAnimationCapture"),y.captureAnimationState(),y!==m&&m.captureAnimationState()}function x(Z){return w("dragOverCompleted",{insertion:Z}),Z&&(h?c._hideClone():c._showClone(y),y!==m&&(ks(ce,Nn?Nn.options.ghostClass:c.options.ghostClass,!1),ks(ce,o.ghostClass,!0)),Nn!==y&&y!==Oe.active?Nn=y:y===Oe.active&&Nn&&(Nn=null),m===y&&(y._ignoreWhileAnimating=n),y.animateAll(function(){w("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(n===ce&&!ce.animated||n===i&&!n.animated)&&(Ym=null),!o.dragoverBubble&&!t.rootEl&&n!==document&&(ce.parentNode[Bs]._isOutsideThisEl(t.target),!Z&&np(t)),!o.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),b=!0}function S(){Os=Ca(ce),Pd=Ca(ce,o.draggable),Er({sortable:y,name:"change",toEl:i,newIndex:Os,newDraggableIndex:Pd,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=Ll(n,o.draggable,i,!0),w("dragOver"),Oe.eventCanceled)return b;if(ce.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||y._ignoreWhileAnimating===n)return x(!1);if(Ak=!1,c&&!o.disabled&&(h?p||(a=Oi!==pi):Nn===this||(this.lastPutMode=Fx.checkPull(this,c,ce,t))&&l.checkPut(this,c,ce,t))){if(g=this._getDirection(t,n)==="vertical",r=mn(ce),w("dragOverValid"),Oe.eventCanceled)return b;if(a)return Oi=pi,_(),this._hideClone(),w("revert"),Oe.eventCanceled||(yp?pi.insertBefore(ce,yp):pi.appendChild(ce)),x(!0);var k=TF(i,o.draggable);if(!k||owe(t,g,this)&&!k.animated){if(k===ce)return x(!1);if(k&&i===t.target&&(n=k),n&&(s=mn(n)),Vx(pi,i,ce,r,n,s,t,!!n)!==!1)return _(),k&&k.nextSibling?i.insertBefore(ce,k.nextSibling):i.appendChild(ce),Oi=i,S(),x(!0)}else if(k&&awe(t,g,this)){var A=d0(i,0,o,!0);if(A===ce)return x(!1);if(n=A,s=mn(n),Vx(pi,i,ce,r,n,s,t,!1)!==!1)return _(),i.insertBefore(ce,A),Oi=i,S(),x(!0)}else if(n.parentNode===i){s=mn(n);var T=0,C,M=ce.parentNode!==i,L=!twe(ce.animated&&ce.toRect||r,n.animated&&n.toRect||s,g),V=g?"top":"left",P=DV(n,"top","top")||DV(ce,"top","top"),J=P?P.scrollTop:void 0;Ym!==n&&(C=s[V],D1=!1,Nx=!L&&o.invertSwap||M),T=lwe(t,n,s,g,L?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,Nx,Ym===n);var oe;if(T!==0){var se=Ca(ce);do se-=T,oe=Oi.children[se];while(oe&&(Pe(oe,"display")==="none"||oe===Ge))}if(T===0||oe===n)return x(!1);Ym=n,M1=T;var rt=n.nextElementSibling,tt=!1;tt=T===1;var lt=Vx(pi,i,ce,r,n,s,t,tt);if(lt!==!1)return(lt===1||lt===-1)&&(tt=lt===1),rD=!0,setTimeout(swe,30),_(),tt&&!rt?i.appendChild(ce):n.parentNode.insertBefore(ce,tt?rt:n),P&&mZ(P,0,J-P.scrollTop),Oi=ce.parentNode,C!==void 0&&!Nx&&(u2=Math.abs(C-mn(n)[V])),S(),x(!0)}if(i.contains(ce))return x(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){bt(document,"mousemove",this._onTouchMove),bt(document,"touchmove",this._onTouchMove),bt(document,"pointermove",this._onTouchMove),bt(document,"dragover",np),bt(document,"mousemove",np),bt(document,"touchmove",np)},_offUpEvents:function(){var t=this.el.ownerDocument;bt(t,"mouseup",this._onDrop),bt(t,"touchend",this._onDrop),bt(t,"pointerup",this._onDrop),bt(t,"touchcancel",this._onDrop),bt(document,"selectstart",this)},_onDrop:function(t){var i=this.el,n=this.options;if(Os=Ca(ce),Pd=Ca(ce,n.draggable),Kr("drop",this,{evt:t}),Oi=ce&&ce.parentNode,Os=Ca(ce),Pd=Ca(ce,n.draggable),Oe.eventCanceled){this._nulling();return}yg=!1,Nx=!1,D1=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),sD(this.cloneId),sD(this._dragStartId),this.nativeDraggable&&(bt(document,"drop",this),bt(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),T1&&Pe(document.body,"user-select",""),Pe(ce,"transform",""),t&&(cb&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),Ge&&Ge.parentNode&&Ge.parentNode.removeChild(Ge),(pi===Oi||Nn&&Nn.lastPutMode!=="clone")&&wi&&wi.parentNode&&wi.parentNode.removeChild(wi),ce&&(this.nativeDraggable&&bt(ce,"dragend",this),V$(ce),ce.style["will-change"]="",cb&&!yg&&ks(ce,Nn?Nn.options.ghostClass:this.options.ghostClass,!1),ks(ce,this.options.chosenClass,!1),Er({sortable:this,name:"unchoose",toEl:Oi,newIndex:null,newDraggableIndex:null,originalEvent:t}),pi!==Oi?(Os>=0&&(Er({rootEl:Oi,name:"add",toEl:Oi,fromEl:pi,originalEvent:t}),Er({sortable:this,name:"remove",toEl:Oi,originalEvent:t}),Er({rootEl:Oi,name:"sort",toEl:Oi,fromEl:pi,originalEvent:t}),Er({sortable:this,name:"sort",toEl:Oi,originalEvent:t})),Nn&&Nn.save()):Os!==dy&&Os>=0&&(Er({sortable:this,name:"update",toEl:Oi,originalEvent:t}),Er({sortable:this,name:"sort",toEl:Oi,originalEvent:t})),Oe.active&&((Os==null||Os===-1)&&(Os=dy,Pd=A1),Er({sortable:this,name:"end",toEl:Oi,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Kr("nulling",this),pi=ce=Oi=Ge=yp=wi=c2=Kd=ip=uo=cb=Os=Pd=dy=A1=Ym=M1=Nn=Fx=Oe.dragged=Oe.ghost=Oe.clone=Oe.active=null,Dk.forEach(function(t){t.checked=!0}),Dk.length=F$=N$=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ce&&(this._onDragOver(t),rwe(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],i,n=this.el.children,r=0,s=n.length,a=this.options;r<s;r++)i=n[r],Ll(i,a.draggable,this.el,!1)&&t.push(i.getAttribute(a.dataIdAttr)||uwe(i));return t},sort:function(t,i){var n={},r=this.el;this.toArray().forEach(function(s,a){var o=r.children[a];Ll(o,this.options.draggable,r,!1)&&(n[s]=o)},this),i&&this.captureAnimationState(),t.forEach(function(s){n[s]&&(r.removeChild(n[s]),r.appendChild(n[s]))}),i&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,i){return Ll(t,i||this.options.draggable,this.el,!1)},option:function(t,i){var n=this.options;if(i===void 0)return n[t];var r=x_.modifyOption(this,t,i);typeof r<"u"?n[t]=r:n[t]=i,t==="group"&&bZ(n)},destroy:function(){Kr("destroy",this);var t=this.el;t[Bs]=null,bt(t,"mousedown",this._onTapStart),bt(t,"touchstart",this._onTapStart),bt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(bt(t,"dragover",this),bt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Mk.splice(Mk.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Kd){if(Kr("hideClone",this),Oe.eventCanceled)return;Pe(wi,"display","none"),this.options.removeCloneOnHide&&wi.parentNode&&wi.parentNode.removeChild(wi),Kd=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Kd){if(Kr("showClone",this),Oe.eventCanceled)return;ce.parentNode==pi&&!this.options.group.revertClone?pi.insertBefore(wi,ce):yp?pi.insertBefore(wi,yp):pi.appendChild(wi),this.options.group.revertClone&&this.animate(ce,wi),Pe(wi,"display",""),Kd=!1}}};function rwe(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Vx(e,t,i,n,r,s,a,o){var l,c=e[Bs],h=c.options.onMove,p;return window.CustomEvent&&!Du&&!__?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=r||t,l.relatedRect=s||mn(t),l.willInsertAfter=o,l.originalEvent=a,e.dispatchEvent(l),h&&(p=h.call(c,l,a)),p}function V$(e){e.draggable=!1}function swe(){rD=!1}function awe(e,t,i){var n=mn(d0(i.el,0,i.options,!0)),r=10;return t?e.clientX<n.left-r||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-r||e.clientY<n.bottom&&e.clientX<n.left}function owe(e,t,i){var n=mn(TF(i.el,i.options.draggable)),r=10;return t?e.clientX>n.right+r||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+r}function lwe(e,t,i,n,r,s,a,o){var l=n?e.clientY:e.clientX,c=n?i.height:i.width,h=n?i.top:i.left,p=n?i.bottom:i.right,m=!1;if(!a){if(o&&u2<c*r){if(!D1&&(M1===1?l>h+c*s/2:l<p-c*s/2)&&(D1=!0),D1)m=!0;else if(M1===1?l<h+u2:l>p-u2)return-M1}else if(l>h+c*(1-r)/2&&l<p-c*(1-r)/2)return cwe(t)}return m=m||a,m&&(l<h+c*s/2||l>p-c*s/2)?l>h+c/2?1:-1:0}function cwe(e){return Ca(ce)<Ca(e)?1:-1}function uwe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function dwe(e){Dk.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var n=t[i];n.checked&&Dk.push(n)}}function d2(e){return setTimeout(e,0)}function sD(e){return clearTimeout(e)}IC&&Pt(document,"touchmove",function(e){(Oe.active||yg)&&e.cancelable&&e.preventDefault()});Oe.utils={on:Pt,off:bt,css:Pe,find:pZ,is:function(t,i){return!!Ll(t,i,t,!1)},extend:W1e,throttle:fZ,closest:Ll,toggleClass:ks,clone:gZ,index:Ca,nextTick:d2,cancelNextTick:sD,detectDirection:vZ,getChild:d0};Oe.get=function(e){return e[Bs]};Oe.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(Oe.utils=Xl(Xl({},Oe.utils),n.utils)),x_.mount(n)})};Oe.create=function(e,t){return new Oe(e,t)};Oe.version=H1e;var Ji=[],ub,aD,oD=!1,j$,U$,Ok,db;function hwe(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(i){var n=i.originalEvent;this.sortable.nativeDraggable?Pt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Pt(document,"pointermove",this._handleFallbackAutoScroll):n.touches?Pt(document,"touchmove",this._handleFallbackAutoScroll):Pt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var n=i.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?bt(document,"dragover",this._handleAutoScroll):(bt(document,"pointermove",this._handleFallbackAutoScroll),bt(document,"touchmove",this._handleFallbackAutoScroll),bt(document,"mousemove",this._handleFallbackAutoScroll)),FV(),h2(),K1e()},nulling:function(){Ok=aD=ub=oD=db=j$=U$=null,Ji.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,n){var r=this,s=(i.touches?i.touches[0]:i).clientX,a=(i.touches?i.touches[0]:i).clientY,o=document.elementFromPoint(s,a);if(Ok=i,n||this.options.forceAutoScrollFallback||__||Du||T1){B$(i,this.options,o,n);var l=th(o,!0);oD&&(!db||s!==j$||a!==U$)&&(db&&FV(),db=setInterval(function(){var c=th(document.elementFromPoint(s,a),!0);c!==l&&(l=c,h2()),B$(i,r.options,c,n)},10),j$=s,U$=a)}else{if(!this.options.bubbleScroll||th(o,!0)===ql()){h2();return}B$(i,this.options,th(o,!1),!1)}}},gu(e,{pluginName:"scroll",initializeByDefault:!0})}function h2(){Ji.forEach(function(e){clearInterval(e.pid)}),Ji=[]}function FV(){clearInterval(db)}var B$=fZ(function(e,t,i,n){if(t.scroll){var r=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,o=t.scrollSpeed,l=ql(),c=!1,h;aD!==i&&(aD=i,h2(),ub=t.scroll,h=t.scrollFn,ub===!0&&(ub=th(i,!0)));var p=0,m=ub;do{var g=m,y=mn(g),b=y.top,w=y.bottom,_=y.left,x=y.right,S=y.width,k=y.height,A=void 0,T=void 0,C=g.scrollWidth,M=g.scrollHeight,L=Pe(g),V=g.scrollLeft,P=g.scrollTop;g===l?(A=S<C&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),T=k<M&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(A=S<C&&(L.overflowX==="auto"||L.overflowX==="scroll"),T=k<M&&(L.overflowY==="auto"||L.overflowY==="scroll"));var J=A&&(Math.abs(x-r)<=a&&V+S<C)-(Math.abs(_-r)<=a&&!!V),oe=T&&(Math.abs(w-s)<=a&&P+k<M)-(Math.abs(b-s)<=a&&!!P);if(!Ji[p])for(var se=0;se<=p;se++)Ji[se]||(Ji[se]={});(Ji[p].vx!=J||Ji[p].vy!=oe||Ji[p].el!==g)&&(Ji[p].el=g,Ji[p].vx=J,Ji[p].vy=oe,clearInterval(Ji[p].pid),(J!=0||oe!=0)&&(c=!0,Ji[p].pid=setInterval(function(){n&&this.layer===0&&Oe.active._onTouchMove(Ok);var rt=Ji[this.layer].vy?Ji[this.layer].vy*o:0,tt=Ji[this.layer].vx?Ji[this.layer].vx*o:0;typeof h=="function"&&h.call(Oe.dragged.parentNode[Bs],tt,rt,e,Ok,Ji[this.layer].el)!=="continue"||mZ(Ji[this.layer].el,tt,rt)}.bind({layer:p}),24))),p++}while(t.bubbleScroll&&m!==l&&(m=th(m,!1)));oD=c}},30),xZ=function(t){var i=t.originalEvent,n=t.putSortable,r=t.dragEl,s=t.activeSortable,a=t.dispatchSortableEvent,o=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(i){var c=n||s;o();var h=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,p=document.elementFromPoint(h.clientX,h.clientY);l(),c&&!c.el.contains(p)&&(a("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function $F(){}$F.prototype={startIndex:null,dragStart:function(t){var i=t.oldDraggableIndex;this.startIndex=i},onSpill:function(t){var i=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=d0(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(i,r):this.sortable.el.appendChild(i),this.sortable.animateAll(),n&&n.animateAll()},drop:xZ};gu($F,{pluginName:"revertOnSpill"});function AF(){}AF.prototype={onSpill:function(t){var i=t.dragEl,n=t.putSortable,r=n||this.sortable;r.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),r.animateAll()},drop:xZ};gu(AF,{pluginName:"removeOnSpill"});Oe.mount(new hwe);Oe.mount(AF,$F);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const H$={sortItem:"sort-item",container:"container",containerHorizontal:"container--horizontal",containerVertical:"container--vertical"},pwe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:flex}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{display:flex;flex:1 1 auto}.container--vertical{flex-direction:column}.container--horizontal{flex-direction:row}",fwe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteListOrderChange=B(this,"calciteListOrderChange",6),this.items=[],this.mutationObserver=Ct("mutation",()=>{this.cleanUpDragAndDrop(),this.items=Array.from(this.el.children),this.setUpDragAndDrop()}),this.dragSelector=void 0,this.group=void 0,this.handleSelector="calcite-handle",this.layout="vertical",this.disabled=!1,this.loading=!1,this.handleActivated=!1}connectedCallback(){this.items=Array.from(this.el.children),this.setUpDragAndDrop(),this.beginObserving()}disconnectedCallback(){var e;(e=this.mutationObserver)==null||e.disconnect(),this.cleanUpDragAndDrop()}componentDidRender(){et(this)}calciteHandleNudgeNextHandler(e){this.handleNudgeEvent(e)}handleNudgeEvent(e){var l;const{direction:t}=e.detail,i=e.target,n=this.items.find(c=>c.contains(i)||e.composedPath().includes(c)),r=this.items.length-1,s=this.items.indexOf(n);let a=!1,o;t==="up"?s===0?a=!0:o=s-1:s===r?o=0:s===r-1?a=!0:o=s+2,(l=this.mutationObserver)==null||l.disconnect(),a?n.parentElement.appendChild(n):n.parentElement.insertBefore(n,this.items[o]),this.items=Array.from(this.el.children),i.activated=!0,i.setFocus(),this.beginObserving()}setUpDragAndDrop(){this.cleanUpDragAndDrop();const e={dataIdAttr:"id",group:this.group,handle:this.handleSelector,onUpdate:()=>{this.items=Array.from(this.el.children),this.calciteListOrderChange.emit()},onStart:()=>{var t;(t=this.mutationObserver)==null||t.disconnect()},onEnd:()=>{this.beginObserving()}};this.dragSelector&&(e.draggable=this.dragSelector),this.sortable=Oe.create(this.el,e)}cleanUpDragAndDrop(){var e;(e=this.sortable)==null||e.destroy(),this.sortable=null}beginObserving(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}render(){const{layout:e}=this,t=e==="horizontal"||!1;return v("div",{class:{[H$.container]:!0,[H$.containerVertical]:!t,[H$.containerHorizontal]:t}},v("slot",null))}get el(){return this}static get style(){return pwe}},[1,"calcite-sortable-list",{dragSelector:[513,"drag-selector"],group:[513],handleSelector:[513,"handle-selector"],layout:[513],disabled:[516],loading:[516],handleActivated:[32]},[[0,"calciteHandleNudge","calciteHandleNudgeNextHandler"]]]);function mwe(){if(typeof customElements>"u")return;["calcite-sortable-list"].forEach(t=>{switch(t){case"calcite-sortable-list":customElements.get(t)||customElements.define(t,fwe);break}})}mwe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Jm={container:"split-button__container",dividerContainer:"split-button__divider-container",divider:"split-button__divider",widthAuto:"width-auto",widthHalf:"width-half",widthFull:"width-full"},gwe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:inline-block}:host .split-button__container{display:flex;align-items:stretch}:host .split-button__container>calcite-dropdown>calcite-button{block-size:100%;vertical-align:top}:host:host([kind=brand]){--calcite-split-button-background:var(--calcite-ui-brand);--calcite-split-button-divider:var(--calcite-ui-foreground-1)}:host:host([kind=danger]){--calcite-split-button-background:var(--calcite-ui-danger);--calcite-split-button-divider:var(--calcite-ui-foreground-1)}:host:host([kind=neutral]){--calcite-split-button-background:var(--calcite-ui-foreground-3);--calcite-split-button-divider:var(--calcite-ui-text-1)}:host:host([kind=inverse]){--calcite-split-button-background:var(--calcite-ui-inverse);--calcite-split-button-divider:var(--calcite-ui-foreground-1)}:host([appearance=transparent]):host([kind=brand]){--calcite-split-button-divider:var(--calcite-ui-brand)}:host([appearance=transparent]):host([kind=danger]){--calcite-split-button-divider:var(--calcite-ui-danger)}:host([appearance=transparent]):host([kind=neutral]){--calcite-split-button-divider:var(--calcite-ui-text-1)}:host([appearance=transparent]):host([kind=inverse]){--calcite-split-button-divider:var(--calcite-ui-foreground-1);--calcite-split-button-background:transparent}:host([appearance=outline]),:host([appearance=transparent]){--calcite-split-button-background:transparent}:host([appearance=outline-fill]){--calcite-split-button-background:var(--calcite-ui-foreground-1)}:host([appearance=outline]):host([kind=brand]),:host([appearance=outline-fill]):host([kind=brand]){--calcite-split-button-divider:var(--calcite-ui-brand)}:host([appearance=outline]):host([kind=danger]),:host([appearance=outline-fill]):host([kind=danger]){--calcite-split-button-divider:var(--calcite-ui-danger)}:host([appearance=outline]):host([kind=neutral]),:host([appearance=outline-fill]):host([kind=neutral]){--calcite-split-button-divider:var(--calcite-ui-foreground-3)}:host([appearance=outline]):host([kind=inverse]),:host([appearance=outline-fill]):host([kind=inverse]){--calcite-split-button-divider:var(--calcite-ui-inverse)}.width-auto{inline-size:auto}.width-half{inline-size:50%}.width-full{inline-size:100%}.split-button__divider-container{display:flex;inline-size:1px;align-items:stretch;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;background-color:var(--calcite-split-button-background)}.split-button__divider{margin-block:0.25rem;display:inline-block;inline-size:1px;background-color:var(--calcite-split-button-divider)}:host([appearance=outline-fill]) .split-button__divider-container,:host([appearance=outline]) .split-button__divider-container{border-block:1px solid var(--calcite-split-button-divider)}:host([appearance=outline-fill]):hover .split-button__divider-container,:host([appearance=outline]):hover .split-button__divider-container{background-color:var(--calcite-split-button-divider)}:host([appearance=outline-fill]:hover) .split-button__divider-container,:host([appearance=outline]:hover) .split-button__divider-container{background-color:var(--calcite-split-button-divider)}:host([appearance=outline-fill]:focus-within):host([kind=brand]),:host([appearance=outline]:focus-within):host([kind=brand]){--calcite-split-button-divider:var(--calcite-ui-brand-press)}:host([appearance=outline-fill]:focus-within):host([kind=danger]),:host([appearance=outline]:focus-within):host([kind=danger]){--calcite-split-button-divider:var(--calcite-ui-danger-press)}:host([appearance=outline-fill]:focus-within) .split-button__divider-container,:host([appearance=outline]:focus-within) .split-button__divider-container{background-color:var(--calcite-split-button-divider)}:host([disabled]) .split-button__divider-container{opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) calcite-dropdown>calcite-button{pointer-events:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",ywe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteSplitButtonPrimaryClick=B(this,"calciteSplitButtonPrimaryClick",6),this.calciteSplitButtonSecondaryClick=B(this,"calciteSplitButtonSecondaryClick",6),this.calciteSplitButtonPrimaryClickHandler=()=>this.calciteSplitButtonPrimaryClick.emit(),this.calciteSplitButtonSecondaryClickHandler=()=>this.calciteSplitButtonSecondaryClick.emit(),this.appearance="solid",this.kind="brand",this.disabled=!1,this.active=!1,this.dropdownIconType="chevron",this.dropdownLabel=void 0,this.loading=!1,this.overlayPositioning="absolute",this.primaryIconEnd=void 0,this.primaryIconFlipRtl=void 0,this.primaryIconStart=void 0,this.primaryLabel=void 0,this.primaryText=void 0,this.scale="m",this.width="auto"}handleDisabledChange(e){e||(this.active=!1)}activeHandler(){this.disabled&&(this.active=!1)}componentDidRender(){et(this)}render(){const e={[Jm.container]:!0,[Jm.widthAuto]:this.width==="auto",[Jm.widthHalf]:this.width==="half",[Jm.widthFull]:this.width==="full"},t=this.width==="auto"?"auto":"full";return v("div",{class:e},v("calcite-button",{appearance:this.appearance,disabled:this.disabled,"icon-end":this.primaryIconEnd?this.primaryIconEnd:null,"icon-start":this.primaryIconStart?this.primaryIconStart:null,iconFlipRtl:this.primaryIconFlipRtl?this.primaryIconFlipRtl:null,kind:this.kind,label:this.primaryLabel,loading:this.loading,onClick:this.calciteSplitButtonPrimaryClickHandler,scale:this.scale,splitChild:"primary",type:"button",width:t},this.primaryText),v("div",{class:Jm.dividerContainer},v("div",{class:Jm.divider})),v("calcite-dropdown",{disabled:this.disabled,onClick:this.calciteSplitButtonSecondaryClickHandler,open:this.active,overlayPositioning:this.overlayPositioning,placement:"bottom-end",scale:this.scale,width:this.scale},v("calcite-button",{appearance:this.appearance,disabled:this.disabled,"icon-start":this.dropdownIcon,kind:this.kind,label:this.dropdownLabel,scale:this.scale,slot:"trigger",splitChild:"secondary",type:"button"}),v("slot",null)))}get dropdownIcon(){return this.dropdownIconType==="chevron"?"chevronDown":this.dropdownIconType==="caret"?"caretDown":this.dropdownIconType==="ellipsis"?"ellipsis":"handle-vertical"}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{disabled:["handleDisabledChange"],active:["activeHandler"]}}static get style(){return gwe}},[17,"calcite-split-button",{appearance:[513],kind:[513],disabled:[516],active:[1540],dropdownIconType:[513,"dropdown-icon-type"],dropdownLabel:[513,"dropdown-label"],loading:[516],overlayPositioning:[513,"overlay-positioning"],primaryIconEnd:[513,"primary-icon-end"],primaryIconFlipRtl:[513,"primary-icon-flip-rtl"],primaryIconStart:[513,"primary-icon-start"],primaryLabel:[513,"primary-label"],primaryText:[513,"primary-text"],scale:[513],width:[513]}]);function vwe(){if(typeof customElements>"u")return;["calcite-split-button","calcite-button","calcite-dropdown","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-split-button":customElements.get(t)||customElements.define(t,ywe);break;case"calcite-button":customElements.get(t)||b_();break;case"calcite-dropdown":customElements.get(t)||SJ();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break}})}vwe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const bwe='@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:relative;display:flex;inline-size:100%;min-inline-size:-moz-fit-content;min-inline-size:fit-content;flex-direction:row;flex-wrap:wrap;align-items:stretch;justify-content:space-between}:host([layout=vertical]){flex:1 1 auto;flex-direction:column}:host([layout=horizontal]){display:grid;grid-template-areas:"items" "content"}',wwe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteStepperItemChange=B(this,"calciteStepperItemChange",6),this.calciteInternalStepperItemChange=B(this,"calciteInternalStepperItemChange",6),this.itemMap=new Map,this.items=[],this.enabledItems=[],this.icon=!1,this.layout="horizontal",this.numbered=!1,this.numberingSystem=void 0,this.selectedItem=null,this.scale="m"}componentDidLoad(){typeof this.currentPosition!="number"&&this.calciteInternalStepperItemChange.emit({position:0})}render(){return v("slot",{onSlotchange:e=>{const t=e.currentTarget.assignedElements().filter(n=>(n==null?void 0:n.tagName)==="CALCITE-STEPPER-ITEM"),i=Array(t.length).fill("1fr").join(" ");this.el.style.gridTemplateAreas=i,this.el.style.gridTemplateColumns=i}})}calciteInternalStepperItemKeyEvent(e){const t=e.detail.item,i=e.target;switch(t.key){case"ArrowDown":case"ArrowRight":Xc(this.enabledItems,i,"next");break;case"ArrowUp":case"ArrowLeft":Xc(this.enabledItems,i,"previous");break;case"Home":Xc(this.enabledItems,i,"first");break;case"End":Xc(this.enabledItems,i,"last");break}e.stopPropagation()}registerItem(e){const t=e.target,{content:i,position:n}=e.detail;this.itemMap.set(t,{position:n,content:i}),this.items=this.sortItems(),this.enabledItems=this.filterItems(),e.stopPropagation()}updateItem(e){const{position:t}=e.detail;typeof t=="number"&&(this.currentPosition=t,this.selectedItem=e.target),this.calciteInternalStepperItemChange.emit({position:t})}handleUserRequestedStepperItemSelect(){this.calciteStepperItemChange.emit()}async nextStep(){const e=this.getEnabledStepIndex(this.currentPosition+1,"next");typeof e=="number"&&this.updateStep(e)}async prevStep(){const e=this.getEnabledStepIndex(this.currentPosition-1,"previous");typeof e=="number"&&this.updateStep(e)}async goToStep(e){const t=e-1;this.currentPosition!==t&&this.updateStep(t)}async startStep(){const e=this.getEnabledStepIndex(0,"next");typeof e=="number"&&this.updateStep(e)}async endStep(){const e=this.getEnabledStepIndex(this.items.length-1,"previous");typeof e=="number"&&this.updateStep(e)}getEnabledStepIndex(e,t="next"){var s;const{items:i,currentPosition:n}=this;let r=e;for(;(s=i[r])!=null&&s.disabled;)r=r+(t==="previous"?-1:1);return r!==n&&r<i.length&&r>=0?r:null}updateStep(e){this.currentPosition=e,this.calciteInternalStepperItemChange.emit({position:e})}sortItems(){const{itemMap:e}=this;return Array.from(e.keys()).sort((t,i)=>e.get(t).position-e.get(i).position)}filterItems(){return this.items.filter(e=>!e.disabled)}get el(){return this}static get style(){return bwe}},[1,"calcite-stepper",{icon:[516],layout:[513],numbered:[516],numberingSystem:[513,"numbering-system"],selectedItem:[1040],scale:[513],nextStep:[64],prevStep:[64],goToStep:[64],startStep:[64],endStep:[64]},[[0,"calciteInternalStepperItemKeyEvent","calciteInternalStepperItemKeyEvent"],[0,"calciteInternalStepperItemRegister","registerItem"],[0,"calciteInternalStepperItemSelect","updateItem"],[0,"calciteInternalUserRequestedStepperItemSelect","handleUserRequestedStepperItemSelect"]]]);function _we(){if(typeof customElements>"u")return;["calcite-stepper"].forEach(t=>{switch(t){case"calcite-stepper":customElements.get(t)||customElements.define(t,wwe);break}})}_we();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const xwe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([layout=horizontal][disabled]) .stepper-item-header,:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([scale=s]){--calcite-stepper-item-spacing-unit-s:0.25rem;--calcite-stepper-item-spacing-unit-m:0.75rem;--calcite-stepper-item-spacing-unit-l:1rem;font-size:var(--calcite-font-size--1);line-height:1rem;margin-inline-end:0.25rem}:host([scale=s]) .stepper-item-description{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){--calcite-stepper-item-spacing-unit-s:0.5rem;--calcite-stepper-item-spacing-unit-m:1rem;--calcite-stepper-item-spacing-unit-l:1.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;margin-inline-end:0.5rem}:host([scale=m]) .stepper-item-description{font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){--calcite-stepper-item-spacing-unit-s:0.75rem;--calcite-stepper-item-spacing-unit-m:1.25rem;--calcite-stepper-item-spacing-unit-l:1.5rem;font-size:var(--calcite-font-size-1);line-height:1.5rem;margin-inline-end:0.75rem}:host([scale=l]) .stepper-item-description{font-size:var(--calcite-font-size-0);line-height:1.25rem}:host{position:relative;display:flex;flex-grow:1;flex-direction:column;align-self:flex-start;margin-block-end:var(--calcite-stepper-item-spacing-unit-s)}:host .container{position:relative;display:flex;flex-grow:1;cursor:pointer;flex-direction:column;border-width:0px;border-block-start-width:2px;border-style:solid;border-color:var(--calcite-ui-border-3);color:var(--calcite-ui-text-3);text-decoration-line:none;outline:2px solid transparent;outline-offset:2px;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host{outline-color:transparent}:host(:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host .stepper-item-header{display:flex;cursor:pointer;align-items:flex-start}:host .stepper-item-content,:host .stepper-item-header{transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);padding-block:var(--calcite-stepper-item-spacing-unit-l);padding-inline-end:var(--calcite-stepper-item-spacing-unit-m);text-align:start}:host .stepper-item-header *{display:inline-flex;align-items:center;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .stepper-item-content{display:none;inline-size:100%;flex-direction:column;font-size:var(--calcite-font-size--2);line-height:1.375}:host .stepper-item-icon{margin-inline-end:var(--calcite-stepper-item-spacing-unit-m);margin-block-start:1px;display:inline-flex;block-size:0.75rem;flex-shrink:0;align-self:flex-start;color:var(--calcite-ui-text-3);opacity:var(--calcite-ui-opacity-disabled);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .stepper-item-header-text{flex-direction:column;text-align:initial;margin-inline-end:auto}:host .stepper-item-heading,:host .stepper-item-description{display:flex;inline-size:100%}:host .stepper-item-heading{margin-block-end:0.25rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}:host .stepper-item-description{color:var(--calcite-ui-text-3)}:host .stepper-item-number{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-3);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);margin-inline-end:var(--calcite-stepper-item-spacing-unit-m)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([complete]) .container{border-color:rgba(0, 122, 194, 0.5)}:host([complete]) .container .stepper-item-icon{color:var(--calcite-ui-brand)}:host([error]) .container{border-block-start-color:var(--calcite-ui-danger)}:host([error]) .container .stepper-item-number{color:var(--calcite-ui-danger)}:host([error]) .container .stepper-item-icon{opacity:1;color:var(--calcite-ui-danger)}:host(:hover:not([disabled]):not([selected])) .container,:host(:focus:not([disabled]):not([selected])) .container{border-block-start-color:var(--calcite-ui-brand)}:host(:hover:not([disabled]):not([selected])) .container .stepper-item-heading,:host(:focus:not([disabled]):not([selected])) .container .stepper-item-heading{color:var(--calcite-ui-text-1)}:host(:hover:not([disabled]):not([selected])) .container .stepper-item-description,:host(:focus:not([disabled]):not([selected])) .container .stepper-item-description{color:var(--calcite-ui-text-2)}:host([error]:hover:not([disabled]):not([selected])) .container,:host([error]:focus:not([disabled]):not([selected])) .container{border-block-start-color:var(--calcite-ui-danger-hover)}:host([selected]) .container{border-block-start-color:var(--calcite-ui-brand)}:host([selected]) .container .stepper-item-heading{color:var(--calcite-ui-text-1)}:host([selected]) .container .stepper-item-description{color:var(--calcite-ui-text-2)}:host([selected]) .container .stepper-item-number{color:var(--calcite-ui-brand)}:host([selected]) .container .stepper-item-icon{color:var(--calcite-ui-brand);opacity:1}:host([selected]) .container .stepper-item-content{display:flex}:host([layout=vertical]) .container{margin-inline:0px;margin-block-start:0px;flex:1 1 auto;border-block-start-width:0px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-block:0px;border-inline-start-width:2px;padding-inline-start:var(--calcite-stepper-item-spacing-unit-l)}:host([layout=vertical]) .container .stepper-item-icon{order:3;margin-block:1px 0px;padding-inline-start:var(--calcite-stepper-item-spacing-unit-s);margin-inline-start:auto}:host([layout=vertical]) .container .stepper-item-header{padding-inline-end:0px}:host([layout=vertical]) .container .stepper-item-content{padding:0px}:host([layout=vertical][complete]) .container{border-color:rgba(0, 122, 194, 0.5)}:host([layout=vertical][complete]:hover:not([disabled]):not([selected])) .container,:host([layout=vertical][complete]:focus:not([disabled]):not([selected])) .container{border-color:var(--calcite-ui-brand)}:host([layout=vertical][error]) .container{border-color:var(--calcite-ui-danger)}:host([layout=vertical][selected]) .container{border-color:var(--calcite-ui-brand)}:host([layout=vertical][selected]) .container .stepper-item-content:not(:empty){margin-block-end:var(--calcite-stepper-item-spacing-unit-l)}:host([layout=vertical]:hover:not([disabled]):not([selected])) .container,:host([layout=vertical]:focus:not([disabled]):not([selected])) .container{border-color:rgba(0, 122, 194, 0.5)}:host([layout=vertical][error]:hover:not([disabled]):not([selected])) .container,:host([layout=vertical][error]:focus:not([disabled]):not([selected])) .container{border-color:var(--calcite-ui-danger-hover)}:host([layout=horizontal]){display:contents}:host([layout=horizontal]) .container{display:contents}:host([layout=horizontal]) .stepper-item-header{border-width:0px;border-block-start-width:2px;border-style:solid;border-color:var(--calcite-ui-border-3);outline-color:transparent;grid-row:items;margin-inline-end:0.5rem;margin-block-end:var(--calcite-stepper-item-spacing-unit-s)}:host([layout=horizontal]) .stepper-item-header:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host([layout=horizontal]) .stepper-item-content{cursor:auto;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);padding-block:0;padding-inline-end:var(--calcite-stepper-item-spacing-unit-m);text-align:start}:host([layout=horizontal][selected]) .stepper-item-content{grid-area:2/1/2/-1}:host([layout=horizontal][scale=s]) .stepper-item-header{margin-inline-end:0.25rem;margin-block-end:var(--calcite-stepper-item-spacing-unit-s)}:host([layout=horizontal][scale=l]) .stepper-item-header{margin-inline-end:0.75rem;margin-block-end:var(--calcite-stepper-item-spacing-unit-s)}:host([layout=horizontal][complete]) .stepper-item-header{border-color:rgba(0, 122, 194, 0.5)}:host([layout=horizontal][complete]:hover:not([disabled]):not([selected])) .stepper-item-header,:host([layout=horizontal][complete]:focus:not([disabled]):not([selected])) .stepper-item-header{border-color:var(--calcite-ui-brand)}:host([layout=horizontal][error]) .stepper-item-header{border-color:var(--calcite-ui-danger)}:host([layout=horizontal][selected]) .stepper-item-header{border-color:var(--calcite-ui-brand)}:host([layout=horizontal]:hover:not([disabled]):not([selected])) .stepper-item-header,:host([layout=horizontal]:focus:not([disabled]):not([selected])) .stepper-item-header{border-color:rgba(0, 122, 194, 0.5)}:host([layout=horizontal][error]:hover:not([disabled]):not([selected])) .stepper-item-header,:host([layout=horizontal][error]:focus:not([disabled]):not([selected])) .stepper-item-header{border-color:var(--calcite-ui-danger-hover)}@media (forced-colors: active){:host .container{outline-width:0;outline-offset:0}:host(:focus),:host(:focus-visible){outline-color:canvasText}:host([selected]) .container{border-block-start-color:highlight}:host([selected]) .container .stepper-item-number{color:highlight}:host([selected]) .container .stepper-item-icon{color:highlight}:host([layout=vertical][selected]) .container{border-color:highlight}}",Swe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalStepperItemKeyEvent=B(this,"calciteInternalStepperItemKeyEvent",6),this.calciteInternalStepperItemSelect=B(this,"calciteInternalStepperItemSelect",6),this.calciteInternalUserRequestedStepperItemSelect=B(this,"calciteInternalUserRequestedStepperItemSelect",6),this.calciteInternalStepperItemRegister=B(this,"calciteInternalStepperItemRegister",6),this.keyDownHandler=e=>{if(!this.disabled&&e.target===this.el)switch(e.key){case" ":case"Enter":this.emitUserRequestedItem(),e.preventDefault();break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Home":case"End":this.calciteInternalStepperItemKeyEvent.emit({item:e}),e.preventDefault();break}},this.handleItemClick=e=>{this.layout==="horizontal"&&e.composedPath().some(t=>{var i;return(i=t.classList)==null?void 0:i.contains("stepper-item-content")})||this.emitUserRequestedItem()},this.emitUserRequestedItem=()=>{if(this.emitRequestedItem(),!this.disabled){const e=this.itemPosition;this.calciteInternalUserRequestedStepperItemSelect.emit({position:e})}},this.emitRequestedItem=()=>{if(!this.disabled){const e=this.itemPosition;this.calciteInternalStepperItemSelect.emit({position:e})}},this.selected=!1,this.complete=!1,this.error=!1,this.disabled=!1,this.heading=void 0,this.description=void 0,this.layout="horizontal",this.icon=!1,this.iconFlipRtl=!1,this.numbered=!1,this.scale="m",this.effectiveLocale=""}selectedHandler(){this.selected&&this.emitRequestedItem()}disabledWatcher(){this.registerStepperItem()}effectiveLocaleWatcher(e){var t;Me.numberFormatOptions={locale:e,numberingSystem:(t=this.parentStepperEl)==null?void 0:t.numberingSystem,useGrouping:!1}}connectedCallback(){ht(this)}componentWillLoad(){We(this),this.icon=ci(this.el,"icon",!1),this.numbered=ci(this.el,"numbered",!1),this.layout=ci(this.el,"layout",!1),this.scale=ci(this.el,"scale","m"),this.parentStepperEl=this.el.parentElement,this.itemPosition=this.getItemPosition(),this.registerStepperItem(),this.selected&&this.emitRequestedItem()}componentDidLoad(){Ke(this)}componentDidRender(){et(this,!0)}disconnectedCallback(){pt(this)}render(){return v(Fe,{"aria-expanded":ot(this.selected),onClick:this.handleItemClick,onKeyDown:this.keyDownHandler},v("div",{class:"container"},v("div",{class:"stepper-item-header",ref:e=>this.headerEl=e,tabIndex:this.layout==="horizontal"&&!this.disabled?0:null},this.icon?this.renderIcon():null,this.numbered?v("div",{class:"stepper-item-number"},this.renderNumbers(),"."):null,v("div",{class:"stepper-item-header-text"},v("span",{class:"stepper-item-heading"},this.heading),v("span",{class:"stepper-item-description"},this.description))),v("div",{class:"stepper-item-content"},v("slot",null))))}updateActiveItemOnChange(e){(e.target===this.parentStepperEl||e.composedPath().includes(this.parentStepperEl))&&(this.selectedPosition=e.detail.position,this.determineSelectedItem())}async setFocus(){var e;await He(this),(e=this.layout==="vertical"?this.el:this.headerEl)==null||e.focus()}renderIcon(){const e=this.selected?"circleF":this.error?"exclamationMarkCircleF":this.complete?"checkCircleF":"circle";return v("calcite-icon",{class:"stepper-item-icon",flipRtl:this.iconFlipRtl,icon:e,scale:"s"})}determineSelectedItem(){this.selected=!this.disabled&&this.itemPosition===this.selectedPosition}registerStepperItem(){this.calciteInternalStepperItemRegister.emit({position:this.itemPosition})}getItemPosition(){var e;return Array.from((e=this.parentStepperEl)==null?void 0:e.querySelectorAll("calcite-stepper-item")).indexOf(this.el)}renderNumbers(){var e;return Me.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:(e=this.parentStepperEl)==null?void 0:e.numberingSystem,useGrouping:!1},Me.numberFormatter.format(this.itemPosition+1)}get el(){return this}static get watchers(){return{selected:["selectedHandler"],disabled:["disabledWatcher"],effectiveLocale:["effectiveLocaleWatcher"]}}static get style(){return xwe}},[1,"calcite-stepper-item",{selected:[1540],complete:[516],error:[516],disabled:[516],heading:[1],description:[1],layout:[1537],icon:[1028],iconFlipRtl:[516,"icon-flip-rtl"],numbered:[1028],scale:[1537],effectiveLocale:[32],setFocus:[64]},[[16,"calciteInternalStepperItemChange","updateActiveItemOnChange"]]]);function Ewe(){if(typeof customElements>"u")return;["calcite-stepper-item","calcite-icon"].forEach(t=>{switch(t){case"calcite-stepper-item":customElements.get(t)||customElements.define(t,Swe);break;case"calcite-icon":customElements.get(t)||Te();break}})}Ewe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const jx={contentStart:"content-start",contentEnd:"content-end"},kwe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{box-sizing:border-box;display:inline-block;-webkit-user-select:none;user-select:none;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-3);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .container{pointer-events:none;display:grid;grid-template-columns:repeat(1, minmax(0, 1fr));gap:0.5rem}:host .content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;gap:0.5rem;inline-size:10%}:host .content-container{display:flex;inline-size:100%;flex:1 1 auto;align-items:stretch;padding:0px;color:var(--calcite-ui-text-2);outline-color:transparent}:host .content-slot-container{display:flex;align-items:center;background-color:var(--calcite-ui-foreground-1)}:host .content-slot-container:first-child{padding-inline:0 0.75rem}:host .content-slot-container:last-child{padding-inline:0.75rem 0}:host .heading{pointer-events:none;overflow-wrap:break-word;font-size:var(--calcite-font-size--1);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .large-visual{align-items:center;text-align:center;min-block-size:12rem}:host .large-visual .icon{display:flex;justify-content:center;align-self:flex-end}:host .large-visual .content-container{align-self:center}:host .description{pointer-events:none;overflow-wrap:break-word;font-size:var(--calcite-font-size--2);line-height:1.375;color:var(--calcite-ui-text-3);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host(:not([embed])){padding:0.75rem;box-shadow:0 0 0 1px var(--calcite-ui-border-2)}:host(:not([embed])[href]:hover){cursor:pointer;box-shadow:0 0 0 2px var(--calcite-ui-brand)}:host(:not([embed])[href]:active){box-shadow:0 0 0 3px var(--calcite-ui-brand)}:host([icon][heading]:not([description]):not([embed])){padding:0px}:host([icon][heading]:not([description])) .icon{display:flex;justify-content:center}:host([icon][heading]:not([description])) .large-visual{text-align:center}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host(:hover) .heading,:host([active]) .heading{color:var(--calcite-ui-text-1)}:host(:hover) .description,:host([active]) .description{color:var(--calcite-ui-text-2)}",Iwe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.active=!1,this.description=void 0,this.disabled=!1,this.embed=!1,this.focused=!1,this.heading=void 0,this.hidden=!1,this.href=void 0,this.icon=void 0,this.iconFlipRtl=!1}connectedCallback(){bn(this)}disconnectedCallback(){wn(this)}componentDidRender(){et(this)}renderTile(){const{icon:e,el:t,heading:i,description:n,iconFlipRtl:r}=this,s=i&&e&&!n;return v("div",{class:{container:!0,"large-visual":s}},e&&v("div",{class:"icon"},v("calcite-icon",{flipRtl:r,icon:e,scale:"l",style:s?{height:"64px",width:"64px"}:void 0})),v("div",{class:"content-container"},Xe(t,jx.contentStart)?v("div",{class:"content-slot-container"},v("slot",{name:jx.contentStart})):null,v("div",{class:"content"},i&&v("div",{class:"heading"},i),n&&v("div",{class:"description"},n)),Xe(t,jx.contentEnd)?v("div",{class:"content-slot-container"},v("slot",{name:jx.contentEnd})):null))}render(){return v(Hr,null,this.href?v("calcite-link",{disabled:this.disabled,href:this.href},this.renderTile()):this.renderTile())}get el(){return this}static get style(){return kwe}},[1,"calcite-tile",{active:[516],description:[513],disabled:[516],embed:[516],focused:[516],heading:[513],hidden:[516],href:[513],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"]}]);function SZ(){if(typeof customElements>"u")return;["calcite-tile","calcite-icon","calcite-link"].forEach(t=>{switch(t){case"calcite-tile":customElements.get(t)||customElements.define(t,Iwe);break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-link":customElements.get(t)||CF();break}})}SZ();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const da={checked:"checked",description:"description",descriptionOnly:"description-only",disabled:"disabled",heading:"heading",headingOnly:"heading-only",icon:"icon",iconOnly:"icon-only",inputAlignmentEnd:"input-alignment-end",inputAlignmentStart:"input-alignment-start",inputEnabled:"input-enabled",largeVisual:"large-visual",widthAuto:"width-auto",widthFull:"width-full"},Cwe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:block}:host .container{background-color:var(--calcite-ui-foreground-1);box-shadow:0 0 0 1px var(--calcite-ui-border-2);box-sizing:border-box;cursor:pointer;display:inline-block;block-size:100%;max-inline-size:300px;padding:0.75rem;position:relative;vertical-align:top;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}:host .container.checked{z-index:1;box-shadow:0 0 0 1px var(--calcite-ui-brand)}:host .container.heading-only{align-items:center}:host .container:not(.input-enabled) ::slotted(calcite-checkbox),:host .container:not(.input-enabled) ::slotted(calcite-radio-button){position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host .container.focused{outline-color:transparent}:host .container.focused:not(.disabled):not(.input-enabled){outline:2px solid var(--calcite-ui-brand);outline-offset:-4px;box-shadow:0 0 0 1px var(--calcite-ui-brand), inset 0 0 0 2px var(--calcite-ui-foreground-1)}:host .container.input-enabled.input-alignment-start.width-auto.heading-only,:host .container.input-enabled.input-alignment-start.width-auto.icon-only,:host .container.input-enabled.input-alignment-start.width-auto.description-only,:host .container.input-enabled.input-alignment-start.width-auto.heading.description,:host .container.input-enabled.input-alignment-start.width-auto.icon.description,:host .container.input-enabled.input-alignment-start.width-auto.heading.icon.description{display:inline-grid;grid-template-columns:max-content 1fr}:host .container.input-enabled.input-alignment-start.heading-only,:host .container.input-enabled.input-alignment-start.icon-only,:host .container.input-enabled.input-alignment-start.description-only,:host .container.input-enabled.input-alignment-start.heading.description,:host .container.input-enabled.input-alignment-start.icon.description,:host .container.input-enabled.input-alignment-start.heading.icon.description{gap:0.75rem}:host .container.input-enabled.input-alignment-start calcite-tile{order:1}:host .container.input-enabled.input-alignment-start.large-visual ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-start.large-visual ::slotted(calcite-radio-button){position:absolute;inset-block-start:0.75rem;inset-inline-start:0.75rem}:host .container.input-enabled.input-alignment-end.width-auto.heading-only,:host .container.input-enabled.input-alignment-end.width-auto.icon-only{display:inline-grid;grid-gap:0.75rem;grid-template-columns:max-content 1fr}:host .container.input-enabled.input-alignment-end.heading-only,:host .container.input-enabled.input-alignment-end.icon-only{gap:0.75rem}:host .container.input-enabled.input-alignment-end.description-only ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.description-only ::slotted(calcite-radio-button),:host .container.input-enabled.input-alignment-end.heading.description ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.heading.description ::slotted(calcite-radio-button),:host .container.input-enabled.input-alignment-end.icon.description ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.icon.description ::slotted(calcite-radio-button),:host .container.input-enabled.input-alignment-end.heading.icon.description ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.heading.icon.description ::slotted(calcite-radio-button){position:absolute;inset-block-start:0.75rem;inset-inline-end:0.75rem}:host .container.input-enabled.input-alignment-end.large-visual ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.large-visual ::slotted(calcite-radio-button){position:absolute;inset-block-start:0.75rem;inset-inline-end:0.75rem}:host .container.width-full{display:flex;max-inline-size:none}:host .container.width-full calcite-tile{flex:1 1 auto}:host(:hover) .container:not(.input-enabled){box-shadow:0 0 0 1px var(--calcite-ui-brand)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",Twe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTileSelectChange=B(this,"calciteTileSelectChange",6),this.guid=`calcite-tile-select-${$i()}`,this.checked=!1,this.description=void 0,this.disabled=!1,this.heading=void 0,this.hidden=!1,this.icon=void 0,this.iconFlipRtl=!1,this.name=void 0,this.inputEnabled=!1,this.inputAlignment="start",this.type="radio",this.value=void 0,this.width="auto",this.focused=!1}checkedChanged(e){this.input.checked=e}nameChanged(e){this.input.name=e}async setFocus(){var e;await He(this),(e=this.input)==null||e.setFocus()}checkboxChangeHandler(e){const t=e.target;t===this.input&&(this.checked=t.checked),e.stopPropagation(),this.calciteTileSelectChange.emit()}checkboxFocusBlurHandler(e){e.target===this.input&&(this.focused=e.detail),e.stopPropagation()}radioButtonChangeHandler(e){const t=e.target;t===this.input&&(this.checked=t.checked),e.stopPropagation(),this.calciteTileSelectChange.emit()}radioButtonCheckedChangeHandler(e){const t=e.target;t===this.input&&(this.checked=t.checked),e.stopPropagation()}radioButtonFocusBlurHandler(e){const t=e.target;t===this.input&&(this.focused=t.focused),e.stopPropagation()}click(e){const t=e.target;["calcite-tile","calcite-tile-select"].includes(t.localName)&&this.input.click()}mouseenter(){this.input.localName==="calcite-radio-button"&&(this.input.hovered=!0),this.input.localName==="calcite-checkbox"&&(this.input.hovered=!0)}mouseleave(){this.input.localName==="calcite-radio-button"&&(this.input.hovered=!1),this.input.localName==="calcite-checkbox"&&(this.input.hovered=!1)}connectedCallback(){this.renderInput()}componentWillLoad(){We(this)}componentDidLoad(){Ke(this)}disconnectedCallback(){this.input.parentNode.removeChild(this.input)}componentDidRender(){et(this)}renderInput(){this.input=document.createElement(this.type==="radio"?"calcite-radio-button":"calcite-checkbox"),this.input.checked=this.checked,this.input.disabled=this.disabled,this.input.hidden=this.hidden,this.input.id=this.guid,this.input.label=this.heading||this.name||"",this.name&&(this.input.name=this.name),this.value&&(this.input.value=this.value!=null?this.value.toString():""),this.el.insertAdjacentElement("beforeend",this.input)}render(){const{checked:e,description:t,disabled:i,focused:n,heading:r,icon:s,inputAlignment:a,inputEnabled:o,width:l,iconFlipRtl:c}=this;return v("div",{class:{checked:e,container:!0,[da.description]:Boolean(t),[da.descriptionOnly]:Boolean(!r&&!s&&t),disabled:i,focused:n,[da.heading]:Boolean(r),[da.headingOnly]:r&&!s&&!t,[da.icon]:Boolean(s),[da.iconOnly]:!r&&s&&!t,[da.inputAlignmentEnd]:a==="end",[da.inputAlignmentStart]:a==="start",[da.inputEnabled]:o,[da.largeVisual]:r&&s&&!t,[da.widthAuto]:l==="auto",[da.widthFull]:l==="full"}},v("calcite-tile",{active:e,description:t,embed:!0,heading:r,icon:s,iconFlipRtl:c}),v("slot",null))}get el(){return this}static get watchers(){return{checked:["checkedChanged"],name:["nameChanged"]}}static get style(){return Cwe}},[1,"calcite-tile-select",{checked:[1540],description:[513],disabled:[516],heading:[513],hidden:[516],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"],name:[520],inputEnabled:[516,"input-enabled"],inputAlignment:[513,"input-alignment"],type:[513],value:[8],width:[513],focused:[32],setFocus:[64]},[[0,"calciteCheckboxChange","checkboxChangeHandler"],[0,"calciteInternalCheckboxFocus","checkboxFocusBlurHandler"],[0,"calciteInternalCheckboxBlur","checkboxFocusBlurHandler"],[0,"calciteRadioButtonChange","radioButtonChangeHandler"],[0,"calciteInternalRadioButtonCheckedChange","radioButtonCheckedChangeHandler"],[0,"calciteInternalRadioButtonFocus","radioButtonFocusBlurHandler"],[0,"calciteInternalRadioButtonBlur","radioButtonFocusBlurHandler"],[0,"click","click"],[1,"pointerenter","mouseenter"],[1,"pointerleave","mouseleave"]]]);function $we(){if(typeof customElements>"u")return;["calcite-tile-select","calcite-icon","calcite-link","calcite-tile"].forEach(t=>{switch(t){case"calcite-tile-select":customElements.get(t)||customElements.define(t,Twe);break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-link":customElements.get(t)||CF();break;case"calcite-tile":customElements.get(t)||SZ();break}})}$we();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Awe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:flex;flex-wrap:wrap}:host ::slotted(calcite-tile-select){margin-block-end:1px;margin-inline-end:1px}:host([layout=vertical]){flex-direction:column}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",Mwe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.disabled=!1,this.layout="horizontal"}componentDidRender(){et(this)}render(){return v("slot",null)}get el(){return this}static get style(){return Awe}},[1,"calcite-tile-select-group",{disabled:[516],layout:[513]}]);function Dwe(){if(typeof customElements>"u")return;["calcite-tile-select-group"].forEach(t=>{switch(t){case"calcite-tile-select-group":customElements.get(t)||customElements.define(t,Mwe);break}})}Dwe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const rp={container:"container",header:"header",heading:"heading",close:"close",imageFrame:"image-frame",content:"content",info:"info"},Owe={close:"x"},NV={thumbnail:"thumbnail"},Rwe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:relative;margin:1rem;box-sizing:border-box;display:flex;flex-direction:row;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2);background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}:host *{box-sizing:border-box}.container{inline-size:100%;padding:1rem}:host([closed]),:host([closed]) .container{display:none}:host([selected]) .container{margin:0px;border-style:none;padding:0px}.header{margin:0px;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:0.5rem}.header{margin-block-end:0.5rem}.header .heading{padding:0px;font-size:var(--calcite-font-size-0);line-height:1.25rem;color:var(--calcite-ui-text-1)}.container[hidden]{display:none}.content{display:flex}.info{padding-block:0px;padding-inline:1rem;inline-size:70%}.info:only-child{inline-size:100%;padding-inline:0px}::slotted(p){margin-block-start:0px}::slotted(a){outline-color:transparent;color:var(--calcite-ui-brand)}::slotted(a:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.image-frame{inline-size:25%}.image-frame img{max-inline-size:100%}::slotted(img){max-inline-size:100%}",Pwe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTipDismiss=B(this,"calciteTipDismiss",6),this.hideTip=()=>{this.closed=!0,this.calciteTipDismiss.emit()},this.closed=!1,this.closeDisabled=!1,this.heading=void 0,this.headingLevel=void 0,this.selected=!1,this.messages=void 0,this.messageOverrides=void 0,this.defaultMessages=void 0,this.effectiveLocale=""}onMessagesChange(){}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){bn(this),ht(this),Mt(this)}async componentWillLoad(){await $t(this)}disconnectedCallback(){wn(this),pt(this),Dt(this)}renderHeader(){var a;const{heading:e,headingLevel:t,el:i}=this,n=(a=i.closest("calcite-tip-manager"))==null?void 0:a.headingLevel,r=n?BY(n+1):null,s=t||r;return e?v("header",{class:rp.header},v(Tm,{class:rp.heading,level:s},e)):null}renderDismissButton(){const{closeDisabled:e,hideTip:t}=this;return e?null:v("calcite-action",{class:rp.close,icon:Owe.close,onClick:t,scale:"l",text:this.messages.close})}renderImageFrame(){const{el:e}=this;return Xe(e,NV.thumbnail)?v("div",{class:rp.imageFrame,key:"thumbnail"},v("slot",{name:NV.thumbnail})):null}renderInfoNode(){return v("div",{class:rp.info},v("slot",null))}renderContent(){return v("div",{class:rp.content},this.renderImageFrame(),this.renderInfoNode())}render(){return v(Hr,null,v("article",{class:rp.container},this.renderHeader(),this.renderContent()),this.renderDismissButton())}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Rwe}},[1,"calcite-tip",{closed:[1540],closeDisabled:[516,"close-disabled"],heading:[1],headingLevel:[514,"heading-level"],selected:[516],messages:[1040],messageOverrides:[1040],defaultMessages:[32],effectiveLocale:[32]}]);function Lwe(){if(typeof customElements>"u")return;["calcite-tip","calcite-action","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-tip":customElements.get(t)||customElements.define(t,Pwe);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break}})}Lwe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Fwe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{box-sizing:border-box;display:block;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}::slotted(calcite-tip){margin:0px;border-style:none}:host-context(calcite-tip-manager){margin-block:0.75rem}:host-context(calcite-tip-manager) ::slotted(calcite-tip){padding:1rem}",Nwe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.groupTitle=void 0}render(){return v("slot",null)}static get style(){return Fwe}},[1,"calcite-tip-group",{groupTitle:[1,"group-title"]}]);function zwe(){if(typeof customElements>"u")return;["calcite-tip-group"].forEach(t=>{switch(t){case"calcite-tip-group":customElements.get(t)||customElements.define(t,Nwe);break}})}zwe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const ho={header:"header",heading:"heading",close:"close",container:"container",tipContainer:"tip-container",tipContainerAdvancing:"tip-container--advancing",tipContainerRetreating:"tip-container--retreating",pagination:"pagination",pagePosition:"page-position",pageNext:"page-next",pagePrevious:"page-previous"},Mv={chevronLeft:"chevron-left",chevronRight:"chevron-right",close:"x"},Vwe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{box-sizing:border-box;display:block;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2);--calcite-tip-manager-height:19vh}:host *{box-sizing:border-box}:host([closed]){display:none}.header{margin:0px;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:0.5rem}.header{border-width:0px;border-block-end-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-block:0px;padding-inline-end:0px;padding-inline-start:1rem}.header .heading{padding:0px;font-size:var(--calcite-font-size-1);line-height:1.5rem;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-1)}.container{position:relative;overflow:hidden;outline-color:transparent;min-block-size:150px}.container:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.tip-container{margin-block-start:1px;display:flex;align-items:flex-start;justify-content:center;overflow:auto;outline-color:transparent;animation-name:none;animation-duration:var(--calcite-animation-timing);block-size:var(--calcite-tip-manager-height)}.tip-container:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}::slotted(calcite-tip){border-style:none;padding:0.75rem;max-inline-size:var(--calcite-tip-max-width)}.tip-container--advancing{animation-name:tip-advance}.tip-container--retreating{animation-name:tip-retreat}.pagination{display:flex;align-items:center;justify-content:center;padding-inline:0px;padding-block:0.75rem 0.5rem}.page-position{margin-block:0px;margin-inline:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}@keyframes tip-advance{0%{opacity:0;transform:translate3d(50px, 0, 0) scale(0.99)}100%{opacity:1;transform:translate3d(0, 0, 0) scale(1)}}@keyframes tip-retreat{0%{opacity:0;transform:translate3d(-50px, 0, 0) scale(0.99)}100%{opacity:1;transform:translate3d(0, 0, 0) scale(1)}}",jwe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTipManagerClose=B(this,"calciteTipManagerClose",6),this.mutationObserver=Ct("mutation",()=>this.setUpTips()),this.hideTipManager=()=>{this.closed=!0,this.calciteTipManagerClose.emit()},this.previousClicked=()=>{this.previousTip()},this.nextClicked=()=>{this.nextTip()},this.tipManagerKeyDownHandler=e=>{if(e.target===this.container)switch(e.key){case"ArrowRight":e.preventDefault(),this.nextTip();break;case"ArrowLeft":e.preventDefault(),this.previousTip();break;case"Home":e.preventDefault(),this.selectedIndex=0;break;case"End":e.preventDefault(),this.selectedIndex=this.total-1;break}},this.storeContainerRef=e=>{this.container=e},this.closed=!1,this.headingLevel=void 0,this.messages=void 0,this.messageOverrides=void 0,this.selectedIndex=void 0,this.tips=void 0,this.total=void 0,this.direction=void 0,this.groupTitle=void 0,this.defaultMessages=void 0,this.effectiveLocale=""}closedChangeHandler(){this.direction=null}onMessagesChange(){}selectedChangeHandler(){this.showSelectedTip(),this.updateGroupTitle()}async effectiveLocaleChange(){await At(this,this.effectiveLocale),this.updateGroupTitle()}connectedCallback(){var e;ht(this),Mt(this),this.setUpTips(),(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}async componentWillLoad(){await $t(this),this.updateGroupTitle()}disconnectedCallback(){var e;(e=this.mutationObserver)==null||e.disconnect(),pt(this),Dt(this)}async nextTip(){this.direction="advancing";const e=this.selectedIndex+1;this.selectedIndex=(e+this.total)%this.total}async previousTip(){this.direction="retreating";const e=this.selectedIndex-1;this.selectedIndex=(e+this.total)%this.total}setUpTips(){const e=Array.from(this.el.querySelectorAll("calcite-tip"));if(this.total=e.length,this.total===0)return;const t=this.el.querySelector("calcite-tip[selected]");this.tips=e,this.selectedIndex=t?e.indexOf(t):0,e.forEach(i=>{i.closeDisabled=!0}),this.showSelectedTip()}showSelectedTip(){this.tips.forEach((e,t)=>{const i=this.selectedIndex===t;e.selected=i,e.hidden=!i})}updateGroupTitle(){var e;if(this.tips){const i=this.tips[this.selectedIndex].closest("calcite-tip-group");this.groupTitle=(i==null?void 0:i.groupTitle)||((e=this.messages)==null?void 0:e.defaultGroupTitle)}}renderPagination(){const e=Ci(this.el),{selectedIndex:t,tips:i,total:n,messages:r}=this,s=r.next,a=r.previous,o=r.defaultPaginationLabel;return i.length>1?v("footer",{class:ho.pagination},v("calcite-action",{class:ho.pagePrevious,icon:e==="ltr"?Mv.chevronLeft:Mv.chevronRight,onClick:this.previousClicked,scale:"m",text:a}),v("span",{class:ho.pagePosition},`${o} ${t+1}/${n}`),v("calcite-action",{class:ho.pageNext,icon:e==="ltr"?Mv.chevronRight:Mv.chevronLeft,onClick:this.nextClicked,scale:"m",text:s})):null}render(){const{closed:e,direction:t,headingLevel:i,groupTitle:n,selectedIndex:r,messages:s,total:a}=this,o=s.close;return a===0?null:v("section",{"aria-hidden":ot(e),class:ho.container,hidden:e,onKeyDown:this.tipManagerKeyDownHandler,ref:this.storeContainerRef,tabIndex:0},v("header",{class:ho.header},v(Tm,{class:ho.heading,level:i},n),v("calcite-action",{class:ho.close,onClick:this.hideTipManager,scale:"m",text:o},v("calcite-icon",{icon:Mv.close,scale:"m"}))),v("div",{class:{[ho.tipContainer]:!0,[ho.tipContainerAdvancing]:!e&&t==="advancing",[ho.tipContainerRetreating]:!e&&t==="retreating"},key:r,tabIndex:0},v("slot",null)),this.renderPagination())}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{closed:["closedChangeHandler"],messageOverrides:["onMessagesChange"],selectedIndex:["selectedChangeHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Vwe}},[1,"calcite-tip-manager",{closed:[1540],headingLevel:[514,"heading-level"],messages:[1040],messageOverrides:[1040],selectedIndex:[32],tips:[32],total:[32],direction:[32],groupTitle:[32],defaultMessages:[32],effectiveLocale:[32],nextTip:[64],previousTip:[64]}]);function Uwe(){if(typeof customElements>"u")return;["calcite-tip-manager","calcite-action","calcite-icon","calcite-loader"].forEach(t=>{switch(t){case"calcite-tip-manager":customElements.get(t)||customElements.define(t,jwe);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break}})}Uwe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function Bwe(e){return e==null?void 0:e.matches("calcite-tree-item")}function G$(e,t){const i=t==="down"?"nextElementSibling":"previousElementSibling";let n=e,r=null;for(;Bwe(n);){if(!n.disabled){r=n;break}n=n[i]}return r}const Hwe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:block}:host(:focus){outline:2px solid transparent;outline-offset:2px}",Gwe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTreeSelect=B(this,"calciteTreeSelect",6),this.lines=!1,this.child=void 0,this.scale="m",this.selectionMode="single",this.selectedItems=[]}componentWillRender(){var t;const e=(t=this.el.parentElement)==null?void 0:t.closest("calcite-tree");this.lines=e?e.lines:this.lines,this.scale=e?e.scale:this.scale,this.selectionMode=e?e.selectionMode:this.selectionMode,this.child=!!e}render(){return v(Fe,{"aria-multiselectable":this.child?void 0:(this.selectionMode==="multiple"||this.selectionMode==="multichildren").toString(),role:this.child?void 0:"tree",tabIndex:this.getRootTabIndex()},v("slot",null))}onFocus(){if(!this.child){const e=this.el.querySelector("calcite-tree-item[selected]:not([disabled])")||this.el.querySelector("calcite-tree-item:not([disabled])");Nr(e)}}onFocusIn(e){(e.relatedTarget===this.el||!this.el.contains(e.relatedTarget))&&this.el.removeAttribute("tabindex")}onFocusOut(e){!this.el.contains(e.relatedTarget)&&(this.el.tabIndex=this.getRootTabIndex())}onClick(e){const t=e.target,i=Go(t.querySelectorAll("calcite-tree-item"));if(this.child)return;if(this.child||(e.preventDefault(),e.stopPropagation()),this.selectionMode==="ancestors"&&!this.child){this.updateAncestorTree(e);return}const n=this.selectionMode==="none",r=this.selectionMode!==null&&(!t.hasChildren||t.hasChildren&&(this.selectionMode==="children"||this.selectionMode==="multichildren")),s=!n&&e.detail.modifyCurrentSelection&&(this.selectionMode==="multiple"||this.selectionMode==="multichildren"),a=this.selectionMode==="multichildren"||this.selectionMode==="children",o=!s&&((this.selectionMode==="single"||this.selectionMode==="multiple")&&i.length<=0||this.selectionMode==="children"||this.selectionMode==="multichildren"),l=this.selectionMode==="children"||this.selectionMode==="multichildren";if(!this.child){const c=[];r&&c.push(t),a&&i.forEach(h=>{c.push(h)}),o&&Go(this.el.querySelectorAll("calcite-tree-item[selected]")).forEach(p=>{c.includes(p)||(p.selected=!1)}),l&&!e.detail.forceToggle&&(t.expanded=!0),s&&window.getSelection().removeAllRanges(),s&&t.selected||a&&e.detail.forceToggle?c.forEach(h=>{h.disabled||(h.selected=!1)}):n||c.forEach(h=>{h.disabled||(h.selected=!0)})}this.selectedItems=n?[t]:Go(this.el.querySelectorAll("calcite-tree-item")).filter(c=>c.selected),this.calciteTreeSelect.emit(),e.stopPropagation()}keyDownHandler(e){var n;const t=this.el.closest("calcite-tree:not([child])"),i=e.target;if(t===this.el&&i.tagName==="CALCITE-TREE-ITEM"&&this.el.contains(i)){if(e.key==="ArrowDown"){const r=G$(i.nextElementSibling,"down");r&&(r.focus(),e.preventDefault());return}if(e.key==="ArrowUp"){const r=G$(i.previousElementSibling,"up");r&&(r.focus(),e.preventDefault())}if(e.key==="ArrowLeft"&&!i.disabled){if(i.hasChildren&&i.expanded){i.expanded=!1,e.preventDefault();return}const r=i.parentElement.closest("calcite-tree-item");if(r&&(!i.hasChildren||i.expanded===!1)){r.focus(),e.preventDefault();return}return}if(e.key==="ArrowRight"&&!i.disabled){i.hasChildren&&(i.expanded&&rF(this.el).activeElement===i?((n=G$(i.querySelector("calcite-tree-item"),"down"))==null||n.focus(),e.preventDefault()):(i.expanded=!0,e.preventDefault()));return}}}updateAncestorTree(e){const t=e.target;if(t.disabled)return;const i=[];let n=t.parentElement.closest("calcite-tree-item");for(;n;)i.push(n),n=n.parentElement.closest("calcite-tree-item");const r=Array.from(t.querySelectorAll("calcite-tree-item:not([disabled])")),s=r.filter(c=>!c.hasChildren),a=r.filter(c=>c.hasChildren),o=t.hasChildren?!(t.selected||t.indeterminate):!t.selected;s.forEach(c=>{c.selected=o,c.indeterminate=!1});function l(c,h){const p=c.filter(g=>g.selected),m=c.filter(g=>!g.selected);h.selected=p.length===c.length,h.indeterminate=p.length>0&&m.length>0}a.forEach(c=>{const h=Array.from(c.querySelectorAll(":scope > calcite-tree > calcite-tree-item"));l(h,c)}),t.hasChildren?l(r,t):(t.selected=o,t.indeterminate=!1),i.forEach(c=>{const h=Go(c.querySelectorAll("calcite-tree-item")),p=h.filter(g=>g.selected);if(p.length===0){c.selected=!1,c.indeterminate=!1;return}const m=p.length<h.length;c.indeterminate=m,c.selected=!m}),this.selectedItems=Go(this.el.querySelectorAll("calcite-tree-item")).filter(c=>c.selected),this.calciteTreeSelect.emit()}getRootTabIndex(){return this.child?-1:0}get el(){return this}static get style(){return Hwe}},[1,"calcite-tree",{lines:[1540],child:[1540],scale:[1537],selectionMode:[1537,"selection-mode"],selectedItems:[1040]},[[0,"focus","onFocus"],[0,"focusin","onFocusIn"],[0,"focusout","onFocusOut"],[0,"calciteInternalTreeItemSelect","onClick"],[0,"keydown","keyDownHandler"]]]);function qwe(){if(typeof customElements>"u")return;["calcite-tree"].forEach(t=>{switch(t){case"calcite-tree":customElements.get(t)||customElements.define(t,Gwe);break}})}qwe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const po={actionsEnd:"actions-end",checkboxLabel:"checkbox-label",checkbox:"checkbox",chevron:"chevron",nodeContainer:"node-container",childrenContainer:"children-container",bulletPointIcon:"bullet-point",checkmarkIcon:"checkmark",itemExpanded:"item--expanded",iconStart:"icon-start",nodeAndActionsContainer:"node-actions-container"},q$={actionsEnd:"actions-end",children:"children"},Zm={bulletPoint:"bullet-point",checkmark:"check",chevronRight:"chevron-right",blank:"blank"},Wwe='@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:block;max-inline-size:100%;cursor:pointer;color:var(--calcite-ui-text-3)}[hidden]{display:none}.node-actions-container{display:flex;justify-content:space-between}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .node-actions-container{min-block-size:1.5rem}:host([scale=s]) .node-actions-container .node-container .checkbox,:host([scale=s]) .node-actions-container .node-container .chevron,:host([scale=s]) .node-actions-container .node-container .checkmark,:host([scale=s]) .node-actions-container .node-container .bullet-point{margin-inline:0.25rem}:host([scale=s]) .node-actions-container .node-container .icon-start{margin-inline:0.75rem}:host([scale=m]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .node-actions-container{min-block-size:2rem}:host([scale=m]) .node-actions-container .node-container .checkbox,:host([scale=m]) .node-actions-container .node-container .chevron,:host([scale=m]) .node-actions-container .node-container .checkmark,:host([scale=m]) .node-actions-container .node-container .bullet-point{margin-inline:0.5rem}:host([scale=m]) .node-actions-container .node-container .icon-start{margin-inline:0.75rem}:host([scale=l]){font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .node-actions-container{min-block-size:2.75rem}:host([scale=l]) .node-actions-container .node-container .checkbox,:host([scale=l]) .node-actions-container .node-container .chevron,:host([scale=l]) .node-actions-container .node-container .checkmark,:host([scale=l]) .node-actions-container .node-container .bullet-point{margin-inline:0.75rem}:host([scale=l]) .node-actions-container .node-container .icon-start{margin-inline:0.75rem}:host([lines]) .children-container:after{position:absolute;inset-block-start:0px;z-index:1;inline-size:1px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;block-size:96%;content:"";background-color:var(--calcite-ui-border-2)}:host(:not([lines])) .node-container:after{display:none}::slotted(*){min-inline-size:0px;max-inline-size:100%;overflow-wrap:break-word;color:inherit;text-decoration:none !important}::slotted(*):hover{text-decoration:none !important}::slotted(a){inline-size:100%;text-decoration-line:none}:host{outline-color:transparent}:host:focus,:host:active{outline:2px solid transparent;outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host(:focus:not([disabled])){outline:2px solid transparent;outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.actions-end{display:flex;flex-direction:row;align-items:center;align-self:stretch}.checkbox{line-height:0}.checkbox-label{pointer-events:none;display:flex;align-items:center}.checkbox:focus{outline:2px solid transparent;outline-offset:2px}.children-container{position:relative;block-size:0px;overflow:hidden;margin-inline-start:1.25rem;transform:scaleY(0);opacity:0;transition:var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out;transform-origin:top}.item--expanded>.children-container{overflow:visible;opacity:1;block-size:auto}.node-container{position:relative;display:flex;min-inline-size:0px;align-items:center}.node-container .checkmark,.node-container .bullet-point{opacity:0;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;color:var(--calcite-ui-border-1)}.node-container:hover .checkmark,.node-container:hover .bullet-point,:host([selected]) .node-container:hover .checkmark,:host([selected]) .node-container:hover .bullet-point,:host(:focus:not([disabled])) .node-container .checkmark,:host(:focus:not([disabled])) .node-container .bullet-point{opacity:1}:host([selected]) .node-container,:host([selected]) .node-container:hover{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([selected]) .node-container .bullet-point,:host([selected]) .node-container .checkmark,:host([selected]) .node-container:hover .bullet-point,:host([selected]) .node-container:hover .checkmark{opacity:1;color:var(--calcite-ui-brand)}:host([selection-mode=none]:not([has-children])):host([scale=s]) .node-container{padding-inline-start:0.5rem}:host([selection-mode=none]:not([has-children])):host([scale=m]) .node-container{padding-inline-start:1rem}:host([selection-mode=none]:not([has-children])):host([scale=l]) .node-container{padding-inline-start:1.5rem}:host(:not([has-children])):host([scale=s]) .node-container[data-selection-mode=ancestors] .checkbox{padding-inline-start:1.25rem}:host(:not([has-children])):host([scale=m]) .node-container[data-selection-mode=ancestors] .checkbox{padding-inline-start:1.5rem}:host(:not([has-children])):host([scale=l]) .node-container[data-selection-mode=ancestors] .checkbox{padding-inline-start:1.75rem}:host([has-children]) .node-container[data-selection-mode=ancestors] .checkbox{margin-inline-start:0}:host([has-children]) .node-container .bullet-point,:host([has-children]) .node-container .checkmark{display:none}:host([has-children][expanded]:not([selected]):not([selection-mode=none])) .node-container ::slotted(*){font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([has-children][selected]) .node-container[data-selection-mode=children],:host([has-children][selected]) .node-container[data-selection-mode=multichildren]{color:var(--calcite-ui-brand)}.chevron{position:relative;align-self:center;color:var(--calcite-ui-text-3);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;flex:0 0 auto;transform:rotate(0deg)}.calcite--rtl .chevron{transform:rotate(180deg)}.item--expanded .node-container>.chevron{transform:rotate(90deg)}:host([selected]) .checkmark,:host([selected]) .bullet-point{color:var(--calcite-ui-brand)}',Kwe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalTreeItemSelect=B(this,"calciteInternalTreeItemSelect",6),this.openTransitionProp="opacity",this.transitionProp="expanded",this.iconClickHandler=e=>{e.stopPropagation(),this.expanded=!this.expanded},this.childrenClickHandler=e=>e.stopPropagation(),this.updateParentIsExpanded=(e,t)=>{Xe(e,q$.children,{all:!0,selector:"calcite-tree-item"}).forEach(n=>n.parentExpanded=t)},this.updateAncestorTree=()=>{var e;if(this.selected&&this.selectionMode==="ancestors"){const t=[];let i=this.parentTreeItem;for(;i;)t.push(i),i=(e=i.parentElement)==null?void 0:e.closest("calcite-tree-item");t.forEach(n=>n.indeterminate=!0);return}},this.actionsEndSlotChangeHandler=e=>{this.hasEndActions=La(e)},this.disabled=!1,this.expanded=!1,this.iconFlipRtl=void 0,this.iconStart=void 0,this.selected=!1,this.parentExpanded=!1,this.depth=-1,this.hasChildren=null,this.lines=void 0,this.scale=void 0,this.indeterminate=void 0,this.selectionMode=void 0,this.updateAfterInitialRender=!1,this.hasEndActions=!1}expandedHandler(e){this.updateParentIsExpanded(this.el,e),Sk(this,!0)}getselectionMode(){this.isSelectionMultiLike=this.selectionMode==="multiple"||this.selectionMode==="multichildren"}onBeforeOpen(){this.transitionEl.style.transform="scaleY(1)"}onOpen(){this.transitionEl.style.transform="none"}onBeforeClose(){}onClose(){this.transitionEl.style.transform="scaleY(0)"}connectedCallback(){var e;if(this.parentTreeItem=(e=this.el.parentElement)==null?void 0:e.closest("calcite-tree-item"),this.parentTreeItem){const{expanded:t}=this.parentTreeItem;this.updateParentIsExpanded(this.parentTreeItem,t)}bn(this)}disconnectedCallback(){wn(this)}componentWillRender(){var i;this.hasChildren=!!this.el.querySelector("calcite-tree"),this.depth=0;let e=this.el.closest("calcite-tree");if(!e)return;this.selectionMode=e.selectionMode,this.scale=e.scale||"m",this.lines=e.lines;let t;for(;e&&(t=(i=e.parentElement)==null?void 0:i.closest("calcite-tree"),t!==e);)e=t,this.depth=this.depth+1}componentWillLoad(){this.expanded&&Sk(this,!0),requestAnimationFrame(()=>this.updateAfterInitialRender=!0)}componentDidLoad(){this.updateAncestorTree()}componentDidRender(){et(this,()=>this.parentExpanded||this.depth===1)}render(){const e=Ci(this.el)==="rtl",t=this.selectionMode==="single"||this.selectionMode==="children",i=this.selectionMode==="multiple"||this.selectionMode==="multichildren",n=this.selectionMode==="none"&&!this.hasChildren,r=this.hasChildren?v("calcite-icon",{class:{[po.chevron]:!0,[za.rtl]:e},"data-test-id":"icon",icon:Zm.chevronRight,onClick:this.iconClickHandler,scale:this.scale==="l"?"m":"s"}):null,s=v("slot",{key:"default-slot"}),a=this.selectionMode==="ancestors"?v("label",{class:po.checkboxLabel,key:"checkbox-label"},v("calcite-checkbox",{checked:this.selected,class:po.checkbox,"data-test-id":"checkbox",indeterminate:this.hasChildren&&this.indeterminate,scale:this.scale,tabIndex:-1}),s):null,o=t?Zm.bulletPoint:i?Zm.checkmark:n?Zm.blank:null,l=o?v("calcite-icon",{class:{[po.bulletPointIcon]:o===Zm.bulletPoint,[po.checkmarkIcon]:o===Zm.checkmark,[za.rtl]:e},icon:o,scale:this.scale==="l"?"m":"s"}):null,c=!(this.parentExpanded||this.depth===1),h=this.updateAfterInitialRender&&this.expanded,{hasEndActions:p}=this,m=v("slot",{key:"actionsEndSlot",name:q$.actionsEnd,onSlotchange:this.actionsEndSlotChangeHandler}),g=v("calcite-icon",{class:po.iconStart,flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:this.scale==="l"?"m":"s"});return v(Fe,{"aria-expanded":this.hasChildren?ot(h):void 0,"aria-hidden":ot(c),"aria-selected":this.selected?"true":i?"false":void 0,"calcite-hydrated-hidden":c,role:"treeitem"},v("div",{class:{[po.itemExpanded]:h}},v("div",{class:po.nodeAndActionsContainer},v("div",{class:{[po.nodeContainer]:!0,[za.rtl]:e},"data-selection-mode":this.selectionMode,ref:y=>this.defaultSlotWrapper=y},r,l,this.iconStart?g:null,a||s),v("div",{class:po.actionsEnd,hidden:!p},m)),v("div",{class:{[po.childrenContainer]:!0,[za.rtl]:e},"data-test-id":"calcite-tree-children",onClick:this.childrenClickHandler,ref:y=>this.setTransitionEl(y),role:this.hasChildren?"group":void 0},v("slot",{name:q$.children}))))}setTransitionEl(e){this.transitionEl=e}onClick(e){const[t]=U3(this.el,"a");if(t&&e.composedPath()[0].tagName.toLowerCase()!=="a"){const i=t.target===""?"_self":t.target;window.open(t.href,i)}this.calciteInternalTreeItemSelect.emit({modifyCurrentSelection:this.selectionMode==="ancestors"||this.isSelectionMultiLike,forceToggle:!1})}keyDownHandler(e){let t;switch(e.key){case" ":if(this.selectionMode==="none")return;this.calciteInternalTreeItemSelect.emit({modifyCurrentSelection:this.isSelectionMultiLike,forceToggle:!1}),e.preventDefault();break;case"Enter":if(this.selectionMode==="none")return;const i=Go(this.el.children).find(a=>a.matches("a"));i?(i.click(),this.selected=!0):this.calciteInternalTreeItemSelect.emit({modifyCurrentSelection:this.isSelectionMultiLike,forceToggle:!1}),e.preventDefault();break;case"Home":t=this.el.closest("calcite-tree:not([child])");const n=t.querySelector("calcite-tree-item");n==null||n.focus();break;case"End":t=this.el.closest("calcite-tree:not([child])");let r=t.children[t.children.length-1],s=Go(r.children).find(a=>a.matches("calcite-tree"));for(;s;)r=s.children[t.children.length-1],s=Go(r.children).find(a=>a.matches("calcite-tree"));r==null||r.focus();break}}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],selectionMode:["getselectionMode"]}}static get style(){return Wwe}},[1,"calcite-tree-item",{disabled:[516],expanded:[1540],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],selected:[1540],parentExpanded:[4,"parent-expanded"],depth:[1538],hasChildren:[1540,"has-children"],lines:[1540],scale:[1537],indeterminate:[516],selectionMode:[1537,"selection-mode"],updateAfterInitialRender:[32],hasEndActions:[32]},[[0,"click","onClick"],[0,"keydown","keyDownHandler"]]]);function Ywe(){if(typeof customElements>"u")return;["calcite-tree-item","calcite-checkbox","calcite-icon"].forEach(t=>{switch(t){case"calcite-tree-item":customElements.get(t)||customElements.define(t,Kwe);break;case"calcite-checkbox":customElements.get(t)||wF();break;case"calcite-icon":customElements.get(t)||Te();break}})}Ywe();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const Jwe={container:"container",handle:"handle"};var lD;(function(e){e.grip="grip"})(lD||(lD={}));function Dv(e,t,i){const{items:n,messages:r}=i,s=n.length,a=r1e(i,e)+1,o=t==="idle"?r.dragHandleIdle:t==="active"?r.dragHandleActive:t==="change"?r.dragHandleChange:r.dragHandleCommit;return Zwe(o,e.label,a,s)}function zV(e){const t=e.composedPath().find(n=>{var r;return((r=n.dataset)==null?void 0:r.jsHandle)!==void 0}),i=e.composedPath().find(n=>{var r;return((r=n.tagName)==null?void 0:r.toLowerCase())==="calcite-value-list-item"});return{handle:t,item:i}}function Zwe(e,t,i,n){return e.replace("${position}",i.toString()).replace("${itemLabel}",t).replace("${total}",n.toString())}const Qwe="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{position:relative;box-sizing:border-box;display:flex;flex-shrink:0;flex-grow:0;flex-direction:column;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2)}:host *{box-sizing:border-box}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}calcite-value-list-item:last-of-type{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([filter-enabled]) header{margin-block-end:0.25rem;display:flex;align-items:center;justify-content:flex-end;background-color:var(--calcite-ui-foreground-1);--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([filter-enabled]) header.sticky-pos{position:sticky;inset-block-start:0px;z-index:300}calcite-filter{margin-block-end:1px}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}",Xwe=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteListChange=B(this,"calciteListChange",6),this.calciteListOrderChange=B(this,"calciteListOrderChange",6),this.calciteListFilter=B(this,"calciteListFilter",6),this.lastSelectedItem=null,this.mutationObserver=Ct("mutation",BJ.bind(this)),this.setFilterEl=e=>{this.filterEl=e},this.setFilteredItems=e=>{this.filteredItems=e},this.deselectRemovedItems=tZ.bind(this),this.deselectSiblingItems=iZ.bind(this),this.selectSiblings=nZ.bind(this),this.handleFilter=rZ.bind(this),this.handleFilterEvent=aZ.bind(this),this.getItemData=oZ.bind(this),this.keyDownHandler=e=>{if(e.defaultPrevented)return;const{handle:t,item:i}=zV(e);if(t&&!i.handleActivated&&e.key===" "&&this.updateScreenReaderText(Dv(i,"commit",this)),!t||!i.handleActivated){JJ.call(this,e);return}e.preventDefault();const{items:n}=this;if(e.key===" "&&this.updateScreenReaderText(Dv(i,"active",this)),e.key!=="ArrowUp"&&e.key!=="ArrowDown"||n.length<=1)return;const{el:r}=this,s=ZJ(this,i,e.key==="ArrowUp"?"up":"down");if(s===n.length-1)r.appendChild(i);else{const a=r.children[s],o=a===i.nextElementSibling?a.nextElementSibling:a;r.insertBefore(i,o)}this.items=this.getItems(),this.calciteListOrderChange.emit(this.items.map(({value:a})=>a)),requestAnimationFrame(()=>t==null?void 0:t.focus()),i.handleActivated=!0,this.updateHandleAriaLabel(t,Dv(i,"change",this))},this.storeAssistiveEl=e=>{this.assistiveTextEl=e},this.handleFocusIn=e=>{const{handle:t,item:i}=zV(e);!(i!=null&&i.handleActivated)&&i&&t&&this.updateHandleAriaLabel(t,Dv(i,"idle",this))},this.disabled=!1,this.dragEnabled=!1,this.filteredItems=[],this.filteredData=[],this.filterEnabled=!1,this.filterPlaceholder=void 0,this.filterText=void 0,this.group=void 0,this.loading=!1,this.multiple=!1,this.selectionFollowsFocus=!1,this.messageOverrides=void 0,this.messages=void 0,this.dataForFilter=[],this.defaultMessages=void 0,this.effectiveLocale="",this.selectedValues=new Map}onMessagesChange(){}effectiveLocaleChange(){At(this,this.effectiveLocale)}connectedCallback(){ht(this),Mt(this),HJ.call(this),GJ.call(this)}async componentWillLoad(){We(this),await $t(this)}componentDidLoad(){Ke(this),this.setUpDragAndDrop(),sZ.call(this)}componentDidRender(){et(this)}disconnectedCallback(){pt(this),Dt(this),qJ.call(this),this.cleanUpDragAndDrop()}calciteListFocusOutHandler(e){YJ.call(this,e)}calciteListItemRemoveHandler(e){QJ.call(this,e)}calciteListItemChangeHandler(e){WJ.call(this,e)}calciteInternalListItemPropsChangeHandler(e){e.stopPropagation(),this.setUpFilter()}calciteInternalListItemValueChangeHandler(e){KJ.call(this,e),e.stopPropagation()}getItems(){return Array.from(this.el.querySelectorAll("calcite-value-list-item"))}setUpItems(){eZ.call(this,"calcite-value-list-item")}setUpFilter(){this.filterEnabled&&(this.dataForFilter=this.getItemData())}setUpDragAndDrop(){this.cleanUpDragAndDrop(),this.dragEnabled&&(this.sortable=Oe.create(this.el,{dataIdAttr:"id",handle:`.${Jwe.handle}`,draggable:"calcite-value-list-item",group:this.group,onSort:()=>{this.items=Array.from(this.el.querySelectorAll("calcite-value-list-item"));const e=this.items.map(t=>t.value);this.calciteListOrderChange.emit(e)}}))}cleanUpDragAndDrop(){var e;(e=this.sortable)==null||e.destroy(),this.sortable=null}handleBlur(){this.dragEnabled&&this.updateScreenReaderText("")}async getSelectedItems(){return this.selectedValues}async setFocus(e){return await He(this),XJ.call(this,e)}getIconType(){let e=null;return this.dragEnabled&&(e=lD.grip),e}updateScreenReaderText(e){this.assistiveTextEl.textContent=e}updateHandleAriaLabel(e,t){e.ariaLabel=t}handleValueListItemBlur(e){const{item:t,handle:i}=e.detail;!(t!=null&&t.handleActivated)&&t&&this.updateHandleAriaLabel(i,Dv(t,"idle",this)),e.stopPropagation()}render(){return v(lZ,{onBlur:this.handleBlur,onFocusin:this.handleFocusIn,onKeyDown:this.keyDownHandler,props:this})}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Qwe}},[1,"calcite-value-list",{disabled:[516],dragEnabled:[516,"drag-enabled"],filteredItems:[1040],filteredData:[1040],filterEnabled:[516,"filter-enabled"],filterPlaceholder:[513,"filter-placeholder"],filterText:[1537,"filter-text"],group:[513],loading:[516],multiple:[516],selectionFollowsFocus:[516,"selection-follows-focus"],messageOverrides:[1040],messages:[1040],dataForFilter:[32],defaultMessages:[32],effectiveLocale:[32],selectedValues:[32],getSelectedItems:[64],setFocus:[64]},[[0,"focusout","calciteListFocusOutHandler"],[0,"calciteListItemRemove","calciteListItemRemoveHandler"],[0,"calciteListItemChange","calciteListItemChangeHandler"],[0,"calciteInternalListItemPropsChange","calciteInternalListItemPropsChangeHandler"],[0,"calciteInternalListItemValueChange","calciteInternalListItemValueChangeHandler"],[0,"calciteValueListItemDragHandleBlur","handleValueListItemBlur"]]]);function e_e(){if(typeof customElements>"u")return;["calcite-value-list","calcite-filter","calcite-icon","calcite-input","calcite-loader","calcite-progress","calcite-scrim"].forEach(t=>{switch(t){case"calcite-value-list":customElements.get(t)||customElements.define(t,Xwe);break;case"calcite-filter":customElements.get(t)||EC();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-input":customElements.get(t)||Mu();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-progress":customElements.get(t)||so();break;case"calcite-scrim":customElements.get(t)||jh();break}})}e_e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const t_e={drag:"drag"},Ux={actionsEnd:"actions-end",actionsStart:"actions-start"},i_e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{margin-block-end:1px;box-sizing:border-box;display:flex;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2);--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transition:background-color var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}:host *{box-sizing:border-box}calcite-pick-list-item{position:relative;margin:0px;flex-grow:1;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([active]),:host([selected]){--tw-shadow:0 0 0 1px var(--calcite-ui-brand);--tw-shadow-colored:0 0 0 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.handle{display:flex;cursor:move;align-items:center;justify-content:center;border-style:none;background-color:transparent;padding-block:0px;padding-inline:0.25rem;color:var(--calcite-ui-border-input);outline-color:transparent}.handle:hover{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.handle:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.handle--activated{background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-1)}.handle calcite-icon{color:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",n_e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteListItemRemove=B(this,"calciteListItemRemove",7),this.calciteValueListItemDragHandleBlur=B(this,"calciteValueListItemDragHandleBlur",6),this.pickListItem=null,this.guid=`calcite-value-list-item-${$i()}`,this.getPickListRef=e=>this.pickListItem=e,this.handleKeyDown=e=>{e.key===" "&&(this.handleActivated=!this.handleActivated)},this.handleBlur=()=>{this.handleActivated=!1,this.calciteValueListItemDragHandleBlur.emit({item:this.el,handle:this.handleEl})},this.handleSelectChange=e=>{this.selected=e.detail.selected},this.description=void 0,this.disabled=!1,this.deselectDisabled=!1,this.nonInteractive=!1,this.handleActivated=!1,this.icon=null,this.iconFlipRtl=!1,this.label=void 0,this.metadata=void 0,this.removable=!1,this.selected=!1,this.value=void 0}connectedCallback(){bn(this)}disconnectedCallback(){wn(this)}componentWillLoad(){We(this)}componentDidLoad(){Ke(this)}componentDidRender(){et(this,this.el.closest("calcite-value-list")?"managed":!1)}async toggleSelected(e){this.pickListItem.toggleSelected(e)}async setFocus(){var e;await He(this),(e=this.pickListItem)==null||e.setFocus()}calciteListItemChangeHandler(e){e.detail.item=this.el}renderActionsEnd(){const{el:e}=this;return Xe(e,Ux.actionsEnd)?v("slot",{name:Ux.actionsEnd,slot:af.actionsEnd}):null}renderActionsStart(){const{el:e}=this;return Xe(e,Ux.actionsStart)?v("slot",{name:Ux.actionsStart,slot:af.actionsStart}):null}renderHandle(){const{icon:e,iconFlipRtl:t}=this;if(e===om.grip)return v("span",{class:{[Ds.handle]:!0,[Ds.handleActivated]:this.handleActivated},"data-js-handle":!0,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,ref:i=>this.handleEl=i,role:"button",tabindex:"0"},v("calcite-icon",{flipRtl:t,icon:t_e.drag,scale:"s"}))}render(){return v(Fe,{id:this.el.id||this.guid},this.renderHandle(),v("calcite-pick-list-item",{description:this.description,deselectDisabled:this.deselectDisabled,disabled:this.disabled,label:this.label,metadata:this.metadata,nonInteractive:this.nonInteractive,onCalciteListItemChange:this.handleSelectChange,ref:this.getPickListRef,removable:this.removable,selected:this.selected,value:this.value},this.renderActionsStart(),this.renderActionsEnd()))}get el(){return this}static get style(){return i_e}},[1,"calcite-value-list-item",{description:[513],disabled:[516],deselectDisabled:[4,"deselect-disabled"],nonInteractive:[516,"non-interactive"],handleActivated:[1028,"handle-activated"],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"],label:[513],metadata:[16],removable:[516],selected:[1540],value:[8],toggleSelected:[64],setFocus:[64]},[[0,"calciteListItemChange","calciteListItemChangeHandler"]]]);function r_e(){if(typeof customElements>"u")return;["calcite-value-list-item","calcite-action","calcite-icon","calcite-loader","calcite-pick-list-item"].forEach(t=>{switch(t){case"calcite-value-list-item":customElements.get(t)||customElements.define(t,n_e);break;case"calcite-action":customElements.get(t)||ys();break;case"calcite-icon":customElements.get(t)||Te();break;case"calcite-loader":customElements.get(t)||ei();break;case"calcite-pick-list-item":customElements.get(t)||cZ();break}})}r_e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const s_e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:flex;background-color:var(--calcite-ui-foreground-1);inline-size:-moz-fit-content;inline-size:fit-content;outline:1px solid var(--calcite-ui-border-input);outline-offset:-1px}:host([appearance=outline]){background-color:transparent}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([layout=vertical]){flex-direction:column;align-items:flex-start;align-self:flex-start}:host([width=full]){inline-size:100%;min-inline-size:-moz-fit-content;min-inline-size:fit-content}:host([width=full]) ::slotted(calcite-segmented-control-item){flex:1 1 auto}:host([width=full][layout=vertical]) ::slotted(calcite-segmented-control-item){justify-content:flex-start}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",a_e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteSegmentedControlChange=B(this,"calciteSegmentedControlChange",6),this.handleClick=e=>{e.target.localName==="calcite-segmented-control-item"&&this.selectItem(e.target,!0)},this.appearance="solid",this.disabled=!1,this.required=!1,this.layout="horizontal",this.name=void 0,this.scale="m",this.value=null,this.selectedItem=void 0,this.width="auto"}valueHandler(e){this.getItems().forEach(i=>i.checked=i.value===e)}handleSelectedItemChange(e,t){if(this.value=e==null?void 0:e.value,e===t)return;const i=this.getItems(),n=Array.from(i).filter(r=>r===e).pop();n?this.selectItem(n):i[0]&&(i[0].tabIndex=0)}componentWillLoad(){We(this);const e=this.getItems(),t=Array.from(e).filter(i=>i.checked).pop();t?this.selectItem(t):e[0]&&(e[0].tabIndex=0)}componentDidLoad(){_C(this,this.value),Ke(this)}connectedCallback(){vr(this),na(this)}disconnectedCallback(){Gr(this),ra(this)}componentDidRender(){et(this)}render(){return v(Fe,{onClick:this.handleClick,role:"radiogroup"},v("slot",null),v(sa,{component:this}))}handleSelected(e){e.preventDefault(),this.selectItem(e.target),e.stopPropagation()}handleKeyDown(e){const t=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"," "],{key:i}=e,{el:n,selectedItem:r}=this;if(t.indexOf(i)===-1)return;let s=i;Ci(n)==="rtl"&&(i==="ArrowRight"&&(s="ArrowLeft"),i==="ArrowLeft"&&(s="ArrowRight"));const a=this.getItems();let o=-1;switch(a.forEach((l,c)=>{l===r&&(o=c)}),s){case"ArrowLeft":case"ArrowUp":e.preventDefault();const l=o<1?a.item(a.length-1):a.item(o-1);this.selectItem(l,!0);return;case"ArrowRight":case"ArrowDown":e.preventDefault();const c=o===-1?a.item(1):a.item(o+1)||a.item(0);this.selectItem(c,!0);return;case" ":e.preventDefault(),this.selectItem(e.target,!0);return;default:return}}async setFocus(){var e;await He(this),(e=this.selectedItem||this.getItems()[0])==null||e.focus()}onLabelClick(){this.setFocus()}getItems(){return this.el.querySelectorAll("calcite-segmented-control-item")}selectItem(e,t=!1){if(e===this.selectedItem)return;const i=this.getItems();let n=null;i.forEach(r=>{const s=r.value===e.value;(s&&!r.checked||!s&&r.checked)&&(r.checked=s),r.tabIndex=s?0:-1,s&&(n=r,t&&this.calciteSegmentedControlChange.emit())}),this.selectedItem=n,ro.isBrowser&&n&&n.focus()}get el(){return this}static get watchers(){return{value:["valueHandler"],selectedItem:["handleSelectedItemChange"]}}static get style(){return s_e}},[1,"calcite-segmented-control",{appearance:[513],disabled:[516],required:[516],layout:[513],name:[513],scale:[513],value:[1025],selectedItem:[1040],width:[513],setFocus:[64]},[[0,"calciteInternalSegmentedControlItemChange","handleSelected"],[0,"keydown","handleKeyDown"]]]);function o_e(){if(typeof customElements>"u")return;["calcite-segmented-control"].forEach(t=>{switch(t){case"calcite-segmented-control":customElements.get(t)||customElements.define(t,a_e);break}})}o_e();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const l_e={input:"input"},VV={segmentedControlItemIcon:"segmented-control-item-icon"},c_e="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:flex;cursor:pointer;align-self:stretch;font-weight:var(--calcite-font-weight-normal);transition:background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-animation-timing) ease-in-out}:host label{pointer-events:none;margin:0.125rem;box-sizing:border-box;display:flex;flex:1 1 0%;align-items:center;color:var(--calcite-ui-text-3);transition:background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-internal-animation-timing-fast) ease-in-out, color var(--calcite-internal-animation-timing-fast) ease-in-out}.label--horizontal{justify-content:center}:host{outline-color:transparent}:host(:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:-1px}.label--scale-s{padding-inline:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem;padding-block:0.125rem}.label--scale-m{padding-inline:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem;padding-block:0.375rem}.label--scale-l{padding-inline:1rem;padding-block:0.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host(:hover) label{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}:host(:active) label{background-color:var(--calcite-ui-foreground-3)}:host([checked]) label{cursor:default;border-color:var(--calcite-ui-brand);background-color:var(--calcite-ui-brand);color:var(--calcite-ui-background)}:host([checked]) .label--outline,:host([checked]) .label--outline-fill{border-color:var(--calcite-ui-brand);background-color:var(--calcite-ui-foreground-1);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand);color:var(--calcite-ui-brand)}:host([checked]) .label--outline{background-color:transparent}::slotted(input){display:none}@media (forced-colors: active){:host([checked]) label{background-color:highlight}:host([checked]) .label--outline,:host([checked]) .label--outline-fill{outline:2px solid transparent;outline-offset:2px}:host([checked]) label:not([class~=label--outline]) .segmented-control-item-icon{color:highlightText}}.segmented-control-item-icon{position:relative;margin:0px;display:inline-flex;line-height:inherit}:host([icon-start]) .label--scale-s .segmented-control-item-icon{margin-inline-end:0.5rem}:host([icon-end]) .label--scale-s .segmented-control-item-icon{margin-inline-start:0.5rem}:host([icon-start]) .label--scale-m .segmented-control-item-icon{margin-inline-end:0.75rem}:host([icon-end]) .label--scale-m .segmented-control-item-icon{margin-inline-start:0.75rem}:host([icon-start]) .label--scale-l .segmented-control-item-icon{margin-inline-end:1rem}:host([icon-end]) .label--scale-l .segmented-control-item-icon{margin-inline-start:1rem}",u_e=ne(class extends re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInternalSegmentedControlItemChange=B(this,"calciteInternalSegmentedControlItemChange",6),this.checked=!1,this.iconFlipRtl=!1,this.iconStart=void 0,this.iconEnd=void 0,this.value=void 0}handleCheckedChange(){this.calciteInternalSegmentedControlItemChange.emit()}render(){const{checked:e,value:t}=this,i=ci(this.el,"scale","m"),n=ci(this.el,"appearance","solid"),r=ci(this.el,"layout","horizontal"),s=this.iconStart?v("calcite-icon",{class:VV.segmentedControlItemIcon,flipRtl:this.iconFlipRtl,icon:this.iconStart,key:"icon-start",scale:"s"}):null,a=this.iconEnd?v("calcite-icon",{class:VV.segmentedControlItemIcon,flipRtl:this.iconFlipRtl,icon:this.iconEnd,key:"icon-end",scale:"s"}):null;return v(Fe,{"aria-checked":ot(e),"aria-label":t,role:"radio"},v("label",{class:{"label--scale-s":i==="s","label--scale-m":i==="m","label--scale-l":i==="l","label--horizontal":r==="horizontal","label--outline":n==="outline","label--outline-fill":n==="outline-fill"}},this.iconStart?s:null,v("slot",null,t),v("slot",{name:l_e.input}),this.iconEnd?a:null))}get el(){return this}static get watchers(){return{checked:["handleCheckedChange"]}}static get style(){return c_e}},[1,"calcite-segmented-control-item",{checked:[1540],iconFlipRtl:[516,"icon-flip-rtl"],iconStart:[513,"icon-start"],iconEnd:[513,"icon-end"],value:[1032]}]);function d_e(){if(typeof customElements>"u")return;["calcite-segmented-control-item","calcite-icon"].forEach(t=>{switch(t){case"calcite-segmented-control-item":customElements.get(t)||customElements.define(t,u_e);break;case"calcite-icon":customElements.get(t)||Te();break}})}d_e();function u(e,t,i,n){var r,s=arguments.length,a=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(s<3?r(a):s>3?r(t,i,a):r(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a}let ih;function G(e){return typeof ih[e]=="function"?ih[e]=ih[e](globalThis):ih[e]}var bq,wq,_q,xq;ih=(bq=globalThis.dojoConfig)!=null&&bq.has||(wq=globalThis.esriConfig)!=null&&wq.has?{...(_q=globalThis.dojoConfig)==null?void 0:_q.has,...(xq=globalThis.esriConfig)==null?void 0:xq.has}:{},G.add=(e,t,i,n)=>((n||ih[e]===void 0)&&(ih[e]=t),i&&G(e)),G.cache=ih,G.add("esri-deprecation-warnings",!0),(()=>{var t;G.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(G.add("host-browser",e),G.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),G.add("dom",e),G("host-browser")){const i=navigator,n=i.userAgent,r=i.appVersion,s=parseFloat(r);if(G.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),G.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),G.add("khtml",r.includes("Konqueror")?s:void 0),G.add("edge",parseFloat(n.split("Edge/")[1])||void 0),G.add("opr",parseFloat(n.split("OPR/")[1])||void 0),G.add("webkit",!G("wp")&&!G("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),G.add("chrome",!G("edge")&&!G("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),G.add("android",!G("wp")&&parseFloat(n.split("Android ")[1])||void 0),G.add("safari",!r.includes("Safari")||G("wp")||G("chrome")||G("android")||G("edge")||G("opr")?void 0:parseFloat(r.split("Version/")[1])),G.add("mac",r.includes("Macintosh")),!G("wp")&&n.match(/(iPhone|iPod|iPad)/)){const a=RegExp.$1.replace(/P/,"p"),o=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",l=parseFloat(o.replace(/_/,".").replace(/_/g,""));G.add(a,l),G.add("ios",l)}G("webkit")||(!n.includes("Gecko")||G("wp")||G("khtml")||G("edge")||G.add("mozilla",s),G("mozilla")&&G.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&G.add("esri-mobile",t),i&&G.add("esri-iPhone",i),G.add("esri-geolocation",!!navigator.geolocation)}G.add("esri-wasm","WebAssembly"in globalThis),G.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),G.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),G.add("esri-atomics","Atomics"in globalThis),G.add("esri-workers","Worker"in globalThis),G.add("web-feat:cache","caches"in globalThis),G.add("esri-workers-arraybuffer-transfer",!G("safari")||Number(G("safari"))>=12),G.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),G.add("featurelayer-simplify-payload-size-factors",[1,1,4]),G.add("featurelayer-snapshot-enabled",!0),G.add("featurelayer-snapshot-point-min-threshold",8e4),G.add("featurelayer-snapshot-point-max-threshold",4e5),G.add("featurelayer-snapshot-point-coverage",.1),G.add("featurelayer-advanced-symbols",!1),G.add("featurelayer-pbf",!0),G.add("featurelayer-pbf-statistics",!1),G.add("feature-layers-workers",!0),G.add("feature-polyline-generalization-factor",1),G.add("mapview-transitions-duration",200),G.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),G.add("mapserver-pbf-version-support",10.81),G.add("mapservice-popup-identify-max-tolerance",20),G.add("heatmap-allow-raster-fallback",!0),G.add("heatmap-force-raster",!1),G("host-webworker")||G("host-browser")&&(G.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),G.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{G.add("esri-image-decode",!0,!0,!0)}).catch(()=>{G.add("esri-image-decode",!1,!0,!0)})}return!1}),G.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const h_e=null;function $(e){return e!=null}function j(e){return e==null}function nh(e,t){return $(e)?t(e):h_e}function CHe(e){return e}function Ns(e,t){return MF(e,t),e}function MF(e,t){if(j(e))throw new Error(t??"value is None")}function DF(e,t){return $(e)?e:typeof t=="function"?t():t}function jV(e,t){return $(e)?e:t}function Si(e){return $(e)&&e.destroy(),null}function THe(e){return $(e)&&e.dispose(),null}function Hi(e){return $(e)&&e.remove(),null}function Rk(e){return $(e)&&e.abort(),null}function $He(e){return $(e)&&e.release(),null}function p_e(e,t,i){return $(e)&&$(t)?$(i)?i(e,t):e.equals(t):e===t}function f_e(e){return null}function AHe(e,t){const i=new Array;for(const n of e)i.push(hb(n,null,t));return i}function MHe(e,t){for(const i of e)nh(i,t)}function hb(e,t,i){return $(e)?i(e):t}function DHe(e){return e.filter(t=>$(t))}function EZ(e,...t){let i=e;for(let n=0;n<t.length&&i;++n)i=i[t[n]];return i}function OHe(e){return e}let W$=class vp{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*vp._m}getInt(){return this._seed=(vp._a*this._seed+vp._c)%vp._m,this._seed}getFloat(){return this.getInt()/(vp._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const n=i-t;return t+this.getInt()/vp._m*n}};W$._m=2147483647,W$._a=48271,W$._c=0;function m_e(e,t){return t?e.filter((i,n,r)=>r.findIndex(t.bind(null,i))===n):e.filter((i,n,r)=>r.indexOf(i)===n)}function CC(e,t,i){if(j(e)&&j(t))return!0;if(j(e)||j(t)||e.length!==t.length)return!1;if(i){for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function RHe(e,t){let i=e.length!==t.length;i&&(e.length=t.length);for(let n=0;n<t.length;++n)e[n]!==t[n]&&(e[n]=t[n],i=!0);return i}function PHe(e,t,i){let n,r;return i?(n=t.filter(s=>!e.some(a=>i(a,s))),r=e.filter(s=>!t.some(a=>i(a,s)))):(n=t.filter(s=>!e.includes(s)),r=e.filter(s=>!t.includes(s))),{added:n,removed:r}}function LHe(e){return e&&typeof e.length=="number"}const g_e=!!Array.prototype.fill;function y_e(e,t){if(g_e)return new Array(e).fill(t);const i=new Array(e);for(let n=0;n<e;n++)i[n]=t;return i}function FHe(e,t){t===void 0&&(t=e,e=0);const i=new Array(t-e);for(let n=e;n<t;n++)i[n-e]=n;return i}let kZ=class{constructor(){this.last=0}};const IZ=new kZ;function cD(e,t,i,n){n=n||IZ;const r=Math.max(0,n.last-10);for(let a=r;a<i;++a)if(e[a]===t)return n.last=a,a;const s=Math.min(r,i);for(let a=0;a<s;++a)if(e[a]===t)return n.last=a,a;return-1}function v_e(e,t,i,n){const r=i??e.length,s=cD(e,t,r,n);if(s!==-1)return e[s]=e[r-1],i==null&&e.pop(),t}const fo=new Set;function b_e(e,t,i=e.length,n=t.length,r,s){if(n===0||i===0)return i;fo.clear();for(let o=0;o<n;++o)fo.add(t[o]);r=r||IZ;const a=Math.max(0,r.last-10);for(let o=a;o<i;++o)if(fo.has(e[o])&&(s&&s.push(e[o]),fo.delete(e[o]),e[o]=e[i-1],--i,--o,fo.size===0||i===0))return fo.clear(),i;for(let o=0;o<a;++o)if(fo.has(e[o])&&(s&&s.push(e[o]),fo.delete(e[o]),e[o]=e[i-1],--i,--o,fo.size===0||i===0))return fo.clear(),i;return fo.clear(),i}function w_e(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function __e(e){return e instanceof ArrayBuffer}function x_e(e){return e&&e.constructor&&e.constructor.name==="Int8Array"}function S_e(e){return e&&e.constructor&&e.constructor.name==="Uint8Array"}function CZ(e){return e&&e.constructor&&e.constructor.name==="Uint8ClampedArray"}function E_e(e){return e&&e.constructor&&e.constructor.name==="Int16Array"}function k_e(e){return e&&e.constructor&&e.constructor.name==="Uint16Array"}function I_e(e){return e&&e.constructor&&e.constructor.name==="Int32Array"}function C_e(e){return e&&e.constructor&&e.constructor.name==="Uint32Array"}function T_e(e){return e&&e.constructor&&e.constructor.name==="Float32Array"}function $_e(e){return e&&e.constructor&&e.constructor.name==="Float64Array"}const zHe=1024;function TZ(e,t){let i;if(t)for(i in e)e.hasOwnProperty(i)&&(e[i]===void 0?delete e[i]:e[i]instanceof Object&&TZ(e[i],!0));else for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function z(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=DZ(e);if($(t))return t;if($Z(e))return e.clone();if(AZ(e))return e.map(z);if(MZ(e))return e.clone();const i={};for(const n of Object.getOwnPropertyNames(e))i[n]=z(e[n]);return i}function uD(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=DZ(e);if($(t))return t;if(AZ(e)){let i=!0;const n=e.map(r=>{const s=uD(r);return r!=null&&s==null&&(i=!1),s});return i?n:null}if($Z(e))return e.clone();if(!MZ(e)){const i=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const r=e[n],s=uD(r);if(r!=null&&s==null)return null;i[n]=s}return i}return null}function $Z(e){return typeof e.clone=="function"}function AZ(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function MZ(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function UV(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function DZ(e){if(x_e(e)||S_e(e)||CZ(e)||E_e(e)||k_e(e)||I_e(e)||C_e(e)||T_e(e)||$_e(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,n]of e)t.set(i,z(n));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(z(i));return t}return null}function OF(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e||{}).getTime=="function"&&typeof(t||{}).getTime=="function"&&e.getTime()===t.getTime()||!1}function A_e(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&CC(e,t):e instanceof Set?t instanceof Set&&D_e(e,t):e instanceof Map?t instanceof Map&&O_e(e,t):!!UV(e)&&UV(t)&&M_e(e,t))}function M_e(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const n of i)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function D_e(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function O_e(e,t){if(e.size!==t.size)return!1;for(const[i,n]of e){const r=t.get(i);if(r!==n||r===void 0&&!t.has(i))return!1}return!0}function OZ(e,t,i=!1){return PZ(e,t,i)}function S_(e,t){if(t!=null)return t[e]||RZ(e.split("."),!1,t)}function fr(e,t,i){const n=e.split("."),r=n.pop(),s=RZ(n,!0,i);s&&r&&(s[r]=t)}function RZ(e,t,i){let n=i;for(const r of e){if(n==null)return;if(!(r in n)){if(!t)return;n[r]={}}n=n[r]}return n}function PZ(e,t,i){return t?Object.keys(t).reduce((n,r)=>{let s=n[r],a=t[r];return s===a?n:s===void 0?(n[r]=z(a),n):(Array.isArray(a)||Array.isArray(n)?(s=s?Array.isArray(s)?n[r]=s.concat():n[r]=[s]:n[r]=[],a&&(Array.isArray(a)||(a=[a]),i?a.forEach(o=>{s.includes(o)||s.push(o)}):n[r]=a.concat())):a&&typeof a=="object"?n[r]=PZ(s,a,i):n.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(n[r]=a),n)},e||{}):e}var Sq;const ut={analysisTheme:{accentColor:[255,128,0],textColor:"white"},apiKey:void 0,applicationUrl:(Sq=globalThis.location)==null?void 0:Sq.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(OZ(ut,globalThis.esriConfig,!0),delete ut.has),!ut.assetsPath){{const e="4.26.5";ut.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}ut.defaultAssetsPath=ut.assetsPath}const R_e=/\{([^\}]+)\}/g;function BV(e){return e??""}function ec(e,t){return e.replace(R_e,typeof t=="object"?(i,n)=>BV(S_(n,t)):(i,n)=>BV(t(n)))}function VHe(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,i=>t&&t.includes(i)?i:`\\${i}`)}function RF(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}function jHe(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}const HV={info:0,warn:1,error:2,none:3};let Y=class ir{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,ir._loggers[this.module]=this;const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=ir.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const i=ir._loggers;return ir._loggers=t,i},set throttlingDisabled(t){ir._throttlingDisabled=t}}}static getLogger(t){let i=ir._loggers[t];return i||(i=new ir({module:t})),i}_log(t,i,...n){if(this._matchLevel(t)){if(i!=="always"&&!ir._throttlingDisabled){const r=this._argsToKey(n),s=this._loggedMessages[t].get(r);if(i==="once"&&s!=null||i==="oncePerTick"&&s&&s>=ir._tickCounter)return;this._loggedMessages[t].set(r,ir._tickCounter),ir._scheduleTickCounterIncrement()}for(const r of ut.log.interceptors)if(r(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,i){let n=this;for(;$(n);){const r=n[t];if($(r))return r;n=n.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,i,...n){console[t](`[${i}]`,...n)}_matchLevel(t){const i=ut.log.level?ut.log.level:"warn";return HV[this._parentWithMember("level",i)]<=HV[t]}_argsToKey(...t){return RF(JSON.stringify(t,(n,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}static _scheduleTickCounterIncrement(){ir._tickCounterScheduled||(ir._tickCounterScheduled=!0,Promise.resolve().then(()=>{ir._tickCounter++,ir._tickCounterScheduled=!1}))}};Y._loggers={},Y._tickCounter=0,Y._tickCounterScheduled=!1,Y._throttlingDisabled=!1;function TC(e,t){for(const[i,n]of e)if(t(n,i))return!0;return!1}function PF(e,t,i){const n=e.get(t);if(n!==void 0)return n;const r=i();return e.set(t,r),r}const Py=Y.getLogger("esri.core.accessorSupport.ensureTypes");function P_e(e){return e==null?e:new Date(e)}function L_e(e){return e==null?e:!!e}function E_(e){return e==null?e:e.toString()}function Ra(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function LF(e){return e==null?e:Math.round(parseFloat(e))}function LZ(e){return e&&e.constructor&&e.constructor.__accessorMetadata__!==void 0}function Pk(e,t){return t!=null&&e&&!(t instanceof e)}function FZ(e){return e&&"isCollection"in e}function GV(e){return e&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function F_e(e,t){if(!t||!t.constructor||!FZ(t.constructor))return dD(e,t)?t:new e(t);const i=GV(e.prototype.itemType),n=GV(t.constructor.prototype.itemType);return i?n?i===n?t:i.prototype.isPrototypeOf(n.prototype)?new e(t):(dD(e,t),t):new e(t):t}function dD(e,t){return!!LZ(t)&&(Py.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+$C(e)+"'"),!0)}function FF(e,t){return t==null?t:FZ(e)?F_e(e,t):Pk(e,t)?dD(e,t)?t:new e(t):t}function $C(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const N_e=new WeakMap;function z_e(e){switch(e){case Number:return Ra;case Nt:return LF;case Boolean:return L_e;case String:return E_;case Date:return P_e;default:return PF(N_e,e,()=>FF.bind(null,e))}}function Gi(e,t){const i=z_e(e);return arguments.length===1?i:i(t)}function Dw(e,t,i){return arguments.length===1?Dw.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,i)):[e(t,i)])}function V_e(e,t){return arguments.length===1?Dw(Gi.bind(null,e)):Dw(Gi.bind(null,e),t)}function NZ(e,t,i){return t!==0&&Array.isArray(i)?i.map(n=>NZ(e,t-1,n)):e(i)}function Lk(e,t,i){if(arguments.length===2)return Lk.bind(null,e,t);if(!i)return i;let n=t,r=i=NZ(e,t,i);for(;n>0&&Array.isArray(r);)n--,r=r[0];if(r!==void 0)for(let s=0;s<n;s++)i=[i];return i}function j_e(e,t,i){return arguments.length===2?Lk(Gi.bind(null,e),t):Lk(Gi.bind(null,e),t,i)}function zZ(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function hD(e,t){if(arguments.length===2)return hD(e).call(null,t);const i=new Set,n=e.filter(o=>typeof o!="function"),r=e.filter(o=>typeof o=="function");for(const o of e)typeof o!="string"&&typeof o!="number"||i.add(o);let s=null,a=null;return(o,l)=>{if(o==null)return o;const c=typeof o,h=c==="string"||c==="number";return h&&(i.has(o)||r.some(p=>c==="string"&&p===String||c==="number"&&p===Number))||c==="object"&&r.some(p=>!Pk(o,p))?o:(h&&n.length?(s||(s=n.map(p=>typeof p=="string"?`'${p}'`:`${p}`).join(", ")),Py.error("Accessor#set",`'${o}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof o=="object"&&r.length?(a||(a=r.map(p=>$C(p)).join(", ")),Py.error("Accessor#set",`'${o}' is not a valid value for this property, value must be one of ${a}`)):Py.error("Accessor#set",`'${o}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function tc(e,t){if(arguments.length===2)return tc(e).call(null,t);const i={},n=[],r=[];for(const l in e.typeMap){const c=e.typeMap[l];i[l]=Gi(c),n.push($C(c)),r.push(l)}const s=()=>`'${n.join("', '")}'`,a=()=>`'${r.join("', '")}'`,o=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!Pk(e.base,l)||l==null)return l;const c=o(l)||e.defaultKeyValue,h=i[c];if(!h)return Py.error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!Pk(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!LZ(l)){const p={};for(const m in l)m!==e.key&&(p[m]=l[m]);return h(p)}return h(l)}}let Nt=class{};const BHe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function U_e(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function VZ(e){switch(e.type){case"native":return Gi(e.value);case"array":return Dw(VZ(e.value));case"one-of":return B_e(e);default:return null}}function B_e(e){let t=null;return(i,n)=>fD(i,e)?i:(t==null&&(t=pD(e)),Py.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function pD(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Nt:return"integer";case Date:return"date";default:return $C(e.value)}case"array":return`array of ${pD(e.value)}`;case"one-of":{const t=e.values.map(i=>pD(i));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function fD(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Nt:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!fD(i,t.value));case"one-of":return t.values.some(i=>fD(e,i))}}function AC(e){return j0(()=>e.forEach(t=>$(t)&&t.remove()))}function j0(e){return{remove:()=>{e&&(e(),e=void 0)}}}function mr(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function H_e(e,t){return e!=null&&e.metadatas&&e.metadatas[t]!=null}function p2(e,t,i){return i?Fk(e,t,{policy:i,path:""}):Fk(e,t,null)}function Fk(e,t,i){return t?Object.keys(t).reduce((n,r)=>{let s=null,a="merge";if(i&&(s=i.path?`${i.path}.${r}`:r,a=i.policy(s)),a==="replace"||a==="replace-arrays"&&Array.isArray(n[r]))return n[r]=t[r],n;if(n[r]===void 0)return n[r]=z(t[r]),n;let o=n[r],l=t[r];if(o===l)return n;if(Array.isArray(l)||Array.isArray(n))o=o?Array.isArray(o)?n[r]=o.concat():n[r]=[o]:n[r]=[],l&&(Array.isArray(l)||(l=[l]),l.forEach(c=>{o.includes(c)||o.push(c)}));else if(l&&typeof l=="object")if(i){const c=i.path;i.path=s,n[r]=Fk(o,l,i),i.path=c}else n[r]=Fk(o,l,null);else n.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(n[r]=l);return n},e||{}):e}function jZ(e){return Array.isArray(e)?e:e.split(".")}function qV(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function G_e(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...qV(i));return t}return qV(e)}function UZ(e,t,i,n){const r=G_e(t);if(r.length!==1){const s=r.map(a=>n(e,a,i));return AC(s)}return n(e,r[0],i)}function BZ(e){let t=!1;return()=>{t||(t=!0,e())}}function HZ(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const r=parseInt(i,10);if(!isNaN(r))return Array.isArray(t)?t[r]:t.getItemAt(r)}const n=mr(t);return H_e(n,i)?n.get(i):t[i]}function GZ(e,t,i){if(e==null)return e;const n=HZ(t[i],e);return!n&&i<t.length-1?void 0:i===t.length-1?n:GZ(n,t,i+1)}function k_(e,t,i=0){return typeof t!="string"||t.includes(".")?GZ(e,jZ(t),i):HZ(t,e)}function Nk(e,t){return k_(e,t)}function WV(e,t){return k_(t,e)!==void 0}function I_(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const n in t)t[n]=z(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function MC(e,t){const i=I_(e);let n=i[t];return n||(n=i[t]={}),n}function q_e(e,t){return p2(e,t,K_e)}const W_e=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function K_e(e){return W_e.test(e)?"replace":"merge"}function Y_e(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(i,n)=>{if(n==="")return"$";const r=S_(n,t),s=r??"";if(s===void 0)throw new Error(`could not find key "${n}" in template`);return s.toString()})}let qZ=class WZ{constructor(t,i,n){this.name=t,this.details=n,this instanceof WZ&&(this.message=(i&&Y_e(i,n))??"")}toString(){return"["+this.name+"]: "+this.message}},N=class f2 extends qZ{constructor(t,i,n){if(super(t,i,n),!(this instanceof f2))return new f2(t,i,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return z(i)}catch{return"[object]"}}))}}catch(t){throw Y.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new f2(t.name,t.message,t.details)}};N.prototype.type="error";function zk(e,t,i){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))zk(e,n,t[n]);else{if(t.includes(".")){const r=t.split("."),s=r.splice(r.length-1,1)[0];return void zk(Nk(e,r),s,i)}const n=e.__accessor__;n!=null&&J_e(t,n),e[t]=i}}function J_e(e,t){if(G("esri-unknown-property-errors")&&!Z_e(e,t))throw new N("set:unknown-property",Q_e(e,t))}function Z_e(e,t){return t.metadatas[e]!=null}function Q_e(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}function d(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,i),r=MC(t,i);n&&(n.get||n.set?(r.get=n.get||r.get,r.set=n.set||r.set):"value"in n&&("value"in e&&Y.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),r.value=e.value=n.value)),e.readOnly!=null&&(r.readOnly=e.readOnly);const s=e.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let h;r.dependsOn=[l],r.get=function(){let p=Nk(this,l);if(typeof p=="function"){h||(h=l.split(".").slice(0,-1).join("."));const m=Nk(this,h);m&&(p=p.bind(m))}return p},r.readOnly||(r.set=c?function(p){this._override(i,p)}:function(p){zk(this,l,p)})}const a=e.type,o=e.types;r.cast||(a?r.cast=X_e(a):o&&(Array.isArray(o)?r.cast=Dw(tc(o[0])):r.cast=tc(o))),q_e(r,e),e.range&&(r.cast=exe(r.cast,e.range))}}function KZ(e,t,i){const n=MC(e,i);n.json||(n.json={});let r=n.json;return t!==void 0&&(r.origins||(r.origins={}),r.origins[t]||(r.origins[t]={}),r=r.origins[t]),r}function X_e(e){let t=0,i=e;if(U_e(e))return VZ(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const n=i;if(zZ(n))return t===0?hD(n):Lk(hD(n),t);if(t===1)return V_e(n);if(t>1)return j_e(n,t);const r=e;return r.from?r.from:Gi(r)}function exe(e,t){return i=>{let n=+e(i);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}const YZ=Symbol("Accessor-beforeDestroy");var Kc;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(Kc||(Kc={}));var Ft;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(Ft||(Ft={}));const Vk={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},pb=[];let O1=Vk;function ze(e){O1.onObservableAccessed(e)}let m2=!1,g2=!1;function yu(e,t,i){if(m2)return NF(e,t,i);JZ(e);const n=t.call(i);return ZZ(),n}function txe(e,t){return yu(Vk,e,t)}function NF(e,t,i){const n=m2;m2=!0,JZ(e);let r=null;try{r=t.call(i)}catch(s){g2&&Y.getLogger("esri.core.accessorSupport.tracking").error(s)}return ZZ(),m2=n,r}function JZ(e){O1=e,pb.push(e)}function ZZ(){const e=pb.length;if(e>1){const t=pb.pop();O1=pb[e-2],t.onTrackingEnd()}else if(e===1){const t=pb.pop();O1=Vk,t.onTrackingEnd()}else O1=Vk}function QZ(e,t){const i=t.observerObject;if(i.flags&Ft.DepTrackingInitialized)return;const n=g2;g2=!1,i.flags&Ft.AutoTracked?NF(t,t.metadata.get,e):XZ(e,t),g2=n}const ixe=[];function XZ(e,t){const i=t.observerObject;i.flags&Ft.ExplicitlyTracking||(i.flags|=Ft.ExplicitlyTracking,NF(t,()=>{const n=t.metadata.dependsOn||ixe;for(const r of n)if(typeof r!="string"||r.includes(".")){const s=jZ(r);for(let a=0,o=e;a<s.length&&o!=null&&typeof o=="object";++a)o=KV(o,s[a],a!==s.length-1)}else KV(e,r,!1)}),i.flags&=~Ft.ExplicitlyTracking)}function KV(e,t,i){var s;const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const a=parseInt(n,10);if(!isNaN(a))return Array.isArray(e)?e[a]:e.getItemAt(a)}const r=(s=mr(e))==null?void 0:s.properties.get(n);return r&&(ze(r.observerObject),QZ(e,r)),i?e[n]:void 0}function nxe(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const n in i)if(t[n]){const r=t[n];i[n].forEach(s=>{t[s]=r}),delete t[n]}}}let eo=class mD extends qZ{constructor(t,i,n){if(super(t,i,n),!(this instanceof mD))return new mD(t,i,n)}};eo.prototype.type="warning";function eQ(e){return!!e&&e.prototype&&e.prototype.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const gD=Y.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function YV(e,t,i){var n,r;e&&(!i&&!t.read||(n=t.read)!=null&&n.reader||((r=t.read)==null?void 0:r.enabled)===!1||axe(e)&&fr("read.reader",Uh(e),t))}function Uh(e){var i,n;const t=e.ndimArray??0;if(t>1)return sxe(e);if(t===1)return JV(e);if("type"in e&&iQ(e.type)){const r=(n=(i=e.type.prototype)==null?void 0:i.itemType)==null?void 0:n.Type,s=JV(typeof r=="function"?{type:r}:{types:r});return(a,o,l)=>{const c=s(a,o,l);return c&&new e.type(c)}}return zF(e)}function zF(e){return"type"in e?rxe(e.type):oxe(e.types)}function rxe(e){return e.prototype.read?(t,i,n)=>{if(t==null)return t;const r=typeof t;if(r!=="object")return void gD.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${r}'`);const s=new e;return s.read(t,n),s}:e.fromJSON}function tQ(e,t,i,n){return n!==0&&Array.isArray(t)?t.map(r=>tQ(e,r,i,n-1)):e(t,void 0,i)}function sxe(e){const t=zF(e),i=tQ.bind(null,t),n=e.ndimArray??0;return(r,s,a)=>{if(r==null)return r;r=i(r,a,n);let o=n,l=r;for(;o>0&&Array.isArray(l);)o--,l=l[0];if(l!==void 0)for(let c=0;c<o;c++)r=[r];return r}}function JV(e){const t=zF(e);return(i,n,r)=>{if(i==null)return i;if(Array.isArray(i)){const a=[];for(const o of i){const l=t(o,void 0,r);l!==void 0&&a.push(l)}return a}const s=t(i,void 0,r);return s!==void 0?[s]:void 0}}function iQ(e){if(!eQ(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?VF(t.Type):nQ(t.Type))}function axe(e){return"types"in e?nQ(e.types):VF(e.type)}function VF(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||iQ(e))}function nQ(e){for(const t in e.typeMap)if(!VF(e.typeMap[t]))return!1;return!0}function oxe(e){let t=null;const i=e.errorContext??"type";return(n,r,s)=>{if(n==null)return n;const a=typeof n;if(a!=="object")return void gD.error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=lxe(e));const o=e.key;if(typeof o!="string")return;const l=n[o],c=l?t[l]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!c){const p=`Type '${l||"unknown"}' is not supported`;return s&&s.messages&&n&&s.messages.push(new eo(`${i}:unsupported`,p,{definition:n,context:s})),void gD.error(p)}const h=new c;return h.read(n,s),h}}function lxe(e){var i,n;const t={};for(const r in e.typeMap){const s=e.typeMap[r],a=I_(s.prototype);if(typeof e.key=="function")continue;const o=a[e.key];if(!o)continue;(i=o.json)!=null&&i.type&&Array.isArray(o.json.type)&&o.json.type.length===1&&typeof o.json.type[0]=="string"&&(t[o.json.type[0]]=s);const l=(n=o.json)==null?void 0:n.write;if(!l||!l.writer){t[r]=s;continue}const c=l.target,h=typeof c=="string"?c:e.key,p={};l.writer(r,p,h),p[h]&&(t[p[h]]=s)}return t}function cxe(e){if(e.json||(e.json={}),QV(e.json),XV(e.json),ZV(e.json),e.json.origins)for(const t in e.json.origins)QV(e.json.origins[t]),XV(e.json.origins[t]),ZV(e.json.origins[t]);return!0}function ZV(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function QV(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function XV(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function ej(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=(e==null?void 0:e.ndimArray)??0;e&&(i===1||"type"in e&&eQ(e.type))?t.write.writer=hxe:i>1?t.write.writer=pxe(i):t.types?Array.isArray(t.types)?t.write.writer=dxe(t.types[0]):t.write.writer=uxe(t.types):t.write.writer=Ow}function uxe(e){return(t,i,n,r)=>t?rQ(t,e,r)?Ow(t,i,n,r):void 0:Ow(t,i,n,r)}function rQ(e,t,i){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(i!=null&&i.messages){const n=t.errorContext??"type",r=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new N(`${n}:unsupported`,r,{definition:e,context:i})),Y.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(r)}return!1}function dxe(e){return(t,i,n,r)=>!t||!Array.isArray(t)?Ow(t,i,n,r):Ow(t.filter(s=>rQ(s,e,r)),i,n,r)}function Ow(e,t,i,n){fr(i,jk(e,n),t)}function jk(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?Uk(e):e}function Uk(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function hxe(e,t,i,n){let r;e===null?r=null:e&&typeof e.map=="function"?(r=e.map(s=>jk(s,n)),typeof r.toArray=="function"&&(r=r.toArray())):r=[jk(e,n)],fr(i,r,t)}function sQ(e,t,i){return i!==0&&Array.isArray(e)?e.map(n=>sQ(n,t,i-1)):jk(e,t)}function pxe(e){return(t,i,n,r)=>{let s;if(t===null)s=null;else{s=sQ(t,r,e);let a=e,o=s;for(;a>0&&Array.isArray(o);)a--,o=o[0];if(o!==void 0)for(let l=0;l<a;l++)s=[s]}fr(n,s,i)}}function yD(e,t){return jF(e,"read",t)}function aQ(e,t){return jF(e,"write",t)}function jF(e,t,i){let n=e&&e.json;if(e&&e.json&&e.json.origins&&i){const r=i.origin&&e.json.origins[i.origin];r&&(t==="any"||t in r)&&(n=r)}return n}function fxe(e){const t=mxe(e);if(e.json.origins)for(const i in e.json.origins){const n=e.json.origins[i],r=n.types?gxe(n):t;YV(r,n,!1),n.types&&!n.write&&e.json.write&&e.json.write.enabled&&(n.write={...e.json.write}),ej(r,n)}YV(t,e.json,!0),ej(t,e.json)}function mxe(e){return e.json.types?vD(e.json):e.type?oQ(e):vD(e)}function gxe(e){return e.type?oQ(e):vD(e)}function oQ(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!zZ(i);)i=i[0],t++;return{type:i,ndimArray:t}}function vD(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function yxe(e){cxe(e)&&(nxe(e),fxe(e))}const K$=new Set,Y$=new Set;function I(e){return t=>{t.prototype.declaredClass=e,bxe(t);const i=[],n=[];let r=t.prototype;for(;r;)r.hasOwnProperty("initialize")&&!K$.has(r.initialize)&&(K$.add(r.initialize),i.push(r.initialize)),r.hasOwnProperty("destroy")&&!Y$.has(r.destroy)&&(Y$.add(r.destroy),n.push(r.destroy)),r=Object.getPrototypeOf(r);K$.clear(),Y$.clear();class s extends t{constructor(...o){if(super(...o),this.constructor===s&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=i.length-1;l>=0;l--)i[l].call(this)}}),n.length){let l=!1;const c=this[YZ];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let h=0;h<n.length;h++)n[h].call(this)}}})}this.postscript(...o)}}}return s.__accessorMetadata__=I_(t.prototype),s.prototype.declaredClass=e,s}}function vxe(e,t){return t.get==null?function(){const i=this.__accessor__.properties.get(e);if(i===void 0)return;ze(i.observerObject);const n=this.__accessor__.store;return n.has(e)?n.get(e):i.metadata.value}:function(){const i=this.__accessor__.properties.get(e);if(i!==void 0)return i.getComputed()}}function bxe(e){const t=e.prototype,i=I_(t),n={};for(const r of Object.getOwnPropertyNames(i)){const s=i[r];yxe(s),n[r]={enumerable:!0,configurable:!0,get:vxe(r,s),set(a){const o=this.__accessor__;if(o!==void 0){if(!Object.isFrozen(this)){if(o.initialized&&s.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${r}' of ${this.declaredClass}`);if(o.lifecycle===Kc.CONSTRUCTED&&s.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${r}' of ${this.declaredClass}`);o.set(r,a)}}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(e.prototype,n)}function HHe(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function wxe(e,t){for(const i of e)if(i!=null&&t(i))return i}function Bk(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let vs=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(Bk(t)){const n=this._getOrCreateGroup(i);for(const r of t)this._isHandle(r)&&n.push(r)}else this._isHandle(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&i&&n.forEach(i)}}has(t){return this._groups.has(this._ensureGroupKey(t))}remove(t){if(typeof t!="string"&&Bk(t)){for(const i of t)this.remove(i);return this}return this.has(t)?(this._removeAllFromGroup(this._getGroup(t)),this._groups.delete(this._ensureGroupKey(t)),this):this}removeAll(){return this._groups.forEach(t=>this._removeAllFromGroup(t)),this._groups.clear(),this}_isHandle(t){return t&&!!t.remove}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(this._ensureGroupKey(t),i),i}_getGroup(t){return this._groups.get(this._ensureGroupKey(t))}_ensureGroupKey(t){return t||"_default_"}_removeAllFromGroup(t){t.forEach(i=>i.remove())}};function _xe(e){return e&&e.release&&typeof e.release=="function"}function xxe(e){return e&&e.acquire&&typeof e.acquire=="function"}let Bh=class bD{constructor(t,i,n,r=1,s=0){if(this._ctor=t,this._acquireFunction=i,this._releaseFunction=n,this.allocationSize=r,this._pool=new Array(s),this._initialSize=s,this._ctor)for(let a=0;a<s;a++)this._pool[a]=new this._ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...t){let i;if(bD.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let r=0;r<n;r++)this._pool[r]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):xxe(i)&&i.acquire(...t),i}release(t){t&&!bD.test.disabled&&(this._releaseFunction?this._releaseFunction(t):_xe(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const n=this._pool[i];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};Bh.test={disabled:!1};let Sxe=class{constructor(t,i){this._observers=t,this._observer=i}remove(){w_e(this._observers,this._observer)}},lQ=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return Exe;this._observers==null&&(this._observers=[]);const i=this._observers;let n=!1,r=!1;const s=i.length;for(let a=0;a<s;++a){const o=i[a];if(o.destroyed)r=!0;else if(o===t){n=!0;break}}return n||(i.push(t),r&&this._removeDestroyedObservers()),new Sxe(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let n=0;for(let r=0;r<i;++r){for(;r+n<i&&t[r+n].destroyed;)++n;if(n>0){if(!(r+n<i))break;t[r]=t[r+n]}}t.length=i-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const Exe={remove:()=>{}};var at;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.USER=6]="USER"})(at||(at={}));const wD=at.USER+1;function rh(e){switch(e){case"defaults":return at.DEFAULTS;case"service":return at.SERVICE;case"portal-item":return at.PORTAL_ITEM;case"web-scene":return at.WEB_SCENE;case"web-map":return at.WEB_MAP;case"user":return at.USER;default:return null}}function Hk(e){switch(e){case at.DEFAULTS:return"defaults";case at.SERVICE:return"service";case at.PORTAL_ITEM:return"portal-item";case at.WEB_SCENE:return"web-scene";case at.WEB_MAP:return"web-map";case at.USER:return"user"}return void 0}function kxe(e){return Hk(e)}let tj=class{constructor(t,i,n){this.properties=t,this.propertyName=i,this.metadata=n,this.observerObject=new Ixe,this._accessed=null,this._handles=null,this.observerObject.flags=Ft.Dirty|(n.nonNullable?Ft.NonNullable:0)|(n.hasOwnProperty("value")?Ft.HasDefaultValue:0)|(n.get===void 0?Ft.DepTrackingInitialized:0)|(n.dependsOn===void 0?Ft.AutoTracked:0),ij.register(this,this.observerObject)}destroy(){this.observerObject.destroy(),this._accessed=null,this._clearObservationHandles(),ij.unregister(this)}getComputed(){const t=this.observerObject;ze(t);const i=this.properties.store,n=this.propertyName,r=t.flags,s=i.get(n);if(r&Ft.Computing||~r&Ft.Dirty&&i.has(n))return s;t.flags|=Ft.Computing;const a=this.properties.host;let o;r&Ft.AutoTracked?o=yu(this,this.metadata.get,a):(XZ(a,this),o=this.metadata.get.call(a)),i.set(n,o,at.COMPUTED);const l=i.get(n);return l===s?t.flags&=~Ft.Dirty:txe(this.commit,this),t.flags&=~Ft.Computing,l}onObservableAccessed(t){t!==this.observerObject&&(this._accessed===null&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles();const t=this.observerObject;t.flags|=Ft.DepTrackingInitialized;const i=this._accessed;if(i===null)return;let n=this._handles;n===null&&(n=this._handles=[]);for(let r=0;r<i.length;++r)n.push(i[r].observe(t));i.length=0}notifyChange(){const t=this.observerObject;t.onInvalidated(),t.onCommitted()}invalidate(){this.observerObject.onInvalidated()}commit(){const t=this.observerObject;t.flags&=~Ft.Dirty,t.onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let i=0;i<t.length;++i)t[i].remove();t.length=0}}},Ixe=class extends lQ{constructor(){super(...arguments),this.flags=0}onInvalidated(){~this.flags&Ft.Overriden&&(this.flags|=Ft.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const n of i)n.onCommitted()}}destroy(){this.flags&Ft.Dirty&&this.onCommitted(),super.destroy()}};const ij=new FinalizationRegistry(e=>{e.destroy()});let Cxe=class cQ{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new cQ;return this._values.forEach((n,r)=>{t&&t.has(r)||i.set(r,z(n))}),i}get(t){return this._values.get(t)}originOf(){return at.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function Bx(e,t,i){return e!==void 0}function nj(e,t,i,n){return e!==void 0&&(!(i==null&&e.observerObject.flags&Ft.NonNullable)||(n.lifecycle,Kc.INITIALIZING,!1))}function Txe(e){return e&&typeof e.destroy=="function"}Y.getLogger("esri.core.accessorSupport.Properties");let $xe=class{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=Kc.INITIALIZING,this.store=new Cxe,this._origin=at.USER;const i=this.host.constructor.__accessorMetadata__;for(const n in i){const r=new tj(this,n,i[n]);this.properties.set(n,r)}this.metadatas=i}initialize(){this.lifecycle=Kc.CONSTRUCTING}constructed(){this.lifecycle=Kc.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[t,i]of this.properties){if(i.metadata.autoDestroy){const n=this.internalGet(t);n&&Txe(n)&&(n.destroy(),~i.observerObject.flags&Ft.NonNullable&&this._internalSet(i,null))}i.destroy()}}get initialized(){return this.lifecycle!==Kc.INITIALIZING}get(t){const i=this.properties.get(t);if(i.metadata.get)return i.getComputed();ze(i.observerObject);const n=this.store;return n.has(t)?n.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const n=this.properties.get(t);if(n!==void 0&&n.observerObject.flags&Ft.HasDefaultValue)return"defaults"}return Hk(i)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const i=this.properties.get(t);if(Bx(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const n=this.properties.get(t);Bx(n)&&this._internalSet(n,i)}getDependsInfo(t,i,n){const r=this.properties.get(i);if(!Bx(r))return"";const s=new Set,a=yu({onObservableAccessed:l=>s.add(l),onTrackingEnd:()=>{}},()=>{var l;return(l=r.metadata.get)==null?void 0:l.call(t)});let o=`${n}${t.declaredClass.split(".").pop()}.${i}: ${a}
`;if(s.size===0)return o;n+="  ";for(const l of s){if(!(l instanceof tj))continue;const c=l.properties.host,h=l.propertyName,p=mr(c);o+=p?p.getDependsInfo(c,h,n):`${n}${h}: undefined
`}return o}setAtOrigin(t,i,n){const r=this.properties.get(t);if(Bx(r))return this._setAtOrigin(r,i,n)}isOverridden(t){const i=this.properties.get(t);return i!==void 0&&!!(i.observerObject.flags&Ft.Overriden)}clearOverride(t){const i=this.properties.get(t),n=i==null?void 0:i.observerObject;n&&n.flags&Ft.Overriden&&(n.flags&=~Ft.Overriden,i.notifyChange())}override(t,i){const n=this.properties.get(t);if(!nj(n,t,i,this))return;const r=n.metadata.cast;if(r){const s=this._cast(r,i),{valid:a,value:o}=s;if(J$.release(s),!a)return;i=o}n.observerObject.flags|=Ft.Overriden,this._internalSet(n,i)}set(t,i){const n=this.properties.get(t);if(!nj(n,t,i,this))return;const r=n.metadata.cast;if(r){const a=this._cast(r,i),{valid:o,value:l}=a;if(J$.release(a),!o)return;i=l}const s=n.metadata.set;s?s.call(this.host,i):this._internalSet(n,i)}setDefaultOrigin(t){this._origin=rh(t)}getDefaultOrigin(){return Hk(this._origin)}notifyChange(t){const i=this.properties.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.properties.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.properties.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const n=this.lifecycle!==Kc.INITIALIZING?this._origin:at.DEFAULTS;this._setAtOrigin(t,i,n)}_setAtOrigin(t,i,n){const r=this.store,s=t.propertyName;r.has(s,n)&&OF(i,r.get(s))&&~t.observerObject.flags&Ft.Overriden&&n===r.originOf(s)||(t.invalidate(),r.set(s,i,n),t.commit(),QZ(this.host,t))}_cast(t,i){const n=J$.acquire();return n.valid=!0,n.value=i,t&&(n.value=t.call(this.host,i,n)),n}},Axe=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const J$=new Bh(Axe);function Mxe(e){e.length=0}let Or=class{constructor(t=50,i=50){this._pool=new Bh(Array,void 0,Mxe,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return Z$.acquire()}static release(t){return Z$.release(t)}static prune(){Z$.prune()}};const Z$=new Or(100);let uQ=class extends Bh{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=f_e(this._set)}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const Hx=[];function Gk(e){Hx.push(e),Hx.length===1&&queueMicrotask(()=>{const t=Hx.slice();Hx.length=0;for(const i of t)i()})}let R1=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}record(t){$(t)&&(this._samples[++this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var _D;(function(e){const t=(s,a,o,l)=>{let c=a,h=a;const p=o>>>1,m=s[c-1];for(;h<=p;){h=c<<1,h<o&&l(s[h-1],s[h])<0&&++h;const g=s[h-1];if(l(g,m)<=0)break;s[c-1]=g,c=h}s[c-1]=m},i=(s,a)=>s<a?-1:s>a?1:0;function n(s,a,o,l){a===void 0&&(a=0),o===void 0&&(o=s.length),l===void 0&&(l=i);for(let h=o>>>1;h>a;h--)t(s,h,o,l);const c=a+1;for(let h=o-1;h>a;h--){const p=s[a];s[a]=s[h],s[h]=p,t(s,c,h,l)}}function*r(s,a,o,l){a===void 0&&(a=0),o===void 0&&(o=s.length),l===void 0&&(l=i);for(let h=o>>>1;h>a;h--)t(s,h,o,l),yield;const c=a+1;for(let h=o-1;h>a;h--){const p=s[a];s[a]=s[h],s[h]=p,t(s,c,h,l),yield}}e.sort=n,e.iterableSort=r})(_D||(_D={}));const rj=_D,Dxe=1.5,Oxe=1.1;let vh=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new kZ,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>sj(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let n=0;n<this._length;n++){const r=this.data[n];t(r)&&i.push(r)}return i}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}includes(t,i){const n=this.data.indexOf(t,i);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let n=0;n<i;n++)this.data[this._length++]=t[n]}fill(t,i){for(let n=0;n<i;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,sj(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=cD(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(cD(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,n){this.length=b_e(this.data,t,this.length,i,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const n=this.data[t];this.data[t]=this.data[i],this.data[i]=n}sort(t){rj.sort(this.data,0,this.length,t)}iterableSort(t){return rj.iterableSort(this.data,0,this.length,t)}some(t,i){for(let n=0;n<this.length;++n)if(t.call(i,this.data[n],n,this.data))return!0;return!1}find(t,i){for(let n=0;n<this.length;++n){const r=this.data[n];if(t.call(i,r,n))return r}}filterInPlace(t,i){let n=0;for(let r=0;r<this._length;++r){const s=this.data[r];t.call(i,s,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=s,n++)}if(this._deallocator)for(let r=n;r<this._length;r++)this.data[r]=this._deallocator(this.data[r]);return this._length=n,this._shrink(),this}forAll(t,i){const n=this.length,r=this.data;for(let s=0;s<n;++s)t.call(i,r[s],s,r)}forEach(t,i){for(let n=0;n<this.length;++n)t.call(i,this.data[n],n,this.data)}map(t,i){const n=new Array(this.length);for(let r=0;r<this.length;++r)n[r]=t.call(i,this.data[r],r,this.data);return n}reduce(t,i){let n=i;for(let r=0;r<this.length;++r)n=t(n,this.data[r],r,this.data);return n}has(t){const i=this.length,n=this.data;for(let r=0;r<i;++r)if(n[r]===t)return!0;return!1}};function sj(e){e.data.length>Dxe*e.length&&(e.data.length=Math.floor(e.length*Oxe))}function Rxe(e){return{setTimeout:(t,i)=>{const n=e.setTimeout(t,i);return{remove:()=>e.clearTimeout(n)}}}}const C_=Rxe(globalThis),aj=new Set;function Pxe(e,t,i=!1){i&&aj.has(t)||(i&&aj.add(t),e.warn(`🛑 DEPRECATED - ${t}`))}function xD(e,t,i={}){if(G("esri-deprecation-warnings")){const{moduleName:n}=i;dQ(e,`Property: ${(n?n+"::":"")+t}`,i)}}function dQ(e,t,i={}){if(G("esri-deprecation-warnings")){const{replacement:n,version:r,see:s,warnOnce:a}=i;let o=t;n&&(o+=`
	🛠️ Replacement: ${n}`),r&&(o+=`
	⚙️ Version: ${r}`),s&&(o+=`
	🔗 See ${s} for more details.`),Pxe(e,o,a)}}function DC(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function OC(e,t,i){if(!DC(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,i);if(Array.isArray(t)){const n=t.slice();for(const r of n)e.addEventListener(r,i);return{remove(){for(const r of n)e.removeEventListener(r,i)}}}return e.addEventListener(t,i),{remove(){e.removeEventListener(t,i)}}}function hQ(e,t,i){if(!DC(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const n=OC(e,t,r=>{n.remove(),i.call(e,r)});return{remove(){n.remove()}}}const Lxe={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function of({key:e}){return Lxe[e]||e}function ui(e="Aborted"){return new N("AbortError",e)}function gi(e,t="Aborted"){if(Qs(e))throw ui(t)}function RC(e){return $(e)?"aborted"in e?e:e.signal:e}function Qs(e){const t=RC(e);return $(t)&&t.aborted}function Vs(e){if(Vr(e))throw e}function SD(e){if(!Vr(e))throw e}function ds(e,t){const i=RC(e);if(!j(i)){if(!i.aborted)return hQ(i,"abort",()=>t());t()}}function UF(e,t){const i=RC(e);if(!j(i))return gi(i),hQ(i,"abort",()=>t(ui()))}function pQ(e,t){const i=RC(t);return j(i)?e:new Promise((n,r)=>{let s=ds(t,()=>r(ui()));const a=()=>s=Hi(s);e.then(a,a),e.then(n,r)})}function Vr(e){return(e==null?void 0:e.name)==="AbortError"}async function Ly(e){try{return await e}catch(t){if(!Vr(t))throw t;return}}function vu(){let e=null;const t=new Promise((i,n)=>{e={promise:void 0,resolve:i,reject:n}});return e.promise=t,e}async function ps(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),n=i.map(a=>e[a]),r=await ps(n),s={};return i.map((a,o)=>s[a]=r[o]),s}const t=e;return new Promise(i=>{const n=[];let r=t.length;r===0&&i(n),t.forEach(s=>{const a={promise:s||Promise.resolve(s)};n.push(a),a.promise.then(o=>{a.value=o}).catch(o=>{a.error=o}).then(()=>{--r,r===0&&i(n)})})})}async function Fxe(e){return(await ps(e)).filter(t=>!!t.value).map(t=>t.value)}function PC(e,t,i){const n=new AbortController;return ds(i,()=>n.abort()),new Promise((r,s)=>{let a=setTimeout(()=>{a=0,r(t)},e);ds(n,()=>{a&&(clearTimeout(a),s(ui()))})})}function Ou(e){return e&&typeof e.then=="function"}function ED(e){return Ou(e)?e:Promise.resolve(e)}function fQ(e,t=-1){let i,n,r,s,a=null;const o=(...l)=>{if(i){n=l,s&&s.reject(ui()),s=vu();const m=s.promise;if(a){const g=a;a=null,g.abort()}return m}if(r=s||vu(),s=null,t>0){const m=new AbortController;i=ED(e(...l,m.signal));const g=i;PC(t).then(()=>{i===g&&(s?m.abort():a=m)})}else i=1,i=ED(e(...l));const c=()=>{const m=n;n=r=i=a=null,m!=null&&o(...m)},h=i,p=r;return h.then(c,c),h.then(p.resolve,p.reject),p.promise};return o}function Nxe(){let e,t;const i=new Promise((r,s)=>{e=r,t=s}),n=r=>{e(r)};return n.resolve=r=>e(r),n.reject=r=>t(r),n.timeout=(r,s)=>C_.setTimeout(()=>n.reject(s),r),n.promise=i,n}async function oj(e){await Promise.resolve(),gi(e)}function iGe(e){return e}let zxe=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},Vxe=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},kD=0;const Ov={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},ID=["prepare","preRender","render","postRender","update","finish"],CD=[],lm=new vh;let jxe=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};const qk={frameTasks:lm,willDispatch:!1,clearFrameTasks:Uxe,dispatch:yQ,executeFrameTasks:Bxe};function U0(e){const t=new Vxe(e);return CD.push(t),qk.willDispatch||(qk.willDispatch=!0,Gk(yQ)),t}function h0(e){const t=new zxe(e);return lm.push(t),Wk==null&&(kD=performance.now(),Wk=requestAnimationFrame(mQ)),new jxe(t)}let Wk=null;function Uxe(e=!1){lm.forAll(t=>{t.removed=!0}),e&&gQ()}function mQ(){const e=performance.now();Wk=null,Wk=lm.length>0?requestAnimationFrame(mQ):null,qk.executeFrameTasks(e)}function Bxe(e){const t=e-kD;kD=e;const i=1e3/60,n=Math.max(0,t-i);Ov.time=e,Ov.frameDuration=i-n;for(let r=0;r<ID.length;r++){const s=performance.now(),a=ID[r];lm.forAll(o=>{var l;o.paused||o.removed||(r===0&&o.ticks++,o.phases[a]&&(Ov.elapsedFrameTime=performance.now()-e,Ov.deltaTime=o.ticks===0?0:t,(l=o.phases[a])==null||l.call(o,Ov)))}),Gxe[r].record(performance.now()-s)}gQ(),qxe.record(performance.now()-e)}const Gx=new vh;function gQ(){lm.forAll(e=>{e.removed&&Gx.push(e)}),lm.removeUnorderedMany(Gx.data,Gx.length),Gx.clear()}function yQ(){for(;CD.length;){const e=CD.shift();e.isActive&&e.callback()}qk.willDispatch=!1}function Hxe(e=1,t){const i=Nxe(),n=()=>{Qs(t)?i.reject(ui()):e===0?i():(--e,Gk(()=>n()))};return n(),i.promise}const Gxe=ID.map(e=>new R1(e)),qxe=new R1("total");function Wxe(e,t){for(const i of e.entries())if(t(i[0]))return!0;return!1}let Kxe=0;function P1(){return++Kxe}let LC=class{constructor(t){this._notify=t,this._accessed=[],this._handles=[],this._observerObject=new Yxe(this._notify),lj.register(this,this._observerObject)}destroy(){var t;this._accessed.length=0,(t=this._observerObject)==null||t.destroy(),this.clear(),lj.unregister(this)}onObservableAccessed(t){const i=this._accessed;i.includes(t)||i.push(t)}onTrackingEnd(){const t=this._handles,i=this._accessed,n=this._observerObject;for(let r=0;r<i.length;++r)t.push(i[r].observe(n));i.length=0}clear(){const t=this._handles;for(let i=0;i<t.length;++i)t[i].remove();t.length=0}},Yxe=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=Jxe}};const lj=new FinalizationRegistry(e=>{e.destroy()});function Jxe(){}let Fy=!1;const Kk=[];function vQ(e,t){let i=new LC(s),n=null,r=!1;function s(){if(!i||r)return;if(Fy)return void _Q(s);const o=n;i.clear(),Fy=!0,r=!0,n=yu(i,e),r=!1,Fy=!1,t(n,o),xQ()}function a(){i&&(i.destroy(),i=null,n=null)}return r=!0,n=yu(i,e),r=!1,{remove:a}}function bQ(e,t){let i=new LC(r),n=null;function r(){t(n,a)}function s(){i&&(i.destroy(),i=null),n=null}function a(){return i?(i.clear(),n=yu(i,e),n):null}return a(),{remove:s}}function wQ(e){let t=new LC(n),i=!1;function n(){t&&!i&&(Fy?_Q(n):(t.clear(),Fy=!0,i=!0,yu(t,e),i=!1,Fy=!1,xQ()))}function r(){t&&(t.destroy(),t=null)}return i=!0,yu(t,e),i=!1,{remove:r}}function _Q(e){Kk.includes(e)||Kk.unshift(e)}function xQ(){for(;Kk.length;)Kk.pop()()}var L1;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(L1||(L1={}));let Rw=class{constructor(){this.uid=P1(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,n,r,s){return this.pool.acquire(L1.Untracked,t,i,n,r,s,OF)}static acquireTracked(t,i,n,r){return this.pool.acquire(L1.Tracked,t,i,n,null,null,r)}notify(t,i){this.type===L1.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i)}acquire(t,i,n,r,s,a,o){this.uid=P1(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=n,this.getValue=r,this.target=s,this.path=a,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=P1(),this.removed=!0}};Rw.pool=new uQ(Rw);const y2=new Or,su=new Set;let Yk;function Jk(e){su.delete(e),su.add(e),Yk||(Yk=U0(Xxe))}function Zxe(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function Qxe(e){for(const t of su.values())t.target===e&&(t.removed=!0)}function Xxe(){let e=10;for(;Yk&&e--;){Yk=null;const t=eSe(),i=y2.acquire();for(const n of t){const r=n.uid;Zxe(n),r===n.uid&&n.removed&&i.push(n)}for(const n of su)n.removed&&(i.push(n),su.delete(n));for(const n of i)Rw.pool.release(n);y2.release(i),y2.release(t),TD.forEach(n=>n())}}function eSe(){const e=y2.acquire();e.length=su.size;let t=0;for(const i of su)e[t]=i,++t;return su.clear(),e}const TD=new Set;function tSe(e){return TD.add(e),{remove(){TD.delete(e)}}}function iSe(e,t,i){let n=UZ(e,t,i,(r,s,a)=>{let o,l,c=bQ(()=>k_(r,s),(h,p)=>{r.__accessor__.destroyed||o&&o.uid!==l?n.remove():(o||(o=Rw.acquireUntracked(h,a,p,r,s),l=o.uid),Jk(o))});return{remove:BZ(()=>{c.remove(),o&&(o.uid!==l||o.removed||(o.removed=!0,Jk(o)),o=null),n=c=null})}});return n}function nSe(e,t,i){const n=UZ(e,t,i,(r,s,a)=>{let o=!1;return vQ(()=>k_(r,s),(l,c)=>{r.__accessor__.destroyed?n.remove():o||(o=!0,OF(c,l)||a.call(r,l,c,s,r),o=!1)})});return n}function rSe(e,t,i,n=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:n?nSe(e,t,i):iSe(e,t,i)}function sSe(e,t,i){let n,r,s=bQ(e,(a,o)=>{n&&n.uid!==r?s.remove():(n||(n=Rw.acquireTracked(a,t,o,i),r=n.uid),Jk(n))});return{remove:BZ(()=>{s.remove(),n&&(n.uid!==r||n.removed||(n.removed=!0,Jk(n)),n=null),s=null})}}function aSe(e,t,i){let n=!1;return vQ(e,(r,s)=>{n||(n=!0,i(s,r)||t(r,s),n=!1)})}function oSe(e,t,i=!1,n=A_e){return i?aSe(e,t,n):sSe(e,t,n)}function cj(e){return Wxe(su,t=>t.oldValue===e)}var SQ,EQ;function lSe(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const bp=Symbol("Accessor-Handles"),$D=Symbol("Accessor-Initialized");let ve=class kQ{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:n,constructor:r}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class a extends s{constructor(...l){super(...l),this.inherited=null,r&&r.apply(this,l)}}I_(a.prototype);for(const o in t){const l=t[o];a.prototype[o]=typeof l=="function"?function(...c){const h=this.inherited;let p;this.inherited=function(...m){if(s.prototype[o])return s.prototype[o].apply(this,m)};try{p=l.apply(this,c)}catch(m){throw this.inherited=h,m}return this.inherited=h,p}:t[o]}for(const o in i){const l=lSe(i[o]);d(l)(a.prototype,o)}return I(n)(a)}constructor(...t){if(this[SQ]=null,this[EQ]=!1,this.constructor===kQ)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new $xe(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}postscript(t){const i=this.__accessor__,n=i.ctorArgs||t;i.initialize(),n&&(this.set(n),i.ctorArgs=null),i.constructed(),this.initialize(),this[$D]=!0}initialize(){}[YZ](){this[bp]=Si(this[bp])}destroy(){this.destroyed||(Qxe(this),this.__accessor__.destroy())}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[$D]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return Nk(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return zk(this,t,i),this}watch(t,i,n){return rSe(this,t,i,n)}own(t){this.addHandles(t)}addHandles(t,i){let n=this[bp];j(n)&&(n=this[bp]=new vs),n.add(t,i)}removeHandles(t){const i=this[bp];j(i)||i.remove(t)}hasHandles(t){const i=this[bp];return!!$(i)&&i.has(t)}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}};SQ=bp,EQ=$D;let cSe=class IQ{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new IQ;return this._values.forEach((n,r)=>{t&&t.has(r)||i.set(r,z(n.value),n.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const n=this._values.get(t);return i==null||(n==null?void 0:n.origin)===i?n==null?void 0:n.value:void 0}originOf(t){var i;return((i=this._values.get(t))==null?void 0:i.origin)??at.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(n=>{var r;return((r=this._values.get(n))==null?void 0:r.origin)===t})}set(t,i,n){if((n=this._normalizeOrigin(n))===at.DEFAULTS){const r=this._values.get(t);if(r&&r.origin!=null&&r.origin>n)return}this._values.set(t,new uSe(i,n))}delete(t,i){var n;(i=this._normalizeOrigin(i))!=null&&((n=this._values.get(t))==null?void 0:n.origin)!==i||this._values.delete(t)}has(t,i){var n;return(i=this._normalizeOrigin(i))!=null?((n=this._values.get(t))==null?void 0:n.origin)===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},n)=>t(i,n))}_normalizeOrigin(t){if(t!=null)return t===at.DEFAULTS?t:at.USER}},uSe=class{constructor(t,i){this.value=t,this.origin=i}};function CQ(e,t,i){t.keys().forEach(r=>{i.set(r,t.get(r),at.DEFAULTS)});const n=e.metadatas;Object.keys(n).forEach(r=>{e.internalGet(r)&&i.set(r,e.internalGet(r),at.DEFAULTS)})}function dSe(e,t,i){if(!e||!e.read||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.indexOf(t)===0&&WV(n,i))return!0}else for(const r of n)if(r===t||r.includes(".")&&r.indexOf(t)===0&&WV(r,i))return!0;return!1}function hSe(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function pSe(e,t,i,n,r){let s=yD(t[i],r);hSe(s)&&(e[i]=!0);for(const a of Object.getOwnPropertyNames(t))s=yD(t[a],r),dSe(s,i,n)&&(e[a]=!0)}function fSe(e,t,i,n){const r=i.metadatas,s=jF(r[t],"any",n),a=s&&s.default;if(a===void 0)return;const o=typeof a=="function"?a.call(e,t,n):a;o!==void 0&&i.set(t,o)}const TQ={origin:"service"};function $Q(e,t,i=TQ){if(!t||typeof t!="object")return;const n=mr(e),r=n.metadatas,s={};for(const a of Object.getOwnPropertyNames(t))pSe(s,r,a,t,i);n.setDefaultOrigin(i.origin);for(const a of Object.getOwnPropertyNames(s)){const o=yD(r[a],i).read,l=o&&o.source;let c;c=l&&typeof l=="string"?k_(t,l):t[a],o&&o.reader&&(c=o.reader.call(e,c,t,i)),c!==void 0&&n.set(a,c)}if(!i||!i.ignoreDefaults){n.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(r))s[a]||fSe(e,a,n,i)}n.setDefaultOrigin("user")}function mSe(e,t,i,n=TQ){var s;const r={...n,messages:[]};i(r),(s=r.messages)==null||s.forEach(a=>{a.type!=="warning"||e.loaded?n&&n.messages&&n.messages.push(a):e.loadWarnings.push(a)})}function gSe(e,t,i,n,r){var a,o;const s={};return(o=(a=t.write)==null?void 0:a.writer)==null||o.call(e,n,s,i,r),s}function AQ(e,t,i,n,r,s){if(!n||!n.write)return!1;const a=e.get(i);if(!r&&n.write.overridePolicy){const o=n.write.overridePolicy.call(e,a,i,s);o!==void 0&&(r=o)}if(r||(r=n.write),!r||r.enabled===!1)return!1;if((a===null&&!r.allowNull&&!r.writerEnsuresNonNull||a===void 0)&&r.isRequired){const o=new N("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return o&&s&&s.messages?s.messages.push(o):o&&!s&&Y.getLogger("esri.core.accessorSupport.write").error(o.name,o.message),!1}return!(a===void 0||a===null&&!r.allowNull&&!r.writerEnsuresNonNull||(!t.store.multipleOriginsSupported||t.store.originOf(i)===at.DEFAULTS)&&ySe(e,i,s,n,a)||!r.ignoreOrigin&&s&&s.origin&&t.store.multipleOriginsSupported&&t.store.originOf(i)<rh(s.origin))}function ySe(e,t,i,n,r){const s=n.default;if(s===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(r);if(typeof s=="function"){if(Array.isArray(r)){const a=s.call(e,t,i);return CC(a,r)}return!1}return s===r}function vSe(e,t,i,n){const r=mr(e),s=r.metadatas,a=aQ(s[t],n);return!!a&&AQ(e,r,t,a,i,n)}function MQ(e,t,i){var s,a;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return p2(t,e.toJSON(i));const n=mr(e),r=n.metadatas;for(const o in r){const l=aQ(r[o],i);if(!AQ(e,n,o,l,void 0,i))continue;const c=e.get(o),h=gSe(e,l,l.write&&typeof l.write.target=="string"?l.write.target:o,c,i);Object.keys(h).length>0&&(t=p2(t,h),(a=(s=i==null?void 0:i.resources)==null?void 0:s.pendingOperations)!=null&&a.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>p2(t,h,()=>"replace-arrays"))),i&&i.writtenProperties&&i.writtenProperties.push({target:e,propName:o,oldOrigin:kxe(n.store.originOf(o)),newOrigin:i.origin}))}return t}const T_=e=>{let t=class extends e{constructor(...i){super(...i);const n=mr(this),r=n.store,s=new cSe;n.store=s,CQ(n,r,s)}read(i,n){$Q(this,i,n)}write(i={},n){return MQ(this,i,n)}toJSON(i){return this.write({},i)}static fromJSON(i,n){return bSe.call(this,i,n)}};return t=u([I("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function bSe(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}let W=class extends T_(ve){};W=u([I("esri.core.JSONSupport")],W);function ee(e,t,i){let n,r;return t===void 0||Array.isArray(t)?(r=e,i=t,n=[void 0]):(r=t,n=Array.isArray(e)?e:[e]),(s,a)=>{const o=s.constructor.prototype;n.forEach(l=>{const c=KZ(s,l,r);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=o[a],i&&(c.read.source=(c.read.source||[]).concat(i))})}}let nt=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,r,s)=>{const a=this.toJSON(n);a!==void 0&&fr(s,a,r)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}_invertMap(t){const i={};for(const n in t)i[t[n]]=n;return i}_getKeysSorted(t){const i=[];for(const n in t)i.push(n);return i.sort(),i}};function qn(){return function(e,t){return new nt(e,{ignoreUnknown:!0,...t})}}let BF=class{constructor(t,i,n,r){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=n;const s=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*s,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=r||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Xt=new BF(6378137,1/298.257223563,3e5,.006694379990137799),au=new BF(3396190,1/169.8944472236118,23e4),$h=new BF(1737400,0,0);var cm;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(cm||(cm={}));let f;const E={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(f=2e3;f<=2045;f++)E[f]=0;for(f=2056;f<=2065;f++)E[f]=0;for(f=2067;f<=2135;f++)E[f]=0;for(f=2137;f<=2154;f++)E[f]=0;for(f=2161;f<=2170;f++)E[f]=0;for(f=2172;f<=2193;f++)E[f]=0;for(f=2195;f<=2198;f++)E[f]=0;for(f=2200;f<=2203;f++)E[f]=0;for(f=2205;f<=2217;f++)E[f]=0;for(f=2222;f<=2224;f++)E[f]=1;for(f=2225;f<=2250;f++)E[f]=2;for(f=2251;f<=2253;f++)E[f]=1;for(f=2257;f<=2264;f++)E[f]=2;for(f=2274;f<=2279;f++)E[f]=2;for(f=2280;f<=2282;f++)E[f]=1;for(f=2283;f<=2289;f++)E[f]=2;for(f=2290;f<=2292;f++)E[f]=0;for(f=2308;f<=2313;f++)E[f]=0;for(f=2315;f<=2491;f++)E[f]=0;for(f=2494;f<=2866;f++)E[f]=0;for(f=2867;f<=2869;f++)E[f]=1;for(f=2870;f<=2888;f++)E[f]=2;for(f=2891;f<=2895;f++)E[f]=2;for(f=2896;f<=2898;f++)E[f]=1;for(f=2902;f<=2908;f++)E[f]=2;for(f=2915;f<=2920;f++)E[f]=2;for(f=2921;f<=2923;f++)E[f]=1;for(f=2924;f<=2930;f++)E[f]=2;for(f=2931;f<=2962;f++)E[f]=0;for(f=2964;f<=2968;f++)E[f]=2;for(f=2969;f<=2973;f++)E[f]=0;for(f=2975;f<=2991;f++)E[f]=0;for(f=2995;f<=3051;f++)E[f]=0;for(f=3054;f<=3079;f++)E[f]=0;for(f=3081;f<=3088;f++)E[f]=0;for(f=3092;f<=3101;f++)E[f]=0;for(f=3106;f<=3138;f++)E[f]=0;for(f=3146;f<=3151;f++)E[f]=0;for(f=3153;f<=3166;f++)E[f]=0;for(f=3168;f<=3172;f++)E[f]=0;for(f=3174;f<=3203;f++)E[f]=0;for(f=3294;f<=3358;f++)E[f]=0;for(f=3367;f<=3403;f++)E[f]=0;for(f=3408;f<=3416;f++)E[f]=0;for(f=3417;f<=3438;f++)E[f]=2;for(f=3441;f<=3446;f++)E[f]=2;for(f=3447;f<=3450;f++)E[f]=0;for(f=3451;f<=3459;f++)E[f]=2;for(f=3460;f<=3478;f++)E[f]=0;for(f=3554;f<=3559;f++)E[f]=0;for(f=3560;f<=3570;f++)E[f]=2;for(f=3571;f<=3581;f++)E[f]=0;for(f=3594;f<=3597;f++)E[f]=0;for(f=3601;f<=3604;f++)E[f]=0;for(f=3637;f<=3639;f++)E[f]=0;for(f=3665;f<=3667;f++)E[f]=0;for(f=3693;f<=3695;f++)E[f]=0;for(f=3701;f<=3727;f++)E[f]=0;for(f=3728;f<=3739;f++)E[f]=2;for(f=3740;f<=3751;f++)E[f]=0;for(f=3753;f<=3760;f++)E[f]=2;for(f=3761;f<=3773;f++)E[f]=0;for(f=3775;f<=3777;f++)E[f]=0;for(f=3779;f<=3781;f++)E[f]=0;for(f=3783;f<=3785;f++)E[f]=0;for(f=3788;f<=3791;f++)E[f]=0;for(f=3797;f<=3802;f++)E[f]=0;for(f=3814;f<=3816;f++)E[f]=0;for(f=3825;f<=3829;f++)E[f]=0;for(f=3832;f<=3841;f++)E[f]=0;for(f=3844;f<=3852;f++)E[f]=0;for(f=3873;f<=3885;f++)E[f]=0;for(f=3890;f<=3893;f++)E[f]=0;for(f=3907;f<=3912;f++)E[f]=0;for(f=3942;f<=3950;f++)E[f]=0;for(f=3968;f<=3970;f++)E[f]=0;for(f=3973;f<=3976;f++)E[f]=0;for(f=3986;f<=3989;f++)E[f]=0;for(f=3994;f<=3997;f++)E[f]=0;for(f=4048;f<=4051;f++)E[f]=0;for(f=4056;f<=4063;f++)E[f]=0;for(f=4093;f<=4096;f++)E[f]=0;for(f=4390;f<=4398;f++)E[f]=0;for(f=4399;f<=4413;f++)E[f]=2;for(f=4418;f<=4433;f++)E[f]=2;for(f=4455;f<=4457;f++)E[f]=2;for(f=4484;f<=4489;f++)E[f]=0;for(f=4491;f<=4554;f++)E[f]=0;for(f=4568;f<=4589;f++)E[f]=0;for(f=4652;f<=4656;f++)E[f]=0;for(f=4766;f<=4800;f++)E[f]=0;for(f=5014;f<=5016;f++)E[f]=0;for(f=5069;f<=5072;f++)E[f]=0;for(f=5105;f<=5130;f++)E[f]=0;for(f=5173;f<=5188;f++)E[f]=0;for(f=5253;f<=5259;f++)E[f]=0;for(f=5269;f<=5275;f++)E[f]=0;for(f=5292;f<=5311;f++)E[f]=0;for(f=5329;f<=5331;f++)E[f]=0;for(f=5343;f<=5349;f++)E[f]=0;for(f=5355;f<=5357;f++)E[f]=0;for(f=5387;f<=5389;f++)E[f]=0;for(f=5459;f<=5463;f++)E[f]=0;for(f=5479;f<=5482;f++)E[f]=0;for(f=5518;f<=5520;f++)E[f]=0;for(f=5530;f<=5539;f++)E[f]=0;for(f=5550;f<=5552;f++)E[f]=0;for(f=5562;f<=5583;f++)E[f]=0;for(f=5623;f<=5625;f++)E[f]=2;for(f=5631;f<=5639;f++)E[f]=0;for(f=5649;f<=5653;f++)E[f]=0;for(f=5663;f<=5680;f++)E[f]=0;for(f=5682;f<=5685;f++)E[f]=0;for(f=5875;f<=5877;f++)E[f]=0;for(f=5896;f<=5899;f++)E[f]=0;for(f=5921;f<=5940;f++)E[f]=0;for(f=6050;f<=6125;f++)E[f]=0;for(f=6244;f<=6275;f++)E[f]=0;for(f=6328;f<=6348;f++)E[f]=0;for(f=6350;f<=6356;f++)E[f]=0;for(f=6366;f<=6372;f++)E[f]=0;for(f=6381;f<=6387;f++)E[f]=0;for(f=6393;f<=6404;f++)E[f]=0;for(f=6480;f<=6483;f++)E[f]=0;for(f=6511;f<=6514;f++)E[f]=0;for(f=6579;f<=6581;f++)E[f]=0;for(f=6619;f<=6624;f++)E[f]=0;for(f=6625;f<=6627;f++)E[f]=2;for(f=6628;f<=6632;f++)E[f]=0;for(f=6634;f<=6637;f++)E[f]=0;for(f=6669;f<=6692;f++)E[f]=0;for(f=6707;f<=6709;f++)E[f]=0;for(f=6720;f<=6723;f++)E[f]=0;for(f=6732;f<=6738;f++)E[f]=0;for(f=6931;f<=6933;f++)E[f]=0;for(f=6956;f<=6959;f++)E[f]=0;for(f=7005;f<=7007;f++)E[f]=0;for(f=7057;f<=7070;f++)E[f]=2;for(f=7074;f<=7082;f++)E[f]=0;for(f=7109;f<=7118;f++)E[f]=0;for(f=7119;f<=7127;f++)E[f]=1;for(f=7374;f<=7376;f++)E[f]=0;for(f=7528;f<=7586;f++)E[f]=0;for(f=7587;f<=7645;f++)E[f]=2;for(f=7692;f<=7696;f++)E[f]=0;for(f=7755;f<=7787;f++)E[f]=0;for(f=7791;f<=7795;f++)E[f]=0;for(f=7799;f<=7801;f++)E[f]=0;for(f=7803;f<=7805;f++)E[f]=0;for(f=7825;f<=7831;f++)E[f]=0;for(f=7845;f<=7859;f++)E[f]=0;for(f=8013;f<=8032;f++)E[f]=0;for(f=8065;f<=8068;f++)E[f]=1;for(f=8518;f<=8529;f++)E[f]=2;for(f=8533;f<=8536;f++)E[f]=2;for(f=8538;f<=8540;f++)E[f]=2;for(f=8677;f<=8679;f++)E[f]=0;for(f=8836;f<=8840;f++)E[f]=0;for(f=8857;f<=8859;f++)E[f]=0;for(f=8908;f<=8910;f++)E[f]=0;for(f=9154;f<=9159;f++)E[f]=0;for(f=9205;f<=9218;f++)E[f]=0;for(f=9271;f<=9273;f++)E[f]=0;for(f=9295;f<=9297;f++)E[f]=0;for(f=9356;f<=9360;f++)E[f]=0;for(f=9404;f<=9407;f++)E[f]=0;for(f=9476;f<=9482;f++)E[f]=0;for(f=9487;f<=9494;f++)E[f]=0;for(f=9697;f<=9699;f++)E[f]=0;for(f=9821;f<=9865;f++)E[f]=0;for(f=20002;f<=20032;f++)E[f]=0;for(f=20047;f<=20049;f++)E[f]=0;for(f=20062;f<=20092;f++)E[f]=0;for(f=20135;f<=20138;f++)E[f]=0;for(f=20248;f<=20258;f++)E[f]=0;for(f=20348;f<=20358;f++)E[f]=0;for(f=20436;f<=20440;f++)E[f]=0;for(f=20822;f<=20824;f++)E[f]=0;for(f=20904;f<=20932;f++)E[f]=0;for(f=20934;f<=20936;f++)E[f]=0;for(f=21004;f<=21032;f++)E[f]=0;for(f=21035;f<=21037;f++)E[f]=0;for(f=21095;f<=21097;f++)E[f]=0;for(f=21148;f<=21150;f++)E[f]=0;for(f=21207;f<=21264;f++)E[f]=0;for(f=21307;f<=21364;f++)E[f]=0;for(f=21413;f<=21423;f++)E[f]=0;for(f=21453;f<=21463;f++)E[f]=0;for(f=21473;f<=21483;f++)E[f]=0;for(f=21780;f<=21782;f++)E[f]=0;for(f=21891;f<=21894;f++)E[f]=0;for(f=21896;f<=21899;f++)E[f]=0;for(f=22171;f<=22177;f++)E[f]=0;for(f=22181;f<=22187;f++)E[f]=0;for(f=22191;f<=22197;f++)E[f]=0;for(f=22207;f<=22222;f++)E[f]=0;for(f=22234;f<=22236;f++)E[f]=0;for(f=22243;f<=22250;f++)E[f]=0;for(f=22262;f<=22265;f++)E[f]=0;for(f=22307;f<=22322;f++)E[f]=0;for(f=22348;f<=22357;f++)E[f]=0;for(f=22407;f<=22422;f++)E[f]=0;for(f=22462;f<=22465;f++)E[f]=0;for(f=22521;f<=22525;f++)E[f]=0;for(f=22607;f<=22622;f++)E[f]=0;for(f=22641;f<=22646;f++)E[f]=0;for(f=22648;f<=22657;f++)E[f]=0;for(f=22707;f<=22722;f++)E[f]=0;for(f=22762;f<=22765;f++)E[f]=0;for(f=22991;f<=22994;f++)E[f]=0;for(f=23028;f<=23038;f++)E[f]=0;for(f=23830;f<=23853;f++)E[f]=0;for(f=23866;f<=23872;f++)E[f]=0;for(f=23877;f<=23884;f++)E[f]=0;for(f=23886;f<=23894;f++)E[f]=0;for(f=23946;f<=23948;f++)E[f]=0;for(f=24311;f<=24313;f++)E[f]=0;for(f=24342;f<=24347;f++)E[f]=0;for(f=24370;f<=24374;f++)E[f]=10;for(f=24375;f<=24381;f++)E[f]=0;for(f=24718;f<=24721;f++)E[f]=0;for(f=24817;f<=24821;f++)E[f]=0;for(f=24877;f<=24882;f++)E[f]=0;for(f=24891;f<=24893;f++)E[f]=0;for(f=25391;f<=25395;f++)E[f]=0;for(f=25828;f<=25838;f++)E[f]=0;for(f=26191;f<=26195;f++)E[f]=0;for(f=26391;f<=26393;f++)E[f]=0;for(f=26701;f<=26722;f++)E[f]=0;for(f=26729;f<=26799;f++)E[f]=2;for(f=26801;f<=26803;f++)E[f]=2;for(f=26811;f<=26813;f++)E[f]=2;for(f=26847;f<=26870;f++)E[f]=2;for(f=26891;f<=26899;f++)E[f]=0;for(f=26901;f<=26923;f++)E[f]=0;for(f=26929;f<=26946;f++)E[f]=0;for(f=26948;f<=26998;f++)E[f]=0;for(f=27037;f<=27040;f++)E[f]=0;for(f=27205;f<=27232;f++)E[f]=0;for(f=27258;f<=27260;f++)E[f]=0;for(f=27391;f<=27398;f++)E[f]=0;for(f=27561;f<=27564;f++)E[f]=0;for(f=27571;f<=27574;f++)E[f]=0;for(f=27581;f<=27584;f++)E[f]=0;for(f=27591;f<=27594;f++)E[f]=0;for(f=28191;f<=28193;f++)E[f]=0;for(f=28348;f<=28358;f++)E[f]=0;for(f=28402;f<=28432;f++)E[f]=0;for(f=28462;f<=28492;f++)E[f]=0;for(f=29118;f<=29122;f++)E[f]=0;for(f=29168;f<=29172;f++)E[f]=0;for(f=29177;f<=29185;f++)E[f]=0;for(f=29187;f<=29195;f++)E[f]=0;for(f=29900;f<=29903;f++)E[f]=0;for(f=30161;f<=30179;f++)E[f]=0;for(f=30491;f<=30494;f++)E[f]=0;for(f=30729;f<=30732;f++)E[f]=0;for(f=31251;f<=31259;f++)E[f]=0;for(f=31265;f<=31268;f++)E[f]=0;for(f=31275;f<=31279;f++)E[f]=0;for(f=31281;f<=31297;f++)E[f]=0;for(f=31461;f<=31469;f++)E[f]=0;for(f=31491;f<=31495;f++)E[f]=0;for(f=31917;f<=31922;f++)E[f]=0;for(f=31965;f<=32e3;f++)E[f]=0;for(f=32001;f<=32003;f++)E[f]=2;for(f=32005;f<=32031;f++)E[f]=2;for(f=32033;f<=32060;f++)E[f]=2;for(f=32064;f<=32067;f++)E[f]=2;for(f=32074;f<=32077;f++)E[f]=2;for(f=32081;f<=32086;f++)E[f]=0;for(f=32107;f<=32130;f++)E[f]=0;for(f=32133;f<=32159;f++)E[f]=0;for(f=32164;f<=32167;f++)E[f]=2;for(f=32180;f<=32199;f++)E[f]=0;for(f=32201;f<=32260;f++)E[f]=0;for(f=32301;f<=32360;f++)E[f]=0;for(f=32601;f<=32662;f++)E[f]=0;for(f=32664;f<=32667;f++)E[f]=2;for(f=32701;f<=32761;f++)E[f]=0;for(f=53001;f<=53004;f++)E[f]=0;for(f=53008;f<=53019;f++)E[f]=0;for(f=53021;f<=53032;f++)E[f]=0;for(f=53034;f<=53037;f++)E[f]=0;for(f=53042;f<=53046;f++)E[f]=0;for(f=53074;f<=53080;f++)E[f]=0;for(f=54001;f<=54004;f++)E[f]=0;for(f=54008;f<=54019;f++)E[f]=0;for(f=54021;f<=54032;f++)E[f]=0;for(f=54034;f<=54037;f++)E[f]=0;for(f=54042;f<=54046;f++)E[f]=0;for(f=54048;f<=54053;f++)E[f]=0;for(f=54074;f<=54080;f++)E[f]=0;for(f=54098;f<=54101;f++)E[f]=0;for(f=102001;f<=102040;f++)E[f]=0;for(f=102042;f<=102063;f++)E[f]=0;for(f=102065;f<=102067;f++)E[f]=0;for(f=102070;f<=102117;f++)E[f]=0;for(f=102122;f<=102216;f++)E[f]=0;for(f=102221;f<=102377;f++)E[f]=0;for(f=102382;f<=102388;f++)E[f]=0;for(f=102389;f<=102398;f++)E[f]=2;for(f=102399;f<=102444;f++)E[f]=0;for(f=102445;f<=102447;f++)E[f]=2;for(f=102448;f<=102458;f++)E[f]=0;for(f=102459;f<=102468;f++)E[f]=2;for(f=102469;f<=102499;f++)E[f]=0;for(f=102500;f<=102519;f++)E[f]=1;for(f=102520;f<=102524;f++)E[f]=0;for(f=102525;f<=102529;f++)E[f]=2;for(f=102530;f<=102588;f++)E[f]=0;for(f=102590;f<=102598;f++)E[f]=0;for(f=102601;f<=102603;f++)E[f]=0;for(f=102605;f<=102628;f++)E[f]=0;for(f=102629;f<=102646;f++)E[f]=2;for(f=102648;f<=102700;f++)E[f]=2;for(f=102701;f<=102703;f++)E[f]=0;for(f=102707;f<=102730;f++)E[f]=2;for(f=102733;f<=102758;f++)E[f]=2;for(f=102767;f<=102900;f++)E[f]=0;for(f=102901;f<=102933;f++)E[f]=2;for(f=102934;f<=102950;f++)E[f]=13;for(f=102951;f<=102955;f++)E[f]=0;for(f=102961;f<=102963;f++)E[f]=0;for(f=102965;f<=102969;f++)E[f]=0;for(f=102971;f<=102973;f++)E[f]=0;for(f=102975;f<=102989;f++)E[f]=0;for(f=102990;f<=102992;f++)E[f]=1;for(f=102997;f<=103002;f++)E[f]=0;for(f=103003;f<=103008;f++)E[f]=2;for(f=103009;f<=103011;f++)E[f]=0;for(f=103012;f<=103014;f++)E[f]=2;for(f=103019;f<=103021;f++)E[f]=0;for(f=103022;f<=103024;f++)E[f]=2;for(f=103029;f<=103031;f++)E[f]=0;for(f=103032;f<=103034;f++)E[f]=2;for(f=103065;f<=103068;f++)E[f]=0;for(f=103074;f<=103076;f++)E[f]=0;for(f=103077;f<=103079;f++)E[f]=1;for(f=103080;f<=103082;f++)E[f]=0;for(f=103083;f<=103085;f++)E[f]=2;for(f=103090;f<=103093;f++)E[f]=0;for(f=103097;f<=103099;f++)E[f]=0;for(f=103100;f<=103102;f++)E[f]=2;for(f=103107;f<=103109;f++)E[f]=0;for(f=103110;f<=103112;f++)E[f]=2;for(f=103113;f<=103116;f++)E[f]=0;for(f=103117;f<=103120;f++)E[f]=2;for(f=103153;f<=103157;f++)E[f]=0;for(f=103158;f<=103162;f++)E[f]=2;for(f=103163;f<=103165;f++)E[f]=0;for(f=103166;f<=103168;f++)E[f]=1;for(f=103169;f<=103171;f++)E[f]=2;for(f=103186;f<=103188;f++)E[f]=0;for(f=103189;f<=103191;f++)E[f]=2;for(f=103192;f<=103195;f++)E[f]=0;for(f=103196;f<=103199;f++)E[f]=2;for(f=103200;f<=103224;f++)E[f]=0;for(f=103225;f<=103227;f++)E[f]=1;for(f=103232;f<=103237;f++)E[f]=0;for(f=103238;f<=103243;f++)E[f]=2;for(f=103244;f<=103246;f++)E[f]=0;for(f=103247;f<=103249;f++)E[f]=2;for(f=103254;f<=103256;f++)E[f]=0;for(f=103257;f<=103259;f++)E[f]=2;for(f=103264;f<=103266;f++)E[f]=0;for(f=103267;f<=103269;f++)E[f]=2;for(f=103300;f<=103375;f++)E[f]=0;for(f=103381;f<=103383;f++)E[f]=0;for(f=103384;f<=103386;f++)E[f]=1;for(f=103387;f<=103389;f++)E[f]=0;for(f=103390;f<=103392;f++)E[f]=2;for(f=103397;f<=103399;f++)E[f]=0;for(f=103400;f<=103471;f++)E[f]=2;for(f=103476;f<=103478;f++)E[f]=0;for(f=103479;f<=103481;f++)E[f]=2;for(f=103486;f<=103488;f++)E[f]=0;for(f=103489;f<=103491;f++)E[f]=2;for(f=103492;f<=103495;f++)E[f]=0;for(f=103496;f<=103499;f++)E[f]=2;for(f=103528;f<=103543;f++)E[f]=0;for(f=103544;f<=103548;f++)E[f]=2;for(f=103549;f<=103551;f++)E[f]=0;for(f=103552;f<=103554;f++)E[f]=1;for(f=103555;f<=103557;f++)E[f]=2;for(f=103558;f<=103560;f++)E[f]=0;for(f=103571;f<=103573;f++)E[f]=0;for(f=103574;f<=103576;f++)E[f]=2;for(f=103577;f<=103580;f++)E[f]=0;for(f=103581;f<=103583;f++)E[f]=2;for(f=103595;f<=103694;f++)E[f]=0;for(f=103696;f<=103699;f++)E[f]=0;for(f=103700;f<=103793;f++)E[f]=2;for(f=103794;f<=103890;f++)E[f]=0;for(f=103891;f<=103896;f++)E[f]=2;for(f=103900;f<=103971;f++)E[f]=2;for(f=103972;f<=103977;f++)E[f]=0;for(f=112e3;f<=112101;f++)E[f]=0;const wSe={102113:!0,102100:!0,3857:!0,3785:!0},_Se={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},uj='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',qx=[-20037508342788905e-9,20037508342788905e-9],Wx=[-20037508342787e-6,20037508342787e-6],DQ={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:qx,origin:Wx,dx:1e-5},102100:{wkTemplate:uj,valid:qx,origin:Wx,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:qx,origin:Wx,dx:1e-5},3857:{wkTemplate:uj,valid:qx,origin:Wx,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function vn(e,t){return e===t||!j(e)&&!j(t)&&(e.wkid!=null||t.wkid!=null?e.wkid===t.wkid||um(e)&&um(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase())}function Qo(e){return Dn(e)&&e.wkid&&DQ[e.wkid]||null}function OQ(e){return!!Dn(e)&&(e.wkid?E[e.wkid]==null:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function xSe(e){return!(GF(e)||WF(e))}function Pw(e){return Dn(e)&&e.wkid===4326}function pGe(e){return Dn(e)&&e.wkid===cm.CGCS2000}function um(e){return Dn(e)&&e.wkid!=null&&wSe[e.wkid]===!0}function SSe(e){return Dn(e)&&e.wkid===32662}function HF(e){return e===cm.GCSMARS2000||e===cm.GCSMARS2000_SPHERE}function GF(e){return Dn(e)&&e.wkid!=null&&HF(e.wkid)}function qF(e){return e===cm.GCSMOON2000}function WF(e){return Dn(e)&&e.wkid!=null&&qF(e.wkid)}function ESe(e){return Dn(e)&&e.wkid!=null&&_Se[e.wkid]===!0}function Dn(e){return $(e)&&(e.wkid!=null&&e.wkid>=2e3||e.wkt!=null)}const kSe={wkid:4326,wkt:ec(DQ[4326].wkTemplate,{Central_Meridian:"0.0"})},ISe={wkid:102100,latestWkid:3857},CSe={wkid:32662};function KF(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const TSe=KF(Xt),RQ=KF(au),PQ=KF($h),$Se={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Xt.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`};function ASe(e){return $(e)&&(GF(e)||vn(e,RQ))?au:$(e)&&(WF(e)||vn(e,PQ))?$h:Xt}function fGe(e){return HF(e)?au:qF(e)?$h:Xt}const mGe=39.37,MSe=Xt.radius*Math.PI/200,LQ=/UNIT\[([^\]]+)\]\]$/i,Uf=E,FQ=/UNIT\[([^\]]+)\]/i,DSe=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),OSe=qn()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),dl=e=>e*e,Uu=e=>e*e*e,Lw={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:dl(.001)},"square-centimeters":{inBaseUnits:dl(.01)},"square-decimeters":{inBaseUnits:dl(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:dl(1e3)},"square-inches":{inBaseUnits:dl(.0254)},"square-feet":{inBaseUnits:dl(.3048)},"square-yards":{inBaseUnits:dl(.9144)},"square-miles":{inBaseUnits:dl(1609.344)},"square-us-feet":{inBaseUnits:dl(1200/3937)},acres:{inBaseUnits:.0015625*dl(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Uu(.001)},"cubic-centimeters":{inBaseUnits:1e3*Uu(.01)},"cubic-decimeters":{inBaseUnits:1e3*Uu(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Uu(1e3)},"cubic-inches":{inBaseUnits:1e3*Uu(.0254)},"cubic-feet":{inBaseUnits:1e3*Uu(.3048)},"cubic-yards":{inBaseUnits:1e3*Uu(.9144)},"cubic-miles":{inBaseUnits:1e3*Uu(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},RSe=(()=>{const e={};for(const t in Lw)for(const i in Lw[t].units)e[i]=t;return e})();function PSe(e,t,i){return e*Lw[i].units[t].inBaseUnits}function LSe(e,t,i){return e/Lw[i].units[t].inBaseUnits}function AD(e){const t=RSe[e];if(!t)throw new Error("unknown type");return t}function dj(e,t=null){return t=t||AD(e),Lw[t].baseUnit===e}function ga(e,t,i){if(t===i)return e;const n=AD(t);if(n!==AD(i))throw new Error("incompatible units");const r=dj(t,n)?e:PSe(e,t,n);return dj(i,n)?r:LSe(r,i,n)}function FSe(e,t,i){return ga(e,t,"meters")/(i*Math.PI/180)}function NQ(e){return OSe.fromJSON(e.toLowerCase())||null}function p0(e){if($(e)&&!xSe(e))return 1;const t=B0(e);return t>1e5?1:t}function NSe(e){return B0(e)>=ASe(e).metersPerDegree?"meters":VQ(e)}function B0(e,t=Xt.metersPerDegree){return DF(zSe(e,!0),t)}function zSe(e,t=!1){const i=$(e)?e.wkid:null,n=$(e)?e.wkt:null;let r=null;if(i){if(HF(i))return au.metersPerDegree;if(qF(i))return $h.metersPerDegree;r=Uf.values[Uf[i]],!r&&t&&DSe.has(i)&&(r=MSe)}else n&&(UQ(n)?r=hj(LQ.exec(n),r):jQ(n)&&(r=hj(FQ.exec(n),r)));return r}function hj(e,t){return e&&e[1]?zQ(e[1]):t}function zQ(e){return parseFloat(e.split(",")[1])}function VQ(e){const t=$(e)?e.wkid:null,i=$(e)?e.wkt:null;let n=null;if(t)n=Uf.units[Uf[t]];else if(i){const r=UQ(i)?LQ:jQ(i)?FQ:null;if(r){const s=r.exec(i);s&&s[1]&&(n=jSe(s[1]))}}return $(n)?NQ(n):null}function jQ(e){return/^GEOCCS/i.test(e)}function UQ(e){return/^PROJCS/i.test(e)}const VSe=1e-7;function jSe(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let i=t&&t[1];if(!i||!Uf.units.includes(i)){const n=zQ(e);i=null;const r=Uf.values;for(let s=0;s<r.length;++s)if(Math.abs(n-r[s])<VSe){i=Uf.units[s];break}}return i}const USe={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},BSe={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},HSe={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},GSe=qn()(USe),qSe=qn()(BSe),gGe=qn()(HSe);function ue(e,t,i){let n,r;return t===void 0?(r=e,n=[void 0]):typeof t!="string"?(r=e,n=[void 0],i=t):(r=t,n=Array.isArray(e)?e:[e]),(s,a)=>{const o=s.constructor.prototype;for(const l of n){const c=KZ(s,l,r);c.write&&typeof c.write=="object"||(c.write={}),i&&(c.write.target=i),c.write.writer=o[a]}}}var pl;let Et=pl=class extends W{static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return pl.WebMercator;if(e.wkid===4326)return pl.WGS84}const t=new pl;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Pw(this)}get isWebMercator(){return um(this)}get isGeographic(){return OQ(this)}get isWrappable(){return ESe(this)}get metersPerUnit(){return B0(this)}get unit(){return VQ(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===pl.WGS84)return pl.WGS84;if(this===pl.WebMercator)return pl.WebMercator;const e=new pl;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):this.wkt!=null&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=z(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,r=this.imageCoordinateSystem;return t==null||n?JSON.stringify(r)===JSON.stringify(e.imageCoordinateSystem):i?r.id===t&&r.referenceServiceName===i:r.id===t}return vn(this,e)}toJSON(e){return this.write(void 0,e)}};Et.GCS_NAD_1927=null,Et.WGS84=null,Et.WebMercator=null,Et.PlateCarree=null,u([d({readOnly:!0})],Et.prototype,"isWGS84",null),u([d({readOnly:!0})],Et.prototype,"isWebMercator",null),u([d({readOnly:!0})],Et.prototype,"isGeographic",null),u([d({readOnly:!0})],Et.prototype,"isWrappable",null),u([d({type:Nt,json:{write:!0}})],Et.prototype,"latestWkid",void 0),u([d({readOnly:!0})],Et.prototype,"metersPerUnit",null),u([d({readOnly:!0})],Et.prototype,"unit",null),u([d({type:Nt,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt===null}}}}}}})],Et.prototype,"wkid",void 0),u([d({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid===null}}}}}}})],Et.prototype,"wkt",void 0),u([ue("wkt"),ue("web-scene","wkt")],Et.prototype,"writeWkt",null),u([d({type:Nt,json:{write:!0}})],Et.prototype,"vcsWkid",void 0),u([d({type:Nt,json:{write:!0}})],Et.prototype,"latestVcsWkid",void 0),u([d()],Et.prototype,"imageCoordinateSystem",void 0),Et=pl=u([I("esri.geometry.SpatialReference")],Et),Et.prototype.toJSON.isDefaultToJSON=!0,Et.GCS_NAD_1927=new Et({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),Et.WGS84=new Et(kSe),Et.WebMercator=new Et(ISe),Et.PlateCarree=new Et(CSe),Object.freeze&&(Object.freeze(Et.GCS_NAD_1927),Object.freeze(Et.WGS84),Object.freeze(Et.WebMercator));const je=Et;let fl=class extends W{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=je.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof je)return t;if(t!=null){const n=new je;return n.read(t,i),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};u([d()],fl.prototype,"type",void 0),u([d({readOnly:!0})],fl.prototype,"cache",null),u([d({readOnly:!0})],fl.prototype,"extent",null),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],fl.prototype,"hasM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],fl.prototype,"hasZ",void 0),u([d({type:je,json:{write:!0},value:je.WGS84})],fl.prototype,"spatialReference",void 0),u([ee("spatialReference")],fl.prototype,"readSpatialReference",null),fl=u([I("esri.geometry.Geometry")],fl);const Hh=fl,WSe=Object.prototype.toString;function KSe(e){const t="__accessorMetadata__"in e?Gi(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return YSe.apply(this,i)}}function YSe(e,t,i,n){MC(e,t).cast=n}function JSe(e){return(t,i)=>{MC(t,e).cast=t[i]}}function ct(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&WSe.call(e[0])==="[object Function]"?KSe(e[0]):e.length===1&&typeof e[0]=="string"?JSe(e[0]):void 0}function ZSe(e,t){const i=e.x-t.x,n=e.y-t.y,r=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(i*i+n*n+r*r)}const QSe=57.29577951308232,XSe=.017453292519943;function pj(e){return e*QSe}function fj(e){return e*XSe}function vGe(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Xt.radius))}function MD(e){return e.wkid!=null||e.wkt!=null}const Q$=[0,0];function Zk(e,t,i,n,r){const s=e,a=r;if(a.spatialReference=i,"x"in s&&"x"in a)[a.x,a.y]=t(s.x,s.y,Q$,n);else if("xmin"in s&&"xmin"in a)[a.xmin,a.ymin]=t(s.xmin,s.ymin,Q$,n),[a.xmax,a.ymax]=t(s.xmax,s.ymax,Q$,n);else if("paths"in s&&"paths"in a||"rings"in s&&"rings"in a){const o="paths"in s?s.paths:s.rings,l=[];let c;for(let h=0;h<o.length;h++){const p=o[h];c=[],l.push(c);for(let m=0;m<p.length;m++)c.push(t(p[m][0],p[m][1],[0,0],n)),p[m].length>2&&c[m].push(p[m][2]),p[m].length>3&&c[m].push(p[m][3])}"paths"in a?a.paths=l:a.rings=l}else if("points"in s&&"points"in a){const o=s.points,l=[];for(let c=0;c<o.length;c++)l[c]=t(o[c][0],o[c][1],[0,0],n),o[c].length>2&&l[c].push(o[c][2]),o[c].length>3&&l[c].push(o[c][3]);a.points=l}return r}function v2(e,t){const i=e&&(MD(e)?e:e.spatialReference),n=t&&(MD(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!n)&&(!!vn(n,i)||um(n)&&Pw(i)||um(i)&&Pw(n))}function FC(e,t){if(j(e))return null;const i=e.spatialReference,n=t&&(MD(t)?t:t.spatialReference);return v2(i,n)?vn(i,n)?z(e):um(n)?Zk(e,hy,je.WebMercator,!1,z(e)):Pw(n)?Zk(e,F1,je.WGS84,!1,z(e)):null:null}function hy(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=fj(t);return i[0]=fj(e)*Xt.radius,i[1]=Xt.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),i}function F1(e,t,i=[0,0],n=!1){const r=pj(e/Xt.radius);return i[0]=n?r:r-360*Math.floor((r+180)/360),i[1]=pj(Math.PI/2-2*Math.atan(Math.exp(-t/Xt.radius))),i}function bh(e,t=!1,i=z(e)){return Zk(e,hy,je.WebMercator,t,i)}function py(e,t=!1,i=z(e)){return Zk(e,F1,je.WGS84,t,i)}var b2;const Rv=[0,0];function mj(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let kr=b2=class extends Hh{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,n,r){let s;if(Array.isArray(e))s=e,r=t,e=s[0],t=s[1],i=s[2],n=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,i=s.z,n=s.m,(r=s.spatialReference)&&r.declaredClass!=="esri.geometry.SpatialReference"&&(r=new je(r)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)Y.getLogger(this.declaredClass).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)Y.getLogger(this.declaredClass).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&r&&r.isWebMercator){const o=hy(s.longitude,s.latitude,Rv);e=o[0],t=o[1]}}}else mj(i)?(r=i,i=null):mj(n)&&(r=n,n=null);const a={x:e,y:t};return a.x==null&&a.y!=null?Y.getLogger(this.declaredClass).warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&Y.getLogger(this.declaredClass).warn(".x=","X coordinate was defined without a Y coordinate"),r!=null&&(a.spatialReference=r),i!=null&&(a.z=i),n!=null&&(a.m=n),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:i}=this;if(e){if(e.isWebMercator)return F1(t,i,Rv)[1];if(e.isGeographic)return i}return null}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",hy(i,e,Rv)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:i}=this;if(i){if(i.isWebMercator)return F1(e,t,Rv)[0];if(i.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",hy(e,t,Rv)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new b2;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return b2.copy(e,this),this}equals(e){if(j(e))return!1;const{x:t,y:i,z:n,m:r,spatialReference:s}=this,{z:a,m:o}=e;let{x:l,y:c,spatialReference:h}=e;if(!s.equals(h))if(s.isWebMercator&&h.isWGS84)[l,c]=hy(l,c),h=s;else{if(!s.isWGS84||!h.isWebMercator)return!1;[l,c]=F1(l,c),h=s}return t===l&&i===c&&n===a&&r===o&&s.wkid===h.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=Qo(this.spatialReference);if(!e)return this;let t=this.x;const[i,n]=e.valid,r=2*n;let s;return t>n?(s=Math.ceil(Math.abs(t-n)/r),t-=s*r):t<i&&(s=Math.ceil(Math.abs(t-i)/r),t+=s*r),this._set("x",t),this}distance(e){return ZSe(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};u([d({readOnly:!0})],kr.prototype,"cache",null),u([d({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],kr.prototype,"hasM",null),u([d({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],kr.prototype,"hasZ",null),u([d({type:Number})],kr.prototype,"latitude",null),u([d({type:Number})],kr.prototype,"longitude",null),u([d({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),ct(e=>isNaN(e)?e:Ra(e))],kr.prototype,"x",void 0),u([ue("x")],kr.prototype,"writeX",null),u([ee("x")],kr.prototype,"readX",null),u([d({type:Number,json:{write:!0}})],kr.prototype,"y",void 0),u([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],kr.prototype,"z",void 0),u([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],kr.prototype,"m",void 0),kr=b2=u([I("esri.geometry.Point")],kr),kr.prototype.toJSON.isDefaultToJSON=!0;const Le=kr,X$=[0,0];function NC(e,t){return!!$(t)&&Mr(e,t.x,t.y,t.z)}function bGe(e,t){if(!t.points||t.points.length)return!1;for(const i of t.points)if(!f0(e,i))return!1;return!0}function e2e(e,t){const{xmin:i,ymin:n,zmin:r,xmax:s,ymax:a,zmax:o}=t;return e.hasZ&&t.hasZ?Mr(e,i,n,r)&&Mr(e,i,a,r)&&Mr(e,s,a,r)&&Mr(e,s,n,r)&&Mr(e,i,n,o)&&Mr(e,i,a,o)&&Mr(e,s,a,o)&&Mr(e,s,n,o):Mr(e,i,n)&&Mr(e,i,a)&&Mr(e,s,a)&&Mr(e,s,n)}function f0(e,t){return Mr(e,t[0],t[1])}function t2e(e,t){return Mr(e,t[0],t[1],t[2])}function Mr(e,t,i,n){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function BQ(e,t){return X$[1]=t.y,X$[0]=t.x,i2e(e,X$)}function i2e(e,t){return HQ(e.rings,t)}function HQ(e,t){if(!e)return!1;if(n2e(e))return gj(!1,e,t);let i=!1;for(let n=0,r=e.length;n<r;n++)i=gj(i,e[n],t);return i}function n2e(e){return!Array.isArray(e[0][0])}function gj(e,t,i){const[n,r]=i;let s=e,a=0;for(let o=0,l=t.length;o<l;o++){a++,a===l&&(a=0);const[c,h]=t[o],[p,m]=t[a];(h<r&&m>=r||m<r&&h>=r)&&c+(r-h)/(m-h)*(p-c)<n&&(s=!s)}return s}function r2e(e,t){return NC(e,t)}function s2e(e,t){const i=e.hasZ&&t.hasZ;let n,r,s;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(r=t.ymin,e.ymax<r)return!1}else if(r=e.ymin,t.ymax<r)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function a2e(e,t){const{points:i,hasZ:n}=t,r=n?t2e:f0;for(const s of i)if(r(e,s))return!0;return!1}const dm=[0,0],hm=[0,0],pm=[0,0],fm=[0,0],o2e=[dm,hm,pm,fm],GQ=[[pm,dm],[dm,hm],[hm,fm],[fm,pm]];function l2e(e,t){return c2e(e,t.rings)}function c2e(e,t){dm[0]=e.xmin,dm[1]=e.ymax,hm[0]=e.xmax,hm[1]=e.ymax,pm[0]=e.xmin,pm[1]=e.ymin,fm[0]=e.xmax,fm[1]=e.ymin;for(const i of o2e)if(HQ(t,i))return!0;for(const i of t){if(!i.length)continue;let n=i[0];if(f0(e,n))return!0;for(let r=1;r<i.length;r++){const s=i[r];if(f0(e,s)||qQ(n,s,GQ))return!0;n=s}}return!1}function u2e(e,t){dm[0]=e.xmin,dm[1]=e.ymax,hm[0]=e.xmax,hm[1]=e.ymax,pm[0]=e.xmin,pm[1]=e.ymin,fm[0]=e.xmax,fm[1]=e.ymin;const i=t.paths;for(const n of i){if(!i.length)continue;let r=n[0];if(f0(e,r))return!0;for(let s=1;s<n.length;s++){const a=n[s];if(f0(e,a)||qQ(r,a,GQ))return!0;r=a}}return!1}const En=[0,0];function d2e(e){for(let t=0;t<e.length;t++){const i=e[t];for(let r=0;r<i.length-1;r++){const s=i[r],a=i[r+1];for(let o=t+1;o<e.length;o++)for(let l=0;l<e[o].length-1;l++){const c=e[o][l],h=e[o][l+1];if(DD(s,a,c,h,En)&&!(En[0]===s[0]&&En[1]===s[1]||En[0]===c[0]&&En[1]===c[1]||En[0]===a[0]&&En[1]===a[1]||En[0]===h[0]&&En[1]===h[1]))return!0}}const n=i.length;if(!(n<=4))for(let r=0;r<n-3;r++){let s=n-1;r===0&&(s=n-2);const a=i[r],o=i[r+1];for(let l=r+2;l<s;l++){const c=i[l],h=i[l+1];if(DD(a,o,c,h,En)&&!(En[0]===a[0]&&En[1]===a[1]||En[0]===c[0]&&En[1]===c[1]||En[0]===o[0]&&En[1]===o[1]||En[0]===h[0]&&En[1]===h[1]))return!0}}}return!1}function qQ(e,t,i){for(let n=0;n<i.length;n++)if(DD(e,t,i[n][0],i[n][1]))return!0;return!1}function DD(e,t,i,n,r){const[s,a]=e,[o,l]=t,[c,h]=i,[p,m]=n,g=p-c,y=s-c,b=o-s,w=m-h,_=a-h,x=l-a,S=w*b-g*x;if(S===0)return!1;const k=(g*_-w*y)/S,A=(b*_-x*y)/S;return k>=0&&k<=1&&A>=0&&A<=1&&(r&&(r[0]=s+k*(o-s),r[1]=a+k*(l-a)),!0)}function h2e(e){switch(e){case"esriGeometryEnvelope":case"extent":return s2e;case"esriGeometryMultipoint":case"multipoint":return a2e;case"esriGeometryPoint":case"point":return r2e;case"esriGeometryPolygon":case"polygon":return l2e;case"esriGeometryPolyline":case"polyline":return u2e}}var ya;function p2e(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Bu(e,t,i){return t==null?i:i==null?t:e(t,i)}let an=ya=class extends Hh{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,n,r){return p2e(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?je.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:n,spatialReference:r??je.WGS84}}static fromBounds(e,t){return new ya({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new ya({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Le({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new ya;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&v2(t,i)&&(e=t.isWebMercator?bh(e):py(e,!0)),e.type==="point"?NC(this,e):e.type==="extent"&&e2e(this,e)}equals(e){if(this===e)return!0;if(j(e))return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&v2(t,i)&&(e=t.isWebMercator?bh(e):py(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,n=this.height*t;if(this.xmin+=i,this.ymin+=n,this.xmax-=i,this.ymax-=n,this.hasZ){const r=(this.zmax-this.zmin)*t;this.zmin+=r,this.zmax-=r}if(this.hasM){const r=(this.mmax-this.mmin)*t;this.mmin+=r,this.mmax-=r}return this}intersects(e){if(j(e))return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!vn(t,i)&&v2(t,i)&&(e=t.isWebMercator?bh(e):py(e,!0)),h2e(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Bu(Math.min,this.zmin,e.zmin),this.zmax=Bu(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Bu(Math.min,this.mmin,e.mmin),this.mmax=Bu(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:j(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Bu(Math.max,this.zmin,e.zmin),this.zmax=Bu(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Bu(Math.max,this.mmin,e.mmin),this.mmax=Bu(Math.min,this.mmax,e.mmax)),this)}toJSON(e){return this.write({},e)}_shiftCM(e=Qo(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const n=t.isWebMercator?py(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(n.x=this._normalizeX(n.x,e).x),this.spatialReference=new je(ec((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[i,n]=e.valid,r=this.xmin,s=this.xmax;return r>=i&&r<=n&&s>=i&&s<=n||(t=this.center),t}_normalize(e,t,i){const n=this.spatialReference;if(!n)return this;const r=i??Qo(n);if(r==null)return this;const s=this._getParts(r).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return s;let a=!0,o=!0;return s.forEach(l=>{l.hasZ||(a=!1),l.hasM||(o=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(a){const h=(l.zmax-l.zmin)/2;for(let p=0;p<c.length;p++)c[p].push(h)}if(o){const h=(l.mmax-l.mmin)/2;for(let p=0;p<c.length;p++)c[p].push(h)}return c}),hasZ:a,hasM:o,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:r,ymax:s,spatialReference:a}=this,o=this.width,l=this.xmin,c=this.xmax;let h;e=e||Qo(a);const[p,m]=e.valid;h=this._normalizeX(this.xmin,e);const g=h.x,y=h.frameId;h=this._normalizeX(this.xmax,e);const b=h.x,w=h.frameId,_=g===b&&o>0;if(o>2*m){const x=new ya(l<c?g:b,r,m,s,a),S=new ya(p,r,l<c?b:g,s,a),k=new ya(0,r,m,s,a),A=new ya(p,r,0,s,a),T=[],C=[];x.contains(k)&&T.push(y),x.contains(A)&&C.push(y),S.contains(k)&&T.push(w),S.contains(A)&&C.push(w);for(let M=y+1;M<w;M++)T.push(M),C.push(M);t.push({extent:x,frameIds:[y]},{extent:S,frameIds:[w]},{extent:k,frameIds:T},{extent:A,frameIds:C})}else g>b||_?t.push({extent:new ya(g,r,m,s,a),frameIds:[y]},{extent:new ya(p,r,b,s,a),frameIds:[w]}):t.push({extent:new ya(g,r,b,s,a),frameIds:[y]});this.cache._parts=t}const i=this.hasZ,n=this.hasM;if(i||n){const r={};i&&(r.zmin=this.zmin,r.zmax=this.zmax),n&&(r.mmin=this.mmin,r.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(r)}return t}_normalizeX(e,t){const[i,n]=t.valid,r=2*n;let s,a=0;return e>n?(s=Math.ceil(Math.abs(e-n)/r),e-=s*r,a=s):e<i&&(s=Math.ceil(Math.abs(e-i)/r),e+=s*r,a=-s),{x:e,frameId:a}}};u([d({readOnly:!0})],an.prototype,"cache",null),u([d({readOnly:!0})],an.prototype,"center",null),u([d({readOnly:!0})],an.prototype,"extent",null),u([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],an.prototype,"hasM",null),u([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],an.prototype,"hasZ",null),u([d({readOnly:!0})],an.prototype,"height",null),u([d({readOnly:!0})],an.prototype,"width",null),u([d({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],an.prototype,"xmin",void 0),u([d({type:Number,json:{write:!0}})],an.prototype,"ymin",void 0),u([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],an.prototype,"mmin",void 0),u([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],an.prototype,"zmin",void 0),u([d({type:Number,json:{write:!0}})],an.prototype,"xmax",void 0),u([d({type:Number,json:{write:!0}})],an.prototype,"ymax",void 0),u([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],an.prototype,"mmax",void 0),u([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],an.prototype,"zmax",void 0),an=ya=u([I("esri.geometry.Extent")],an),an.prototype.toJSON.isDefaultToJSON=!0;const Gt=an;function m0(e,t,i=!1){let{hasM:n,hasZ:r}=e;Array.isArray(t)?t.length!==4||n||r?t.length===3&&i&&!n?(r=!0,n=!1):t.length===3&&n&&r&&(n=!1,r=!1):(n=!0,r=!0):(r=!r&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!r||t.hasZ)),e.hasZ=r,e.hasM=n}var OD;function yj(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function f2e(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let sd=OD=class extends Hh{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):f2e(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const n=i.points&&i.points[0];return n&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=n.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=n.length>3:i.hasM===void 0&&(i.hasM=n.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Gt,i=this.hasZ,n=this.hasM,r=i?3:2,s=e[0],a=yj(Math.min),o=yj(Math.max);let l,c,h,p,[m,g]=s,[y,b]=s;for(let w=0,_=e.length;w<_;w++){const x=e[w],[S,k]=x;if(m=a(m,S),g=a(g,k),y=o(y,S),b=o(b,k),i&&x.length>2){const A=x[2];l=a(l,A),h=o(h,A)}if(n&&x.length>r){const A=x[r];c=a(c,A),p=o(p,A)}}return t.xmin=m,t.ymin=g,t.xmax=y,t.ymax=b,t.spatialReference=this.spatialReference,i?(t.zmin=l,t.zmax=h):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=c,t.mmax=p):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=z(this.points)}addPoint(e){return m0(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:z(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new OD(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(i.z=t[2],n=3),this.hasM&&(i.m=t[n]),new Le(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Le(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(m0(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};u([d({readOnly:!0})],sd.prototype,"cache",null),u([d()],sd.prototype,"extent",null),u([d({type:[[Number]],json:{write:{isRequired:!0}}})],sd.prototype,"points",void 0),u([ue("points")],sd.prototype,"writePoints",null),sd=OD=u([I("esri.geometry.Multipoint")],sd),sd.prototype.toJSON.isDefaultToJSON=!0;const zC=sd;function m2e(e,t){const i=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)}return Math.sqrt(i*i+n*n)}function g2e(e,t,i){const n=e[0]+i*(t[0]-e[0]),r=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[n,r,e[2]+i*(t[2]-e[2])]:[n,r]}function y2e(e,t,i,n){const[r,s]=t,[a,o]=i[n],[l,c]=i[n+1],h=l-a,p=c-o,m=h*h+p*p,g=(r-a)*h+(s-o)*p,y=Math.min(1,Math.max(0,g/m));return e[0]=a+h*y,e[1]=o+p*y,e}function wGe(e,t,i){const n=i.rings;let r,s,a=!1,o=1/0;for(let l=0;l<n.length;l++){const c=n[l];for(let h=0,p=c.length-1;h<c.length;p=h++)r=c[h],s=c[p],r[1]>t!=s[1]>t&&e<(s[0]-r[0])*(t-r[1])/(s[1]-r[1])+r[0]&&(a=!a),o=Math.min(o,v2e(e,t,r,s))}return o===0?0:(a?1:-1)*Math.sqrt(o)}function v2e(e,t,i,n){let r=i[0],s=i[1],a=n[0]-r,o=n[1]-s;if(a!==0||o!==0){const l=((e-r)*a+(t-s)*o)/(a*a+o*o);l>1?(r=n[0],s=n[1]):l>0&&(r+=a*l,s+=o*l)}return a=e-r,o=t-s,a*a+o*o}function b2e(e,t){return g2e(e,t,.5)}function WQ(e,t,i){const n=e.length;let r=0,s=0,a=0;for(let o=0;o<n;o++){const l=e[o],c=e[(o+1)%n];let h=2;r+=l[0]*c[1]-c[0]*l[1],l.length>2&&c.length>2&&i&&(s+=l[0]*c[2]-c[0]*l[2],h=3),l.length>h&&c.length>h&&t&&(a+=l[0]*c[h]-c[0]*l[h])}return r<=0&&s<=0&&a<=0}function w2e(e){const t=e.length;return t>2&&CC(e[0],e[t-1])}function _Ge(e){if("rings"in e&&(_2e(e),e.rings.length>0&&!WQ(e.rings[0],e.hasM??!1,e.hasZ??!1)))for(const t of e.rings)t.reverse()}function _2e(e){if("rings"in e)for(const t of e.rings)w2e(t)||t.push(t[0].slice())}function KQ(e){if(!e||e.length<3)return 0;let t=0;const i=e.length-1;for(let n=0;n<i;n++)t+=(e[n][0]-e[n+1][0])*(e[n][1]+e[n+1][1]);return t+=(e[i][0]-e[0][0])*(e[i][1]+e[0][1]),-.5*t}function xGe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function x2e(e){return e?YQ(e.rings,e.hasZ??!1):null}function YQ(e,t){if(!e||!e.length)return null;const i=[],n=[],r=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,a=e.length;s<a;s++){const o=S2e(e[s],t,r);o&&n.push(o)}if(n.sort((s,a)=>{let o=s[2]-a[2];return o===0&&t&&(o=s[4]-a[4]),o}),n.length&&(i[0]=n[0][0],i[1]=n[0][1],t&&(i[2]=n[0][3]),(i[0]<r[0]||i[0]>r[1]||i[1]<r[2]||i[1]>r[3]||t&&(i[2]<r[4]||i[2]>r[5]))&&(i.length=0)),!i.length){const s=e[0]&&e[0].length?E2e(e[0],t):null;if(!s)return null;i[0]=s[0],i[1]=s[1],t&&s.length>2&&(i[2]=s[2])}return i}function S2e(e,t,i){let n=0,r=0,s=0,a=0,o=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,h=e.length&&t?e[0][2]:0;for(let m=0;m<e.length;m++){const g=e[m],y=e[(m+1)%e.length],[b,w,_]=g,x=b-l,S=w-c,[k,A,T]=y,C=k-l,M=A-c,L=x*M-C*S;if(a+=L,n+=(x+C)*L,r+=(S+M)*L,t&&g.length>2&&y.length>2){const V=_-h,P=T-h,J=x*P-C*V;s+=(V+P)*J,o+=J}b<i[0]&&(i[0]=b),b>i[1]&&(i[1]=b),w<i[2]&&(i[2]=w),w>i[3]&&(i[3]=w),t&&(_<i[4]&&(i[4]=_),_>i[5]&&(i[5]=_))}if(a>0&&(a*=-1),o>0&&(o*=-1),!a)return null;a*=.5,o*=.5;const p=[n/(6*a)+l,r/(6*a)+c,a];return t&&(i[4]===i[5]||o===0?(p[3]=(i[4]+i[5])/2,p[4]=0):(p[3]=s/(6*o)+h,p[4]=o)),p}function E2e(e,t){const i=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let r=0,s=0,a=0,o=0;for(let l=0,c=e.length;l<c-1;l++){const h=e[l],p=e[l+1];if(h&&p){i[0]=h[0],i[1]=h[1],n[0]=p[0],n[1]=p[1],t&&h.length>2&&p.length>2&&(i[2]=h[2],n[2]=p[2]);const m=m2e(i,n);if(m){r+=m;const g=b2e(h,p);s+=m*g[0],a+=m*g[1],t&&g.length>2&&(o+=m*g[2])}}}return r>0?t?[s/r,a/r,o/r]:[s/r,a/r]:e.length?e[0]:null}const k2e=1e-6;function SGe(e){if(!e||!e.rings)return null;const{rings:t}=e;let i=0;for(let s=0;s<t.length;s++)i+=KQ(t[s]);if(i<k2e)return YQ(t,!1);const n=[0,0],r=t[0][0];for(let s=0;s<t.length;s++)C2e(n,r,t[s]);return n[0]*=1/i,n[1]*=1/i,n[0]+=r[0],n[1]+=r[1],n}const I2e=1/3;function C2e(e,t,i){if(!e||!i||i.length<3)return null;const n=i[0],r=[0,0],s=[i[1][0]-n[0],i[1][1]-n[1]];let a;for(let c=2;c<i.length;c++)r[0]=i[c][0]-n[0],r[1]=i[c][1]-n[1],a=.5*I2e*(r[0]*s[1]-r[1]*s[0]),e[0]+=a*(s[0]+r[0]),e[1]+=a*(s[1]+r[1]),s[0]=r[0],s[1]=r[1];const o=KQ(i),l=[n[0],n[1]];return l[0]-=t[0],l[1]-=t[1],l[0]*=o,l[1]*=o,e[0]+=l[0],e[1]+=l[1],e}function JQ(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function ZQ(e){return e.points!==void 0}function QQ(e){return e.x!==void 0&&e.y!==void 0}function XQ(e){return e.paths!==void 0}function eX(e){return e.rings!==void 0}function tX(e){function t(i,n){return i==null?n:n==null?i:e(i,n)}return t}const sh=tX(Math.min),ah=tX(Math.max);function EGe(e,t){return XQ(t)?g0(e,t.paths,!1,!1):eX(t)?g0(e,t.rings,!1,!1):ZQ(t)?YF(e,t.points,!1,!1,!1,!1):JQ(t)?iX(e,t):(QQ(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function kGe(e,t){return XQ(t)?g0(e,t.paths,!0,!1):eX(t)?g0(e,t.rings,!0,!1):ZQ(t)?YF(e,t.points,!0,!1,!0,!1):JQ(t)?iX(e,t,!0,!1,!0,!1):(QQ(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function g0(e,t,i,n){const r=i?3:2;if(!t.length||!t[0].length)return null;let s,a,o,l,[c,h]=t[0][0],[p,m]=t[0][0];for(let g=0;g<t.length;g++){const y=t[g];for(let b=0;b<y.length;b++){const w=y[b],[_,x]=w;if(c=sh(c,_),h=sh(h,x),p=ah(p,_),m=ah(m,x),i&&w.length>2){const S=w[2];s=sh(s,S),a=ah(a,S)}if(n&&w.length>r){const S=w[r];o=sh(s,S),l=ah(a,S)}}}return i?n?(e[0]=c,e[1]=h,e[2]=s,e[3]=o,e[4]=p,e[5]=m,e[6]=a,e[7]=l,e.length=8,e):(e[0]=c,e[1]=h,e[2]=s,e[3]=p,e[4]=m,e[5]=a,e.length=6,e):n?(e[0]=c,e[1]=h,e[2]=o,e[3]=p,e[4]=m,e[5]=l,e.length=6,e):(e[0]=c,e[1]=h,e[2]=p,e[3]=m,e.length=4,e)}function iX(e,t,i,n,r,s){const a=t.xmin,o=t.xmax,l=t.ymin,c=t.ymax;let h=t.zmin,p=t.zmax,m=t.mmin,g=t.mmax;return r?(h=h||0,p=p||0,s?(m=m||0,g=g||0,e[0]=a,e[1]=l,e[2]=h,e[3]=m,e[4]=o,e[5]=c,e[6]=p,e[7]=g,e):(e[0]=a,e[1]=l,e[2]=h,e[3]=o,e[4]=c,e[5]=p,e)):s?(m=m||0,g=g||0,e[0]=a,e[1]=l,e[2]=m,e[3]=o,e[4]=c,e[5]=g,e):(e[0]=a,e[1]=l,e[2]=o,e[3]=c,e)}function YF(e,t,i,n,r,s){const a=i?3:2,o=n&&s,l=i&&r;if(!t.length||!t[0].length)return null;let c,h,p,m,[g,y]=t[0],[b,w]=t[0];for(let _=0;_<t.length;_++){const x=t[_],[S,k]=x;if(g=sh(g,S),y=sh(y,k),b=ah(b,S),w=ah(w,k),l&&x.length>2){const A=x[2];c=sh(c,A),h=ah(h,A)}if(o&&x.length>a){const A=x[a];p=sh(c,A),m=ah(h,A)}}return r?(c=c||0,h=h||0,s?(p=p||0,m=m||0,e[0]=g,e[1]=y,e[2]=c,e[3]=p,e[4]=b,e[5]=w,e[6]=h,e[7]=m,e):(e[0]=g,e[1]=y,e[2]=c,e[3]=b,e[4]=w,e[5]=h,e)):s?(p=p||0,m=m||0,e[0]=g,e[1]=y,e[2]=p,e[3]=b,e[4]=w,e[5]=m,e):(e[0]=g,e[1]=y,e[2]=b,e[3]=w,e)}function T2e(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function $2e(e){return e.points!==void 0}function A2e(e){return e.x!==void 0&&e.y!==void 0}function M2e(e){return e.paths!==void 0}function D2e(e){return e.rings!==void 0}const JF=[];function nX(e,t,i,n){return{xmin:e,ymin:t,xmax:i,ymax:n}}function rX(e,t,i,n,r,s){return{xmin:e,ymin:t,zmin:i,xmax:n,ymax:r,zmax:s}}function sX(e,t,i,n,r,s){return{xmin:e,ymin:t,mmin:i,xmax:n,ymax:r,mmax:s}}function aX(e,t,i,n,r,s,a,o){return{xmin:e,ymin:t,zmin:i,mmin:n,xmax:r,ymax:s,zmax:a,mmax:o}}function ZF(e,t=!1,i=!1){return t?i?aX(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):rX(e[0],e[1],e[2],e[3],e[4],e[5]):i?sX(e[0],e[1],e[2],e[3],e[4],e[5]):nX(e[0],e[1],e[2],e[3])}function IGe(e){return e?T2e(e)?e:A2e(e)?R2e(e):D2e(e)?oX(e):M2e(e)?lX(e):$2e(e)?O2e(e):null:null}function O2e(e){const{hasZ:t,hasM:i,points:n}=e;return ZF(YF(JF,n,t??!1,i??!1),t,i)}function R2e(e){const{x:t,y:i,z:n,m:r}=e,s=r!=null;return n!=null?s?aX(t,i,n,r,t,i,n,r):rX(t,i,n,t,i,n):s?sX(t,i,r,t,i,r):nX(t,i,t,i)}function oX(e){const{hasZ:t,hasM:i,rings:n}=e,r=g0(JF,n,t??!1,i??!1);return r?ZF(r,t,i):null}function lX(e){const{hasZ:t,hasM:i,paths:n}=e,r=g0(JF,n,t??!1,i??!1);return r?ZF(r,t,i):null}var w2;function vj(e){return!Array.isArray(e[0])}let ml=w2=class extends Hh{static fromExtent(e){const t=e.clone().normalize(),i=e.spatialReference;let n=!1,r=!1;for(const a of t)a.hasZ&&(n=!0),a.hasM&&(r=!0);const s={rings:t.map(a=>{const o=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(n&&a.hasZ){const l=a.zmin+.5*(a.zmax-a.zmin);for(let c=0;c<o.length;c++)o[c].push(l)}if(r&&a.hasM){const l=a.mmin+.5*(a.mmax-a.mmin);for(let c=0;c<o.length;c++)o[c].push(l)}return o}),spatialReference:i};return n&&(s.hasZ=!0),r&&(s.hasM=!0),new w2(s)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){let i,n,r=null,s=null;return e&&!Array.isArray(e)?(r=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),i=e.hasZ,n=e.hasM):r=e,r=r||[],t=t||je.WGS84,r.length&&r[0]&&r[0][0]!=null&&typeof r[0][0]=="number"&&(r=[r]),s=r[0]&&r[0][0],s&&(i===void 0&&n===void 0?(i=s.length>2,n=s.length>3):i===void 0?i=n?s.length>3:s.length>2:n===void 0&&(n=i?s.length>3:s.length>2)),{rings:r,spatialReference:t,hasZ:i,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=x2e(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Le;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=oX(this);if(!t)return null;const i=new Gt(t);return i.spatialReference=e,i}get isSelfIntersecting(){return d2e(this.rings)}writeRings(e,t){t.rings=z(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(vj(e)){const n=[];for(let r=0,s=e.length;r<s;r++)n[r]=e[r].toArray();t[i]=n}else t[i]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new w2;return e.spatialReference=this.spatialReference,e.rings=z(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(j(e))return!1;const t=this.spatialReference,i=e.spatialReference;if($(t)!==$(i)||$(t)&&$(i)&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const n=([r,s,a,o],[l,c,h,p])=>r===l&&s===c&&(a==null&&h==null||a===h)&&(o==null&&p==null||o===p);for(let r=0;r<this.rings.length;r++){const s=this.rings[r],a=e.rings[r];if(!CC(s,a,n))return!1}return!0}contains(e){if(!e)return!1;const t=FC(e,this.spatialReference);return BQ(this,$(t)?t:e)}isClockwise(e){let t;return t=vj(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e,WQ(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],n=this.hasZ,r=this.hasM;return n&&!r?new Le(i[0],i[1],i[2],void 0,this.spatialReference):r&&!n?new Le(i[0],i[1],void 0,i[2],this.spatialReference):n&&r?new Le(i[0],i[1],i[2],i[3],this.spatialReference):new Le(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(m0(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Le(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,n=t.map(r=>new Le(r,i));return this.notifyChange("rings"),n}setPoint(e,t,i){return this._validateInputs(e,t)?(m0(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(i&&(t<0||t>n.length)||!i&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([d({readOnly:!0})],ml.prototype,"cache",null),u([d({readOnly:!0})],ml.prototype,"centroid",null),u([d({readOnly:!0})],ml.prototype,"extent",null),u([d({readOnly:!0})],ml.prototype,"isSelfIntersecting",null),u([d({type:[[[Number]]],json:{write:{isRequired:!0}}})],ml.prototype,"rings",void 0),u([ue("rings")],ml.prototype,"writeRings",null),ml=w2=u([I("esri.geometry.Polygon")],ml),ml.prototype.toJSON.isDefaultToJSON=!0;const bu=ml;var RD;function P2e(e){return!Array.isArray(e[0])}let ad=RD=class extends Hh{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let i,n,r=null,s=null;return e&&!Array.isArray(e)?(r=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),i=e.hasZ,n=e.hasM):r=e,r=r||[],t=t||je.WGS84,r.length&&r[0]&&r[0][0]!=null&&typeof r[0][0]=="number"&&(r=[r]),s=r[0]&&r[0][0],s&&(i===void 0&&n===void 0?(i=s.length>2,n=!1):i===void 0?i=!n&&s.length>3:n===void 0&&(n=!i&&s.length>3)),{paths:r,spatialReference:t,hasZ:i,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=lX(this);if(!t)return null;const i=new Gt(t);return i.spatialReference=e,i}writePaths(e,t){t.paths=z(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(P2e(e)){const n=[];for(let r=0,s=e.length;r<s;r++)n[r]=e[r].toArray();t[i]=n}else t[i]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new RD;return e.spatialReference=this.spatialReference,e.paths=z(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],n=this.hasZ,r=this.hasM;return n&&!r?new Le(i[0],i[1],i[2],void 0,this.spatialReference):r&&!n?new Le(i[0],i[1],void 0,i[2],this.spatialReference):n&&r?new Le(i[0],i[1],i[2],i[3],this.spatialReference):new Le(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(m0(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,n=t.map(r=>new Le(r,i));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Le(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(m0(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(i&&(t<0||t>n.length)||!i&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([d({readOnly:!0})],ad.prototype,"cache",null),u([d({readOnly:!0})],ad.prototype,"extent",null),u([d({type:[[[Number]]],json:{write:{isRequired:!0}}})],ad.prototype,"paths",void 0),u([ue("paths")],ad.prototype,"writePaths",null),ad=RD=u([I("esri.geometry.Polyline")],ad),ad.prototype.toJSON.isDefaultToJSON=!0;const ja=ad,L2e=qn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),bj=qn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function cX(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function QF(e){return e.points!==void 0}function XF(e){return e.x!==void 0&&e.y!==void 0}function eN(e){return e.paths!==void 0}function Bf(e){return e.rings!==void 0}function Ah(e){return j(e)?null:e instanceof Hh?e:XF(e)?Le.fromJSON(e):eN(e)?ja.fromJSON(e):Bf(e)?bu.fromJSON(e):QF(e)?zC.fromJSON(e):cX(e)?Gt.fromJSON(e):null}function VC(e){return e?XF(e)?"esriGeometryPoint":eN(e)?"esriGeometryPolyline":Bf(e)?"esriGeometryPolygon":cX(e)?"esriGeometryEnvelope":QF(e)?"esriGeometryMultipoint":null:null}const F2e={esriGeometryPoint:Le,esriGeometryPolyline:ja,esriGeometryPolygon:bu,esriGeometryEnvelope:Gt,esriGeometryMultipoint:zC};function N2e(e){return e&&F2e[e]||null}const Dm={base:Hh,key:"type",typeMap:{extent:Gt,multipoint:zC,point:Le,polyline:ja,polygon:bu}};tc(Dm);const Wt=e=>{let t=class extends e{clone(){var l;const i=Ns(mr(this),"unable to clone instance of non-accessor class"),n=i.metadatas,r=i.store,s={},a=new Map;for(const c in n){const h=n[c],p=r==null?void 0:r.originOf(c),m=h.clonable;if(h.readOnly||m===!1||p!==at.USER&&p!==at.DEFAULTS&&p!==at.WEB_MAP&&p!==at.WEB_SCENE)continue;const g=this[c];let y=null;y=typeof m=="function"?m(g):m==="reference"?g:uD(g),g!=null&&y==null||(p===at.DEFAULTS?a.set(c,y):s[c]=y)}const o=new(Object.getPrototypeOf(this)).constructor(s);if(a.size){const c=(l=mr(o))==null?void 0:l.store;if(c)for(const[h,p]of a)c.set(h,p,at.DEFAULTS)}return o}};return t=u([I("esri.core.Clonable")],t),t};let wj=class extends Wt(ve){};wj=u([I("esri.core.Clonable")],wj);let _2=class uX{constructor(){this._emitter=new uX.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(r=null){this._target=r,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(r,s){const a=this._listenersMap&&this._listenersMap.get(r);if(!a)return!1;const o=this._target||this;return[...a].forEach(l=>{l.call(o,s)}),a.length>0}on(r,s){if(Array.isArray(r)){const o=r.map(l=>this.on(l,s));return AC(o)}if(r.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const a=this._listenersMap.get(r)||[];return a.push(s),this._listenersMap.set(r,a),{remove:()=>{const o=this._listenersMap&&this._listenersMap.get(r)||[],l=o.indexOf(s);l>=0&&o.splice(l,1)}}}once(r,s){const a=this.on(r,o=>{a.remove(),s.call(null,o)});return a}hasEventListener(r){const s=this._listenersMap&&this._listenersMap.get(r);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let r=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,a){return this._emitter.emit(s,a)}on(s,a){return this._emitter.on(s,a)}once(s,a){return this._emitter.once(s,a)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return r=u([I("esri.core.Evented")],r),r};let i=class extends ve{constructor(){super(...arguments),this._emitter=new _2.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,r){return this._emitter.emit(n,r)}on(n,r){return this._emitter.on(n,r)}once(n,r){return this._emitter.once(n,r)}hasEventListener(n){return this._emitter.hasEventListener(n)}};i=u([I("esri.core.Evented")],i),e.EventedAccessor=i})(_2||(_2={}));const Ru=_2;var kt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(kt||(kt={}));function tN(e){return(t,i)=>{t[i]=e}}let iN=class extends lQ{notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const n of i)n.onInvalidated(),n.onCommitted()}}};var Gc;let z2e=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}};const ha=new Bh(z2e,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}),V2e=()=>{};function eA(e){return e?e instanceof lf?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function tA(e){if(e&&e.length)return e[0]}function j2e(e,t,i,n){const r=Math.min(e.length-i,t.length-n);let s=0;for(;s<r&&e[i+s]===t[n+s];)s++;return s}function dX(e,t,i,n){t&&t.forEach((r,s,a)=>{e.push(r),dX(e,i.call(n,r,s,a),i,n)})}const Hu=new Set,Gu=new Set,qu=new Set,iA=new Map;let U2e=0,lf=Gc=class extends Ru.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Gc}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new iN,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:U2e++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Gc?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return ze(this._observable),this._items}set items(e){this._emitBeforeChanges(kt.ADD)||(this._splice(0,this.length,eA(e)),this._emitAfterChanges(kt.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const i=this._chgListeners,n={removed:!1,callback:t};return i.push(n),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=V2e,n.removed=!0,i.splice(i.indexOf(n),1)}}}return this._emitter.on(e,t)}once(e,t){const i=this.on(e,t);return{remove(){i.remove()}}}add(e,t){if(ze(this._observable),this._emitBeforeChanges(kt.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(kt.ADD),this}addMany(e,t=this._items.length){if(ze(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(kt.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,eA(e)),this._emitAfterChanges(kt.ADD),this}at(e){if(ze(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(ze(this._observable),!this.length||this._emitBeforeChanges(kt.REMOVE))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(kt.REMOVE),e}clone(){return ze(this._observable),this._createNewInstance({items:this._items.map(z)})}concat(...e){ze(this._observable);const t=e.map(eA);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(ze(this._observable),!this.length||this._emitBeforeChanges(kt.REMOVE))return;const i=this._splice(0,this.length),n=i.length;for(let r=0;r<n;r++)e.call(t,i[r],r,i);this._emitAfterChanges(kt.REMOVE)}every(e,t){return ze(this._observable),this._items.every(e,t)}filter(e,t){let i;return ze(this._observable),i=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:i})}find(e,t){return ze(this._observable),this._items.find(e,t)}findIndex(e,t){return ze(this._observable),this._items.findIndex(e,t)}flatten(e,t){ze(this._observable);const i=[];return dX(i,this,e,t),new Gc(i)}forEach(e,t){return ze(this._observable),this._items.forEach(e,t)}getItemAt(e){return ze(this._observable),this._items[e]}getNextIndex(e){ze(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return ze(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return ze(this._observable),this._items.indexOf(e,t)}join(e=","){return ze(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return ze(this._observable),this._items.lastIndexOf(e,t)}map(e,t){ze(this._observable);const i=this._items.map(e,t);return new Gc({items:i})}reorder(e,t=this.length-1){ze(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(kt.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(kt.MOVE)}return e}}pop(){if(ze(this._observable),!this.length||this._emitBeforeChanges(kt.REMOVE))return;const e=tA(this._splice(this.length-1,1));return this._emitAfterChanges(kt.REMOVE),e}push(...e){return ze(this._observable),this._emitBeforeChanges(kt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(kt.ADD)),this.length}reduce(e,t){ze(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){ze(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return ze(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(ze(this._observable),e<0||e>=this.length||this._emitBeforeChanges(kt.REMOVE))return;const t=tA(this._splice(e,1));return this._emitAfterChanges(kt.REMOVE),t}removeMany(e){if(ze(this._observable),!e||!e.length||this._emitBeforeChanges(kt.REMOVE))return[];const t=e instanceof Gc?e.toArray():e,i=this._items,n=[],r=t.length;for(let s=0;s<r;s++){const a=t[s],o=i.indexOf(a);if(o>-1){const l=1+j2e(t,i,s+1,o+1),c=this._splice(o,l);c&&c.length>0&&n.push.apply(n,c),s+=l-1}}return this._emitAfterChanges(kt.REMOVE),n}reverse(){if(ze(this._observable),this._emitBeforeChanges(kt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(kt.MOVE),this}shift(){if(ze(this._observable),!this.length||this._emitBeforeChanges(kt.REMOVE))return;const e=tA(this._splice(0,1));return this._emitAfterChanges(kt.REMOVE),e}slice(e=0,t=this.length){return ze(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return ze(this._observable),this._items.some(e,t)}sort(e){if(ze(this._observable),!this.length||this._emitBeforeChanges(kt.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(kt.MOVE),this}splice(e,t,...i){ze(this._observable);const n=(t?kt.REMOVE:0)|(i.length?kt.ADD:0);if(this._emitBeforeChanges(n))return[];const r=this._splice(e,t,i)||[];return this._emitAfterChanges(n),r}toArray(){return ze(this._observable),this._items.slice()}toJSON(){return ze(this._observable),this.toArray()}toLocaleString(){return ze(this._observable),this._items.toLocaleString()}toString(){return ze(this._observable),this._items.toString()}unshift(...e){return ze(this._observable),!e.length||this._emitBeforeChanges(kt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(kt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const n=this._items,r=this.itemType;let s,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=U0(()=>this._dispatchChange())),t){if(a=n.splice(e,t),this.hasEventListener("before-remove")){const o=ha.acquire();o.target=this,o.cancellable=!0;for(let l=0,c=a.length;l<c;l++)s=a[l],o.reset(s),this.emit("before-remove",o),o.defaultPrevented&&(a.splice(l,1),n.splice(e,0,s),e+=1,l-=1,c-=1);ha.release(o)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const o=ha.acquire();o.target=this,o.cancellable=!1;const l=a.length;for(let c=0;c<l;c++)o.reset(a[c]),this.emit("after-remove",o);ha.release(o)}}if(i&&i.length){if(r){const h=[];for(const p of i){const m=r.ensureType(p);m==null&&p!=null||h.push(m)}i=h}const o=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(o||l){const h=ha.acquire();h.target=this,h.cancellable=!0;const p=ha.acquire();p.target=this,p.cancellable=!1;for(const m of i)o?(h.reset(m),this.emit("before-add",h),h.defaultPrevented||(c?n.push(m):n.splice(e++,0,m),this._set("length",n.length),l&&(p.reset(m),this.emit("after-add",p)))):(c?n.push(m):n.splice(e++,0,m),this._set("length",n.length),p.reset(m),this.emit("after-add",p));ha.release(p),ha.release(h)}else{if(c)for(const h of i)n.push(h);else n.splice(e,0,...i);this._set("length",n.length)}}return(i&&i.length||a&&a.length)&&this._notifyChangeEvent(i,a),a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=ha.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,ha.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=ha.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),ha.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;Hu.clear(),Gu.clear(),qu.clear();for(const{added:l,removed:c}of i){if(l)if(qu.size===0&&Gu.size===0)for(const h of l)Hu.add(h);else for(const h of l)Gu.has(h)?(qu.add(h),Gu.delete(h)):qu.has(h)||Hu.add(h);if(c)if(qu.size===0&&Hu.size===0)for(const h of c)Gu.add(h);else for(const h of c)Hu.has(h)?Hu.delete(h):(qu.delete(h),Gu.add(h))}const n=Or.acquire();Hu.forEach(l=>{n.push(l)});const r=Or.acquire();Gu.forEach(l=>{r.push(l)});const s=this._items,a=t.items,o=Or.acquire();if(qu.forEach(l=>{a.indexOf(l)!==s.indexOf(l)&&o.push(l)}),t.listeners&&(n.length||r.length||o.length)){const l={target:this,added:n,removed:r,moved:o},c=t.listeners.length;for(let h=0;h<c;h++){const p=t.listeners[h];p.removed||p.callback.call(this,l)}}Or.release(n),Or.release(r),Or.release(o)}Hu.clear(),Gu.clear(),qu.clear()}};lf.ofType=e=>{if(!e)return Gc;if(iA.has(e))return iA.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const r=e.typeMap[n].prototype.declaredClass;t?t+=` | ${r}`:t=r}let i=class extends Gc{};return u([tN({Type:e,ensureType:typeof e=="function"?Gi(e):tc(e)})],i.prototype,"itemType",void 0),i=u([I(`esri.core.Collection<${t}>`)],i),iA.set(e,i),i},u([d()],lf.prototype,"length",void 0),u([d()],lf.prototype,"items",null),lf=Gc=u([I("esri.core.Collection")],lf);const Ie=lf;var y0;function B2e(e,t){switch(e.type){case"range":{const i="range"in e?e.range[0]:e.minValue,n="range"in e?e.range[1]:e.maxValue;if(i!=null&&+t<i||n!=null&&+t>n)return y0.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(e.codedValues==null||e.codedValues.every(i=>i==null||i.code!==t))return y0.INVALID_CODED_VALUE}return null}(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(y0||(y0={}));const H2e=Y.getLogger("esri.support.arcadeOnDemand");let nA;function wu(){return nA||(nA=(async()=>{const e=await H(()=>import("./arcadeUtils.js").then(t=>t.ax),["arcadeUtils.js","arcadeTimeUtils.js","executionError.js","number.js"]);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),nA}const AGe=(e,t,i)=>nN.create(e,t,i,null,["$feature"]),MGe=(e,t,i)=>nN.create(e,t,i,null,["$feature","$view"]),G2e=(e,t,i,n)=>nN.create(e,t,i,n,["$feature","$view"]);let nN=class hX{constructor(t,i,n,r,s,a,o){this.script=t,this.evaluate=r;const l=Array.isArray(a)?a:a.fields;this.fields=l,this._syntaxTree=n,this._arcade=i,this._arcadeFeature=s,this._spatialReference=o,this._referencesGeometry=i.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,i,n,r,s,a){const{arcade:o,Feature:l,Dictionary:c}=await wu(),h=je.fromJSON(i);let p;try{p=o.parseScript(t,a)}catch(M){return H2e.error(new N("arcade-bad-expression","Failed to parse arcade script",{script:t,error:M})),null}const m=s.reduce((M,L)=>({...M,[L]:null}),{});let g=null;$(r)&&(g=new c(r),g.immutable=!0,m.$config=null);const y=o.scriptUsesGeometryEngine(p),b=y&&o.enableGeometrySupport(),w=o.scriptUsesFeatureSet(p)&&o.enableFeatureSetSupport(),_=o.scriptIsAsync(p),x=_&&o.enableAsyncSupport(),S={vars:m,spatialReference:h,useAsync:!!x};await Promise.all([b,w,x]);const k=new Set;await o.loadDependentModules(k,p,null,_,y);const A=new c;A.immutable=!1,A.setField("scale",0);const T=o.compileScript(p,S),C=M=>("$view"in M&&M.$view&&(A.setField("scale",typeof M.$view=="object"?M.$view.scale:void 0),M.$view=A),g&&(M.$config=g),T({vars:M,spatialReference:h}));return new hX(t,o,p,C,new l,n,h)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const q2e=/^([0-9])/,W2e=/[^a-z0-9_\u0080-\uffff]/gi,K2e=/_{2,}/g,Y2e=/^_/,J2e=/_$/;function Z2e(e){return e==null?null:e.trim().replace(W2e,"_").replace(K2e,"_").replace(Y2e,"").replace(J2e,"").replace(q2e,"F$1")||null}const Q2e=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],X2e=["field","normalizationField"];function _j(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(xj(Q2e,i,t),"visualVariables"in i&&i.visualVariables)for(const n of i.visualVariables)xj(X2e,n,t)}}function xj(e,t,i){if(e)for(const n of e){const r=S_(n,t),s=r&&typeof r!="function"&&i.get(r);s&&fr(n,s.name,t)}}function pX(e,t){var i;if(e!=null&&((i=t==null?void 0:t.fields)!=null&&i.length))if("startField"in e){const n=t.get(e.startField),r=t.get(e.endField);e.startField=(n==null?void 0:n.name)??null,e.endField=(r==null?void 0:r.name)??null}else{const n=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=(n==null?void 0:n.name)??null,e.endTimeField=(r==null?void 0:r.name)??null}}const rA=new Set;function fX(e,t){return e&&t?(rA.clear(),Fw(rA,e,t),Array.from(rA).sort()):[]}function Fw(e,t,i){var n;if(i)if((n=t==null?void 0:t.fields)!=null&&n.length)if(i.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of i)Ws(e,t,r);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const r of i)r!=null&&e.add(r)}}function Ws(e,t,i){if(typeof i=="string")if(t){const n=t.get(i);n&&e.add(n.name)}else e.add(i)}function DGe(e,t){return j(t)||j(e)?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}async function jr(e,t,i){var s;if(!i)return;const{arcadeUtils:n}=await wu(),r=n.extractFieldNames(i,(s=t==null?void 0:t.fields)==null?void 0:s.map(a=>a.name));for(const a of r)Ws(e,t,a)}async function mX(e,t,i){if(i&&i!=="1=1"){const n=(await H(()=>import("./WhereClause.js").then(r=>r.W),["WhereClause.js","executionError.js"])).WhereClause.create(i,t);if(!n.isStandardized)throw new N("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});Fw(e,t,n.fieldNames)}}function eEe({displayField:e,fields:t}){return e||(t&&t.length?sA(t,"name-or-title")||sA(t,"unique-identifier")||sA(t,"type-or-category")||tEe(t):null)}function tEe(e){for(const t of e){if(!t||!t.name)continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function sA(e,t){for(const i of e)if(i&&i.valueType&&i.valueType===t)return i.name;return null}async function OGe(e,t){var n;if(!t)return;const i=(n=t.elevationInfo)==null?void 0:n.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function iEe(e,t,i){i.onStatisticExpression?jr(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function RGe(e,t,i){if(!t||!i||!("fields"in i))return;const n=[],r=i.popupTemplate;n.push(nEe(e,t,r)),i.fields&&n.push(...i.fields.map(async s=>iEe(e,t.fieldsIndex,s))),await Promise.all(n)}async function nEe(e,t,i){const n=[];i!=null&&i.expressionInfos&&n.push(...i.expressionInfos.map(s=>jr(e,t.fieldsIndex,s.expression)));const r=i==null?void 0:i.content;if(Array.isArray(r))for(const s of r)s.type==="expression"&&s.expressionInfo&&n.push(jr(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(n)}async function PGe(e,t,i){t&&(t.timeInfo&&$(i)&&i.timeExtent&&Fw(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Fw(e,t.fieldsIndex,[t.floorInfo.floorField]),$(i)&&$(i.where)&&await mX(e,t.fieldsIndex,i.where))}async function LGe(e,t,i){t&&i&&await Promise.all(i.map(n=>rEe(e,t,n)))}async function rEe(e,t,i){t&&i&&(i.valueExpression?await jr(e,t.fieldsIndex,i.valueExpression):i.field&&Ws(e,t.fieldsIndex,i.field))}function FGe(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;return t?fX(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}async function NGe(e,t){const{labelingInfo:i,fieldsIndex:n}=t;i&&i.length&&await Promise.all(i.map(r=>sEe(e,n,r)))}async function sEe(e,t,i){if(!i)return;const n=i.getLabelExpression(),r=i.where;if(n.type==="arcade")await jr(e,t,n.expression);else{const s=n.expression.match(/{[^}]*}/g);s&&s.forEach(a=>{Ws(e,t,a.slice(1,-1))})}await mX(e,t,r)}function aEe(e){const t=e.defaultValue;return t!==void 0&&vX(e,t)?t:e.nullable?null:void 0}function gX(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function oEe(e){return e===null||gX(e)}const rN="isInteger"in Number?Number.isInteger:e=>typeof e=="number"&&isFinite(e)&&Math.floor(e)===e;function lEe(e){return e===null||rN(e)}function yX(e){return e!=null&&typeof e=="string"}function cEe(e){return e===null||yX(e)}function uEe(){return!0}function vX(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":i=e.nullable?lEe:rN;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?oEe:gX;break;case"string":case"esriFieldTypeString":i=e.nullable?cEe:yX;break;default:i=uEe}return arguments.length===1?i:i(t)}const dEe=["integer","small-integer","single","double"],hEe=new Set([...dEe,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function sN(e){return e!=null&&hEe.has(e.type)}function zGe(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}var Qk,Xk;function VGe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function jGe(e,t){return e==null||e.nullable&&t===null?null:sN(e)&&!pEe(e.type,Number(t))?Qk.OUT_OF_RANGE:vX(e,t)?e.domain?B2e(e.domain,t):null:Xk.INVALID_TYPE}function pEe(e,t){const i=typeof e=="string"?bX(e):e;if(!i)return!1;const n=i.min,r=i.max;return i.isInteger?rN(t)&&t>=n&&t<=r:t>=n&&t<=r}function bX(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return fEe;case"esriFieldTypeInteger":case"integer":return mEe;case"esriFieldTypeSingle":case"single":return gEe;case"esriFieldTypeDouble":case"double":return yEe}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(Qk||(Qk={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(Xk||(Xk={}));const fEe={min:-32768,max:32767,isInteger:!0},mEe={min:-2147483648,max:2147483647,isInteger:!0},gEe={min:-34e37,max:12e37,isInteger:!1},yEe={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function UGe(e,t,i){switch(e){case y0.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case y0.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Xk.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case Qk.OUT_OF_RANGE:{const{min:n,max:r}=bX(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${r}`}}}function vEe(e,t){return!bEe(e,t,null)}function bEe(e,t,i){if(!t||!t.attributes||!e){if($(i))for(const s of e??[])i.add(s);return!0}const n=t.attributes;let r=!1;for(const s of e)if(!(s in n)){if(r=!0,!$(i))break;i.add(s)}return r}function wX(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}let x2=class extends W{constructor(t){super(t),this.type=null}};u([d({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],x2.prototype,"type",void 0),x2=u([I("esri.popup.content.Content")],x2);const Gh=x2;var PD;let wp=PD=class extends Gh{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new PD({description:this.description,displayType:this.displayType,title:this.title})}};u([d({type:String,json:{write:!0}})],wp.prototype,"description",void 0),u([d({type:["auto","preview","list"],json:{write:!0}})],wp.prototype,"displayType",void 0),u([d({type:String,json:{write:!0}})],wp.prototype,"title",void 0),u([d({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],wp.prototype,"type",void 0),wp=PD=u([I("esri.popup.content.AttachmentsContent")],wp);const Nw=wp;var LD;let _p=LD=class extends Gh{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new LD({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?z(this.outFields):null})}};u([d()],_p.prototype,"creator",void 0),u([d()],_p.prototype,"destroyer",void 0),u([d()],_p.prototype,"outFields",void 0),u([d({type:["custom"],readOnly:!0})],_p.prototype,"type",void 0),_p=LD=u([I("esri.popup.content.CustomContent")],_p);const wEe=_p;var FD;let vg=FD=class extends W{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new FD({title:this.title,expression:this.expression})}};u([d({type:String,json:{write:!0}})],vg.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],vg.prototype,"expression",void 0),u([d({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],vg.prototype,"returnType",void 0),vg=FD=u([I("esri.popup.ElementExpressionInfo")],vg);const _X=vg;var ND;let fb=ND=class extends Gh{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new ND({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};u([d({type:_X,json:{write:!0}})],fb.prototype,"expressionInfo",void 0),u([d({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],fb.prototype,"type",void 0),fb=ND=u([I("esri.popup.content.ExpressionContent")],fb);const aN=fb;function xe(e,t={}){const i=e instanceof nt?e:new nt(e,t),n={type:(t==null?void 0:t.ignoreUnknown)??1?i.apiValues:String,json:{type:i.jsonValues,read:!(t!=null&&t.readOnly)&&{reader:i.read},write:{writer:i.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(n.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(n.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(n.json.name=t.name),(t==null?void 0:t.nonNullable)!==void 0&&(n.nonNullable=t.nonNullable),d(n)}const zw=qn()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});zw.toJSON.bind(zw);zw.fromJSON.bind(zw);let N1;var Eq,kq;const _Ee=((Eq=globalThis.esriConfig)==null?void 0:Eq.locale)??((kq=globalThis.dojoConfig)==null?void 0:kq.locale);function xX(){var e;return _Ee??((e=globalThis.navigator)==null?void 0:e.language)??"en"}function Wa(){return N1===void 0&&(N1=xX()),N1}const z1=[];function SX(e){return z1.push(e),{remove(){z1.splice(z1.indexOf(e),1)}}}const zD=[];function oN(e){return zD.push(e),{remove(){z1.splice(zD.indexOf(e),1)}}}function xEe(){const e=xX();N1!==e&&(N1=e,[...zD].forEach(t=>{t.call(null,e)}),[...z1].forEach(t=>{t.call(null,e)}))}var Iq;(Iq=globalThis.addEventListener)==null||Iq.call(globalThis,"languagechange",xEe);const hl={year:"numeric",month:"numeric",day:"numeric"},Pv={year:"numeric",month:"long",day:"numeric"},Lv={year:"numeric",month:"short",day:"numeric"},Fv={year:"numeric",month:"long",weekday:"long",day:"numeric"},va={hour:"numeric",minute:"numeric"},mo={...va,second:"numeric"},lN={"short-date":hl,"short-date-short-time":{...hl,...va},"short-date-short-time-24":{...hl,...va,hour12:!1},"short-date-long-time":{...hl,...mo},"short-date-long-time-24":{...hl,...mo,hour12:!1},"short-date-le":hl,"short-date-le-short-time":{...hl,...va},"short-date-le-short-time-24":{...hl,...va,hour12:!1},"short-date-le-long-time":{...hl,...mo},"short-date-le-long-time-24":{...hl,...mo,hour12:!1},"long-month-day-year":Pv,"long-month-day-year-short-time":{...Pv,...va},"long-month-day-year-short-time-24":{...Pv,...va,hour12:!1},"long-month-day-year-long-time":{...Pv,...mo},"long-month-day-year-long-time-24":{...Pv,...mo,hour12:!1},"day-short-month-year":Lv,"day-short-month-year-short-time":{...Lv,...va},"day-short-month-year-short-time-24":{...Lv,...va,hour12:!1},"day-short-month-year-long-time":{...Lv,...mo},"day-short-month-year-long-time-24":{...Lv,...mo,hour12:!1},"long-date":Fv,"long-date-short-time":{...Fv,...va},"long-date-short-time-24":{...Fv,...va,hour12:!1},"long-date-long-time":{...Fv,...mo},"long-date-long-time-24":{...Fv,...mo,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":va,"long-time":mo},Vw=qn()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});Vw.apiValues;Vw.toJSON.bind(Vw);Vw.fromJSON.bind(Vw);const SEe={ar:"ar-u-nu-latn-ca-gregory"};let VD=new WeakMap,EX=lN["short-date-short-time"];function EEe(e){const t=e||EX;let i=VD.get(t);if(!i){const n=Wa(),r=SEe[Wa()]||n;i=new Intl.DateTimeFormat(r,t),VD.set(t,i)}return i}function cN(e){return e?lN[e]:null}function _u(e,t){return EEe(t).format(e)}oN(()=>{VD=new WeakMap,EX=lN["short-date-short-time"]});const kEe={ar:"ar-u-nu-latn"};let S2=new WeakMap,kX={};function IEe(e){const t=e||kX;if(!S2.has(t)){const i=Wa(),n=kEe[Wa()]||i;S2.set(t,new Intl.NumberFormat(n,e))}return S2.get(t)}function IX(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function Mh(e,t){return e===-0&&(e=0),IEe(t).format(e)}oN(()=>{S2=new WeakMap,kX={}});var jD;let xp=jD=class extends W{constructor(e){super(e),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new jD({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(e){return this.dateFormat?_u(e,{...cN(this.dateFormat),...this.dateTimeFormatOptions}):Mh(e,IX(this))}formatRasterPixelValue(e){if(e.includes("-"))return e;let t,i;return e.trim().includes(",")?(t=",",i=t+" ",this._formatDelimitedString(e,t,i,this)):e.trim().includes(";")?(t=";",i=t+" ",this._formatDelimitedString(e,t,i,this)):e.trim().includes(" ")?(t=i=" ",this._formatDelimitedString(e,t,i,this)):this.format(Number(e))}_formatDelimitedString(e,t,i,n){return e&&t&&i&&n?e.trim().split(t).map(r=>this.format(Number(r))).join(i):e}};u([xe(zw)],xp.prototype,"dateFormat",void 0),u([d({type:Object,json:{read:!1}})],xp.prototype,"dateTimeFormatOptions",void 0),u([d({type:Boolean,json:{write:!0}})],xp.prototype,"digitSeparator",void 0),u([d({type:Nt,json:{write:!0}})],xp.prototype,"places",void 0),xp=jD=u([I("esri.popup.support.FieldInfoFormat")],xp);const fy=xp;var UD;let _o=UD=class extends W{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new UD({fieldName:this.fieldName,format:this.format?z(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};u([d({type:String,json:{write:!0}})],_o.prototype,"fieldName",void 0),u([d({type:fy,json:{write:!0}})],_o.prototype,"format",void 0),u([d({type:Boolean,json:{write:!0,default:!1}})],_o.prototype,"isEditable",void 0),u([d({type:String,json:{write:!0}})],_o.prototype,"label",void 0),u([xe(new nt({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],_o.prototype,"stringFieldOption",void 0),u([d({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],_o.prototype,"statisticType",void 0),u([d({type:String,json:{write:!0}})],_o.prototype,"tooltip",void 0),u([d({type:Boolean,json:{write:!0}})],_o.prototype,"visible",void 0),_o=UD=u([I("esri.popup.FieldInfo")],_o);const $_=_o;var BD;let wc=BD=class extends Gh{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new BD(z({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};u([d({type:Object,json:{write:!0}})],wc.prototype,"attributes",void 0),u([d({type:String,json:{write:!0}})],wc.prototype,"description",void 0),u([d({type:[$_]})],wc.prototype,"fieldInfos",void 0),u([ue("fieldInfos")],wc.prototype,"writeFieldInfos",null),u([d({type:String,json:{write:!0}})],wc.prototype,"title",void 0),u([d({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],wc.prototype,"type",void 0),wc=BD=u([I("esri.popup.content.FieldsContent")],wc);const v0=wc;let Sp=class extends W{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};u([d({type:String,json:{write:!0}})],Sp.prototype,"altText",void 0),u([d({type:String,json:{write:!0}})],Sp.prototype,"caption",void 0),u([d({type:String,json:{write:!0}})],Sp.prototype,"title",void 0),u([d({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Sp.prototype,"type",void 0),Sp=u([I("esri.popup.content.mixins.MediaInfo")],Sp);const uN=Sp;var HD;let bg=HD=class extends ve{constructor(e){super(e),this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new HD({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};u([d()],bg.prototype,"fieldName",void 0),u([d()],bg.prototype,"tooltip",void 0),u([d()],bg.prototype,"value",void 0),bg=HD=u([I("esri.popup.content.support.ChartMediaInfoValueSeries")],bg);const CX=bg;var GD;let Ep=GD=class extends W{constructor(e){super(e),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new GD({fields:z(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};u([d({type:[String],json:{write:!0}})],Ep.prototype,"fields",void 0),u([d({type:String,json:{write:!0}})],Ep.prototype,"normalizeField",void 0),u([d({type:[CX],json:{read:!1}})],Ep.prototype,"series",void 0),u([d({type:String,json:{write:!0}})],Ep.prototype,"tooltipField",void 0),Ep=GD=u([I("esri.popup.content.support.ChartMediaInfoValue")],Ep);const CEe=Ep;let mb=class extends uN{constructor(t){super(t),this.type=null,this.value=null}};u([d({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],mb.prototype,"type",void 0),u([d({type:CEe,json:{write:!0}})],mb.prototype,"value",void 0),mb=u([I("esri.popup.content.mixins.ChartMediaInfo")],mb);const jC=mb,UC=qn()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var qD;let E2=qD=class extends jC{constructor(e){super(e),this.type="bar-chart"}clone(){return new qD({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([d({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:UC.write}})],E2.prototype,"type",void 0),E2=qD=u([I("esri.popup.content.BarChartMediaInfo")],E2);const TX=E2;var WD;let k2=WD=class extends jC{constructor(e){super(e),this.type="column-chart"}clone(){return new WD({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([d({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:UC.write}})],k2.prototype,"type",void 0),k2=WD=u([I("esri.popup.content.ColumnChartMediaInfo")],k2);const $X=k2;var KD;let gb=KD=class extends W{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new KD({linkURL:this.linkURL,sourceURL:this.sourceURL})}};u([d({type:String,json:{write:!0}})],gb.prototype,"linkURL",void 0),u([d({type:String,json:{write:!0}})],gb.prototype,"sourceURL",void 0),gb=KD=u([I("esri.popup.content.support.ImageMediaInfoValue")],gb);const TEe=gb;var YD;let wg=YD=class extends uN{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new YD({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};u([d({type:Number,json:{write:!0}})],wg.prototype,"refreshInterval",void 0),u([d({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],wg.prototype,"type",void 0),u([d({type:TEe,json:{write:!0}})],wg.prototype,"value",void 0),wg=YD=u([I("esri.popup.content.ImageMediaInfo")],wg);const AX=wg;var JD;let I2=JD=class extends jC{constructor(e){super(e),this.type="line-chart"}clone(){return new JD({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([d({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:UC.write}})],I2.prototype,"type",void 0),I2=JD=u([I("esri.popup.content.LineChartMediaInfo")],I2);const MX=I2;var ZD;let C2=ZD=class extends jC{constructor(e){super(e),this.type="pie-chart"}clone(){return new ZD({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([d({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:UC.write}})],C2.prototype,"type",void 0),C2=ZD=u([I("esri.popup.content.PieChartMediaInfo")],C2);const DX=C2,OX={base:uN,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":TX,"column-chart":$X,"line-chart":MX,"pie-chart":DX,image:AX}};var QD;let xo=QD=class extends Gh{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?AX.fromJSON(t):t.type==="barchart"?TX.fromJSON(t):t.type==="columnchart"?$X.fromJSON(t):t.type==="linechart"?MX.fromJSON(t):t.type==="piechart"?DX.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new QD(z({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};u([d()],xo.prototype,"activeMediaInfoIndex",void 0),u([d({type:Object,json:{write:!0}})],xo.prototype,"attributes",void 0),u([d({type:String,json:{write:!0}})],xo.prototype,"description",void 0),u([d({types:[OX]})],xo.prototype,"mediaInfos",void 0),u([ee("mediaInfos")],xo.prototype,"readMediaInfos",null),u([ue("mediaInfos")],xo.prototype,"writeMediaInfos",null),u([d({type:String,json:{write:!0}})],xo.prototype,"title",void 0),u([d({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],xo.prototype,"type",void 0),xo=QD=u([I("esri.popup.content.MediaContent")],xo);const jw=xo;var XD;let yb=XD=class extends W{constructor(e){super(e),this.field=null,this.order=null}clone(){return new XD({field:this.field,order:this.order})}};u([d({type:String,json:{write:!0}})],yb.prototype,"field",void 0),u([d({type:["asc","desc"],json:{write:!0}})],yb.prototype,"order",void 0),yb=XD=u([I("esri.popup.support.RelatedRecordsInfoFieldOrder")],yb);const dN=yb;let gl=class extends Wt(Gh){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};u([d({type:String,json:{write:!0}})],gl.prototype,"description",void 0),u([d({type:Number,json:{type:Nt,write:!0}})],gl.prototype,"displayCount",void 0),u([d({type:["list"],json:{write:!0}})],gl.prototype,"displayType",void 0),u([d({type:[dN],json:{write:!0}})],gl.prototype,"orderByFields",void 0),u([d({type:Number,json:{type:Nt,write:!0}})],gl.prototype,"relationshipId",void 0),u([d({type:String,json:{write:!0}})],gl.prototype,"title",void 0),u([d({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],gl.prototype,"type",void 0),gl=u([I("esri.popup.content.RelationshipContent")],gl);const eI=gl;var eO;let vb=eO=class extends Gh{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new eO({text:this.text})}};u([d({type:String,json:{write:!0}})],vb.prototype,"text",void 0),u([d({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],vb.prototype,"type",void 0),vb=eO=u([I("esri.popup.content.TextContent")],vb);const b0=vb,$Ee={base:null,key:"type",typeMap:{attachment:Nw,media:jw,text:b0,expression:aN,field:v0,relationship:eI}};var tO;let kp=tO=class extends W{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new tO({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([d({type:String,json:{write:!0}})],kp.prototype,"name",void 0),u([d({type:String,json:{write:!0}})],kp.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],kp.prototype,"expression",void 0),u([d({type:["string","number"],json:{write:!0}})],kp.prototype,"returnType",void 0),kp=tO=u([I("esri.popup.ExpressionInfo")],kp);const RX=kp;var iO;let bb=iO=class extends W{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new iO({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};u([d({type:Boolean,json:{write:!0}})],bb.prototype,"returnTopmostRaster",void 0),u([d({type:Boolean,json:{write:!0}})],bb.prototype,"showNoDataRecords",void 0),bb=iO=u([I("esri.popup.LayerOptions")],bb);const AEe=bb;var nO;let wb=nO=class extends W{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new nO({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?z(this.orderByFields):null})}};u([d({type:Boolean,json:{write:!0}})],wb.prototype,"showRelatedRecords",void 0),u([d({type:[dN],json:{write:!0}})],wb.prototype,"orderByFields",void 0),wb=nO=u([I("esri.popup.RelatedRecordsInfo")],wb);const MEe=wb;let PX=0;const A_=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+PX++})}};return t=u([I("esri.core.Identifiable")],t),t},hN=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:PX++})}};return t=u([I("esri.core.NumericIdentifiable")],t),t};let Sj=class extends A_(class{}){};Sj=u([I("esri.core.Identifiable")],Sj);var rO;let So=rO=class extends A_(ve){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new rO({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};u([d()],So.prototype,"active",void 0),u([d()],So.prototype,"className",void 0),u([d()],So.prototype,"disabled",void 0),u([d()],So.prototype,"id",void 0),u([d()],So.prototype,"indicator",void 0),u([d()],So.prototype,"title",void 0),u([d()],So.prototype,"type",void 0),u([d()],So.prototype,"visible",void 0),So=rO=u([I("esri.support.actions.ActionBase")],So);const BC=So;var sO;let T2=sO=class extends BC{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new sO({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};u([d()],T2.prototype,"image",void 0),T2=sO=u([I("esri.support.Action.ActionButton")],T2);const H0=T2;var aO;let _b=aO=class extends BC{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new aO({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};u([d()],_b.prototype,"image",void 0),u([d()],_b.prototype,"value",void 0),_b=aO=u([I("esri.support.Action.ActionToggle")],_b);const LX=_b,DEe="esri.PopupTemplate",OEe=Y.getLogger(DEe),Nv="relationships/",Ej="expression/",REe=Ie.ofType({key:"type",defaultKeyValue:"button",base:BC,typeMap:{button:H0,toggle:LX}}),PEe={base:Gh,key:"type",typeMap:{media:jw,custom:wEe,text:b0,attachments:Nw,fields:v0,expression:aN,relationship:eI}},LEe=["attachments","fields","media","text","expression","relationship"];let on=class extends Wt(W){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>tc(PEe,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Ou(t)?t:(OEe.error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:n}=i;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,n):this._readPopupInfo(i)}writeContent(t,i,n,r){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(s=>LEe.includes(s.type)).map(s=>s&&s.toJSON(r)),i.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(i):s.type==="media"?this._writeMediaContent(s,i):s.type==="text"?this._writeTextContent(s,i):s.type==="relationship"&&this._writeRelationshipContent(s,i)})):i.description=t}writeFieldInfos(t,i,n,r){const{content:s}=this,a=Array.isArray(s)?s:null;if(t){const o=a?a.filter(c=>c.type==="fields"):[],l=o.length&&o.every(c=>{var h;return(h=c.fieldInfos)==null?void 0:h.length});i.fieldInfos=t.filter(Boolean).map(c=>{const h=c.toJSON(r);return l&&(h.visible=!1),h})}if(a)for(const o of a)o.type==="fields"&&this._writeFieldsContent(o,i)}writeLayerOptions(t,i,n,r){i[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(r)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,[...n,...this._getContentExpressionInfos(this.content,n)]),Fw(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const i=new Set;return await this.collectRequiredFields(i,t),[...i].sort()}_writeFieldsContent(t,i){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const n=z(t.fieldInfos);Array.isArray(i.fieldInfos)?n.forEach(r=>{const s=i.fieldInfos.find(a=>a.fieldName.toLowerCase()===r.fieldName.toLowerCase());s?s.visible=!0:i.fieldInfos.push(r)}):i.fieldInfos=n}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){var s,a;const n=((s=t.orderByFields)==null?void 0:s.map(o=>this._toFieldOrderJSON(o,t.relationshipId)))||[],r=[...((a=i.relatedRecordsInfo)==null?void 0:a.orderByFields)||[],...n];i.relatedRecordsInfo={showRelatedRecords:!0,...(r==null?void 0:r.length)&&{orderByFields:r}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=z(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...n]:i.mediaInfos=n}_readPopupInfoElements(t,i,n){const r={description:!1,mediaInfos:!1};return n.map(s=>s.type==="media"?(s.mediaInfos||!i||r.mediaInfos||(s.mediaInfos=i,r.mediaInfos=!0),jw.fromJSON(s)):s.type==="text"?(s.text||!t||r.description||(s.text=t,r.description=!0),b0.fromJSON(s)):s.type==="attachments"?Nw.fromJSON(s):s.type==="fields"?v0.fromJSON(s):s.type==="expression"?aN.fromJSON(s):s.type==="relationship"?eI.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:n}=t;if(!(i!=null&&i.startsWith(Nv)))return null;const r=i.replace(Nv,"").split("/");if(r.length!==2)return null;const s=parseInt(r[0],10),a=r[1];return typeof s=="number"&&a?eI.fromJSON({relationshipId:s,orderByFields:[{field:a,order:n}]}):null}_toFieldOrderJSON(t,i){const{order:n,field:r}=t;return{field:`${Nv}${i}/${r}`,order:n}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:n,relatedRecordsInfo:r={showRelatedRecords:!1}}){const s=[];t?s.push(new b0({text:t})):s.push(new v0),Array.isArray(i)&&i.length&&s.push(jw.fromJSON({mediaInfos:i})),n&&s.push(Nw.fromJSON({displayType:"auto"}));const{showRelatedRecords:a,orderByFields:o}=r;return a&&(o!=null&&o.length)&&o.forEach(l=>{const c=this._toRelationshipContent(l);c&&s.push(c)}),s.length?s:t}_getContentElementFields(t){const i=t==null?void 0:t.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((r,s)=>[...r,...this._getMediaInfoFields(s)],[])]}return i==="text"?this._extractFieldNames(t.text):[]}_getMediaInfoFields(t){const{caption:i,title:n,value:r}=t,s=r||{},{fields:a,normalizeField:o,tooltipField:l,sourceURL:c,linkURL:h}=s,p=[...this._extractFieldNames(n),...this._extractFieldNames(i),...this._extractFieldNames(c),...this._extractFieldNames(h),...a??[]];return o&&p.push(o),l&&p.push(l),p}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((n,r)=>[...n,...r.type==="expression"&&r.expressionInfo?[r.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,n)=>[...i,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,i,n){n&&await Promise.all(n.map(r=>jr(t,i,r.expression)))}_getFieldInfoFields(t){return t?t.filter(i=>i.visible===void 0||!!i.visible).map(i=>i.fieldName).filter(i=>!i.startsWith(Nv)&&!i.startsWith(Ej)):[]}_getActionsFields(t){return t?t.toArray().reduce((i,n)=>[...i,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:i,title:n,type:r}=t,s=r==="button"||r==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(i),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){if(!t||typeof t!="string")return[];const i=/{[^}]*}/g,n=t.match(i);if(!n)return[];const r=/\{(\w+):.+\}/,s=n.filter(a=>!(a.indexOf(`{${Nv}`)===0||a.indexOf(`{${Ej}`)===0)).map(a=>a.replace(r,"{$1}"));return s?s.map(a=>a.slice(1,-1)):[]}};u([d({type:REe})],on.prototype,"actions",void 0),u([d()],on.prototype,"content",void 0),u([ct("content")],on.prototype,"castContent",null),u([ee("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],on.prototype,"readContent",null),u([ue("content",{popupElements:{type:Ie.ofType($Ee)},showAttachments:{type:Boolean},mediaInfos:{type:Ie.ofType(OX)},description:{type:String},relatedRecordsInfo:{type:MEe}})],on.prototype,"writeContent",null),u([d({type:[RX],json:{write:!0}})],on.prototype,"expressionInfos",void 0),u([d({type:[$_]})],on.prototype,"fieldInfos",void 0),u([ue("fieldInfos")],on.prototype,"writeFieldInfos",null),u([d({type:AEe})],on.prototype,"layerOptions",void 0),u([ue("layerOptions")],on.prototype,"writeLayerOptions",null),u([d({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],on.prototype,"lastEditInfoEnabled",void 0),u([d()],on.prototype,"outFields",void 0),u([d()],on.prototype,"overwriteActions",void 0),u([d()],on.prototype,"returnGeometry",void 0),u([d({json:{type:String}})],on.prototype,"title",void 0),u([ue("title")],on.prototype,"writeTitle",null),on=u([I("esri.PopupTemplate")],on);const M_=on,tI={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function FX(e){return tI[e]||tI[e.toLowerCase()]}function pN(e){return tI[e]??tI[e.toLowerCase()]}function FEe(e){return[...pN(e)]}function aA(e,t,i){i<0&&++i,i>1&&--i;const n=6*i;return n<1?e+(t-e)*n:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function NX(e,t,i,n=1){const r=(e%360+360)%360/360,s=i<=.5?i*(t+1):i+t-i*t,a=2*i-s;return[Math.round(255*aA(a,s,r+1/3)),Math.round(255*aA(a,s,r)),Math.round(255*aA(a,s,r-1/3)),n]}function NEe(e){const t=e.length>5,i=t?8:4,n=(1<<i)-1,r=t?1:17,s=t?e.length===9:e.length===5;let a=Number("0x"+e.substr(1));if(isNaN(a))return null;const o=[0,0,0,1];let l;return s&&(l=a&n,a>>=i,o[3]=r*l/255),l=a&n,a>>=i,o[2]=r*l,l=a&n,a>>=i,o[1]=r*l,l=a&n,a>>=i,o[0]=r*l,o}function sc(){return[0,0,0]}function zEe(e){return[e[0],e[1],e[2]]}function G0(e,t,i){return[e,t,i]}function VEe(e){const t=sc(),i=Math.min(3,e.length);for(let n=0;n<i;++n)t[n]=e[n];return t}function jEe(e,t){return new Float64Array(e,t,3)}function zX(){return sc()}function VX(){return G0(1,1,1)}function jX(){return G0(1,0,0)}function UX(){return G0(0,1,0)}function BX(){return G0(0,0,1)}const UEe=zX(),HX=VX(),BEe=jX(),HEe=UX(),GEe=BX();Object.freeze(Object.defineProperty({__proto__:null,ONES:HX,UNIT_X:BEe,UNIT_Y:HEe,UNIT_Z:GEe,ZEROS:UEe,clone:zEe,create:sc,createView:jEe,fromArray:VEe,fromValues:G0,ones:VX,unitX:jX,unitY:UX,unitZ:BX,zeros:zX},Symbol.toStringTag,{value:"Module"}));let fN=1e-6;function ao(){return fN}function qEe(e){fN=e}const HC=Math.random,WEe=Math.PI/180,KEe=180/Math.PI;function mN(e){return e*WEe}function YEe(e){return e*KEe}function JEe(e,t){return Math.abs(e-t)<=fN*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:HC,equals:JEe,getEpsilon:ao,setEpsilon:qEe,toDegree:YEe,toRadian:mN},Symbol.toStringTag,{value:"Module"}));function gN(e){const t=e[0],i=e[1],n=e[2];return Math.sqrt(t*t+i*i+n*n)}function oO(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function GX(e,t,i,n){return e[0]=t,e[1]=i,e[2]=n,e}function ZEe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function qX(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function WX(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function KX(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function QEe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function XEe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function eke(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function tke(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function ike(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function nke(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function rke(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function YX(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function ske(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e}function JX(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(i*i+n*n+r*r)}function ZX(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return i*i+n*n+r*r}function QX(e){const t=e[0],i=e[1],n=e[2];return t*t+i*i+n*n}function ake(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function oke(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function lO(e,t){const i=t[0],n=t[1],r=t[2];let s=i*i+n*n+r*r;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function XX(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function lke(e,t,i){const n=t[0],r=t[1],s=t[2],a=i[0],o=i[1],l=i[2];return e[0]=r*l-s*o,e[1]=s*a-n*l,e[2]=n*o-r*a,e}function cke(e,t,i,n){const r=t[0],s=t[1],a=t[2];return e[0]=r+n*(i[0]-r),e[1]=s+n*(i[1]-s),e[2]=a+n*(i[2]-a),e}function uke(e,t,i,n,r,s){const a=s*s,o=a*(2*s-3)+1,l=a*(s-2)+s,c=a*(s-1),h=a*(3-2*s);return e[0]=t[0]*o+i[0]*l+n[0]*c+r[0]*h,e[1]=t[1]*o+i[1]*l+n[1]*c+r[1]*h,e[2]=t[2]*o+i[2]*l+n[2]*c+r[2]*h,e}function dke(e,t,i,n,r,s){const a=1-s,o=a*a,l=s*s,c=o*a,h=3*s*o,p=3*l*a,m=l*s;return e[0]=t[0]*c+i[0]*h+n[0]*p+r[0]*m,e[1]=t[1]*c+i[1]*h+n[1]*p+r[1]*m,e[2]=t[2]*c+i[2]*h+n[2]*p+r[2]*m,e}function hke(e,t){t=t||1;const i=HC,n=2*i()*Math.PI,r=2*i()-1,s=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*s,e[1]=Math.sin(n)*s,e[2]=r*t,e}function pke(e,t,i){const n=t[0],r=t[1],s=t[2];return e[0]=i[0]*n+i[4]*r+i[8]*s+i[12],e[1]=i[1]*n+i[5]*r+i[9]*s+i[13],e[2]=i[2]*n+i[6]*r+i[10]*s+i[14],e}function fke(e,t,i){const n=t[0],r=t[1],s=t[2];return e[0]=n*i[0]+r*i[3]+s*i[6],e[1]=n*i[1]+r*i[4]+s*i[7],e[2]=n*i[2]+r*i[5]+s*i[8],e}function mke(e,t,i){const n=i[0],r=i[1],s=i[2],a=i[3],o=t[0],l=t[1],c=t[2];let h=r*c-s*l,p=s*o-n*c,m=n*l-r*o,g=r*m-s*p,y=s*h-n*m,b=n*p-r*h;const w=2*a;return h*=w,p*=w,m*=w,g*=2,y*=2,b*=2,e[0]=o+h+g,e[1]=l+p+y,e[2]=c+m+b,e}function gke(e,t,i,n){const r=[],s=[];return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],s[0]=r[0],s[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),s[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),e[0]=s[0]+i[0],e[1]=s[1]+i[1],e[2]=s[2]+i[2],e}function yke(e,t,i,n){const r=[],s=[];return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],s[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),s[1]=r[1],s[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),e[0]=s[0]+i[0],e[1]=s[1]+i[1],e[2]=s[2]+i[2],e}function vke(e,t,i,n){const r=[],s=[];return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],s[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),s[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),s[2]=r[2],e[0]=s[0]+i[0],e[1]=s[1]+i[1],e[2]=s[2]+i[2],e}function bke(e,t){oO(Kx,e),oO(Yx,t),lO(Kx,Kx),lO(Yx,Yx);const i=XX(Kx,Yx);return i>1?0:i<-1?Math.PI:Math.acos(i)}const Kx=sc(),Yx=sc();function wke(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function _ke(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function xke(e,t){if(e===t)return!0;const i=e[0],n=e[1],r=e[2],s=t[0],a=t[1],o=t[2],l=ao();return Math.abs(i-s)<=l*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-a)<=l*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=l*Math.max(1,Math.abs(r),Math.abs(o))}function Ske(e,t,i){const n=i[0]-t[0],r=i[1]-t[1],s=i[2]-t[2];let a=n*n+r*r+s*s;return a>0?(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=s*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const Eke=qX,kke=WX,Ike=KX,Cke=JX,Tke=ZX,$ke=gN,Ake=QX;Object.freeze(Object.defineProperty({__proto__:null,abs:eke,add:ZEe,angle:bke,bezier:dke,ceil:QEe,copy:oO,cross:lke,direction:Ske,dist:Cke,distance:JX,div:Ike,divide:KX,dot:XX,equals:xke,exactEquals:_ke,floor:XEe,hermite:uke,inverse:oke,len:$ke,length:gN,lerp:cke,max:nke,min:ike,mul:kke,multiply:WX,negate:ake,normalize:lO,random:hke,rotateX:gke,rotateY:yke,rotateZ:vke,round:rke,scale:YX,scaleAndAdd:ske,set:GX,sign:tke,sqrDist:Tke,sqrLen:Ake,squaredDistance:ZX,squaredLength:QX,str:wke,sub:Eke,subtract:qX,transformMat3:fke,transformMat4:pke,transformQuat:mke},Symbol.toStringTag,{value:"Module"}));function Mke(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Dke(e,t,i,n,r){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e}function Oke(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e}function eee(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function tee(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function iee(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function Rke(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Pke(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Lke(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e}function Fke(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e}function Nke(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function zke(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e}function Vke(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e}function nee(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(i*i+n*n+r*r+s*s)}function ree(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2],s=t[3]-e[3];return i*i+n*n+r*r+s*s}function see(e){const t=e[0],i=e[1],n=e[2],r=e[3];return Math.sqrt(t*t+i*i+n*n+r*r)}function aee(e){const t=e[0],i=e[1],n=e[2],r=e[3];return t*t+i*i+n*n+r*r}function jke(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function Uke(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function Bke(e,t){const i=t[0],n=t[1],r=t[2],s=t[3];let a=i*i+n*n+r*r+s*s;return a>0&&(a=1/Math.sqrt(a),e[0]=i*a,e[1]=n*a,e[2]=r*a,e[3]=s*a),e}function Hke(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function oee(e,t,i,n){const r=t[0],s=t[1],a=t[2],o=t[3];return e[0]=r+n*(i[0]-r),e[1]=s+n*(i[1]-s),e[2]=a+n*(i[2]-a),e[3]=o+n*(i[3]-o),e}function Gke(e,t){const i=HC;let n,r,s,a,o,l;t=t||1;do n=2*i()-1,r=2*i()-1,o=n*n+r*r;while(o>=1);do s=2*i()-1,a=2*i()-1,l=s*s+a*a;while(l>=1);const c=Math.sqrt((1-o)/l);return e[0]=t*n,e[1]=t*r,e[2]=t*s*c,e[3]=t*a*c,e}function qke(e,t,i){const n=t[0],r=t[1],s=t[2],a=t[3];return e[0]=i[0]*n+i[4]*r+i[8]*s+i[12]*a,e[1]=i[1]*n+i[5]*r+i[9]*s+i[13]*a,e[2]=i[2]*n+i[6]*r+i[10]*s+i[14]*a,e[3]=i[3]*n+i[7]*r+i[11]*s+i[15]*a,e}function Wke(e,t,i){const n=t[0],r=t[1],s=t[2],a=i[0],o=i[1],l=i[2],c=i[3],h=c*n+o*s-l*r,p=c*r+l*n-a*s,m=c*s+a*r-o*n,g=-a*n-o*r-l*s;return e[0]=h*c+g*-a+p*-l-m*-o,e[1]=p*c+g*-o+m*-a-h*-l,e[2]=m*c+g*-l+h*-o-p*-a,e[3]=t[3],e}function Kke(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function Yke(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Jke(e,t){const i=e[0],n=e[1],r=e[2],s=e[3],a=t[0],o=t[1],l=t[2],c=t[3],h=ao();return Math.abs(i-a)<=h*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-o)<=h*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-l)<=h*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(s-c)<=h*Math.max(1,Math.abs(s),Math.abs(c))}const Zke=eee,Qke=tee,Xke=iee,eIe=nee,tIe=ree,iIe=see,nIe=aee;Object.freeze(Object.defineProperty({__proto__:null,add:Oke,ceil:Rke,copy:Mke,dist:eIe,distance:nee,div:Xke,divide:iee,dot:Hke,equals:Jke,exactEquals:Yke,floor:Pke,inverse:Uke,len:iIe,length:see,lerp:oee,max:Fke,min:Lke,mul:Qke,multiply:tee,negate:jke,normalize:Bke,random:Gke,round:Nke,scale:zke,scaleAndAdd:Vke,set:Dke,sqrDist:tIe,sqrLen:nIe,squaredDistance:ree,squaredLength:aee,str:Kke,sub:Zke,subtract:eee,transformMat4:qke,transformQuat:Wke},Symbol.toStringTag,{value:"Module"}));const kj=new Float32Array(1);function YGe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function fs(e,t,i){return Math.min(Math.max(e,t),i)}function JGe(e){return(e&e-1)==0}function ZGe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function QGe(e,t,i){return e+(t-e)*i}function rIe(e){return e*Math.PI/180}function lee(e){return 180*e/Math.PI}function XGe(e){return Math.acos(fs(e,-1,1))}function cee(e){return Math.asin(fs(e,-1,1))}function oA(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}const iI=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function sIe(e){return iI.setFloat64(0,e),iI.getBigInt64(0)}function aIe(e){return iI.setBigInt64(0,e),iI.getFloat64(0)}const lA=BigInt("1000000");oIe(1);function oIe(e){const t=sIe(e=Math.abs(e)),i=aIe(t<=lA?lA:t-lA);return Math.abs(e-i)}function eqe(e){return uee(Math.max(-Ij,Math.min(e,Ij)))}function uee(e){return kj[0]=e,kj[0]}function tqe(e,t){const i=gN(e),n=cee(e[2]/i),r=Math.atan2(e[1]/i,e[0]/i);return GX(t,i,n,r),t}function iqe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(oA(t,1)&&oA(i,1)&&oA(n,1))}const Ij=uee(34028234663852886e22);function Jx(e){return fs(LF(e),0,255)}function Zx(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}let $2=class Fn{static blendColors(t,i,n,r=new Fn){return r.r=Math.round(t.r+(i.r-t.r)*n),r.g=Math.round(t.g+(i.g-t.g)*n),r.b=Math.round(t.b+(i.b-t.b)*n),r.a=t.a+(i.a-t.a)*n,r._sanitize()}static fromRgb(t,i){const n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){const r=n[2].split(/\s*,\s*/),s=n[1];if(s==="rgb"&&r.length===3||s==="rgba"&&r.length===4){const a=r[0];if(a.charAt(a.length-1)==="%"){const o=r.map(l=>2.56*parseFloat(l));return r.length===4&&(o[3]=parseFloat(r[3])),Fn.fromArray(o,i)}return Fn.fromArray(r.map(o=>parseFloat(o)),i)}if(s==="hsl"&&r.length===3||s==="hsla"&&r.length===4)return Fn.fromArray(NX(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3])),i)}return null}static fromHex(t,i=new Fn){if(t.length!==4&&t.length!==7||t[0]!=="#")return null;const n=t.length===4?4:8,r=(1<<n)-1;let s=Number("0x"+t.substr(1));return isNaN(s)?null:(["b","g","r"].forEach(a=>{const o=s&r;s>>=n,i[a]=n===4?17*o:o}),i.a=1,i)}static fromArray(t,i=new Fn){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const n=FX(t)?pN(t):null;return n&&Fn.fromArray(n,i)||Fn.fromRgb(t,i)||Fn.fromHex(t,i)}static fromJSON(t){return t&&new Fn([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return $(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return $(t)?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Fn.fromString(t,this):Array.isArray(t)?Fn.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Fn||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),i=this.g.toString(16),n=this.b.toString(16);return`#${t.length<2?"0"+t:t}${i.length<2?"0"+i:i}${n.length<2?"0"+n:n}`}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Fn.AlphaMode.ALWAYS){const i=Jx(this.r),n=Jx(this.g),r=Jx(this.b);return t===Fn.AlphaMode.ALWAYS||this.a!==1?[i,n,r,Jx(255*this.a)]:[i,n,r]}clone(){return new Fn(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return $(t)&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Zx(this.r,0,255)),this.g=Math.round(Zx(this.g,0,255)),this.b=Math.round(Zx(this.b,0,255)),this.a=Zx(this.a,0,1),this}_set(t,i,n,r){this.r=t,this.g=i,this.b=n,this.a=r}};$2.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}($2||($2={}));const de=$2,Cj=new nt({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let lIe=0,_g=class extends W{constructor(t){super(t),this.id="sym"+lIe++,this.type=null,this.color=new de([0,0,0,1])}readColor(t){return t&&t[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};u([d({type:Cj.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Cj.write}}})],_g.prototype,"type",void 0),u([d({type:de,json:{write:{allowNull:!0}}})],_g.prototype,"color",void 0),u([ee("color")],_g.prototype,"readColor",null),_g=u([I("esri.symbols.Symbol")],_g);const bs=_g;var cO;let od=cO=class extends bs{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){if(e)for(const i in e)t[i]=e[i]}async collectRequiredFields(e,t){var i;if(((i=this.data)==null?void 0:i.type)==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const r=n.map(s=>{const a=s.valueExpressionInfo;return jr(e,t,a.expression)});await Promise.all(r)}}}clone(){return new cO({data:z(this.data)})}hash(){return RF(JSON.stringify(this.data)).toString()}};u([d({json:{write:!1}})],od.prototype,"color",void 0),u([d({json:{write:!0}})],od.prototype,"data",void 0),u([ee("data",["symbol"])],od.prototype,"readData",null),u([ue("data",{})],od.prototype,"writeData",null),u([xe({CIMSymbolReference:"cim"},{readOnly:!0})],od.prototype,"type",void 0),od=cO=u([I("esri.symbols.CIMSymbol")],od);const D_=od;let xg=class extends W{constructor(t){super(t),this.enabled=!0,this.type=null}writeEnabled(t,i,n){t||(i[n]=t)}};u([d({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],xg.prototype,"enabled",void 0),u([ue("enabled")],xg.prototype,"writeEnabled",null),u([d({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],xg.prototype,"type",void 0),xg=u([I("esri.symbols.Symbol3DLayer")],xg);const ac=xg,cIe=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,uIe="screenUtils.toPt: input not recognized!",dee=96;function hee(e){return e?e/72*dee:0}function xu(e){return e?72*e/dee:0}function mt(e){if(typeof e=="string"){const t=e.match(cIe);if(t){const i=Number(t[1]),n=t[3]&&t[3].toLowerCase(),r=e.charAt(0)==="-",s=n==="px"?xu(i):i;return r?-s:s}return console.warn(uIe),null}return e}function Rr(e=0,t=0){return{x:e,y:t}}function sqe(e=0,t=0){return[e,t]}function GC(e){const t=LF(100*(1-e));return Math.max(0,Math.min(t,100))}function Uw(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function dIe(e,t){const i=t.transparency!=null?Uw(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new de([n[0]||0,n[1]||0,n[2]||0,i]):null}function hIe(e,t){t.color=e.toJSON().slice(0,3);const i=GC(e.a);i!==0&&(t.transparency=i)}const qh={type:de,json:{type:[Nt],default:null,read:{source:["color","transparency"],reader:dIe},write:{target:{color:{type:[Nt]},transparency:{type:Nt}},writer:hIe}}},ic={type:Number,cast:mt,json:{write:!0}};let Ip=class extends W{constructor(t){super(t),this.color=new de([0,0,0,1]),this.extensionLength=0,this.size=xu(1)}clone(){}cloneProperties(){return{color:z(this.color),size:this.size,extensionLength:this.extensionLength}}};u([d({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ip.prototype,"type",void 0),u([d(qh)],Ip.prototype,"color",void 0),u([d({...ic,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Ip.prototype,"extensionLength",void 0),u([d(ic)],Ip.prototype,"size",void 0),Ip=u([I("esri.symbols.edges.Edges3D")],Ip);const yN=Ip;var uO;let A2=uO=class extends yN{constructor(e){super(e),this.type="sketch"}clone(){return new uO(this.cloneProperties())}};u([xe({sketch:"sketch"},{readOnly:!0})],A2.prototype,"type",void 0),A2=uO=u([I("esri.symbols.edges.SketchEdges3D")],A2);const pIe=A2;var dO;let M2=dO=class extends yN{constructor(e){super(e),this.type="solid"}clone(){return new dO(this.cloneProperties())}};u([xe({solid:"solid"},{readOnly:!0})],M2.prototype,"type",void 0),M2=dO=u([I("esri.symbols.support.SolidEdges3D")],M2);const fIe=M2,pee={types:{key:"type",base:yN,typeMap:{solid:fIe,sketch:pIe}},json:{write:!0}};var hO;let Ks=hO=class extends W{constructor(e){super(e),this.color=null}clone(){const e={color:$(this.color)?this.color.clone():null};return new hO(e)}};u([d(qh)],Ks.prototype,"color",void 0),Ks=hO=u([I("esri.symbols.support.Symbol3DMaterial")],Ks);var pO;let ld=pO=class extends ac{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new pO({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:$(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};u([xe({Extrude:"extrude"},{readOnly:!0})],ld.prototype,"type",void 0),u([d({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],ld.prototype,"size",void 0),u([d({type:Ks,json:{write:!0}})],ld.prototype,"material",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ld.prototype,"castShadows",void 0),u([d(pee)],ld.prototype,"edges",void 0),ld=pO=u([I("esri.symbols.ExtrudeSymbol3DLayer")],ld);const fee=ld;let xb=class extends bs{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};u([xe({esriSLS:"simple-line"},{readOnly:!0})],xb.prototype,"type",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],xb.prototype,"width",void 0),xb=u([I("esri.symbols.LineSymbol")],xb);const mIe=xb,gIe=["begin","end","begin-end"],mee=["arrow","circle","square","diamond","cross","x"];var fO;let yl=fO=class extends W{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,n){t[i]=(n==null?void 0:n.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,n){(n==null?void 0:n.origin)==="web-map"||(t[i]=e)}clone(){return new fO({color:z(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};u([d({type:["begin","end","begin-end"],json:{write:!0}})],yl.prototype,"placement",void 0),u([xe({"line-marker":"line-marker"},{readOnly:!0}),d({json:{origins:{"web-map":{write:!1}}}})],yl.prototype,"type",void 0),u([d({type:mee})],yl.prototype,"style",void 0),u([ue("style")],yl.prototype,"writeStyle",null),u([d({type:de,value:null,json:{write:{allowNull:!0}}})],yl.prototype,"color",null),u([ee("color")],yl.prototype,"readColor",null),u([ue("color")],yl.prototype,"writeColor",null),yl=fO=u([I("esri.symbols.LineSymbolMarker")],yl);const yIe=yl;var mO;const cA=new nt({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let _c=mO=class extends mIe{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,n,r,s){if(e&&typeof e!="string")return e;const a={};return e!=null&&(a.style=e),t!=null&&(a.color=t),i!=null&&(a.width=mt(i)),n!=null&&(a.cap=n),r!=null&&(a.join=r),s!=null&&(a.miterLimit=mt(s)),a}clone(){var e;return new mO({color:z(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};u([xe({esriSLS:"simple-line"},{readOnly:!0})],_c.prototype,"type",void 0),u([d({type:cA.apiValues,json:{read:cA.read,write:cA.write}})],_c.prototype,"style",void 0),u([d({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null||i.origin==null)})}}})],_c.prototype,"cap",void 0),u([d({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null||i.origin==null)})}}})],_c.prototype,"join",void 0),u([d({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":yIe}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],_c.prototype,"marker",void 0),u([d({type:Number,json:{read:!1,write:!1}})],_c.prototype,"miterLimit",void 0),_c=mO=u([I("esri.symbols.SimpleLineSymbol")],_c);const ms=_c;let Sb=class extends bs{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};u([d({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ms}},json:{default:null,write:!0}})],Sb.prototype,"outline",void 0),u([d({type:["simple-fill","picture-fill"],readOnly:!0})],Sb.prototype,"type",void 0),Sb=u([I("esri.symbols.FillSymbol")],Sb);const gee=Sb;let D2=class extends W{constructor(t){super(t)}clone(){}};u([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],D2.prototype,"type",void 0),D2=u([I("esri.symbols.patterns.LinePattern3D")],D2);const yee=D2,vIe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var gO;const bIe=qn()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Eb=gO=class extends yee{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new gO(e)}};u([d({type:["style"]})],Eb.prototype,"type",void 0),u([xe(bIe),d({type:vIe})],Eb.prototype,"style",void 0),Eb=gO=u([I("esri.symbols.patterns.LineStylePattern3D")],Eb);const vN=Eb;let O2=class extends W{constructor(t){super(t)}clone(){}};u([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],O2.prototype,"type",void 0),O2=u([I("esri.symbols.patterns.Pattern3D")],O2);const vee=O2,wIe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var yO;let kb=yO=class extends vee{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new yO(e)}};u([d({type:["style"]})],kb.prototype,"type",void 0),u([d({type:wIe,json:{read:!0,write:!0}})],kb.prototype,"style",void 0),kb=yO=u([I("esri.symbols.patterns.StylePattern3D")],kb);const bee=kb,_Ie={types:{key:"type",base:vee,typeMap:{style:bee}},json:{write:!0}},wee={types:{key:"type",base:yee,typeMap:{style:vN}},json:{write:!0}},V1=new de("white");new de("black");const xIe=new de([255,255,255,0]);function SIe(e){return e.r===0&&e.g===0&&e.b===0}var vO;let j1=vO=class extends Ks{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:$(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new vO(e)}};u([xe({multiply:"multiply",replace:"replace",tint:"tint"})],j1.prototype,"colorMixMode",void 0),j1=vO=u([I("esri.symbols.support.Symbol3DFillMaterial")],j1);function Dh(e=TIe){return[e[0],e[1],e[2],e[3]]}function dqe(e){return[e[0],e[1],e[2],e[3]]}function _ee(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function EIe(e,t,i,n,r=Dh()){return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r}function hqe(e,t=Dh()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function pqe(e,t){return new Gt({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function fqe(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function mqe(e,t,i){if(j(t))_ee(i,e);else if("length"in t)bO(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}}function kIe(e){return j(e)||e[0]>=e[2]?0:e[2]-e[0]}function IIe(e){return e[1]>=e[3]?0:e[3]-e[1]}function gqe(e){return kIe(e)*IIe(e)}function yqe(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function vqe(e,t,i){return t[0]>=e[0]-i&&t[1]>=e[1]-i&&t[0]<=e[2]+i&&t[1]<=e[3]+i}function bqe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function CIe(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function wqe(e){return e?_ee(e,Tj):Dh(Tj)}function bO(e){return e!=null&&e.length===4}function _qe(e,t){return bO(e)&&bO(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const Tj=[1/0,1/0,-1/0,-1/0],TIe=[0,0,0,0];function bN(e=RIe){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function wN(e,t,i,n,r,s,a=bN()){return a[0]=e,a[1]=t,a[2]=i,a[3]=n,a[4]=r,a[5]=s,a}function xqe(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new Gt(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function Sqe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function Eqe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function $Ie(e){return e[0]>=e[3]?0:e[3]-e[0]}function AIe(e){return e[1]>=e[4]?0:e[4]-e[1]}function MIe(e){return e[2]>=e[5]?0:e[5]-e[2]}function kqe(e,t=[0,0,0]){return t[0]=$Ie(e),t[1]=AIe(e),t[2]=MIe(e),t}function Iqe(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function Cqe(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function DIe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Tqe(e){return e?DIe(e,$j):bN($j)}function $qe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function OIe(e,t,i,n,r){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=n,e[4]=r,e[5]=Number.POSITIVE_INFINITY,e}function wO(e){return e.length===6}function Aqe(e,t,i){if(j(e)||j(t))return e===t;if(!wO(e)||!wO(t))return!1;if(i){for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const $j=[1/0,1/0,1/0,-1/0,-1/0,-1/0],RIe=[0,0,0,0,0,0];bN();function Mqe(e,{isPrimitive:t,width:i,depth:n,height:r}){const s=t?10:1;if(i==null&&r==null&&n==null)return[s*e[0],s*e[1],s*e[2]];const a=G0(i,n,r);let o;for(let l=0;l<3;l++){const c=a[l];if(c!=null){o=c/e[l];break}}for(let l=0;l<3;l++)a[l]==null&&(a[l]=e[l]*o);return a}const PIe=wN(-.5,-.5,-.5,.5,.5,.5),LIe=wN(-.5,-.5,0,.5,.5,1),FIe=wN(-.5,-.5,0,.5,.5,.5);function Dqe(e){switch(e){case"sphere":case"cube":case"diamond":return PIe;case"cylinder":case"cone":case"inverted-cone":return LIe;case"tetrahedron":return FIe;default:return}}const _N=["butt","square","round"],NIe=[..._N,"none"],xee=["miter","bevel","round"];var _O;let Cp=_O=class extends W{constructor(e){super(e),this.color=new de([0,0,0,1]),this.size=xu(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:$(this.color)?this.color.clone():null,size:this.size,pattern:$(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new _O(e)}};u([d(qh)],Cp.prototype,"color",void 0),u([d(ic)],Cp.prototype,"size",void 0),u([d(wee)],Cp.prototype,"pattern",void 0),u([d({type:_N,json:{default:"butt",write:{overridePolicy(){return{enabled:$(this.pattern)}}}}})],Cp.prototype,"patternCap",void 0),Cp=_O=u([I("esri.symbols.support.Symbol3DOutline")],Cp);var R2;let xc=R2=class extends ac{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:$(this.edges)?this.edges.clone():null,enabled:this.enabled,material:$(this.material)?this.material.clone():null,pattern:$(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:$(this.outline)?this.outline.clone():null};return new R2(e)}static fromSimpleFillSymbol(e){var n,r,s;const t=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new vN({style:e.outline.style}):null,i={size:((n=e.outline)==null?void 0:n.width)??0,color:(((r=e.outline)==null?void 0:r.color)??V1).clone(),pattern:t};return t&&((s=e.outline)!=null&&s.cap)&&(i.patternCap=e.outline.cap),new R2({material:new j1({color:(e.color??xIe).clone()}),pattern:e.style&&e.style!=="solid"?new bee({style:e.style}):null,outline:i})}};u([xe({Fill:"fill"},{readOnly:!0})],xc.prototype,"type",void 0),u([d({type:j1,json:{write:!0}})],xc.prototype,"material",void 0),u([d(_Ie)],xc.prototype,"pattern",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],xc.prototype,"castShadows",void 0),u([d({type:Cp,json:{write:!0}})],xc.prototype,"outline",void 0),u([d(pee)],xc.prototype,"edges",void 0),xc=R2=u([I("esri.symbols.FillSymbol3DLayer")],xc);const O_=xc,zIe=["none","underline","line-through"],VIe=["normal","italic","oblique"],jIe=["normal","lighter","bold","bolder"],See={type:Number,cast:e=>{const t=Ra(e);return t===0?1:fs(t,.1,4)},nonNullable:!0},UIe=["left","right","center"],BIe=["baseline","top","middle","bottom"],Eee={type:UIe,nonNullable:!0},kee={type:BIe,nonNullable:!0};var xO;let Sc=xO=class extends W{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return mt(e)}clone(){return new xO({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};u([d({type:zIe,json:{default:"none",write:!0}})],Sc.prototype,"decoration",void 0),u([d({type:String,json:{write:!0}})],Sc.prototype,"family",void 0),u([d({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],Sc.prototype,"size",void 0),u([ct("size")],Sc.prototype,"castSize",null),u([d({type:VIe,json:{default:"normal",write:!0}})],Sc.prototype,"style",void 0),u([d({type:jIe,json:{default:"normal",write:!0}})],Sc.prototype,"weight",void 0),Sc=xO=u([I("esri.symbols.Font")],Sc);const qC=Sc,HIe=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,GIe={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function SO(e){const t=e==null?void 0:e.match(HIe);if(!t)return null;const[,i,n,r]=t;if(!i)return null;let s=null,a=null,o=null;const{devext:l,qaext:c,www:h}=GIe;if(n)if(s=i,r)switch(r.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:o}=l);break;case"qa":({customBaseUrl:a,portalHostname:o}=c);break;default:return null}else({customBaseUrl:a,portalHostname:o}=h);else switch(i.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:o}=l);break;case"qaext":({customBaseUrl:a,portalHostname:o}=c);break;case"www":({customBaseUrl:a,portalHostname:o}=h);break;default:return null}return{customBaseUrl:a,isPortal:!1,portalHostname:o,urlKey:s}}function qIe(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}const WIe=Y.getLogger("esri.core.urlUtils"),q0=ut.request,Aj="esri/config: esriConfig.request.proxyUrl is not set.",Iee=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Cee=/^\s*http:/i,KIe=/^\s*https:/i,YIe=/^\s*file:/i,JIe=/:\d+$/,ZIe=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,QIe=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),XIe=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");let Ny=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(QIe);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(XIe),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const Qx={},eCe=new Ny(ut.applicationUrl);let lr=eCe;const tCe=iCe();let xN=tCe;const SN=()=>lr,Tee=()=>xN;function iCe(){const e=lr.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${lr.scheme}://${lr.host}${lr.port!=null?`:${lr.port}`:""}`}${t}`}function Ti(e){if(!e)return null;const t={path:null,query:null},i=new Ny(e),n=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.substring(0,n),t.query=$ee(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.substring(0,t.path.length-(i.fragment.length+1)))),t}function $ee(e){const t=e.split("&"),i={};for(const n of t){if(!n)continue;const r=n.indexOf("=");let s,a;r<0?(s=decodeURIComponent(n),a=""):(s=decodeURIComponent(n.slice(0,r)),a=decodeURIComponent(n.slice(r+1)));let o=i[s];typeof o=="string"&&(o=i[s]=[o]),Array.isArray(o)?o.push(a):i[s]=a}return i}function Mj(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}function mm(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(i=>encodeURIComponent(i)+"="+encodeURIComponent(t(i,e[i]))).join("&"):Object.keys(e).map(i=>{const n=e[i];if(n==null)return"";const r=encodeURIComponent(i)+"=",s=t&&t[i];return s?r+encodeURIComponent(s(n)):Array.isArray(n)?n.map(a=>Mj(a)?r+encodeURIComponent(JSON.stringify(a)):r+encodeURIComponent(a)).join("&"):Mj(n)?r+encodeURIComponent(JSON.stringify(n)):r+encodeURIComponent(n)}).filter(i=>i).join("&"):""}function nCe(e=!1){let t,i=q0.proxyUrl;if(typeof e=="string"){t=dCe(e);const n=WC(e);n&&(i=n.proxyUrl)}else t=!!e;if(!i)throw WIe.warn(Aj),new N("urlutils:proxy-not-set",Aj);return t&&EO()&&(i=$N(i)),Ti(i)}function Rqe(e){const t=WC(e);let i,n;if(t){const r=EN(t.proxyUrl);i=r.path,n=r.query?$ee(r.query):null}if(i){const r=Ti(e);e=i+"?"+r.path;const s=mm({...n,...r.query});s&&(e=`${e}?${s}`)}return e}const zv={path:"",query:""};function EN(e){const t=e.indexOf("?");return t!==-1?(zv.path=e.slice(0,t),zv.query=e.slice(t+1)):(zv.path=e,zv.query=null),zv}function Aee(e){return e=(e=rI(e=gCe(e=EN(e).path),!0)).toLowerCase()}function rCe(e){const t={proxyUrl:e.proxyUrl,urlPrefix:Aee(e.urlPrefix)},i=q0.proxyRules,n=t.urlPrefix;let r=i.length;for(let s=0;s<i.length;s++){const a=i[s].urlPrefix;if(n.indexOf(a)===0){if(n.length===a.length)return-1;r=s;break}a.indexOf(n)===0&&(r=s+1)}return i.splice(r,0,t),r}function WC(e){const t=q0.proxyRules,i=Aee(e);for(let n=0;n<t.length;n++)if(i.indexOf(t[n].urlPrefix)===0)return t[n]}function sCe(e,t){if(!e||!t)return!1;e=nI(e),t=nI(t);const i=SO(e),n=SO(t);return $(i)&&$(n)?i.portalHostname===n.portalHostname:!$(i)&&!$(n)&&w0(e,t,!0)}function Mee(e,t){return e=nI(e),t=nI(t),rI(e)===rI(t)}function nI(e){const t=(e=Ys(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function Dee(e){const t=n=>n==null||n instanceof RegExp&&n.test(e)||typeof n=="string"&&e.startsWith(n),i=q0.interceptors;if(i){for(const n of i)if(Array.isArray(n.urls)){if(n.urls.some(t))return n}else if(t(n.urls))return n}return null}function w0(e,t,i=!1){if(!e||!t)return!1;const n=IO(e),r=IO(t);return!(!i&&n.scheme!==r.scheme)&&n.host!=null&&r.host!=null&&n.host.toLowerCase()===r.host.toLowerCase()&&n.port===r.port}function kN(e){if(typeof e=="string"){if(!Lr(e))return!0;e=IO(e)}if(w0(e,lr))return!0;const t=q0.trustedServers||[];for(let i=0;i<t.length;i++){const n=aCe(t[i]);for(let r=0;r<n.length;r++)if(w0(e,n[r]))return!0}return!1}function aCe(e){return Qx[e]||(TN(e)||to(e)?Qx[e]=[new Ny(Fa(e))]:Qx[e]=[new Ny(`http://${e}`),new Ny(`https://${e}`)]),Qx[e]}function Fa(e,t=xN,i){return to(e)?i&&i.preserveProtocolRelative?e:lr.scheme==="http"&&lr.authority===Ka(e).slice(2)?`http:${e}`:`https:${e}`:TN(e)?e:nc(e[0]==="/"?mCe(t):t,e)}function IN(e,t=xN,i){if(e==null||!Lr(e))return e;const n=Ys(e),r=n.toLowerCase(),s=Ys(t).toLowerCase().replace(/\/+$/,""),a=i?Ys(i).toLowerCase().replace(/\/+$/,""):null;if(a&&s.indexOf(a)!==0)return e;const o=(p,m,g)=>(g=p.indexOf(m,g))===-1?p.length:g;let l=o(r,"/",r.indexOf("//")+2),c=-1;for(;r.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==r.length);)l=o(r,"/",l+1);if(c===-1||a&&c<a.length)return e;e=n.slice(c);const h=s.slice(c-1).replace(/[^/]+/g,"").length;if(h>0)for(let p=0;p<h;p++)e=`../${e}`;else e=`./${e}`;return e}function Ys(e){return e=bCe(e=vCe(e=yCe(e=Fa(e=e.trim()))))}function nc(...e){const t=e.filter($);if(!t||!t.length)return;const i=[];if(Lr(t[0])){const r=t[0],s=r.indexOf("//");s!==-1&&(i.push(r.slice(0,s+1)),pCe(t[0])&&(i[0]+="/"),t[0]=r.slice(s+2))}else t[0][0]==="/"&&i.push("");const n=t.reduce((r,s)=>s?r.concat(s.split("/")):r,[]);for(let r=0;r<n.length;r++){const s=n[r];s===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!s&&r===n.length-1||s&&(s!=="."||i.length===0))&&i.push(s)}return i.join("/")}function Ka(e,t=!1){if(e==null||KC(e)||Om(e))return null;let i=e.indexOf("://");if(i===-1&&to(e))i=2;else{if(i===-1)return null;i+=3}const n=e.indexOf("/",i);return n!==-1&&(e=e.slice(0,n)),t&&(e=rI(e,!0)),e}function Lr(e){return to(e)||TN(e)}function KC(e){return e!=null&&e.slice(0,5)==="blob:"}function Om(e){return e!=null&&e.slice(0,5)==="data:"}function oCe(e){const t=CN(e);if(!t||!t.isBase64)return null;const i=atob(t.data),n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n.buffer}function Pqe(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const lCe=/^data:(.*?)(;base64)?,(.*)$/;function CN(e){const t=e.match(lCe);if(!t)return null;const[,i,n,r]=t;return{mediaType:i,isBase64:!!n,data:r}}function Oee(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function Lqe(e){const t=oCe(e);if(!t)return null;const i=CN(e);return new Blob([t],{type:i.mediaType})}function Fqe(e,t){cCe(e,t)||uCe(e,t)}function cCe(e,t){if(!e)return!1;const i=document.createElement("a");if(!("download"in i))return!1;const n=URL.createObjectURL(e);return i.download=t,i.href=n,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),!0}function uCe(e,t){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,t)}function to(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function TN(e){return e!=null&&Iee.test(e)}function dCe(e){return e!=null&&KIe.test(e)||lr.scheme==="https"&&to(e)}function hCe(e){return e!=null&&Cee.test(e)||lr.scheme==="http"&&to(e)}function pCe(e){return e!=null&&YIe.test(e)}function $N(e){return to(e)?`https:${e}`:e.replace(Cee,"https:")}function fCe(){return lr.scheme==="http"}function EO(){return lr.scheme==="https"}function rI(e,t=!1){return to(e)?e.slice(2):(e=e.replace(Iee,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function mCe(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function Ree(e){let t=0;if(Lr(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function Nqe(e,t){if(!e)return"";const i=Ti(e).path.replace(/\/+$/,""),n=i.substring(i.lastIndexOf("/")+1);if(!(t!=null&&t.length))return n;const r=new RegExp(`.(${t.join("|")})$`,"ig");return n.replace(r,"")}function gCe(e){return e&&e[e.length-1]==="/"?e:`${e}/`}function YC(e){return e.replace(/\/+$/,"")}function yCe(e){if(/^https?:\/\//i.test(e)){const t=EN(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function vCe(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function bCe(e){const t=q0.httpsDomains;if(!hCe(e))return e;const i=e.indexOf("/",7);let n;if(n=i===-1?e:e.slice(0,i),n=n.toLowerCase().slice(7),JIe.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return fCe()&&n===lr.authority&&!ZIe.test(e)||(EO()&&n===lr.authority||t&&t.some(r=>n===r||n.endsWith(`.${r}`))||EO()&&!WC(e))&&(e=$N(e)),e}function kO(e,t,i){if(!(t&&i&&e&&Lr(e)))return e;const n=e.indexOf("//"),r=e.indexOf("/",n+2),s=e.indexOf(":",n+2),a=Math.min(r<0?e.length:r,s<0?e.length:s);return e.slice(n+2,a).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${i}${e.slice(a)}`}function IO(e){return typeof e=="string"?new Ny(Fa(e)):(e.scheme||(e.scheme=lr.scheme),e)}function zqe(e){return wCe.test(e)}function Pee(e,t){const i=Ti(e),n=Object.keys(i.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),i.path}function Lee(e,t,i){const n=Ti(e),r=n.query||{};return r[t]=String(i),`${n.path}?${mm(r)}`}function ou(e,t){const i=Ti(e),n=i.query||{};for(const s in t)n[s]=t[s];const r=mm(n);return r?`${i.path}?${r}`:i.path}function Vqe(e){if(j(e))return null;const t=e.match(Fee);return t?t[2]:null}function Dj(e){if(j(e))return null;const t=e.match(Fee);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}const Fee=/([^.]*)\.([^\/]*)$/,wCe=/(^data:image\/svg|\.svg$)/i;function W0(e,t){const i=t&&t.url&&t.url.path;if(e&&i&&(e=Fa(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=IN(e,t.portalItem.itemUrl);n!=null&&_Ce.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return CO(e,t&&t.portal)}function R_(e,t,i=Bw.YES){if(e==null)return e;!Lr(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=Fa(e);if(t){const r=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(r){const s=CO(r,t.portal),a=CO(n,t.portal);n=IN(a,s,s),n!=null&&n!==a&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=MN(n,t==null?void 0:t.portal),Lr(n)&&(n=Ys(n)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!Lr(n)&&!Om(n)&&i===Bw.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function AN(e,t,i){return W0(e,i)}function gm(e,t,i,n){const r=R_(e,n);r!==void 0&&(t[i]=r)}const Nee=/\/items\/([^\/]+)\/resources\/(.*)/,_Ce=/^\.\/resources\//;function xCe(e){var t;return((t=(e==null?void 0:e.match(Nee))??null)==null?void 0:t[1])??null}function SCe(e){const t=(e==null?void 0:e.match(Nee))??null;if(t==null)return null;const i=t[2],n=i.lastIndexOf("/");if(n===-1){const{path:a,extension:o}=Dj(i);return{prefix:null,filename:a,extension:o}}const{path:r,extension:s}=Dj(i.slice(n+1));return{prefix:i.slice(0,n),filename:r,extension:s}}function MN(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?kO(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function CO(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,n=SN();return w0(n,`${n.scheme}://${i}`)?kO(e,t.portalHostname,i):kO(e,i,t.portalHostname)}var Bw;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Bw||(Bw={}));const jqe=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Bw},ensureMainOnlineDomain:MN,fromJSON:W0,itemIdFromResourceUrl:xCe,prefixAndFilenameFromResourceUrl:SCe,read:AN,toJSON:R_,write:gm},Symbol.toStringTag,{value:"Module"}));var TO;const ECe=qn()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Tp=TO=class extends W{constructor(e){super(e)}readHref(e,t,i){return e?W0(e,i):t.dataURI}writeHref(e,t,i,n){e&&(Om(e)?t.dataURI=e:(t.href=R_(e,n),Lr(t.href)&&(t.href=Ys(t.href))))}clone(){return new TO({href:this.href,primitive:this.primitive})}};u([d({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Tp.prototype,"href",void 0),u([ee("href")],Tp.prototype,"readHref",null),u([ue("href",{href:{type:String},dataURI:{type:String}})],Tp.prototype,"writeHref",null),u([xe(ECe)],Tp.prototype,"primitive",void 0),Tp=TO=u([I("esri.symbols.support.IconSymbol3DLayerResource")],Tp);var $O;let my=$O=class extends ve{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new $O({x:this.x,y:this.y})}};u([d({type:Number})],my.prototype,"x",void 0),u([d({type:Number})],my.prototype,"y",void 0),my=$O=u([I("esri.symbols.support.Symbol3DAnchorPosition2D")],my);var AO;let Ib=AO=class extends W{constructor(e){super(e),this.color=new de([0,0,0,1]),this.size=xu(1)}clone(){const e={color:$(this.color)?this.color.clone():null,size:this.size};return new AO(e)}};u([d(qh)],Ib.prototype,"color",void 0),u([d(ic)],Ib.prototype,"size",void 0),Ib=AO=u([I("esri.symbols.support.Symbol3DIconOutline")],Ib);var Sg;const zee="esri.symbols.IconSymbol3DLayer";let vl=Sg=class extends ac{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new Sg({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:$(this.material)?this.material.clone():null,outline:$(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||V1,i=Oj(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||V1).clone()}:null;return new Sg({size:e.size,resource:{primitive:ICe(e.style)},material:{color:t},outline:n,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||SIe(e.color)?V1:e.color,i=Oj(e);return new Sg({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new Sg({resource:{href:Oee({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function Oj(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,n=Rj(e.xoffset),r=Rj(e.yoffset);return(n||r)&&t&&i?{x:-n/t,y:r/i}:null}function Rj(e){return isFinite(e)?e:0}u([d({type:Ks,json:{write:!0}})],vl.prototype,"material",void 0),u([d({type:Tp,json:{write:!0}})],vl.prototype,"resource",void 0),u([xe({Icon:"icon"},{readOnly:!0})],vl.prototype,"type",void 0),u([d(ic)],vl.prototype,"size",void 0),u([xe({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),d({json:{default:"center"}})],vl.prototype,"anchor",void 0),u([d({type:my,json:{type:[Number],read:{reader:e=>new my({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],vl.prototype,"anchorPosition",void 0),u([d({type:Ib,json:{write:!0}})],vl.prototype,"outline",void 0),vl=Sg=u([I(zee)],vl);const kCe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function ICe(e){return kCe[e]||(Y.getLogger(zee).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Ef=vl;function ym(e,t,i=Ie){return t||(t=new i),t===e||(t.removeAll(),CCe(e)?t.addMany(e):e&&t.add(e)),t}function Vee(e){return e}function CCe(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}const jee="20230301",Uee="2657e728c1857e6d94c324181c0788310bb0958a",Bee="4.26",TCe={async request(e,t){var o,l;const{default:i}=await H(()=>Promise.resolve().then(()=>GCe),void 0),n=e.options,r=n.responseType;n.signal=t==null?void 0:t.signal,n.responseType=r==="native"||r==="native-request-init"?"native-request-init":r&&["blob","json","text"].includes(r)&&((o=Dee(e.url))!=null&&o.after)?r:"array-buffer";const s=await i(e.url,n),a={data:s.data,httpStatus:s.httpStatus,ssl:s.ssl};switch((l=s.requestOptions)==null?void 0:l.responseType){case"native-request-init":return delete a.data.signal,a;case"blob":a.data=await a.data.arrayBuffer();break;case"json":a.data=new TextEncoder().encode(JSON.stringify(a.data)).buffer;break;case"text":a.data=new TextEncoder().encode(a.data).buffer}return{result:a,transferList:[a.data]}}};let xt;function Uqe(e){xt=e}function Bqe(e){const t=xt&&xt.findCredential(e);return t&&t.token?Lee(e,"token",t.token):e}G("host-webworker");const $Ce=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function Hee(e){const t=Ka(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!$Ce.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function ACe(e,t,i=!1,n){return new Promise((r,s)=>{if(Qs(n))return void s(Pj());let a=()=>{c(),s(new Error(`Unable to load ${t}`))},o=()=>{const h=e;c(),r(h)},l=()=>{if(!e)return;const h=e;c(),h.src="",s(Pj())};const c=()=>{G("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",o)),a=null,o=null,e=null,$(n)&&n.removeEventListener("abort",l),l=null,i&&URL.revokeObjectURL(t)};$(n)&&n.addEventListener("abort",l),G("esri-image-decode")?e.decode().then(o,a):(e.addEventListener("error",a),e.addEventListener("load",o))})}function Pj(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}function MCe(e){ut.request.crossOriginNoCorsDomains||(ut.request.crossOriginNoCorsDomains={});const t=ut.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[Ka(i)??""]=0:(t[Ka("http://"+i)??""]=0,t[Ka("https://"+i)??""]=0)}function DCe(e){const t=ut.request.crossOriginNoCorsDomains;if(t){let i=Ka(e);if(i)return i=i.toLowerCase(),!w0(i,SN())&&t[i]<Date.now()-36e5}return!1}async function OCe(e){var r;const t=ut.request.crossOriginNoCorsDomains,i=Ka(e);t&&i&&(t[i.toLowerCase()]=Date.now());const n=Ti(e);e=n.path,((r=n.query)==null?void 0:r.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function Tt(e,t){var c;const i=Om(e),n=KC(e);n||i||(e=Ys(e));const r={url:e,requestOptions:{...t}};let s=Dee(e);if(s){const h=await jCe(s,r);if(h!=null)return{data:h,getHeader:DN,httpStatus:200,requestOptions:r.requestOptions,url:r.url};s.after||s.error||(s=null)}if(e=r.url,(t=r.requestOptions).responseType==="image"){if(G("host-webworker")||G("host-node"))throw qo("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),r)}else if(i)throw qo("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),r);if(t.method==="head"){if(t.body)throw qo("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),r);if(i||n)throw qo("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),r)}if(await NCe(),sI)return sI.execute(e,t);const a=new AbortController;ds(t,()=>a.abort());const o={controller:a,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:s,params:r,redoRequest:!1,useIdentity:zo.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},l=await BCe(o);return(c=s==null?void 0:s.after)==null||c.call(s,l),l}let sI;const zo=ut.request,Gee="FormData"in globalThis,RCe=[499,498,403,401],PCe=["COM_0056","COM_0057","SB_0008"],LCe=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],DN=()=>null,aI=Symbol();function FCe(e){const t=Ka(e);t&&!Tt._corsServers.includes(t)&&Tt._corsServers.push(t)}function Lj(e){const t=Ka(e);return!t||t.endsWith(".arcgis.com")||Tt._corsServers.includes(t)||kN(t)}function qo(e,t,i,n){let r="Error";const s={url:i.url,requestOptions:i.requestOptions,getHeader:DN,ssl:!1};if(t instanceof N)return t.details?(t.details=z(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=s,t;if(t){const a=n&&(c=>n.headers.get(c)),o=n&&n.status,l=t.message;l&&(r=l),a&&(s.getHeader=a),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||o||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=aI in t?t[aI]:t}return Vr(t)?ui():new N(e,r,s)}async function NCe(){G("host-webworker")?sI||(sI=await H(()=>import("./request.js"),[])):Tt._abortableFetch||(Tt._abortableFetch=globalThis.fetch.bind(globalThis))}async function MO(){xt||await H(()=>import("./IdentityManager.js"),[])}async function zCe(e){var o;const t=e.params.url,i=e.params.requestOptions,n=e.controller.signal,r=i.body;let s=null,a=null;if(Gee&&"HTMLFormElement"in globalThis&&(r instanceof FormData?s=r:r instanceof HTMLFormElement&&(s=new FormData(r))),typeof r=="string"&&(a=r),e.fetchOptions={cache:i.cacheBust&&!Tt._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:zo.priority,redirect:"follow",signal:n},(s||a)&&(e.fetchOptions.body=s||a),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(o=i.query)!=null&&o.token||s!=null&&s.get("token")),!e.hasToken&&ut.apiKey&&Hee(t)&&(i.query||(i.query={}),i.query.token=ut.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!qee(t)&&!Qs(n)){let l;i.authMode==="immediate"?(await MO(),l=await xt.getCredential(t,{signal:n}),e.credential=l):i.authMode==="no-prompt"?(await MO(),l=await xt.getCredential(t,{prompt:!1,signal:n}).catch(()=>{}),e.credential=l):xt&&(l=xt.findCredential(t)),l&&(e.credentialToken=l.token,e.useSSL=!!l.ssl)}}function qee(e){return LCe.some(t=>t.test(e))}async function VCe(e){let t=e.params.url;const i=e.params.requestOptions,n=e.fetchOptions??{},r=KC(t)||Om(t),s=i.responseType||"json",a=r?0:i.timeout!=null?i.timeout:zo.timeout;let o=!1;if(!r){e.useSSL&&(t=$N(t)),i.cacheBust&&n.cache==="default"&&(t=Lee(t,"request.preventCache",Date.now()));let m={...i.query};e.credentialToken&&(m.token=e.credentialToken);let g=mm(m);G("esri-url-encodes-apostrophe")&&(g=g.replace(/'/g,"%27"));const y=t.length+1+g.length;let b;o=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||y>zo.maxUrlLength;const w=i.useProxy||!!WC(t);if(w){const _=nCe(t);b=_.path,!o&&b.length+1+y>zo.maxUrlLength&&(o=!0),_.query&&(m={..._.query,...m})}if(n.method==="HEAD"&&(o||w)){if(o)throw y>zo.maxUrlLength?qo("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):qo("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(w)throw qo("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(o?(n.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=ou(t,m):(n.body=mm(m),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=ou(t,m),w&&(e.useProxy=!0,t=`${b}?${t}`),m.token&&Gee&&n.body instanceof FormData&&!qIe(t)&&n.body.set("token",m.token),i.hasOwnProperty("withCredentials"))e.withCredentials=i.withCredentials;else if(!w0(t,SN())){if(kN(t))e.withCredentials=!0;else if(xt){const _=xt.findServerInfo(t);_&&_.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(n.credentials="include",DCe(t)&&await OCe(o?ou(t,m):t))}let l,c,h=0,p=!1;a>0&&(h=setTimeout(()=>{p=!0,e.controller.abort()},a));try{if(i.responseType==="native-request-init")c=n,c.url=t;else if(i.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||o||UCe(i.headers)||!r&&!e.useProxy&&zo.proxyUrl&&!Lj(t)){if(l=await Tt._abortableFetch(t,n),e.useProxy||FCe(t),i.responseType==="native")c=l;else if(n.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(h&&(clearTimeout(h),h=0),s==="json"||s==="xml"||s==="document")if(c)switch(s){case"json":c=JSON.parse(c);break;case"xml":c=Fj(c,"application/xml");break;case"document":c=Fj(c,"text/html")}else c=null;if(c){if(s==="array-buffer"||s==="blob"){const m=l.headers.get("Content-Type");if(m&&/application\/json|text\/plain/i.test(m)&&c[s==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(c).json();g.error&&(c=g)}catch{}}s==="image"&&c instanceof Blob&&(c=await Nj(URL.createObjectURL(c),e,!0))}}else c=await l.text()}else c=await Nj(t,e)}catch(m){if(m.name==="AbortError")throw p?new Error("Timeout exceeded"):ui("Request canceled");if(!(!l&&m instanceof TypeError&&zo.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||Lj(t))throw m;e.redoRequest=!0,rCe({proxyUrl:zo.proxyUrl,urlPrefix:Ka(t)??""})}finally{h&&clearTimeout(h)}return[l,c]}async function jCe(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,n;try{n=await e.before(t)}catch(r){i=qo("request:interceptor",r,t)}if((n instanceof Error||n instanceof N)&&(i=qo("request:interceptor",n,t)),i)throw e.error&&e.error(i),i;return n}}function UCe(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function Fj(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}async function BCe(e){var s;let t,i;await zCe(e);try{do[t,i]=await VCe(e);while(!await HCe(e,t,i))}catch(a){const o=qo("request:server",a,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(o),o}const n=e.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&((s=i.user)!=null&&s.username)&&!kN(n)){const a=Ka(n,!0);a&&zo.trustedServers.push(a)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&MCe(i.authorizedCrossOriginNoCorsDomains)}const r=e.credential;if(r&&xt){const a=xt.findServerInfo(r.server);let o=a&&a.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const l=xt.findCredential(o,r.userId);l&&xt._getIdenticalSvcIdx(o,l)===-1&&l.resources.unshift(o)}}return{data:i,getHeader:t?a=>t==null?void 0:t.headers.get(a):DN,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function HCe(e,t,i){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let r,s;if(!t.ok)throw r=new Error(`Unable to load ${t.url} status: ${t.status}`),r[aI]=i,r;i&&(i.error?r=i.error:i.status==="error"&&Array.isArray(i.messages)&&(r={...i},r[aI]=i,r.details=i.messages));let a,o=null;r&&(s=Number(r.code),o=r.hasOwnProperty("subcode")?Number(r.subcode):null,a=r.messageCode,a=a&&a.toUpperCase());const l=n.authMode;if(s===403&&(o===4||r.message&&r.message.toLowerCase().includes("ssl")&&!r.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&RCe.includes(s)&&!qee(e.params.url)&&(s!==403||a&&!PCe.includes(a)&&(o==null||o===2&&e.credentialToken))){await MO();try{const c=await xt.getCredential(e.params.url,{error:qo("request:server",r,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;r=c}}if(r)throw r;return!0}function Nj(e,t,i=!1){const n=t.controller.signal,r=new Image;return t.withCredentials?r.crossOrigin="use-credentials":r.crossOrigin="anonymous",r.alt="",r.fetchPriority=zo.priority,r.src=e,ACe(r,e,i,n)}Tt._abortableFetch=null,Tt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const GCe=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"}));var Ld;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Ld||(Ld={}));let qCe=class{constructor(t){this.instance=t,this._resolver=vu(),this._status=Ld.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Ld.RESOLVED,this._cleanUp()},()=>{this._status=Ld.REJECTED,this._cleanUp()})}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Ld.RESOLVED}isRejected(){return this._status===Ld.REJECTED}isFulfilled(){return this._status!==Ld.PENDING}abort(){this._resolver.reject(ui())}when(t,i){return this._resolver.promise.then(t,i)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const t=vu(),i=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(i);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve(this.instance)},r=>{this.isFulfilled()||this._allPromise!==n||Vr(r)||this._resolver.reject(r)}),t.resolve()}};const JC=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new qCe(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,n){return new Promise((r,s)=>{this._promiseProps.when(r,s)}).then(i,n)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=u([I("esri.core.Promise")],t),t};let oI=class extends JC(ve){};oI=u([I("esri.core.Promise")],oI);const WCe="not-loaded",KCe="loading",YCe="failed",zj="loaded",Wee=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const r=this.load.bind(this);this.load=s=>{const a=new Promise((o,l)=>{const c=UF(s,l);this.destroyed&&l(new N("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(o,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===WCe){this._set("loadStatus",KCe);const o=this._loadController=new AbortController;r({signal:o.signal}),ds(o.signal,()=>{this._promiseProps.abort()})}return n(),a}})),this.when(()=>{this._set("loadStatus",zj),this._loadController=null},n=>{this._set("loadStatus",YCe),this._set("loadError",n),this._loadController=null})}get loaded(){return this.loadStatus===zj}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var i;return this.isFulfilled()||(this._set("loadError",new N("load:cancelled","Cancelled")),(i=this._loadController)==null||i.abort()),this}};return u([d({readOnly:!0})],t.prototype,"loaded",null),u([d({readOnly:!0})],t.prototype,"loadError",void 0),u([d({clonable:!1})],t.prototype,"loadStatus",void 0),u([d({type:[eo],readOnly:!0})],t.prototype,"loadWarnings",null),t=u([I("esri.core.Loadable")],t),t};let Cb=class extends Wee(oI){};Cb=u([I("esri.core.Loadable")],Cb),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=Wee,e.isLoadable=t}(Cb||(Cb={}));const Su=Cb;var DO;const JCe=new nt({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let ba=DO=class extends ve{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new DO({categories:this.categories?z(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(a=>Array.isArray(a)?JSON.stringify(a):a));let n="";if(this.extent){const a=FC(this.extent,je.WGS84);$(a)&&(n=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let r=this.query;!this.disableExtraQuery&&e.extraQuery&&(r="("+r+")"+e.extraQuery);const s={categories:i,bbox:n,q:r,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(a=>JCe.toJSON(a.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};u([d()],ba.prototype,"categories",void 0),u([d()],ba.prototype,"disableExtraQuery",void 0),u([d({type:Gt})],ba.prototype,"extent",void 0),u([d()],ba.prototype,"filter",void 0),u([d()],ba.prototype,"num",void 0),u([d()],ba.prototype,"query",void 0),u([d()],ba.prototype,"sortField",void 0),u([d()],ba.prototype,"sortOrder",null),u([d()],ba.prototype,"start",void 0),ba=DO=u([I("esri.portal.PortalQueryParams")],ba);const Yc=ba;let $p=class extends ve{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};u([d()],$p.prototype,"nextQueryParams",void 0),u([d()],$p.prototype,"queryParams",void 0),u([d()],$p.prototype,"results",void 0),u([d()],$p.prototype,"total",void 0),$p=u([I("esri.portal.PortalQueryResult")],$p);const ZCe=$p;let Ec=class extends W{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.get("portal.restUrl");return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new N("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};u([d({type:Date})],Ec.prototype,"created",void 0),u([d()],Ec.prototype,"id",void 0),u([d()],Ec.prototype,"portal",void 0),u([d()],Ec.prototype,"title",void 0),u([d({readOnly:!0})],Ec.prototype,"url",null),u([d()],Ec.prototype,"username",void 0),Ec=u([I("esri.portal.PortalFolder")],Ec);const QCe=Ec;let ln=class extends W{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){var n;const t=this.url,i=this.thumbnail;return t&&i&&this.portal?(n=this.portal)==null?void 0:n.normalizeUrl(`${t}/info/${i}?f=json`):null}get url(){const t=this.get("portal.restUrl");return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return Ns(this.portal).request(this.url+"/categorySchema",t).then(i=>{const n=i.categorySchema||[];return n.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):n})}fetchMembers(t){return Ns(this.portal).request(this.url+"/users",t)}getThumbnailUrl(t){let i=this.thumbnailUrl;return i&&t&&(i+=`&w=${t}`),i}toJSON(){throw new N("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(t,i){let n=Gi(Yc,t);const r=Ns(this.portal);return parseFloat(r.currentVersion)>5?(n=n||new Yc,r.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",i)):(n=n?n.clone():new Yc,n.query="group:"+this.id+(n.query?" "+n.query:""),r.queryItems(n,i))}_fetchCategorySchemaSet(t,i){const n=Ns(this.portal);return n.fetchSelf(n.authMode,!0,i).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const a=new Yc;return a.disableExtraQuery=!0,a.num=1,a.query=s,n.queryGroups(a,i)}throw new N("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],a=new Yc;return a.num=1,a.query=`typekeywords:"${t}"`,s.queryItems(a,i)}throw new N("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",i).then(s=>{const a=s&&s.categorySchema;return a&&a.length?a:[]}):[])}};u([d()],ln.prototype,"access",void 0),u([d({type:Date})],ln.prototype,"created",void 0),u([d()],ln.prototype,"description",void 0),u([d()],ln.prototype,"id",void 0),u([d()],ln.prototype,"isInvitationOnly",void 0),u([d({type:Date})],ln.prototype,"modified",void 0),u([d()],ln.prototype,"owner",void 0),u([d()],ln.prototype,"portal",void 0),u([d()],ln.prototype,"snippet",void 0),u([d()],ln.prototype,"sortField",void 0),u([d()],ln.prototype,"sortOrder",void 0),u([d()],ln.prototype,"tags",void 0),u([d()],ln.prototype,"thumbnail",void 0),u([d({readOnly:!0})],ln.prototype,"thumbnailUrl",null),u([d()],ln.prototype,"title",void 0),u([d({readOnly:!0})],ln.prototype,"url",null),ln=u([I("esri.portal.PortalGroup")],ln);const OO=ln,XCe=Object.freeze(Object.defineProperty({__proto__:null,default:OO},Symbol.toStringTag,{value:"Module"}));var RO;let Kt=RO=class extends W{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e&&e.data,n=e&&e.folder,r={method:"post"};t&&(r.query=t.createPostQuery(),i!=null&&(typeof i=="string"?r.query.text=i:typeof i=="object"&&(r.query.text=JSON.stringify(i))));let s=this.userContentUrl;return n&&(s+="/"+(typeof n=="string"?n:n.id)),this.portal.request(s+"/addItem",r).then(a=>(t.id=a.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal.request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",i=e.map(n=>n.id);if(i.length){const n={method:"post",query:{items:i.join(",")}};return this.portal.request(t,n).then(()=>{e.forEach(r=>{r.id=null,r.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(n=>{const r=QCe.fromJSON(n);return r.portal=this.portal,r}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const n=OO.fromJSON(i);return n.portal=this.portal,n}):[],t})}fetchItems(e){const t=e??{};let i,n=this.userContentUrl??"";return t.folder&&(n+="/"+t.folder.id),H(()=>Promise.resolve().then(()=>Use),void 0).then(({default:r})=>{i=r;const s={folders:!1,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"};return this.portal.request(n,{query:s})}).then(r=>{let s;return r&&r.items?(s=r.items.map(a=>{const o=i.fromJSON(a);return o.portal=this.portal,o}),Promise.all(s.map(a=>a.load())).catch(a=>a).then(()=>({items:s,nextStart:r.nextStart,total:r.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new OO({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new N("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new N("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new RO;return t.sourceJSON=e,t.read(e),t}};u([d()],Kt.prototype,"access",void 0),u([d({type:Date})],Kt.prototype,"created",void 0),u([d()],Kt.prototype,"culture",void 0),u([d()],Kt.prototype,"description",void 0),u([d()],Kt.prototype,"email",void 0),u([d()],Kt.prototype,"favGroupId",void 0),u([d()],Kt.prototype,"fullName",void 0),u([d({type:Date})],Kt.prototype,"modified",void 0),u([d()],Kt.prototype,"orgId",void 0),u([d()],Kt.prototype,"portal",void 0),u([d()],Kt.prototype,"preferredView",void 0),u([d()],Kt.prototype,"privileges",void 0),u([d()],Kt.prototype,"region",void 0),u([d()],Kt.prototype,"role",void 0),u([d()],Kt.prototype,"roleId",void 0),u([d()],Kt.prototype,"sourceJSON",void 0),u([d()],Kt.prototype,"thumbnail",void 0),u([d({readOnly:!0})],Kt.prototype,"thumbnailUrl",null),u([d()],Kt.prototype,"units",void 0),u([d({readOnly:!0})],Kt.prototype,"userContentUrl",null),u([d({readOnly:!0})],Kt.prototype,"url",null),u([d()],Kt.prototype,"username",void 0),u([d()],Kt.prototype,"userType",void 0),Kt=RO=u([I("esri.portal.PortalUser")],Kt);const ON=Kt,eTe=Object.freeze(Object.defineProperty({__proto__:null,default:ON},Symbol.toStringTag,{value:"Module"}));var Is;let uA;const Vj={PortalGroup:()=>H(()=>Promise.resolve().then(()=>XCe),void 0),PortalItem:()=>H(()=>Promise.resolve().then(()=>Use),void 0),PortalUser:()=>H(()=>Promise.resolve().then(()=>eTe),void 0)};let ae=Is=class extends T_(Su){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=ut.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){this._esriIdCredentialCreateHandle=Hi(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)ut.request.trustedServers.includes(t)||ut.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=ON.fromJSON(e),t.portal=this),t}load(e){const t=H(()=>Promise.resolve().then(()=>G6e),void 0).then(({default:i})=>{gi(e),uA=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{if(xt){const n=xt;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==Is.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle=n.on("credential-create",()=>{n.findCredential(this.restUrl)&&this.signIn().catch(()=>{})}))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await H(()=>import("./ElevationLayer.js"),[])).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}fetchBasemaps(e,t){const i=new Yc;return i.query=e||(ut.apiKey&&Hee(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0,this.queryGroups(i,t).then(n=>{if(i.num=100,i.query='type:"Web Map" -type:"Web Application"',n.total){const r=n.results[0];return i.sortField=r.sortField||"name",i.sortOrder=r.sortOrder||"desc",r.queryItems(i,t)}return null}).then(n=>{let r;return r=n&&n.total?n.results.filter(s=>s.type==="Web Map").map(s=>new uA({portalItem:s})):[],r})}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Qs(e)?Promise.reject(ui()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new Yc;if(i.num=100,i.sortField="title",t&&t.length){const n=[];for(const r of t)n.push(`(title:"${r.title}" AND owner:${r.owner})`);return i.query=n.join(" OR "),this.queryGroups(i,e).then(r=>r.results)}return Qs(e)?Promise.reject(ui()):Promise.resolve([])}fetchRegions(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||Wa();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||Wa();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return Is._default&&!Is._default.destroyed||(Is._default=new Is),Is._default}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const n=this.restUrl+"/portals/self",r={authMode:e,query:{culture:Wa().toLowerCase()},...i};return r.authMode==="auto"&&(r.authMode="no-prompt"),t&&(r.query.default=!0),this.request(n,r)}queryPortal(e,t,i,n){const r=Gi(Yc,t),s=a=>this.request(this.restUrl+e,{...r.toRequestOptions(this),...n}).then(o=>{const l=r.clone();return l.start=o.nextStart,new ZCe({nextQueryParams:l,queryParams:r,total:o.total,results:Is._resultsToTypedArray(a,{portal:this},o,n)})}).then(o=>Promise.all(o.results.map(l=>typeof l.when=="function"?l.when():o)).then(()=>o,l=>(Vs(l),o)));return i&&Vj[i]?Vj[i]().then(({default:a})=>(gi(n),s(a))):s()}signIn(){if(this.authMode===Is.AUTH_MODE_ANONYMOUS)return Promise.reject(new N("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return xt?xt.getCredential(this.restUrl).then(t=>e(t)):e(this.credential)}normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then(n=>{const r=Is._resultsToTypedArray(i,{portal:this},n);return Promise.all(r.map(s=>typeof s.when=="function"?s.when():n)).then(()=>r,()=>r)})}request(e,t={}){const i={f:"json",...t.query},{authMode:n=this.authMode===Is.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:r=null,cacheBust:s=!1,method:a="auto",responseType:o="json",signal:l}=t,c={authMode:n,body:r,cacheBust:s,method:a,query:i,responseType:o,timeout:0,signal:l};return Tt(this._normalizeSSL(e),c).then(h=>h.data)}toJSON(){throw new N("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Is({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new N("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=uA.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,n){let r=[];if(i){const s=$(n)?n.signal:null;r=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(r=r.map(a=>{const o=Object.assign(e?e.fromJSON(a):a,t);return typeof o.load=="function"&&o.load(s),o}))}else r=[];return r}};ae.AUTH_MODE_ANONYMOUS="anonymous",ae.AUTH_MODE_AUTO="auto",ae.AUTH_MODE_IMMEDIATE="immediate",u([d()],ae.prototype,"access",void 0),u([d()],ae.prototype,"allSSL",void 0),u([d()],ae.prototype,"authMode",void 0),u([d()],ae.prototype,"authorizedCrossOriginDomains",void 0),u([ee("authorizedCrossOriginDomains")],ae.prototype,"readAuthorizedCrossOriginDomains",null),u([d()],ae.prototype,"basemapGalleryGroupQuery",void 0),u([d()],ae.prototype,"bingKey",void 0),u([d()],ae.prototype,"canListApps",void 0),u([d()],ae.prototype,"canListData",void 0),u([d()],ae.prototype,"canListPreProvisionedItems",void 0),u([d()],ae.prototype,"canProvisionDirectPurchase",void 0),u([d()],ae.prototype,"canSearchPublic",void 0),u([d()],ae.prototype,"canShareBingPublic",void 0),u([d()],ae.prototype,"canSharePublic",void 0),u([d()],ae.prototype,"canSignInArcGIS",void 0),u([d()],ae.prototype,"canSignInIDP",void 0),u([d()],ae.prototype,"colorSetsGroupQuery",void 0),u([d()],ae.prototype,"commentsEnabled",void 0),u([d({type:Date})],ae.prototype,"created",void 0),u([d()],ae.prototype,"credential",void 0),u([d()],ae.prototype,"culture",void 0),u([d()],ae.prototype,"currentVersion",void 0),u([d()],ae.prototype,"customBaseUrl",void 0),u([d()],ae.prototype,"defaultBasemap",void 0),u([ee("defaultBasemap")],ae.prototype,"readDefaultBasemap",null),u([d()],ae.prototype,"defaultDevBasemap",void 0),u([ee("defaultDevBasemap")],ae.prototype,"readDefaultDevBasemap",null),u([d({type:Gt})],ae.prototype,"defaultExtent",void 0),u([d()],ae.prototype,"defaultVectorBasemap",void 0),u([ee("defaultVectorBasemap")],ae.prototype,"readDefaultVectorBasemap",null),u([d()],ae.prototype,"description",void 0),u([d()],ae.prototype,"devBasemapGalleryGroupQuery",void 0),u([d()],ae.prototype,"eueiEnabled",void 0),u([d({readOnly:!0})],ae.prototype,"extraQuery",null),u([d()],ae.prototype,"featuredGroups",void 0),u([d()],ae.prototype,"featuredItemsGroupQuery",void 0),u([d()],ae.prototype,"galleryTemplatesGroupQuery",void 0),u([d()],ae.prototype,"livingAtlasGroupQuery",void 0),u([d()],ae.prototype,"hasCategorySchema",void 0),u([d()],ae.prototype,"helpBase",void 0),u([d()],ae.prototype,"helperServices",void 0),u([d()],ae.prototype,"helpMap",void 0),u([d()],ae.prototype,"homePageFeaturedContent",void 0),u([d()],ae.prototype,"homePageFeaturedContentCount",void 0),u([d()],ae.prototype,"httpPort",void 0),u([d()],ae.prototype,"httpsPort",void 0),u([d()],ae.prototype,"id",void 0),u([d()],ae.prototype,"ipCntryCode",void 0),u([d({readOnly:!0})],ae.prototype,"isOrganization",null),u([d()],ae.prototype,"isPortal",void 0),u([d()],ae.prototype,"isReadOnly",void 0),u([d({readOnly:!0})],ae.prototype,"itemPageUrl",null),u([d()],ae.prototype,"layerTemplatesGroupQuery",void 0),u([d()],ae.prototype,"maxTokenExpirationMinutes",void 0),u([d({type:Date})],ae.prototype,"modified",void 0),u([d()],ae.prototype,"name",void 0),u([d()],ae.prototype,"portalHostname",void 0),u([d()],ae.prototype,"portalMode",void 0),u([d()],ae.prototype,"portalProperties",void 0),u([d()],ae.prototype,"region",void 0),u([d({readOnly:!0})],ae.prototype,"restUrl",null),u([d()],ae.prototype,"rotatorPanels",void 0),u([d()],ae.prototype,"showHomePageDescription",void 0),u([d()],ae.prototype,"sourceJSON",void 0),u([d()],ae.prototype,"staticImagesUrl",void 0),u([d({json:{name:"2DStylesGroupQuery"}})],ae.prototype,"stylesGroupQuery2d",void 0),u([d({json:{name:"stylesGroupQuery"}})],ae.prototype,"stylesGroupQuery3d",void 0),u([d()],ae.prototype,"supportsHostedServices",void 0),u([d()],ae.prototype,"symbolSetsGroupQuery",void 0),u([d()],ae.prototype,"templatesGroupQuery",void 0),u([d()],ae.prototype,"thumbnail",void 0),u([d({readOnly:!0})],ae.prototype,"thumbnailUrl",null),u([d()],ae.prototype,"units",void 0),u([d()],ae.prototype,"url",void 0),u([d()],ae.prototype,"urlKey",void 0),u([ee("urlKey")],ae.prototype,"readUrlKey",null),u([d()],ae.prototype,"user",void 0),u([ee("user")],ae.prototype,"readUser",null),u([d()],ae.prototype,"useStandardizedQuery",void 0),u([d()],ae.prototype,"useVectorBasemaps",void 0),u([d()],ae.prototype,"vectorBasemapGalleryGroupQuery",void 0),ae=Is=u([I("esri.portal.Portal")],ae);const gr=ae;let Ap=class extends Wt(W){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return $(t)&&t.placement===this.placement&&t.style===this.style&&(j(this.color)&&j(t.color)||$(this.color)&&$(t.color)&&this.color.toJSON()===t.color.toJSON())}};u([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ap.prototype,"type",void 0),u([d({type:gIe,json:{default:"begin-end",write:!0}})],Ap.prototype,"placement",void 0),u([d({type:mee,json:{default:"arrow",write:!0}})],Ap.prototype,"style",void 0),u([d({type:de,json:{type:[Nt],default:null,write:!0}})],Ap.prototype,"color",void 0),Ap=u([I("esri.symbols.LineStyleMarker3D")],Ap);const PO=Ap;var P2;let bl=P2=class extends ac{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=xu(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:$(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:$(this.pattern)?this.pattern.clone():null,marker:$(this.marker)?this.marker.clone():null};return new P2(e)}static fromSimpleLineSymbol(e){var i;const t={enabled:!0,size:e.width??xu(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new vN({style:e.style}):null,material:new Ks({color:(e.color||V1).clone()}),marker:e.marker?new PO({placement:e.marker.placement,style:e.marker.style,color:((i=e.marker.color)==null?void 0:i.clone())??null}):null};return new P2(t)}};u([d({type:Ks,json:{write:!0}})],bl.prototype,"material",void 0),u([xe({Line:"line"},{readOnly:!0})],bl.prototype,"type",void 0),u([d({type:xee,json:{write:!0,default:"miter"}})],bl.prototype,"join",void 0),u([d({type:_N,json:{write:!0,default:"butt"}})],bl.prototype,"cap",void 0),u([d(ic)],bl.prototype,"size",void 0),u([d(wee)],bl.prototype,"pattern",void 0),u([d({types:{key:"type",base:PO,typeMap:{style:PO}},json:{write:!0}})],bl.prototype,"marker",void 0),bl=P2=u([I("esri.symbols.LineSymbol3DLayer")],bl);const P_=bl;var LO;const tTe=qn()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Tb=LO=class extends W{clone(){return new LO({href:this.href,primitive:this.primitive})}};u([d({type:String,json:{read:AN,write:gm}})],Tb.prototype,"href",void 0),u([xe(tTe)],Tb.prototype,"primitive",void 0),Tb=LO=u([I("esri.symbols.support.ObjectSymbol3DLayerResource")],Tb);var FO;let cf=FO=class extends ve{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new FO({x:this.x,y:this.y,z:this.z})}};u([d({type:Number})],cf.prototype,"x",void 0),u([d({type:Number})],cf.prototype,"y",void 0),u([d({type:Number})],cf.prototype,"z",void 0),cf=FO=u([I("esri.symbols.support.Symbol3DAnchorPosition3D")],cf);var NO;let nr=NO=class extends ac{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new NO({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:$(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};u([d({type:Ks,json:{write:!0}})],nr.prototype,"material",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],nr.prototype,"castShadows",void 0),u([d({type:Tb,json:{write:!0}})],nr.prototype,"resource",void 0),u([xe({Object:"object"},{readOnly:!0})],nr.prototype,"type",void 0),u([d({type:Number,json:{write:!0}})],nr.prototype,"width",void 0),u([d({type:Number,json:{write:!0}})],nr.prototype,"height",void 0),u([d({type:Number,json:{write:!0}})],nr.prototype,"depth",void 0),u([xe({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),d({json:{default:"origin"}})],nr.prototype,"anchor",void 0),u([d({type:cf,json:{type:[Number],read:{reader:e=>new cf({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],nr.prototype,"anchorPosition",void 0),u([d({type:Number,json:{write:!0}})],nr.prototype,"heading",void 0),u([d({type:Number,json:{write:!0}})],nr.prototype,"tilt",void 0),u([d({type:Number,json:{write:!0}})],nr.prototype,"roll",void 0),u([d({readOnly:!0})],nr.prototype,"isPrimitive",null),nr=NO=u([I("esri.symbols.ObjectSymbol3DLayer")],nr);const RN=nr;var zO;let Ir=zO=class extends ac{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new zO({enabled:this.enabled,material:$(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};u([d({type:Ks,json:{write:!0}})],Ir.prototype,"material",void 0),u([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ir.prototype,"castShadows",void 0),u([xe({Path:"path"},{readOnly:!0})],Ir.prototype,"type",void 0),u([d({type:["circle","quad"],json:{write:!0,default:"circle"}})],Ir.prototype,"profile",void 0),u([d({type:xee,json:{write:!0,default:"miter"}})],Ir.prototype,"join",void 0),u([d({type:NIe,json:{write:!0,default:"butt"}})],Ir.prototype,"cap",void 0),u([d({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Ir.prototype,"width",void 0),u([ee("width",["width","size","height"])],Ir.prototype,"readWidth",null),u([d({type:Number,json:{write:!0}})],Ir.prototype,"height",void 0),u([ee("height",["height","size","width"])],Ir.prototype,"readHeight",null),u([d({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Ir.prototype,"anchor",void 0),u([d({type:["heading","all"],json:{write:!0,default:"all"}})],Ir.prototype,"profileRotation",void 0),Ir=zO=u([I("esri.symbols.PathSymbol3DLayer")],Ir);const PN=Ir;var VO;let gy=VO=class extends W{constructor(){super(...arguments),this.color=new de([0,0,0,1]),this.size=0}clone(){const e={color:z(this.color),size:this.size};return new VO(e)}};u([d(qh)],gy.prototype,"color",void 0),u([d(ic)],gy.prototype,"size",void 0),gy=VO=u([I("esri.symbols.support.Symbol3DHalo")],gy);let U1=class extends Wt(W){constructor(t){super(t),this.color=null}};u([d(qh)],U1.prototype,"color",void 0),U1=u([I("esri.symbols.support.Symbol3DTextBackground")],U1);var L2;let Yr=L2=class extends ac{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){$(e)&&$(this._userSize)&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,n){const r={...n,textSymbol3D:!0};t.font=e.write({},r),delete t.font.size}get size(){return $(this._userSize)?this._userSize:$(this.font)&&this.font.size!=null?this.font.size:9}set size(e){this._userSize=e,$(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new L2({enabled:this.enabled,font:this.font&&z(this.font),halo:this.halo&&z(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:$(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:z(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new L2({font:$(e.font)?e.font.clone():new qC,halo:iTe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Ks({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new U1({color:e.backgroundColor.clone()}):null})}};function iTe(e,t){return e&&t!=null&&t>0?new gy({color:z(e),size:t}):null}u([d({type:qC,json:{write:!0}})],Yr.prototype,"font",null),u([ue("font")],Yr.prototype,"writeFont",null),u([d({type:gy,json:{write:!0}})],Yr.prototype,"halo",void 0),u([d({...Eee,json:{default:"center",write:!0}})],Yr.prototype,"horizontalAlignment",void 0),u([d({...See,json:{default:1,write:!0}})],Yr.prototype,"lineHeight",void 0),u([d({type:Ks,json:{write:!0}})],Yr.prototype,"material",void 0),u([d({type:U1,json:{write:!0}})],Yr.prototype,"background",void 0),u([d(ic)],Yr.prototype,"size",null),u([d({type:String,json:{write:!0}})],Yr.prototype,"text",void 0),u([xe({Text:"text"},{readOnly:!0})],Yr.prototype,"type",void 0),u([d({...kee,json:{default:"baseline",write:!0}})],Yr.prototype,"verticalAlignment",void 0),Yr=L2=u([I("esri.symbols.TextSymbol3DLayer")],Yr);const K0=Yr;var jO;let cd=jO=class extends ac{constructor(e){super(e),this.color=UO.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new jO({color:z(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};u([d({type:de,nonNullable:!0,json:{type:[Nt],write:(e,t,i)=>t[i]=e.toArray(de.AlphaMode.UNLESS_OPAQUE),default:()=>UO.clone(),defaultEquals:e=>e.toCss(!0)===UO.toCss(!0)}})],cd.prototype,"color",void 0),u([xe({Water:"water"},{readOnly:!0})],cd.prototype,"type",void 0),u([d({type:["small","medium","large"],json:{write:!0,default:"medium"}})],cd.prototype,"waterbodySize",void 0),u([d({type:Number,json:{write:!0,default:null}})],cd.prototype,"waveDirection",void 0),u([d({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],cd.prototype,"waveStrength",void 0),cd=jO=u([I("esri.symbols.WaterSymbol3DLayer")],cd);const UO=new de([0,119,190]),Kee=cd;var BO;let Mp=BO=class extends ve{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new BO({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};u([d({type:String})],Mp.prototype,"name",void 0),u([d({type:String})],Mp.prototype,"styleUrl",void 0),u([d({type:String})],Mp.prototype,"styleName",void 0),u([d({type:gr})],Mp.prototype,"portal",void 0),Mp=BO=u([I("esri.symbols.support.StyleOrigin")],Mp);const HO=Mp;var GO;let B1=GO=class extends ve{constructor(){super(...arguments),this.url=""}clone(){return new GO({url:this.url})}};u([d({type:String})],B1.prototype,"url",void 0),B1=GO=u([I("esri.symbols.support.Thumbnail")],B1);const Yee={icon:Ef,object:RN,line:P_,path:PN,fill:O_,extrude:fee,text:K0,water:Kee},nTe=Ie.ofType({base:ac,key:"type",typeMap:Yee,errorContext:"symbol-layer"});let wl=class extends bs{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,n=i&&i.type||Ie;this._set("symbolLayers",new n)}get color(){return null}set color(t){this.constructed&&Y.getLogger(this.declaredClass).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){ym(t,this._get("symbolLayers"))}readStyleOrigin(t,i,n){if(t.styleUrl&&t.name){const r=W0(t.styleUrl,n);return new HO({styleUrl:r,name:t.name})}if(t.styleName&&t.name)return new HO({portal:n&&n.portal||gr.getDefault(),styleName:t.styleName,name:t.name});n&&n.messages&&n.messages.push(new eo("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,i,n,r){if(t.styleUrl&&t.name){let s=R_(t.styleUrl,r);Lr(s)&&(s=Ys(s)),i.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&r&&r.portal&&!Mee(t.portal.restUrl,r.portal.restUrl)?r&&r.messages&&r.messages.push(new eo("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof ac||t&&Yee[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};u([d({json:{read:!1,write:!1}})],wl.prototype,"color",null),u([d({type:nTe,nonNullable:!0,json:{write:!0}}),ct(Vee)],wl.prototype,"symbolLayers",null),u([d({type:HO})],wl.prototype,"styleOrigin",void 0),u([ee("styleOrigin")],wl.prototype,"readStyleOrigin",null),u([ue("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],wl.prototype,"writeStyleOrigin",null),u([d({type:B1,json:{read:!1}})],wl.prototype,"thumbnail",void 0),u([d({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],wl.prototype,"type",void 0),wl=u([I("esri.symbols.Symbol3D")],wl);const Y0=wl;let $b=class extends W{constructor(t){super(t),this.visible=!0}clone(){}};u([d({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],$b.prototype,"type",void 0),u([d({readOnly:!0})],$b.prototype,"visible",void 0),$b=u([I("esri.symbols.callouts.Callout3D")],$b);const Jee=$b;var qO;let F2=qO=class extends W{constructor(){super(...arguments),this.color=new de("white")}clone(){return new qO({color:z(this.color)})}};u([d(qh)],F2.prototype,"color",void 0),F2=qO=u([I("esri.symbols.callouts.LineCallout3DBorder")],F2);const Zee=F2;Object.freeze(Object.defineProperty({__proto__:null,default:Zee},Symbol.toStringTag,{value:"Module"}));var WO;let ud=WO=class extends Jee{constructor(e){super(e),this.type="line",this.color=new de([0,0,0,1]),this.size=xu(1),this.border=null}get visible(){return this.size>0&&$(this.color)&&this.color.a>0}clone(){return new WO({color:z(this.color),size:this.size,border:z(this.border)})}};u([xe({line:"line"},{readOnly:!0})],ud.prototype,"type",void 0),u([d(qh)],ud.prototype,"color",void 0),u([d(ic)],ud.prototype,"size",void 0),u([d({type:Zee,json:{write:!0}})],ud.prototype,"border",void 0),u([d({readOnly:!0})],ud.prototype,"visible",null),ud=WO=u([I("esri.symbols.callouts.LineCallout3D")],ud);const rTe=ud;function LN(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||$(t.maxWorldLength)&&t.maxWorldLength<=0)}function Qee(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!LN(e)}const Xee={types:{key:"type",base:Jee,typeMap:{line:rTe}},json:{write:!0}};var KO;let Eg=KO=class extends W{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new KO({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};u([d(ic)],Eg.prototype,"screenLength",void 0),u([d({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Eg.prototype,"minWorldLength",void 0),u([d({type:Number,json:{write:!0}})],Eg.prototype,"maxWorldLength",void 0),Eg=KO=u([I("esri.symbols.support.Symbol3DVerticalOffset")],Eg);const ete=Eg;var N2;const tte=Ie.ofType({base:null,key:"type",typeMap:{text:K0}});let dd=N2=class extends Y0{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new tte,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return Qee(this)}hasVisibleVerticalOffset(){return LN(this)}clone(){return new N2({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail),callout:z(this.callout),verticalOffset:z(this.verticalOffset)})}static fromTextSymbol(e){return new N2({symbolLayers:[K0.fromTextSymbol(e)]})}};u([d({type:ete,json:{write:!0}})],dd.prototype,"verticalOffset",void 0),u([d(Xee)],dd.prototype,"callout",void 0),u([d({json:{read:!1,write:!1}})],dd.prototype,"styleOrigin",void 0),u([d({type:tte})],dd.prototype,"symbolLayers",void 0),u([xe({LabelSymbol3D:"label-3d"},{readOnly:!0})],dd.prototype,"type",void 0),dd=N2=u([I("esri.symbols.LabelSymbol3D")],dd);const ZC=dd;var z2;const ite=Ie.ofType({base:null,key:"type",typeMap:{line:P_,path:PN}}),sTe=Ie.ofType({base:null,key:"type",typeMap:{line:P_,path:PN}});let Ab=z2=class extends Y0{constructor(e){super(e),this.symbolLayers=new ite,this.type="line-3d"}clone(){return new z2({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromSimpleLineSymbol(e){return new z2({symbolLayers:[P_.fromSimpleLineSymbol(e)]})}};u([d({type:ite,json:{type:sTe}})],Ab.prototype,"symbolLayers",void 0),u([xe({LineSymbol3D:"line-3d"},{readOnly:!0})],Ab.prototype,"type",void 0),Ab=z2=u([I("esri.symbols.LineSymbol3D")],Ab);const QC=Ab;let hd=class extends bs{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};u([d({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],hd.prototype,"angle",void 0),u([d({type:["simple-marker","picture-marker"],readOnly:!0})],hd.prototype,"type",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],hd.prototype,"xoffset",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],hd.prototype,"yoffset",void 0),u([d({type:Number,cast:e=>e==="auto"?e:mt(e),json:{write:!0}})],hd.prototype,"size",void 0),hd=u([I("esri.symbols.MarkerSymbol")],hd);const nte=hd;var V2;const rte=Ie.ofType({base:null,key:"type",typeMap:{fill:O_}});let Mb=V2=class extends Y0{constructor(e){super(e),this.symbolLayers=new rte,this.type="mesh-3d"}clone(){return new V2({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromSimpleFillSymbol(e){return new V2({symbolLayers:[O_.fromSimpleFillSymbol(e)]})}};u([d({type:rte})],Mb.prototype,"symbolLayers",void 0),u([xe({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Mb.prototype,"type",void 0),Mb=V2=u([I("esri.symbols.MeshSymbol3D")],Mb);const XC=Mb;function aTe(e,t,i){return t.imageData?Oee({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):ste(t.url,i)}function ste(e,t){var i;return lTe(t)&&!Lr(e)&&((i=t==null?void 0:t.layer)!=null&&i.parsedUrl)?nc(t.layer.parsedUrl.path,"images",e):W0(e,t)}function oTe(e,t,i,n){if(Om(e)){const r=CN(e);if(!r)return;t.contentType=r.mediaType,t.imageData=r.data,i&&i.imageData===t.imageData&&i.url&&gm(i.url,t,"url",n)}else gm(e,t,"url",n)}const ate={json:{read:{source:["imageData","url"],reader:aTe},write:{writer(e,t,i,n){oTe(e,t,this.source,n)}}}},ote={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=ste(t.url,i)),n}}}};function lTe(e){var t,i;return!(e==null||e.origin!=="service"&&e.origin!=="portal-item"||((t=e.layer)==null?void 0:t.type)!=="feature"&&((i=e.layer)==null?void 0:i.type)!=="stream")}var YO;let wa=YO=class extends gee{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t&&(r.outline=t),i!=null&&(r.width=mt(i)),n!=null&&(r.height=mt(n)),r}clone(){const e=new YO({color:z(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",z(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};u([xe({esriPFS:"picture-fill"},{readOnly:!0})],wa.prototype,"type",void 0),u([d(ate)],wa.prototype,"url",void 0),u([d({type:Number,json:{write:!0}})],wa.prototype,"xscale",void 0),u([d({type:Number,json:{write:!0}})],wa.prototype,"yscale",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],wa.prototype,"width",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],wa.prototype,"height",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],wa.prototype,"xoffset",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],wa.prototype,"yoffset",void 0),u([d(ote)],wa.prototype,"source",void 0),wa=YO=u([I("esri.symbols.PictureFillSymbol")],wa);const lte=wa;var JO;let Eo=JO=class extends nte{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=mt(t)),i!=null&&(n.height=mt(i)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new JO({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",z(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};u([d({json:{write:!1}})],Eo.prototype,"color",void 0),u([xe({esriPMS:"picture-marker"},{readOnly:!0})],Eo.prototype,"type",void 0),u([d(ate)],Eo.prototype,"url",void 0),u([d(ote)],Eo.prototype,"source",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],Eo.prototype,"height",void 0),u([ee("height",["height","size"])],Eo.prototype,"readHeight",null),u([d({type:Number,cast:mt,json:{write:!0}})],Eo.prototype,"width",void 0),u([d({json:{write:!1}})],Eo.prototype,"size",void 0),Eo=JO=u([I("esri.symbols.PictureMarkerSymbol")],Eo);const L_=Eo;var Dp;const cte=Ie.ofType({base:null,key:"type",typeMap:{icon:Ef,object:RN,text:K0}});let Op=Dp=class extends Y0{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new cte,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return Qee(this)}hasVisibleVerticalOffset(){return LN(this)}clone(){return new Dp({verticalOffset:z(this.verticalOffset),callout:z(this.callout),styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Dp({symbolLayers:[Ef.fromSimpleMarkerSymbol(e)]})}static fromPictureMarkerSymbol(e){return new Dp({symbolLayers:[Ef.fromPictureMarkerSymbol(e)]})}static fromCIMSymbol(e){var n,r;if(((r=(n=e.data)==null?void 0:n.symbol)==null?void 0:r.type)!=="CIMPointSymbol")return null;const i=e.data.symbol;return new Dp(i!=null&&i.callout?{symbolLayers:[Ef.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}:{symbolLayers:[Ef.fromCIMSymbol(e)]})}static fromTextSymbol(e){return new Dp({symbolLayers:[K0.fromTextSymbol(e)]})}};u([d({type:ete,json:{write:!0}})],Op.prototype,"verticalOffset",void 0),u([d(Xee)],Op.prototype,"callout",void 0),u([d({type:cte,json:{origins:{"web-scene":{write:!0}}}})],Op.prototype,"symbolLayers",void 0),u([xe({PointSymbol3D:"point-3d"},{readOnly:!0})],Op.prototype,"type",void 0),Op=Dp=u([I("esri.symbols.PointSymbol3D")],Op);const kf=Op;var Db;const ute=Ie.ofType({base:null,key:"type",typeMap:{extrude:fee,fill:O_,icon:Ef,line:P_,object:RN,text:K0,water:Kee}});let Ob=Db=class extends Y0{constructor(e){super(e),this.symbolLayers=new ute,this.type="polygon-3d"}clone(){return new Db({styleOrigin:z(this.styleOrigin),symbolLayers:z(this.symbolLayers),thumbnail:z(this.thumbnail)})}static fromJSON(e){const t=new Db;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.getItemAt(0).type==="fill"&&t.symbolLayers.getItemAt(1).type==="line"){const i=t.symbolLayers.getItemAt(0),n=t.symbolLayers.getItemAt(1);!n.enabled||e.symbolLayers&&e.symbolLayers[1]&&e.symbolLayers[1].enable===!1||(i.outline={size:n.size,color:$(n.material)?n.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Db({symbolLayers:[O_.fromSimpleFillSymbol(e)]})}};u([d({type:ute,json:{write:!0}})],Ob.prototype,"symbolLayers",void 0),u([xe({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Ob.prototype,"type",void 0),Ob=Db=u([I("esri.symbols.PolygonSymbol3D")],Ob);const F_=Ob;var ZO;const dA=new nt({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Rp=ZO=class extends gee{constructor(...e){super(...e),this.color=new de([0,0,0,.25]),this.outline=new ms,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),i&&(n.color=i),n}clone(){return new ZO({color:z(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};u([d()],Rp.prototype,"color",void 0),u([d()],Rp.prototype,"outline",void 0),u([xe({esriSFS:"simple-fill"},{readOnly:!0})],Rp.prototype,"type",void 0),u([d({type:dA.apiValues,json:{read:dA.read,write:dA.write}})],Rp.prototype,"style",void 0),Rp=ZO=u([I("esri.symbols.SimpleFillSymbol")],Rp);const Wh=Rp;var QO;const hA=new nt({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let _l=QO=class extends nte{constructor(...e){super(...e),this.color=new de([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new ms}normalizeCtorArgs(e,t,i,n){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t!=null&&(r.size=mt(t)),i&&(r.outline=i),n&&(r.color=n),r}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new QO({angle:this.angle,color:z(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};u([d()],_l.prototype,"color",void 0),u([ue("color")],_l.prototype,"writeColor",null),u([xe({esriSMS:"simple-marker"},{readOnly:!0})],_l.prototype,"type",void 0),u([d()],_l.prototype,"size",void 0),u([d({type:hA.apiValues,json:{read:hA.read,write:hA.write}})],_l.prototype,"style",void 0),u([d({type:String,json:{write:!0}})],_l.prototype,"path",null),u([d({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ms}},json:{default:null,write:!0}})],_l.prototype,"outline",void 0),_l=QO=u([I("esri.symbols.SimpleMarkerSymbol")],_l);const Pu=_l;var XO;let ni=XO=class extends bs{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new qC,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),i&&(n.color=i),n}writeLineWidth(e,t,i,n){n&&typeof n!="string"?n.origin:t[i]=e}castLineWidth(e){return mt(e)}writeLineHeight(e,t,i,n){n&&typeof n!="string"?n.origin:t[i]=e}clone(){return new XO({angle:this.angle,backgroundColor:z(this.backgroundColor),borderLineColor:z(this.borderLineColor),borderLineSize:this.borderLineSize,color:z(this.color),font:this.font&&this.font.clone(),haloColor:z(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(e=this.color)==null?void 0:e.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};u([d({type:de,json:{write:!0}})],ni.prototype,"backgroundColor",void 0),u([d({type:de,json:{write:!0}})],ni.prototype,"borderLineColor",void 0),u([d({type:Number,json:{write:!0},cast:mt})],ni.prototype,"borderLineSize",void 0),u([d({type:qC,json:{write:!0}})],ni.prototype,"font",void 0),u([d({...Eee,json:{write:!0}})],ni.prototype,"horizontalAlignment",void 0),u([d({type:Boolean,json:{write:!0}})],ni.prototype,"kerning",void 0),u([d({type:de,json:{write:!0}})],ni.prototype,"haloColor",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],ni.prototype,"haloSize",void 0),u([d({type:Boolean,json:{write:!0}})],ni.prototype,"rightToLeft",void 0),u([d({type:Boolean,json:{write:!0}})],ni.prototype,"rotated",void 0),u([d({type:String,json:{write:!0}})],ni.prototype,"text",void 0),u([xe({esriTS:"text"},{readOnly:!0})],ni.prototype,"type",void 0),u([d({...kee,json:{write:!0}})],ni.prototype,"verticalAlignment",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],ni.prototype,"xoffset",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],ni.prototype,"yoffset",void 0),u([d({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],ni.prototype,"angle",void 0),u([d({type:Number,json:{write:!0}})],ni.prototype,"width",void 0),u([d({type:Number})],ni.prototype,"lineWidth",void 0),u([ue("lineWidth")],ni.prototype,"writeLineWidth",null),u([ct("lineWidth")],ni.prototype,"castLineWidth",null),u([d(See)],ni.prototype,"lineHeight",void 0),u([ue("lineHeight")],ni.prototype,"writeLineHeight",null),ni=XO=u([I("esri.symbols.TextSymbol")],ni);const J0=ni;var e5;let ko=e5=class extends bs{constructor(e){super(e),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=$(this.portal)?this.portal:gr.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new e5({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const i=$(t)?t.cache:null,n=i?this._fetchCacheKey:null;if($(i)){const o=n&&i.get(n);if(o)return o.clone()}const r=await cTe();gi(t);const s=r.resolveWebStyleSymbol(this,{portal:this.portal},e,t);s.catch(o=>{Y.getLogger(this.declaredClass).error("#fetchSymbol()","Failed to create symbol from style",o)});const a=await s;return e==="webRef"&&a.type==="point-3d"||e==="cimRef"&&a.type==="cim"?($(i)&&i.set(n,a.clone()),a):null}};function cTe(){return H(()=>import("./webStyleSymbolUtils.js"),["webStyleSymbolUtils.js","devEnvironmentUtils.js"])}u([d({json:{write:!1}})],ko.prototype,"color",void 0),u([d({type:String,json:{write:!0}})],ko.prototype,"styleName",void 0),u([d({type:gr,json:{write:!1}})],ko.prototype,"portal",void 0),u([d({type:String,json:{read:AN,write:gm}})],ko.prototype,"styleUrl",void 0),u([d({type:B1,json:{read:!1}})],ko.prototype,"thumbnail",void 0),u([d({type:String,json:{write:!0}})],ko.prototype,"name",void 0),u([xe({styleSymbolReference:"web-style"},{readOnly:!0})],ko.prototype,"type",void 0),u([d()],ko.prototype,"_fetchCacheKey",null),ko=e5=u([I("esri.symbols.WebStyleSymbol")],ko);const Rm=ko;function eT(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function _0(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Hf={base:bs,key:"type",typeMap:{"simple-fill":Wh,"picture-fill":lte,"picture-marker":L_,"simple-line":ms,"simple-marker":Pu,text:J0,"label-3d":ZC,"line-3d":QC,"mesh-3d":XC,"point-3d":kf,"polygon-3d":F_,"web-style":Rm,cim:D_},errorContext:"symbol"},uTe={base:bs,key:"type",typeMap:{"picture-marker":L_,"simple-marker":Pu,text:J0,"web-style":Rm,cim:D_},errorContext:"symbol"},dTe=Uh({types:Hf}),tT={base:bs,key:"type",typeMap:{"simple-fill":Wh,"picture-fill":lte,"picture-marker":L_,"simple-line":ms,"simple-marker":Pu,text:J0,"line-3d":QC,"mesh-3d":XC,"point-3d":kf,"polygon-3d":F_,"web-style":Rm,cim:D_},errorContext:"symbol"},hTe={base:bs,key:"type",typeMap:{text:J0,"label-3d":ZC},errorContext:"symbol"},jj={base:bs,key:"type",typeMap:{"line-3d":QC,"mesh-3d":XC,"point-3d":kf,"polygon-3d":F_,"web-style":Rm,cim:D_},errorContext:"symbol"},pTe={base:bs,key:"type",typeMap:{"label-3d":ZC},errorContext:"symbol"},dte=tc(Hf);function fTe(e){if(!e)return null;const t={};for(const i in e){const n=Ah(e[i]);n&&(t[i]=n)}return Object.keys(t).length!==0?t:null}function mTe(e){if(!$(e))return null;const t={};for(const i in e){const n=e[i];n&&(t[i]=n.toJSON())}return Object.keys(t).length!==0?t:null}let Jr=class extends Wt(W){constructor(...t){super(...t),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:P1(),configurable:!0})}normalizeCtorArgs(t,i,n,r){return t&&!t.declaredClass?t:{geometry:t,symbol:i,attributes:n,popupTemplate:r}}set aggregateGeometries(t){const i=this._get("aggregateGeometries");JSON.stringify(i)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const i=this._get("attributes");i!==t&&(this._set("attributes",t),this._notifyLayer("attributes",i,t))}set geometry(t){const i=this._get("geometry");i!==t&&(this._set("geometry",t),this._notifyLayer("geometry",i,t))}set symbol(t){const i=this._get("symbol");i!==t&&(this._set("symbol",t),this._notifyLayer("symbol",i,t))}set visible(t){const i=this._get("visible");i!==t&&(this._set("visible",t),this._notifyLayer("visible",i,t))}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;for(const i of[this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(t&&"defaultPopupTemplate"in i&&$(i.defaultPopupTemplate))return i.defaultPopupTemplate}return null}getAttribute(t){var i;return(i=this.attributes)==null?void 0:i[t]}setAttribute(t,i){if(this.attributes){const n=this.getAttribute(t);this.attributes[t]=i,this._notifyLayer("attributes",n,i,t)}else this.attributes={[t]:i},this._notifyLayer("attributes",void 0,i,t)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:mTe(this.aggregateGeometries),geometry:$(this.geometry)?this.geometry.toJSON():null,symbol:$(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){$(this.geometry)&&this.geometry.type==="mesh"&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(t,i,n,r){if(!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:t,oldValue:i,newValue:n};t==="attributes"&&(s.attributeName=r),this.layer.graphicChanged(s)}};u([d({value:null,json:{read:fTe}})],Jr.prototype,"aggregateGeometries",null),u([d({value:null})],Jr.prototype,"attributes",null),u([d({value:null,types:Dm,json:{read:Ah}})],Jr.prototype,"geometry",null),u([d({type:Boolean})],Jr.prototype,"isAggregate",void 0),u([d({clonable:"reference"})],Jr.prototype,"layer",void 0),u([d({type:M_})],Jr.prototype,"popupTemplate",void 0),u([d({clonable:"reference"})],Jr.prototype,"sourceLayer",void 0),u([d({value:null,types:Hf})],Jr.prototype,"symbol",null),u([d({type:Boolean,value:!0})],Jr.prototype,"visible",null),Jr=u([I("esri.Graphic")],Jr),function(e){e.generateUID=P1}(Jr||(Jr={}));const yr=Jr;let FN=class{constructor(t,i){this.min=t,this.max=i,this.range=i-t}ndiff(t,i=0){return Math.ceil((t-i)/this.range)*this.range+i}_normalize(t,i,n,r=0,s=!1){return(n-=r)<t?n+=this.ndiff(t-n):n>i&&(n-=this.ndiff(n-i)),s&&n===i&&(n=t),n+r}normalize(t,i=0,n=!1){return this._normalize(this.min,this.max,t,i,n)}clamp(t,i=0){return fs(t-i,this.min,this.max)+i}monotonic(t,i,n){return t<i?i:i+this.ndiff(t-i,n)}minimalMonotonic(t,i,n){return this._normalize(t,t+this.range,i,n)}center(t,i,n){return i=this.monotonic(t,i,n),this.normalize((t+i)/2,n)}diff(t,i,n){return this.monotonic(t,i,n)-t}shortestSignedDiff(t,i){t=this.normalize(t);const n=(i=this.normalize(i))-t,r=i<t?this.minimalMonotonic(t,i)-t:i-this.minimalMonotonic(i,t);return Math.abs(n)<Math.abs(r)?n:r}contains(t,i,n){return i=this.minimalMonotonic(t,i),(n=this.minimalMonotonic(t,n))>t&&n<i}};function NN(e){for(const t in e){const i=e[t];i instanceof Function&&(e[t]=i.bind(e))}return e}NN(new FN(0,2*Math.PI));NN(new FN(-Math.PI,Math.PI));const gTe=NN(new FN(0,360));let kc=class extends Wt(W){constructor(...t){super(...t),this.position=new Le([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(t,i,n,r){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const s={position:t};return i!=null&&(s.heading=i),n!=null&&(s.tilt=n),r!=null&&(s.fov=r),s}return t}writePosition(t,i,n,r){const s=t.clone();s.x=Ra(t.x||0),s.y=Ra(t.y||0),s.z=t.hasZ?Ra(t.z||0):t.z,i[n]=s.write({},r)}readPosition(t,i){const n=new Le;return n.read(t,i),n.x=Ra(n.x||0),n.y=Ra(n.y||0),n.z=n.hasZ?Ra(n.z||0):n.z,n}equals(t){return!j(t)&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)}};u([d({type:Le,json:{write:{isRequired:!0}}})],kc.prototype,"position",void 0),u([ue("position")],kc.prototype,"writePosition",null),u([ee("position")],kc.prototype,"readPosition",null),u([d({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),ct(e=>gTe.normalize(Ra(e)))],kc.prototype,"heading",void 0),u([d({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),ct(e=>fs(Ra(e),-180,180))],kc.prototype,"tilt",void 0),u([d({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],kc.prototype,"fov",void 0),kc=u([I("esri.Camera")],kc);const yTe=kc;var t5;let pd=t5=class extends W{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new t5({rotation:this.rotation,scale:this.scale,targetGeometry:$(this.targetGeometry)?this.targetGeometry.clone():null,camera:$(this.camera)?this.camera.clone():null})}};function pA(){return{enabled:!this.camera}}u([d({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:pA}}}}})],pd.prototype,"rotation",void 0),u([ct("rotation")],pd.prototype,"castRotation",null),u([d({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:pA}}}}})],pd.prototype,"scale",void 0),u([d({types:Dm,json:{read:Ah,write:!0,origins:{"web-scene":{read:Ah,write:{overridePolicy:pA}}}}})],pd.prototype,"targetGeometry",void 0),u([d({type:yTe,json:{write:!0}})],pd.prototype,"camera",void 0),pd=t5=u([I("esri.Viewpoint")],pd);const Wl=pd;let kg=class extends Ie{constructor(t){super(t),this.getCollections=null}initialize(){this.own(wQ(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const t=$(this.getCollections)?this.getCollections():null;if(j(t))return void this.removeAll();let i=0;for(const n of t)$(n)&&(i=this._processCollection(i,n));this.splice(i,this.length)}_createNewInstance(t){return new Ie(t)}_processCollection(t,i){if(!i)return t;const n=this.itemFilterFunction?this.itemFilterFunction:r=>!!r;for(const r of i)if(r){if(n(r)){const s=this.indexOf(r,t);s>=0?s!==t&&this.reorder(r,t):this.add(r,t),++t}if(this.getChildrenFunction){const s=this.getChildrenFunction(r);if(Array.isArray(s))for(const a of s)t=this._processCollection(t,a);else t=this._processCollection(t,s)}}return t}};u([d()],kg.prototype,"getCollections",void 0),u([d()],kg.prototype,"getChildrenFunction",void 0),u([d()],kg.prototype,"itemFilterFunction",void 0),kg=u([I("esri.core.CollectionFlattener")],kg);const Hw=kg;function X(e,t,i={}){return zN(e,t,i,hte)}function io(e,t,i={}){return zN(e,t,i,pte)}function zN(e,t,i={},n){let r=null;const s=i.once?(a,o)=>{n(a)&&(Hi(r),t(a,o))}:(a,o)=>{n(a)&&t(a,o)};if(r=oSe(e,s,i.sync,i.equals),i.initial){const a=e();s(a,a)}return r}function gs(e,t,i,n={}){let r=null,s=null,a=null;function o(){var h;r&&s&&(s.remove(),(h=n.onListenerRemove)==null||h.call(n,r),r=null,s=null)}function l(h){n.once&&n.once&&Hi(a),i(h)}const c=X(e,(h,p)=>{var m;o(),DC(h)&&(r=h,s=OC(h,t,l),(m=n.onListenerAdd)==null||m.call(n,h))},{sync:n.sync,initial:!0});return a=j0(()=>{c.remove(),o()}),a}function VN(e,t){return vTe(e,pte,t)}function vTe(e,t,i){if(Qs(i))return Promise.reject(ui());const n=e();if(t!=null&&t(n))return Promise.resolve(n);let r=null;function s(){r=Hi(r)}return new Promise((a,o)=>{r=AC([ds(i,()=>{s(),o(ui())}),zN(e,l=>{s(),a(l)},{sync:!1,once:!0},t??hte)])})}function hte(e){return!0}function pte(e){return!!e}const x0={sync:!0},gt={initial:!0},Fd={sync:!0,initial:!0};let lI=class{constructor(t=i=>i.values().next().value){this._peeker=t,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(this._items.size===0)return;let t;for(t of this._items);return t}peek(){if(this._items.size!==0)return this._peeker(this._items)}push(t){this.contains(t)||this._items.add(t)}contains(t){return this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),t}remove(t){this._items.delete(t)}filter(t){return this._items.forEach(i=>{t(i)||this._items.delete(i)}),this}};var Mn;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(Mn||(Mn={}));let bTe=0;function fte(){return bTe++}function wTe(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function Gw(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function jN(e,t,i,n){if(t.type===Mn.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==Mn.INVOKE&&t.type!==Mn.RESPONSE)return void e.postMessage(t);let r;if(wTe(i)?(r=Uj(i.transferList),t.data=i.result):(r=Uj(n),t.data=i),r){if(G("ff")){for(const s of r)if("byteLength"in s&&s.byteLength>267386880){const a="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case Mn.INVOKE:throw a;case Mn.RESPONSE:return void jN(e,{type:Mn.RESPONSE,jobId:t.jobId,error:Gw(a)})}}}e.postMessage(t,r)}else e.postMessage(t)}function qw(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function Uj(e){if(!e||!e.length)return null;if(G("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(i=>!_Te(i));return t.length?t:null}function _Te(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}const xTe={statsWorker:()=>H(()=>import("./statsWorker.js"),["statsWorker.js","quantizationUtils.js","utils2.js","generateRendererUtils.js"]),geometryEngineWorker:()=>H(()=>import("./geometryEngineWorker.js"),["geometryEngineWorker.js","geometryEngineJSON2.js","geometryEngineBase.js","json.js"]),CSVSourceWorker:()=>H(()=>import("./CSVSourceWorker.js"),["CSVSourceWorker.js","json.js","FeatureStore.js","BoundsStore.js","PooledRBush.js","centroid.js","utils3.js","projectionSupport.js","QueryEngine.js","QueryEngineResult.js","quantizationUtils.js","WhereClause.js","executionError.js","utils2.js","generateRendererUtils.js","QueryEngineCapabilities.js","timeSupport.js","number.js","clientSideDefaults.js"]),EdgeProcessingWorker:()=>H(()=>import("./EdgeProcessingWorker.js"),["EdgeProcessingWorker.js","BufferView.js","edgeProcessing.js","deduplicate.js","Indices.js","InterleavedLayout.js","types.js","VertexAttribute.js"]),ElevationSamplerWorker:()=>H(()=>import("./ElevationSamplerWorker.js"),["ElevationSamplerWorker.js","PooledRBush.js","georeference.js","mat3f64.js","mat4f64.js","spatialReferenceEllipsoidUtils.js","quat.js","quatf64.js","BufferView.js","vec33.js"]),FeatureServiceSnappingSourceWorker:()=>H(()=>import("./FeatureServiceSnappingSourceWorker.js"),["FeatureServiceSnappingSourceWorker.js","FeatureStore.js","BoundsStore.js","PooledRBush.js","centroid.js","utils3.js","projectionSupport.js","json.js","QueryEngine.js","QueryEngineResult.js","quantizationUtils.js","WhereClause.js","executionError.js","utils2.js","generateRendererUtils.js","QueryEngineCapabilities.js","timeSupport.js"]),GeoJSONSourceWorker:()=>H(()=>import("./GeoJSONSourceWorker.js"),["GeoJSONSourceWorker.js","FeatureStore.js","BoundsStore.js","PooledRBush.js","centroid.js","utils3.js","projectionSupport.js","json.js","QueryEngine.js","QueryEngineResult.js","quantizationUtils.js","WhereClause.js","executionError.js","utils2.js","generateRendererUtils.js","QueryEngineCapabilities.js","timeSupport.js","geojson.js","clientSideDefaults.js","sourceUtils.js"]),LercWorker:()=>H(()=>import("./LercWorker.js"),[]),MemorySourceWorker:()=>H(()=>import("./MemorySourceWorker.js"),["MemorySourceWorker.js","objectIdUtils.js","FeatureStore.js","BoundsStore.js","PooledRBush.js","centroid.js","utils3.js","projectionSupport.js","json.js","QueryEngine.js","QueryEngineResult.js","quantizationUtils.js","WhereClause.js","executionError.js","utils2.js","generateRendererUtils.js","QueryEngineCapabilities.js","timeSupport.js","clientSideDefaults.js","sourceUtils.js"]),PBFDecoderWorker:()=>H(()=>import("./PBFDecoderWorker.js"),[]),Pipeline:()=>H(()=>import("./Pipeline.js"),["Pipeline.js","QueryEngine.js","QueryEngineResult.js","quantizationUtils.js","WhereClause.js","executionError.js","utils2.js","generateRendererUtils.js","projectionSupport.js","json.js","utils3.js","QueryEngineCapabilities.js","timeSupport.js","FeatureStore2D.js","CircularArray.js","ComputedAttributeStorage.js","arcadeTimeUtils.js","centroid.js","visualVariablesUtils.js","color.js","visualVariablesUtils2.js","ogcFeatureUtils.js","geojson.js","clientSideDefaults.js","createConnection.js"]),PointCloudWorker:()=>H(()=>import("./PointCloudWorker.js"),["PointCloudWorker.js","quat.js","mat3f64.js","quatf64.js","I3SBinaryReader.js","VertexAttribute.js","vec3f32.js","PointCloudUniqueValueRenderer.js"]),RasterWorker:()=>H(()=>import("./RasterWorker.js"),["RasterWorker.js","dataUtils.js","RasterSymbolizer.js","utils5.js","rasterProjectionHelper.js"]),SceneLayerSnappingSourceWorker:()=>H(()=>import("./SceneLayerSnappingSourceWorker.js"),["SceneLayerSnappingSourceWorker.js","Util2.js","sphere.js","mat3f64.js","mat4f64.js","quatf64.js","QueryEngineResult.js","quantizationUtils.js","WhereClause.js","executionError.js","utils2.js","generateRendererUtils.js","projectionSupport.js","json.js","utils3.js","plane.js","edgeProcessing.js","deduplicate.js","Indices.js","InterleavedLayout.js","BufferView.js","types.js","VertexAttribute.js"]),SceneLayerWorker:()=>H(()=>import("./SceneLayerWorker.js"),["SceneLayerWorker.js","sphere.js","mat3f64.js","mat4f64.js","quatf64.js"]),WFSSourceWorker:()=>H(()=>import("./WFSSourceWorker.js"),["WFSSourceWorker.js","FeatureStore.js","BoundsStore.js","PooledRBush.js","centroid.js","utils3.js","projectionSupport.js","json.js","QueryEngine.js","QueryEngineResult.js","quantizationUtils.js","WhereClause.js","executionError.js","utils2.js","generateRendererUtils.js","QueryEngineCapabilities.js","timeSupport.js","geojson.js","sourceUtils.js","wfsUtils.js","xmlUtils.js"]),WorkerTileHandler:()=>H(()=>import("./WorkerTileHandler.js"),["WorkerTileHandler.js","Rect.js","config.js","TurboLine.js","earcut.js","BidiEngine.js"])},{CLOSE:Bj,ABORT:Hj,INVOKE:Gj,RESPONSE:Vv,OPEN_PORT:qj,ON:STe}=Mn,ETe=2;let kTe=class{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===Mn.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},Oh=class Ig{static connect(t){const i=new MessageChannel;let n;n=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const r=new Ig(i.port1,{channel:i,client:n},()=>null);return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=r),Ig.clients.set(r,n),i.port2}static loadWorker(t){const i=xTe[t];return i?i():Promise.resolve(null)}constructor(t,i,n){this._port=t,this._getNextJob=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new kTe(r=>this._onInvokeMessage(r)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:Bj}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,i,n){const r=n&&n.signal,s=n&&n.transferList;if(!this._port)return Promise.reject(new N("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:i}));const a=fte();return new Promise((o,l)=>{if(Qs(r))return this._processWork(),void l(ui());const c=ds(r,()=>{const p=this._outJobs.get(a);p&&(this._outJobs.delete(a),this._processWork(),Hi(p.abortHandle),this._post({type:Hj,jobId:a}),l(ui()))}),h={resolve:o,reject:l,abortHandle:c,debugInfo:t};this._outJobs.set(a,h),this._post({type:Gj,jobId:a,methodName:t,abortable:r!=null},i,s)})}on(t,i){const n=new MessageChannel;function r(s){i(s.data)}return this._port.postMessage({type:Mn.ON,eventType:t,port:n.port2},[n.port2]),n.port1.addEventListener("message",r),n.port1.start(),{remove(){n.port1.postMessage({type:Mn.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",r)}}}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:qj,port:t.port2}),t.port1}_processWork(){if(this._outJobs.size>=ETe)return;const t=this._getNextJob();if(!t)return;const{methodName:i,data:n,invokeOptions:r,deferred:s}=t;this.invoke(i,n,r).then(a=>s.resolve(a)).catch(a=>s.reject(a))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{Hi(t.abortHandle),t.reject(ui(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(t){$(this._schedule)?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const i=qw(t);if(i)switch(i.type){case Vv:this._onResponseMessage(i);break;case Gj:this._invokeQueue.push(i);break;case Hj:this._onAbortMessage(i);break;case Bj:this._onCloseMessage();break;case qj:this._onOpenPortMessage(i);break;case STe:this._onOnMessage(i)}}_onAbortMessage(t){const i=this._inJobs,n=t.jobId,r=i.get(n);this._invokeQueue.push(t),r&&(r.controller&&r.controller.abort(),i.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&Ig.clients.get(this)===t&&t.destroy(),Ig.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:i,jobId:n,data:r,abortable:s}=t,a=s?new AbortController:null,o=this._inJobs;let l,c=this._client,h=c[i];try{if(!h&&i&&i.includes(".")){const p=i.split(".");for(let m=0;m<p.length-1;m++)c=c[p[m]],h=c[p[m+1]]}if(typeof h!="function")throw new TypeError(`${i} is not a function`);l=h.call(c,r,{client:this,signal:a?a.signal:null})}catch(p){return void this._post({type:Vv,jobId:n,error:Gw(p)})}Ou(l)?(o.set(n,{controller:a,promise:l}),l.then(p=>{o.has(n)&&(o.delete(n),this._post({type:Vv,jobId:n},p))},p=>{o.has(n)&&(o.delete(n),Vr(p)||this._post({type:Vv,jobId:n,error:Gw(p||{message:`Error encountered at method ${i}`})}))})):this._post({type:Vv,jobId:n},l)}_onOpenPortMessage(t){new Ig(t.port,{client:this._client},()=>null)}_onOnMessage(t){const{port:i}=t,n=this._client.on(t.eventType,s=>{i.postMessage(s)}),r=OC(t.port,"message",s=>{var a;((a=qw(s))==null?void 0:a.type)===Mn.CLOSE&&(r.remove(),n.remove(),i.close())})}_onResponseMessage(t){const{jobId:i,error:n,data:r}=t,s=this._outJobs;if(!s.has(i))return;const a=s.get(i);s.delete(i),this._processWork(),Hi(a.abortHandle),n?a.reject(N.fromJSON(JSON.parse(n))):a.resolve(r)}_post(t,i,n){return jN(this._port,t,i,n)}};Oh.kernelInfo={revision:Uee,version:Bee,buildDate:jee},Oh.clients=new Map;let ITe=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new lI}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,i){return new Promise((n,r)=>{let s=!0;const a=o=>{gi(i.signal),s&&(s=!1,o())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let o=0;o<t.length;++o){const l=t[o];Ou(l)?this._clientPromises[o]=l.then(c=>(this._clients[o]=new Oh(c,i,()=>this._ongoingJobsQueue.pop()??null),a(n),this._clients[o]),()=>(a(r),null)):(this._clients[o]=new Oh(l,i,()=>this._ongoingJobsQueue.pop()??null),this._clientPromises[o]=Promise.resolve(this._clients[o]),a(n))}})}broadcast(t,i,n){const r=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const a=this._clientPromises[s];r[s]=a.then(o=>o==null?void 0:o.invoke(t,i,n))}return r}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.deferred.reject(ui(`Worker closing, aborting job calling '${t.methodName}'`));for(const i of this._clientPromises)i.then(n=>n==null?void 0:n.close());this._clients.length=0,this._clientPromises.length=0}invoke(t,i,n){let r;Array.isArray(n)?(Y.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),r={transferList:n}):r=n;const s=vu();this._ongoingJobsQueue.push({methodName:t,data:i,invokeOptions:r,deferred:s});for(let a=0;a<this._clientPromises.length;a++){const o=this._clients[a];o?o.jobAdded():this._clientPromises[a].then(l=>l==null?void 0:l.jobAdded())}return s.promise}on(t,i){return Promise.all(this._clientPromises).then(()=>AC(this._clients.map(n=>n.on(t,i))))}openPorts(){return new Promise(t=>{const i=new Array(this._clientPromises.length);let n=i.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then(s=>{s&&(i[r]=s.openPort()),--n==0&&t(i)})})}get test(){return{numClients:this._clients.length}}};const CTe=Y.getLogger("esri.assets");function wt(e){if(!ut.assetsPath)throw CTe.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new N("assets:path-not-set","config.assetsPath is not set");return nc(ut.assetsPath,e)}const mte=Y.getLogger("esri.intl.substitute");function Ol(e,t,i={}){const{format:n={}}=i;return ec(e,r=>TTe(r,t,n))}function TTe(e,t,i){let n,r;const s=e.indexOf(":");if(s===-1?n=e.trim():(n=e.slice(0,s).trim(),r=e.slice(s+1).trim()),!n)return"";const a=S_(n,t);if(a==null)return"";const o=(r?i==null?void 0:i[r]:null)??(i==null?void 0:i[n]);return o?$Te(a,o):r?ATe(a,r):UN(a)}function $Te(e,t){switch(t.type){case"date":return _u(e,t.intlOptions);case"number":return Mh(e,t.intlOptions);default:return mte.warn("missing format descriptor for key {key}"),UN(e)}}function ATe(e,t){switch(t.toLowerCase()){case"dateformat":return _u(e);case"numberformat":return Mh(e);default:return mte.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?_u(e):/^numberformat/i.test(t)?Mh(e):UN(e)}}function UN(e){switch(typeof e){case"string":return e;case"number":return Mh(e);case"boolean":return""+e;default:return e instanceof Date?_u(e):""}}const Wj=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,MTe={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function Kj(e){return MTe[e]??!1}const Rb=[],zy=new Map;function Yj(e){for(const t of zy.keys())yte(e.pattern,t)&&zy.delete(t)}function DTe(e){return Rb.includes(e)||(Yj(e),Rb.unshift(e)),{remove(){const t=Rb.indexOf(e);t>-1&&(Rb.splice(t,1),Yj(e))}}}async function gte(e){const t=Wa();zy.has(e)||zy.set(e,RTe(e,t));const i=zy.get(e);return i&&await PTe.add(i),i}function OTe(e){if(!Wj.test(e))return null;const t=Wj.exec(e);if(t===null)return null;const[,i,n]=t,r=i+(n?"-"+n.toUpperCase():"");return Kj(r)?r:Kj(i)?i:null}async function RTe(e,t){const i=[];for(const n of Rb)if(yte(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(r){i.push(r)}throw i.length?new N("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:i}):new N("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function yte(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}oN(()=>{zy.clear()});const PTe=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=vu())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function LTe(e,t,i,n){const r=t.exec(i);if(!r)throw new N("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${t}"`);const s=r[1]?`${r[1]}/`:"",a=r[2],o=OTe(n),l=`${s}${a}.json`,c=o?`${s}${a}_${o}.json`:l;let h;try{h=await Jj(e(c))}catch(p){if(c===l)throw new N("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:p});try{h=await Jj(e(l))}catch(m){throw new N("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:m})}}return h}async function Jj(e){if($(Zj.fetchBundleAsset))return Zj.fetchBundleAsset(e);const t=await Tt(e,{responseType:"text"});return JSON.parse(t.data)}let FTe=class{constructor({base:t="",pattern:i,location:n=new URL(window.location.href)}){let r;r=typeof n=="string"?s=>new URL(s,new URL(n,window.location.href)).href:n instanceof URL?s=>new URL(s,n).href:n,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=r,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,i){return LTe(this.getAssetUrl,this.matcher,t,i)}};function NTe(e){return new FTe(e)}const Zj={};DTe(NTe({pattern:"esri/",location:wt}));const zTe={};function VTe(e){const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages&&e.packages.concat()||[],paths:{...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=zTe.baseUrl),t}let jTe=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...n)=>t[i](...n)})}},j2=class{constructor(){this._dispatcher=new jTe,this._workerPostMessage({type:Mn.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){Gk(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,i,n){this._dispatcher.addEventListener(t,i,n)}removeEventListener(t,i,n){this._dispatcher.removeEventListener(t,i,n)}_workerPostMessage(t){Gk(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const i=qw(t);if(i&&i.type===Mn.OPEN){const{modulePath:n,jobId:r}=i;let s=await Oh.loadWorker(n);s||(s=await H(()=>import(n),[]));const a=Oh.connect(s);this._workerPostMessage({type:Mn.OPENED,jobId:r,data:a})}}};const i5=Y.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:UTe}=Mn,BTe='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,version:r}=configuration.kernelInfo,{revision:t,version:n}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS API for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const i=outgoing.get(r);outgoing.delete(r),o.error?i.reject(JSON.parse(o.error)):i.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let Xx,eS;const Qj="Failed to create Worker. Fallback to execute module in main thread";async function HTe(){if(!G("esri-workers")||(G("mozilla"),0))return Xj(new j2);if(!Xx&&!eS)try{const t=BTe.split('"{CONFIGURATION}"').join(`'${GTe()}'`);Xx=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){eS=t||{}}let e;if(Xx)try{e=new Worker(Xx,{name:"esri-worker-"+qTe++})}catch{i5.warn(Qj,eS),e=new j2}else i5.warn(Qj,eS),e=new j2;return Xj(e)}async function Xj(e){return new Promise(t=>{function i(r){const s=qw(r);s&&s.type===UTe&&(e.removeEventListener("message",i),e.removeEventListener("error",n),t(e))}function n(r){r.preventDefault(),e.removeEventListener("message",i),e.removeEventListener("error",n),i5.warn("Failed to create Worker. Fallback to execute module in main thread",r),(e=new j2).addEventListener("message",i),e.addEventListener("error",n)}e.addEventListener("message",i),e.addEventListener("error",n)})}function GTe(){let e;if(ut.default!=null){const r={...ut};delete r.default,e=JSON.parse(JSON.stringify(r))}else e=JSON.parse(JSON.stringify(ut));e.assetsPath=Fa(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?Fa(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Wa(),e.has={"esri-csp-restrictions":G("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":G("esri-2d-update-debug"),"featurelayer-pbf":G("featurelayer-pbf"),"featurelayer-simplify-thresholds":G("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":G("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":G("featurelayer-simplify-mobile-factor"),"esri-atomics":G("esri-atomics"),"esri-shared-array-buffer":G("esri-shared-array-buffer"),"esri-tiles-debug":G("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":G("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":G("feature-polyline-generalization-factor"),"host-webworker":1,"polylabel-placement-enabled":G("polylabel-placement-enabled")},e.workers.loaderUrl&&(e.workers.loaderUrl=Fa(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Fa(e.workers.workerPath):e.workers.workerPath=Fa(wt("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=ut.workers.loaderConfig,i=VTe({baseUrl:t==null?void 0:t.baseUrl,locale:Wa(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:{version:Bee,buildDate:jee,revision:Uee}})}let qTe=0;const{ABORT:eU,INVOKE:WTe,OPEN:KTe,OPENED:YTe,RESPONSE:jv}=Mn;let JTe=class vte{static async create(t){const i=await HTe();return new vte(i,t)}constructor(t,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=i,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",n=>{n.preventDefault(),Y.getLogger("esri.core.workers.WorkerOwner").error(n)})}terminate(){this.worker.terminate()}async open(t,i={}){const{signal:n}=i,r=fte();return new Promise((s,a)=>{const o={resolve:s,reject:a,abortHandle:UF(n,()=>{this._outJobs.delete(r),this._post({type:eU,jobId:r})})};this._outJobs.set(r,o),this._post({type:KTe,jobId:r,modulePath:t})})}_onMessage(t){const i=qw(t);if(i)switch(i.type){case YTe:this._onOpenedMessage(i);break;case jv:this._onResponseMessage(i);break;case eU:this._onAbortMessage(i);break;case WTe:this._onInvokeMessage(i)}}_onAbortMessage(t){const i=this._inJobs,n=t.jobId,r=i.get(n);r&&(r.controller&&r.controller.abort(),i.delete(n))}_onInvokeMessage(t){const{methodName:i,jobId:n,data:r,abortable:s}=t,a=s?new AbortController:null,o=this._inJobs,l=TCe[i];let c;try{if(typeof l!="function")throw new TypeError(`${i} is not a function`);c=l.call(null,r,{signal:a?a.signal:null})}catch(h){return void this._post({type:jv,jobId:n,error:Gw(h)})}Ou(c)?(o.set(n,{controller:a,promise:c}),c.then(h=>{o.has(n)&&(o.delete(n),this._post({type:jv,jobId:n},h))},h=>{o.has(n)&&(o.delete(n),h||(h={message:"Error encountered at method"+i}),Vr(h)||this._post({type:jv,jobId:n,error:Gw(h||{message:`Error encountered at method ${i}`})}))})):this._post({type:jv,jobId:n},c)}_onOpenedMessage(t){const{jobId:i,data:n}=t,r=this._outJobs.get(i);r&&(this._outJobs.delete(i),Hi(r.abortHandle),r.resolve(n))}_onResponseMessage(t){const{jobId:i,error:n,data:r}=t,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),Hi(s.abortHandle),n?s.reject(N.fromJSON(JSON.parse(n))):s.resolve(r))}_post(t,i,n){return jN(this.worker,t,i,n)}},If=G("esri-workers-debug")?1:G("esri-mobile")?Math.min(navigator.hardwareConcurrency-1,3):G("host-browser")?navigator.hardwareConcurrency-1:0;If||(If=G("safari")&&G("mac")?7:2);let tU=0;const U2=[];function ZTe(){bte()}async function tS(e,t){const i=new ITe;return await i.open(e,t),i}async function QTe(e,t={}){if(typeof e!="string")throw new N("workers:undefined-module","modulePath is missing");let i=t.strategy||"distributed";if(G("host-webworker")&&!G("esri-workers")&&(i="local"),i==="local"){let n=await Oh.loadWorker(e);n||(n=await H(()=>import(e),[])),gi(t.signal);const r=t.client||n;return tS([Oh.connect(n)],{...t,client:r})}if(await bte(),gi(t.signal),i==="dedicated"){const n=tU++%If;return tS([await U2[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,If);if(n<If){const r=new Array(n);for(let s=0;s<n;++s){const a=tU++%If;r[s]=U2[a].open(e,t)}return tS(r,t)}}return tS(U2.map(n=>n.open(e,t)),t)}let iS=null;async function bte(){if(iS)return iS;new AbortController;const e=[];for(let t=0;t<If;t++){const i=JTe.create(t).then(n=>(U2[t]=n,n));e.push(i)}return iS=Promise.all(e),iS}function XTe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Kh(e,t,i,n,r,s,a,o,l,c,h,p,m,g,y,b,w){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e[8]=c,e[9]=h,e[10]=p,e[11]=m,e[12]=g,e[13]=y,e[14]=b,e[15]=w,e}function N_(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Lu(e,t){if(e===t){const i=t[1],n=t[2],r=t[3],s=t[6],a=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=s,e[11]=t[14],e[12]=r,e[13]=a,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function e$e(e,t){return wte(e,t)||N_(e),e}function wte(e,t){const i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],h=t[8],p=t[9],m=t[10],g=t[11],y=t[12],b=t[13],w=t[14],_=t[15],x=i*o-n*a,S=i*l-r*a,k=i*c-s*a,A=n*l-r*o,T=n*c-s*o,C=r*c-s*l,M=h*b-p*y,L=h*w-m*y,V=h*_-g*y,P=p*w-m*b,J=p*_-g*b,oe=m*_-g*w;let se=x*oe-S*J+k*P+A*V-T*L+C*M;return se?(se=1/se,e[0]=(o*oe-l*J+c*P)*se,e[1]=(r*J-n*oe-s*P)*se,e[2]=(b*C-w*T+_*A)*se,e[3]=(m*T-p*C-g*A)*se,e[4]=(l*V-a*oe-c*L)*se,e[5]=(i*oe-r*V+s*L)*se,e[6]=(w*k-y*C-_*S)*se,e[7]=(h*C-m*k+g*S)*se,e[8]=(a*J-o*V+c*M)*se,e[9]=(n*V-i*J-s*M)*se,e[10]=(y*T-b*k+_*x)*se,e[11]=(p*k-h*T-g*x)*se,e[12]=(o*L-a*P-l*M)*se,e[13]=(i*P-n*L+r*M)*se,e[14]=(b*S-y*A-w*x)*se,e[15]=(h*A-p*S+m*x)*se,e):null}function t$e(e,t){const i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],h=t[8],p=t[9],m=t[10],g=t[11],y=t[12],b=t[13],w=t[14],_=t[15];return e[0]=o*(m*_-g*w)-p*(l*_-c*w)+b*(l*g-c*m),e[1]=-(n*(m*_-g*w)-p*(r*_-s*w)+b*(r*g-s*m)),e[2]=n*(l*_-c*w)-o*(r*_-s*w)+b*(r*c-s*l),e[3]=-(n*(l*g-c*m)-o*(r*g-s*m)+p*(r*c-s*l)),e[4]=-(a*(m*_-g*w)-h*(l*_-c*w)+y*(l*g-c*m)),e[5]=i*(m*_-g*w)-h*(r*_-s*w)+y*(r*g-s*m),e[6]=-(i*(l*_-c*w)-a*(r*_-s*w)+y*(r*c-s*l)),e[7]=i*(l*g-c*m)-a*(r*g-s*m)+h*(r*c-s*l),e[8]=a*(p*_-g*b)-h*(o*_-c*b)+y*(o*g-c*p),e[9]=-(i*(p*_-g*b)-h*(n*_-s*b)+y*(n*g-s*p)),e[10]=i*(o*_-c*b)-a*(n*_-s*b)+y*(n*c-s*o),e[11]=-(i*(o*g-c*p)-a*(n*g-s*p)+h*(n*c-s*o)),e[12]=-(a*(p*w-m*b)-h*(o*w-l*b)+y*(o*m-l*p)),e[13]=i*(p*w-m*b)-h*(n*w-r*b)+y*(n*m-r*p),e[14]=-(i*(o*w-l*b)-a*(n*w-r*b)+y*(n*l-r*o)),e[15]=i*(o*m-l*p)-a*(n*m-r*p)+h*(n*l-r*o),e}function i$e(e){const t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],h=e[9],p=e[10],m=e[11],g=e[12],y=e[13],b=e[14],w=e[15];return(t*a-i*s)*(p*w-m*b)-(t*o-n*s)*(h*w-m*y)+(t*l-r*s)*(h*b-p*y)+(i*o-n*a)*(c*w-m*g)-(i*l-r*a)*(c*b-p*g)+(n*l-r*o)*(c*y-h*g)}function _te(e,t,i){const n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],h=t[7],p=t[8],m=t[9],g=t[10],y=t[11],b=t[12],w=t[13],_=t[14],x=t[15];let S=i[0],k=i[1],A=i[2],T=i[3];return e[0]=S*n+k*o+A*p+T*b,e[1]=S*r+k*l+A*m+T*w,e[2]=S*s+k*c+A*g+T*_,e[3]=S*a+k*h+A*y+T*x,S=i[4],k=i[5],A=i[6],T=i[7],e[4]=S*n+k*o+A*p+T*b,e[5]=S*r+k*l+A*m+T*w,e[6]=S*s+k*c+A*g+T*_,e[7]=S*a+k*h+A*y+T*x,S=i[8],k=i[9],A=i[10],T=i[11],e[8]=S*n+k*o+A*p+T*b,e[9]=S*r+k*l+A*m+T*w,e[10]=S*s+k*c+A*g+T*_,e[11]=S*a+k*h+A*y+T*x,S=i[12],k=i[13],A=i[14],T=i[15],e[12]=S*n+k*o+A*p+T*b,e[13]=S*r+k*l+A*m+T*w,e[14]=S*s+k*c+A*g+T*_,e[15]=S*a+k*h+A*y+T*x,e}function n$e(e,t,i){const n=i[0],r=i[1],s=i[2];if(t===e)e[12]=t[0]*n+t[4]*r+t[8]*s+t[12],e[13]=t[1]*n+t[5]*r+t[9]*s+t[13],e[14]=t[2]*n+t[6]*r+t[10]*s+t[14],e[15]=t[3]*n+t[7]*r+t[11]*s+t[15];else{const a=t[0],o=t[1],l=t[2],c=t[3],h=t[4],p=t[5],m=t[6],g=t[7],y=t[8],b=t[9],w=t[10],_=t[11];e[0]=a,e[1]=o,e[2]=l,e[3]=c,e[4]=h,e[5]=p,e[6]=m,e[7]=g,e[8]=y,e[9]=b,e[10]=w,e[11]=_,e[12]=a*n+h*r+y*s+t[12],e[13]=o*n+p*r+b*s+t[13],e[14]=l*n+m*r+w*s+t[14],e[15]=c*n+g*r+_*s+t[15]}return e}function r$e(e,t,i){const n=i[0],r=i[1],s=i[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function s$e(e,t,i,n){let r,s,a,o,l,c,h,p,m,g,y,b,w,_,x,S,k,A,T,C,M,L,V,P,J=n[0],oe=n[1],se=n[2],rt=Math.sqrt(J*J+oe*oe+se*se);return rt<ao()?null:(rt=1/rt,J*=rt,oe*=rt,se*=rt,r=Math.sin(i),s=Math.cos(i),a=1-s,o=t[0],l=t[1],c=t[2],h=t[3],p=t[4],m=t[5],g=t[6],y=t[7],b=t[8],w=t[9],_=t[10],x=t[11],S=J*J*a+s,k=oe*J*a+se*r,A=se*J*a-oe*r,T=J*oe*a-se*r,C=oe*oe*a+s,M=se*oe*a+J*r,L=J*se*a+oe*r,V=oe*se*a-J*r,P=se*se*a+s,e[0]=o*S+p*k+b*A,e[1]=l*S+m*k+w*A,e[2]=c*S+g*k+_*A,e[3]=h*S+y*k+x*A,e[4]=o*T+p*C+b*M,e[5]=l*T+m*C+w*M,e[6]=c*T+g*C+_*M,e[7]=h*T+y*C+x*M,e[8]=o*L+p*V+b*P,e[9]=l*L+m*V+w*P,e[10]=c*L+g*V+_*P,e[11]=h*L+y*V+x*P,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function a$e(e,t,i){const n=Math.sin(i),r=Math.cos(i),s=t[4],a=t[5],o=t[6],l=t[7],c=t[8],h=t[9],p=t[10],m=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*r+c*n,e[5]=a*r+h*n,e[6]=o*r+p*n,e[7]=l*r+m*n,e[8]=c*r-s*n,e[9]=h*r-a*n,e[10]=p*r-o*n,e[11]=m*r-l*n,e}function o$e(e,t,i){const n=Math.sin(i),r=Math.cos(i),s=t[0],a=t[1],o=t[2],l=t[3],c=t[8],h=t[9],p=t[10],m=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r-c*n,e[1]=a*r-h*n,e[2]=o*r-p*n,e[3]=l*r-m*n,e[8]=s*n+c*r,e[9]=a*n+h*r,e[10]=o*n+p*r,e[11]=l*n+m*r,e}function l$e(e,t,i){const n=Math.sin(i),r=Math.cos(i),s=t[0],a=t[1],o=t[2],l=t[3],c=t[4],h=t[5],p=t[6],m=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r+c*n,e[1]=a*r+h*n,e[2]=o*r+p*n,e[3]=l*r+m*n,e[4]=c*r-s*n,e[5]=h*r-a*n,e[6]=p*r-o*n,e[7]=m*r-l*n,e}function xte(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function c$e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function u$e(e,t,i){if(t===0)return N_(e);let n,r,s,a=i[0],o=i[1],l=i[2],c=Math.sqrt(a*a+o*o+l*l);return c<ao()?null:(c=1/c,a*=c,o*=c,l*=c,n=Math.sin(t),r=Math.cos(t),s=1-r,e[0]=a*a*s+r,e[1]=o*a*s+l*n,e[2]=l*a*s-o*n,e[3]=0,e[4]=a*o*s-l*n,e[5]=o*o*s+r,e[6]=l*o*s+a*n,e[7]=0,e[8]=a*l*s+o*n,e[9]=o*l*s-a*n,e[10]=l*l*s+r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function d$e(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function h$e(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function p$e(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ste(e,t,i){const n=t[0],r=t[1],s=t[2],a=t[3],o=n+n,l=r+r,c=s+s,h=n*o,p=n*l,m=n*c,g=r*l,y=r*c,b=s*c,w=a*o,_=a*l,x=a*c;return e[0]=1-(g+b),e[1]=p+x,e[2]=m-_,e[3]=0,e[4]=p-x,e[5]=1-(h+b),e[6]=y+w,e[7]=0,e[8]=m+_,e[9]=y-w,e[10]=1-(h+g),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function f$e(e,t){const i=m$e,n=-t[0],r=-t[1],s=-t[2],a=t[3],o=t[4],l=t[5],c=t[6],h=t[7],p=n*n+r*r+s*s+a*a;return p>0?(i[0]=2*(o*a+h*n+l*s-c*r)/p,i[1]=2*(l*a+h*r+c*n-o*s)/p,i[2]=2*(c*a+h*s+o*r-l*n)/p):(i[0]=2*(o*a+h*n+l*s-c*r),i[1]=2*(l*a+h*r+c*n-o*s),i[2]=2*(c*a+h*s+o*r-l*n)),Ste(e,t,i),e}const m$e=sc();function g$e(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function y$e(e,t){const i=t[0],n=t[1],r=t[2],s=t[4],a=t[5],o=t[6],l=t[8],c=t[9],h=t[10];return e[0]=Math.sqrt(i*i+n*n+r*r),e[1]=Math.sqrt(s*s+a*a+o*o),e[2]=Math.sqrt(l*l+c*c+h*h),e}function v$e(e,t){const i=t[0]+t[5]+t[10];let n=0;return i>0?(n=2*Math.sqrt(i+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function b$e(e,t,i,n){const r=t[0],s=t[1],a=t[2],o=t[3],l=r+r,c=s+s,h=a+a,p=r*l,m=r*c,g=r*h,y=s*c,b=s*h,w=a*h,_=o*l,x=o*c,S=o*h,k=n[0],A=n[1],T=n[2];return e[0]=(1-(y+w))*k,e[1]=(m+S)*k,e[2]=(g-x)*k,e[3]=0,e[4]=(m-S)*A,e[5]=(1-(p+w))*A,e[6]=(b+_)*A,e[7]=0,e[8]=(g+x)*T,e[9]=(b-_)*T,e[10]=(1-(p+y))*T,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function w$e(e,t,i,n,r){const s=t[0],a=t[1],o=t[2],l=t[3],c=s+s,h=a+a,p=o+o,m=s*c,g=s*h,y=s*p,b=a*h,w=a*p,_=o*p,x=l*c,S=l*h,k=l*p,A=n[0],T=n[1],C=n[2],M=r[0],L=r[1],V=r[2],P=(1-(b+_))*A,J=(g+k)*A,oe=(y-S)*A,se=(g-k)*T,rt=(1-(m+_))*T,tt=(w+x)*T,lt=(y+S)*C,Z=(w-x)*C,ge=(1-(m+b))*C;return e[0]=P,e[1]=J,e[2]=oe,e[3]=0,e[4]=se,e[5]=rt,e[6]=tt,e[7]=0,e[8]=lt,e[9]=Z,e[10]=ge,e[11]=0,e[12]=i[0]+M-(P*M+se*L+lt*V),e[13]=i[1]+L-(J*M+rt*L+Z*V),e[14]=i[2]+V-(oe*M+tt*L+ge*V),e[15]=1,e}function _$e(e,t){const i=t[0],n=t[1],r=t[2],s=t[3],a=i+i,o=n+n,l=r+r,c=i*a,h=n*a,p=n*o,m=r*a,g=r*o,y=r*l,b=s*a,w=s*o,_=s*l;return e[0]=1-p-y,e[1]=h+_,e[2]=m-w,e[3]=0,e[4]=h-_,e[5]=1-c-y,e[6]=g+b,e[7]=0,e[8]=m+w,e[9]=g-b,e[10]=1-c-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function x$e(e,t,i,n,r,s,a){const o=1/(i-t),l=1/(r-n),c=1/(s-a);return e[0]=2*s*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(i+t)*o,e[9]=(r+n)*l,e[10]=(a+s)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*s*2*c,e[15]=0,e}function S$e(e,t,i,n,r){const s=1/Math.tan(t/2);let a;return e[0]=s/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(a=1/(n-r),e[10]=(r+n)*a,e[14]=2*r*n*a):(e[10]=-1,e[14]=-2*n),e}function E$e(e,t,i,n){const r=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+o),c=2/(r+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-o)*l*.5,e[9]=(r-s)*c*.5,e[10]=n/(i-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*i/(i-n),e[15]=0,e}function k$e(e,t,i,n,r,s,a){const o=1/(t-i),l=1/(n-r),c=1/(s-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+i)*o,e[13]=(r+n)*l,e[14]=(a+s)*c,e[15]=1,e}function I$e(e,t,i,n){let r,s,a,o,l,c,h,p,m,g;const y=t[0],b=t[1],w=t[2],_=n[0],x=n[1],S=n[2],k=i[0],A=i[1],T=i[2],C=ao();return Math.abs(y-k)<C&&Math.abs(b-A)<C&&Math.abs(w-T)<C?N_(e):(h=y-k,p=b-A,m=w-T,g=1/Math.sqrt(h*h+p*p+m*m),h*=g,p*=g,m*=g,r=x*m-S*p,s=S*h-_*m,a=_*p-x*h,g=Math.sqrt(r*r+s*s+a*a),g?(g=1/g,r*=g,s*=g,a*=g):(r=0,s=0,a=0),o=p*a-m*s,l=m*r-h*a,c=h*s-p*r,g=Math.sqrt(o*o+l*l+c*c),g?(g=1/g,o*=g,l*=g,c*=g):(o=0,l=0,c=0),e[0]=r,e[1]=o,e[2]=h,e[3]=0,e[4]=s,e[5]=l,e[6]=p,e[7]=0,e[8]=a,e[9]=c,e[10]=m,e[11]=0,e[12]=-(r*y+s*b+a*w),e[13]=-(o*y+l*b+c*w),e[14]=-(h*y+p*b+m*w),e[15]=1,e)}function C$e(e,t,i,n){const r=t[0],s=t[1],a=t[2],o=n[0],l=n[1],c=n[2];let h=r-i[0],p=s-i[1],m=a-i[2],g=h*h+p*p+m*m;g>0&&(g=1/Math.sqrt(g),h*=g,p*=g,m*=g);let y=l*m-c*p,b=c*h-o*m,w=o*p-l*h;return g=y*y+b*b+w*w,g>0&&(g=1/Math.sqrt(g),y*=g,b*=g,w*=g),e[0]=y,e[1]=b,e[2]=w,e[3]=0,e[4]=p*w-m*b,e[5]=m*y-h*w,e[6]=h*b-p*y,e[7]=0,e[8]=h,e[9]=p,e[10]=m,e[11]=0,e[12]=r,e[13]=s,e[14]=a,e[15]=1,e}function T$e(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function $$e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function A$e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function Ete(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function M$e(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}function D$e(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e[6]=t[6]+i[6]*n,e[7]=t[7]+i[7]*n,e[8]=t[8]+i[8]*n,e[9]=t[9]+i[9]*n,e[10]=t[10]+i[10]*n,e[11]=t[11]+i[11]*n,e[12]=t[12]+i[12]*n,e[13]=t[13]+i[13]*n,e[14]=t[14]+i[14]*n,e[15]=t[15]+i[15]*n,e}function O$e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function R$e(e,t){if(e===t)return!0;const i=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],h=e[8],p=e[9],m=e[10],g=e[11],y=e[12],b=e[13],w=e[14],_=e[15],x=t[0],S=t[1],k=t[2],A=t[3],T=t[4],C=t[5],M=t[6],L=t[7],V=t[8],P=t[9],J=t[10],oe=t[11],se=t[12],rt=t[13],tt=t[14],lt=t[15],Z=ao();return Math.abs(i-x)<=Z*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(n-S)<=Z*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(r-k)<=Z*Math.max(1,Math.abs(r),Math.abs(k))&&Math.abs(s-A)<=Z*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(a-T)<=Z*Math.max(1,Math.abs(a),Math.abs(T))&&Math.abs(o-C)<=Z*Math.max(1,Math.abs(o),Math.abs(C))&&Math.abs(l-M)<=Z*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(c-L)<=Z*Math.max(1,Math.abs(c),Math.abs(L))&&Math.abs(h-V)<=Z*Math.max(1,Math.abs(h),Math.abs(V))&&Math.abs(p-P)<=Z*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(m-J)<=Z*Math.max(1,Math.abs(m),Math.abs(J))&&Math.abs(g-oe)<=Z*Math.max(1,Math.abs(g),Math.abs(oe))&&Math.abs(y-se)<=Z*Math.max(1,Math.abs(y),Math.abs(se))&&Math.abs(b-rt)<=Z*Math.max(1,Math.abs(b),Math.abs(rt))&&Math.abs(w-tt)<=Z*Math.max(1,Math.abs(w),Math.abs(tt))&&Math.abs(_-lt)<=Z*Math.max(1,Math.abs(_),Math.abs(lt))}function P$e(e){const t=ao(),i=e[0],n=e[1],r=e[2],s=e[4],a=e[5],o=e[6],l=e[8],c=e[9],h=e[10];return Math.abs(1-(i*i+s*s+l*l))<=t&&Math.abs(1-(n*n+a*a+c*c))<=t&&Math.abs(1-(r*r+o*o+h*h))<=t}function L$e(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const F$e=_te,N$e=Ete;Object.freeze(Object.defineProperty({__proto__:null,add:A$e,adjoint:t$e,copy:XTe,determinant:i$e,equals:R$e,exactEquals:O$e,frob:$$e,fromQuat:_$e,fromQuat2:f$e,fromRotation:u$e,fromRotationTranslation:Ste,fromRotationTranslationScale:b$e,fromRotationTranslationScaleOrigin:w$e,fromScaling:c$e,fromTranslation:xte,fromXRotation:d$e,fromYRotation:h$e,fromZRotation:p$e,frustum:x$e,getRotation:v$e,getScaling:y$e,getTranslation:g$e,hasIdentityRotation:L$e,identity:N_,invert:wte,invertOrIdentity:e$e,isOrthoNormal:P$e,lookAt:I$e,mul:F$e,multiply:_te,multiplyScalar:M$e,multiplyScalarAndAdd:D$e,ortho:k$e,perspective:S$e,perspectiveFromFieldOfView:E$e,rotate:s$e,rotateX:a$e,rotateY:o$e,rotateZ:l$e,scale:r$e,set:Kh,str:T$e,sub:N$e,subtract:Ete,targetTo:C$e,translate:n$e,transpose:Lu},Symbol.toStringTag,{value:"Module"}));let fA,F=null;function kte(){return!!F}function z$e(){return!!G("esri-wasm")}function Ite(){return fA||(fA=H(()=>import("./pe-wasm.js"),[]).then(e=>e.p).then(({default:e})=>e({locateFile:t=>wt(`esri/geometry/support/${t}`)})).then(e=>{Tte(e)}),fA)}var n5,ai,r5;(function(e){function t(s,a,o){F.ensureCache.prepare();const l=uf(o),c=o===l,h=F.ensureFloat64(l),p=F._pe_geog_to_proj(F.getPointer(s),a,h);return p&&Yd(o,a,h,c),p}function i(s,a,o,l){switch(l){case ai.PE_TRANSFORM_P_TO_G:return n(s,a,o);case ai.PE_TRANSFORM_G_TO_P:return t(s,a,o)}return 0}function n(s,a,o){return r(s,a,o,0)}function r(s,a,o,l){F.ensureCache.prepare();const c=uf(o),h=o===c,p=F.ensureFloat64(c),m=F._pe_proj_to_geog_center(F.getPointer(s),a,p,l);return m&&Yd(o,a,p,h),m}e.geogToProj=t,e.projGeog=i,e.projToGeog=n,e.projToGeogCenter=r})(n5||(n5={})),function(e){function t(){e.PE_BUFFER_MAX=F.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=F.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=F.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=F.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=F.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=F.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=F.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=F.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=F.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=F.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=F.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=F.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=F.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=F.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=F.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=F.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=F.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=F.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=F.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=F.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=F.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=F.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=F.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=F.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=F.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=F.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=F.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=F.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=F.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=F.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(ai||(ai={})),function(e){const t={},i={},n=g=>{if(g){const y=g.getType();switch(y){case ai.PE_TYPE_GEOGCS:g=F.castObject(g,F.PeGeogcs);break;case ai.PE_TYPE_PROJCS:g=F.castObject(g,F.PeProjcs);break;case ai.PE_TYPE_GEOGTRAN:g=F.castObject(g,F.PeGeogtran);break;default:y&ai.PE_TYPE_UNIT&&(g=F.castObject(g,F.PeUnit))}}return g};function r(){F.PeFactory.prototype.initialize(null)}function s(g){return a(ai.PE_TYPE_COORDSYS,g)}function a(g,y){let b=null,w=t[g];if(w||(w={},t[g]=w),w.hasOwnProperty(String(y)))b=w[y];else{const _=F.PeFactory.prototype.factoryByType(g,y);F.compare(_,F.NULL)||(b=_,w[y]=b)}return b=n(b),b}function o(g,y){let b=null,w=i[g];if(w||(w={},i[g]=w),w.hasOwnProperty(y))b=w[y];else{const _=F.PeFactory.prototype.fromString(g,y);F.compare(_,F.NULL)||(b=_,w[y]=b)}return b=n(b),b}function l(g){return a(ai.PE_TYPE_GEOGCS,g)}function c(g){return a(ai.PE_TYPE_GEOGTRAN,g)}function h(g){return F.PeFactory.prototype.getCode(g)}function p(g){return a(ai.PE_TYPE_PROJCS,g)}function m(g){return a(ai.PE_TYPE_UNIT,g)}e.initialize=r,e.coordsys=s,e.factoryByType=a,e.fromString=o,e.geogcs=l,e.geogtran=c,e.getCode=h,e.projcs=p,e.unit=m}(r5||(r5={}));let Cte=null;var cI,s5,a5,o5,uI,l5,dI,hI,c5;function Tte(e){function t(s,a,o){s[a]=o(s[a])}F=e,ai.init(),cI.init(),uI.init(),dI.init(),hI.init(),Cte=class extends F.PeGCSExtent{destroy(){F.destroy(this)}};const i=[F.PeDatum,F.PeGeogcs,F.PeGeogtran,F.PeObject,F.PeParameter,F.PePrimem,F.PeProjcs,F.PeSpheroid,F.PeUnit];for(const s of i)t(s.prototype,"getName",a=>function(){return a.call(this,new Array(ai.PE_NAME_MAX))});for(const s of[F.PeGeogtran,F.PeProjcs])t(s.prototype,"getParameters",a=>function(){const o=new Array(ai.PE_PARM_MAX);let l=a.call(this);for(let c=0;c<o.length;c++){const h=F.getValue(l,"*");o[c]=h?F.wrapPointer(h,F.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return o});t(F.PeHorizon.prototype,"getCoord",s=>function(){const a=this.getSize();if(!a)return null;const o=[];return Yd(o,a,s.call(this)),o}),t(F.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const a=F._pe_getPeGTlistExtendedGTsSize();return function(){let o=null;const l=s.call(this);if(!F.compare(l,F.NULL)){o=[l];const c=this.getSteps();if(c>1){const h=F.getPointer(l);for(let p=1;p<c;p++)o.push(F.wrapPointer(h+a*p,F.PeGTlistExtendedGTs))}}return o}});const n=F._pe_getPeHorizonSize(),r=s=>function(){let a=this._cache;if(a||(a=new Map,this._cache=a),a.has(s))return a.get(s);let o=null;const l=s.call(this);if(!F.compare(l,F.NULL)){o=[l];const c=l.getNump();if(c>1){const h=F.getPointer(l);for(let p=1;p<c;p++)o.push(F.wrapPointer(h+n*p,F.PeHorizon))}}return a.set(s,o),o};t(F.PeProjcs.prototype,"horizonGcsGenerate",r),t(F.PeProjcs.prototype,"horizonPcsGenerate",r),F.PeObject.prototype.toString=function(s=ai.PE_STR_OPTS_NONE){F.ensureCache.prepare();const a=F.getPointer(this),o=F.ensureInt8(new Array(ai.PE_BUFFER_MAX));return F.UTF8ToString(F._pe_object_to_string_ext(a,s,o))}}function pc(e){if(!e)return;const t=F.getClass(e);if(!t)return;const i=F.getCache(t);if(!i)return;const n=F.getPointer(e);n&&delete i[n]}function nS(e,t){const i=[],n=new Array(t);for(let r=0;r<e;r++)i.push(F.ensureInt8(n));return i}function uf(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(i=>{t.push(i[0],i[1])})):t=e,t}function Yd(e,t,i,n=!1){if(n)for(let r=0;r<2*t;r++)e[r]=F.getValue(i+r*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=e.length===0;for(let s=0;s<t;s++)r&&(e[s]=new Array(2)),e[s][0]=F.getValue(i,"double"),e[s][1]=F.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=F.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=F._pe_getPeGTlistExtendedEntrySize()}function n(r,s,a,o,l,c){let h=null;const p=new F.PeInteger(c);try{const m=F.PeGTlistExtended.prototype.getGTlist(r,s,a,o,l,p);if((c=p.val)&&(h=[m],c>1)){const g=F.getPointer(m);for(let y=1;y<c;y++)h.push(F.wrapPointer(g+t*y,F.PeGTlistExtendedEntry))}}finally{F.destroy(p)}return h}e.init=i,e.getGTlist=n})(cI||(cI={})),function(e){function t(i){if(i&&i.length){for(const n of i)pc(n),n.getEntries().forEach(r=>{pc(r);const s=r.getGeogtran();pc(s),s.getParameters().forEach(pc),[s.getGeogcs1(),s.getGeogcs2()].forEach(a=>{pc(a);const o=a.getDatum();pc(o),pc(o.getSpheroid()),pc(a.getPrimem()),pc(a.getUnit())})});F.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(s5||(s5={})),function(e){function t(i,n,r,s,a){F.ensureCache.prepare();const o=uf(r),l=r===o,c=F.ensureFloat64(o);let h=0;s&&(h=F.ensureFloat64(s));const p=F._pe_geog_to_geog(F.getPointer(i),n,c,h,a);return p&&Yd(r,n,c,l),p}e.geogToGeog=t}(a5||(a5={})),function(e){const t=(c,h,p,m,g,y)=>{let b,w;switch(F.ensureCache.prepare(),c){case"dd":b=F._pe_geog_to_dd,w=ai.PE_DD_MAX;break;case"ddm":b=F._pe_geog_to_ddm,w=ai.PE_DDM_MAX;break;case"dms":b=F._pe_geog_to_dms,w=ai.PE_DMS_MAX}let _=0;h&&(_=F.getPointer(h));const x=uf(m),S=F.ensureFloat64(x),k=nS(p,w),A=b(_,p,S,g,F.ensureInt32(k));if(A)for(let T=0;T<p;T++)y[T]=F.UTF8ToString(k[T]);return A},i=(c,h,p,m,g)=>{let y;switch(F.ensureCache.prepare(),c){case"dd":y=F._pe_dd_to_geog;break;case"ddm":y=F._pe_ddm_to_geog;break;case"dms":y=F._pe_dms_to_geog}let b=0;h&&(b=F.getPointer(h));const w=m.map(k=>F.ensureString(k)),_=F.ensureInt32(w),x=F.ensureFloat64(new Array(2*p)),S=y(b,p,_,x);return S&&Yd(g,p,x),S};function n(c,h,p,m,g){return t("dms",c,h,p,m,g)}function r(c,h,p,m){return i("dms",c,h,p,m)}function s(c,h,p,m,g){return t("ddm",c,h,p,m,g)}function a(c,h,p,m){return i("ddm",c,h,p,m)}function o(c,h,p,m,g){return t("dd",c,h,p,m,g)}function l(c,h,p,m){return i("dd",c,h,p,m)}e.geogToDms=n,e.dmsToGeog=r,e.geogToDdm=s,e.ddmToGeog=a,e.geogToDd=o,e.ddToGeog=l}(o5||(o5={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=F.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=F.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(r,s,a,o,l,c,h){F.ensureCache.prepare();let p=0;r&&(p=F.getPointer(r));const m=uf(a),g=F.ensureFloat64(m),y=nS(s,ai.PE_MGRS_MAX),b=F.ensureInt32(y),w=F._pe_geog_to_mgrs_extended(p,s,g,o,l,c,b);if(w)for(let _=0;_<s;_++)h[_]=F.UTF8ToString(y[_]);return w}function n(r,s,a,o,l){F.ensureCache.prepare();let c=0;r&&(c=F.getPointer(r));const h=a.map(y=>F.ensureString(y)),p=F.ensureInt32(h),m=F.ensureFloat64(new Array(2*s)),g=F._pe_mgrs_to_geog_extended(c,s,p,o,m);return g&&Yd(l,s,m),g}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=n}(uI||(uI={})),function(e){function t(n,r,s,a,o,l,c){F.ensureCache.prepare();let h=0;n&&(h=F.getPointer(n));const p=uf(s),m=F.ensureFloat64(p),g=nS(r,ai.PE_MGRS_MAX),y=F.ensureInt32(g),b=F._pe_geog_to_usng(h,r,m,a,o,l,y);if(b)for(let w=0;w<r;w++)c[w]=F.UTF8ToString(g[w]);return b}function i(n,r,s,a){F.ensureCache.prepare();let o=0;n&&(o=F.getPointer(n));const l=s.map(m=>F.ensureString(m)),c=F.ensureInt32(l),h=F.ensureFloat64(new Array(2*r)),p=F._pe_usng_to_geog(o,r,c,h);return p&&Yd(a,r,h),p}e.geogToUsng=t,e.usngToGeog=i}(l5||(l5={})),function(e){function t(){e.PE_UTM_OPTS_NONE=F.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=F.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=F.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(r,s,a,o,l){F.ensureCache.prepare();let c=0;r&&(c=F.getPointer(r));const h=uf(a),p=F.ensureFloat64(h),m=nS(s,ai.PE_UTM_MAX),g=F.ensureInt32(m),y=F._pe_geog_to_utm(c,s,p,o,g);if(y)for(let b=0;b<s;b++)l[b]=F.UTF8ToString(m[b]);return y}function n(r,s,a,o,l){F.ensureCache.prepare();let c=0;r&&(c=F.getPointer(r));const h=a.map(y=>F.ensureString(y)),p=F.ensureInt32(h),m=F.ensureFloat64(new Array(2*s)),g=F._pe_utm_to_geog(c,s,p,o,m);return g&&Yd(l,s,m),g}e.init=t,e.geogToUtm=i,e.utmToGeog=n}(dI||(dI={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=F.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=F.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=F.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=F.PePCSInfo.prototype.PE_POLE_POINT}function n(r,s=e.PE_PCSINFO_OPTION_DOMAIN){let a=null,o=null;return t.has(r)&&(o=t.get(r),o[s]&&(a=o[s])),a||(a=F.PePCSInfo.prototype.generate(r,s),o||(o=[],t.set(r,o)),o[s]=a),a}e.init=i,e.generate=n}(hI||(hI={})),function(e){function t(){return F.PeVersion.prototype.version_string()}e.versionString=t}(c5||(c5={}));const V$e=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return n5},get PeDefs(){return ai},get PeFactory(){return r5},get PeGCSExtent(){return Cte},get PeGTTransformations(){return a5},get PeGTlistExtended(){return cI},get PeGTlistExtendedEntry(){return s5},get PeNotationDms(){return o5},get PeNotationMgrs(){return uI},get PeNotationUsng(){return l5},get PeNotationUtm(){return dI},get PePCSInfo(){return hI},get PeVersion(){return c5},_init:Tte,get _pe(){return F},isLoaded:kte,isSupported:z$e,load:Ite},Symbol.toStringTag,{value:"Module"})),Wu=Xt.radius,go=Xt.eccentricitySquared,j$e={a1:Wu*go,a2:Wu*go*Wu*go,a3:Wu*go*go/2,a4:Wu*go*Wu*go*2.5,a5:Wu*go+Wu*go*go/2,a6:1-go};1/294.9786982,1/298.257222101,Xt.radius,Xt.flattening,$h.radius,$h.flattening,1/192.0430107526882,au.radius,au.flattening,1/10.2079945799458,1/43.61604095563141,au.radius;let rS=0,mA=class u5{static fromGE(t){const i=new u5;return i._wkt=t.wkt,i._wkid=t.wkid,i._isInverse=t.isInverse,i}constructor(t){this.uid=rS++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=rS++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=rS++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=rS++}getInverse(){const t=new u5;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},d5=class Pb{static cacheKey(t,i){return[t.wkid!==void 0&&t.wkid!==null?t.wkid.toString():"-1",t.wkt!==void 0&&t.wkt!==null?t.wkt.toString():"",i.wkid!==void 0&&i.wkid!==null?i.wkid.toString():"-1",i.wkt!==void 0&&i.wkt!==null?i.wkt.toString():""].join(",")}static fromGE(t){const i=new Pb;let n="";for(const r of t.steps){const s=mA.fromGE(r);i.steps.push(s),n+=s.uid.toString()+","}return i._cachedProjection={},i._gtlistentry=null,i._chain=n,i}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t&&t.steps)for(const i of t.steps)i instanceof mA?this.steps.push(i):this.steps.push(new mA({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}getInverse(){const t=new Pb;t.steps=[];for(let i=this.steps.length-1;i>=0;i--){const n=this.steps[i];t.steps.push(n.getInverse())}return t}getGTListEntry(){let t="";for(const i of this.steps)t+=i.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,i,n){this._cachedProjection[Pb.cacheKey(t,i)]=n}getCachedGeTransformation(t,i){let n="";for(const s of this.steps)n+=s.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const r=this._cachedProjection[Pb.cacheKey(t,i)];return r===void 0?null:r}};function $te(e,t,i){if(j(t)||j(i)||i.vcsWkid||vn(t,i))return null;const n=p0(t)/p0(i);if(n===1)return null;switch(e){case"point":case"esriGeometryPoint":return r=>U$e(r,n);case"polyline":case"esriGeometryPolyline":return r=>H$e(r,n);case"polygon":case"esriGeometryPolygon":return r=>B$e(r,n);case"multipoint":case"esriGeometryMultipoint":return r=>G$e(r,n);case"extent":case"esriGeometryExtent":return r=>q$e(r,n);default:return null}}function U$e(e,t){e&&e.z!=null&&(e.z*=t)}function B$e(e,t){if(e)for(const i of e.rings)for(const n of i)n.length>2&&(n[2]*=t)}function H$e(e,t){if(e)for(const i of e.paths)for(const n of i)n.length>2&&(n[2]*=t)}function G$e(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}function q$e(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let wh=null,Ww=null,gA=null,yA={};const Ate=new iN;function vm(){return!!wh&&kte()}function bm(e){return j(gA)&&(gA=Promise.all([Ite(),H(()=>import("./geometryEngineBase.js"),[]).then(t=>t.g),H(()=>import("./hydrated.js"),[])])),gA.then(([,t,{hydratedAdapter:i}])=>{gi(e),Ww=i,wh=t.default,wh._enableProjection(V$e),Ate.notify()})}function Pm(e,t,i=null,n=null){return Array.isArray(e)?e.length===0?[]:iU(Ww,e,e[0].spatialReference,t,i,n):iU(Ww,[e],e.spatialReference,t,i,n)[0]}function iU(e,t,i,n,r=null,s=null){if(j(i)||j(n))return t;if(Rh(i,n,r))return t.map(a=>Z$e(a,i,n));if(j(r)){const a=d5.cacheKey(i,n);yA[a]!==void 0?r=yA[a]:(r=K$e(i,n,void 0),j(r)&&(r=new d5),yA[a]=r)}if(j(wh)||j(e))throw new BN;return $(s)?wh._project(e,t,i,n,r,s):wh._project(e,t,i,n,r)}function dWe(e,t){const i=W$e([e],t);return $(i.pending)?{pending:i.pending,geometry:null}:$(i.geometries)?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function W$e(e,t){if(!vm()){for(const i of e)if($(i)&&!vn(i.spatialReference,t)&&Dn(i.spatialReference)&&Dn(t)&&!Rh(i.spatialReference,t))return ze(Ate),{pending:bm(),geometries:null}}return{pending:null,geometries:e.map(i=>j(i)?null:vn(i.spatialReference,t)?i:Dn(i.spatialReference)&&Dn(t)?Y$e(i,t):null)}}function K$e(e,t,i=null){if(j(e)||j(t))return null;if(j(wh)||j(Ww))throw new BN;const n=wh._getTransformation(Ww,e,t,i,i==null?void 0:i.spatialReference);return n!==null?d5.fromGE(n):null}class BN extends N{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var O;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"})(O||(O={}));function Y$e(e,t){try{const i=Pm(e,t);if(i==null)return null;"xmin"in e&&"xmin"in i&&(i.zmin=e.zmin,i.zmax=e.zmax);const n=$te(i.type,e.spatialReference,t);return $(n)&&n(i),i}catch(i){if(!(i instanceof BN))throw i;return null}}function Rh(e,t,i){return!i&&(!!vn(e,t)||Dn(e)&&Dn(t)&&!!Rte(e,t,Pte))}async function J$e(e,t,i,n){if(vm())return oj(n);if(Array.isArray(e)){for(const{source:r,dest:s,geographicTransformation:a}of e)if(!Rh(r,s,a))return bm(n)}else if(!Rh(e,t,i))return bm(n);return oj(n)}function Z$e(e,t,i){return e?"x"in e?Q$e(e,t,new Le,i,0):"xmin"in e?tAe(e,t,new Gt,i,0):"rings"in e?Mte(e,t,new bu,i,0):"paths"in e?eAe(e,t,new ja,i,0):"points"in e?X$e(e,t,new zC,i,0):null:null}function Q$e(e,t,i,n,r){en[0]=e.x,en[1]=e.y;const s=e.z;return en[2]=s!==void 0?s:r,z_(en,t,0,en,n,0,1)?(i.x=en[0],i.y=en[1],i.spatialReference=n,s===void 0?(i.z=void 0,i.hasZ=!1):(i.z=en[2],i.hasZ=!0),e.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function X$e(e,t,i,n,r){const{points:s,hasZ:a,hasM:o}=e,l=[],c=s.length,h=[];for(const p of s)h.push(p[0],p[1],a?p[2]:r);if(!z_(h,t,0,h,n,0,c))return null;for(let p=0;p<c;++p){const m=3*p,g=h[m],y=h[m+1];a&&o?l.push([g,y,h[m+2],s[p][3]]):a?l.push([g,y,h[m+2]]):o?l.push([g,y,s[p][2]]):l.push([g,y])}return i.points=l,i.spatialReference=n,i.hasZ=a,i.hasM=o,i}function eAe(e,t,i,n,r){const{paths:s,hasZ:a,hasM:o}=e,l=[];return Dte(s,a??!1,o??!1,t,l,n,r)?(i.paths=l,i.spatialReference=n,i.hasZ=a,i.hasM=o,i):null}function hWe(e,t,i=t.spatialReference,n=0){return $(e.spatialReference)&&$(i)&&$(Mte(e,e.spatialReference,t,i,n))}function Mte(e,t,i,n,r){const{rings:s,hasZ:a,hasM:o}=e,l=[];return Dte(s,a??!1,o??!1,t,l,n,r)?(i.rings=l,i.spatialReference=n,i.hasZ=a,i.hasM=o,i):null}function tAe(e,t,i,n,r){const{xmin:s,ymin:a,xmax:o,ymax:l,hasZ:c,hasM:h}=e;return nU(s,a,c?e.zmin:r,t,en,n)?(i.xmin=en[0],i.ymin=en[1],c&&(i.zmin=en[2]),nU(o,l,c?e.zmax:r,t,en,n)?(i.xmax=en[0],i.ymax=en[1],c&&(i.zmax=en[2]),h&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=n,i):null):null}function pWe(e,t,i,n=0){en[0]=e.x,en[1]=e.y;const r=e.z;return en[2]=r!==void 0?r:n,z_(en,e.spatialReference,0,t,i,0,1)}function nU(e,t,i,n,r,s){return sS[0]=e,sS[1]=t,sS[2]=i,z_(sS,n,0,r,s,0,1)}function z_(e,t,i,n,r,s,a=1){const o=Rte(t,r,Pte);if(j(o))return!1;if(o===Bt){if(e===n&&i===s)return!0;const c=i+3*a;for(let h=i,p=s;h<c;h++,p++)n[p]=e[h];return!0}const l=i+3*a;for(let c=i,h=s;c<l;c+=3,h+=3)o(e,c,n,h);return!0}function Dte(e,t,i,n,r,s,a=0){const o=new Array;for(const c of e)for(const h of c)o.push(h[0],h[1],t?h[2]:a);if(!z_(o,n,0,o,s,0,o.length/3))return!1;let l=0;r.length=0;for(const c of e){const h=new Array;for(const p of c)t&&i?h.push([o[l++],o[l++],o[l++],p[3]]):t?h.push([o[l++],o[l++],o[l++]]):i?(h.push([o[l++],o[l++],p[2]]),l++):(h.push([o[l++],o[l++]]),l++);r.push(h)}return!0}function fWe(e,t,i,n){if(j(e)||j(n))return!1;const r=pI(e,vAe),s=pI(n,bAe);if(r===s&&!rU(s)&&(r!==O.UNKNOWN||vn(e,n)))return xte(i,t),!0;if(rU(s)){const a=Lb[r][O.LON_LAT],o=Lb[O.LON_LAT][s];return!j(a)&&!j(o)&&(a(t,0,Ku,0),o(Ku,0,Yu,0),Ote(jl*Ku[0],jl*Ku[1],i),i[12]=Yu[0],i[13]=Yu[1],i[14]=Yu[2],!0)}if((s===O.WEB_MERCATOR||s===O.PLATE_CARREE)&&(r===O.WGS84||r===O.CGCS2000&&s===O.PLATE_CARREE||r===O.SPHERICAL_ECEF||r===O.WEB_MERCATOR)){const a=Lb[r][O.LON_LAT],o=Lb[O.LON_LAT][s];return!j(a)&&!j(o)&&(a(t,0,Ku,0),o(Ku,0,Yu,0),r===O.SPHERICAL_ECEF?iAe(jl*Ku[0],jl*Ku[1],i):N_(i),i[12]=Yu[0],i[13]=Yu[1],i[14]=Yu[2],!0)}return!1}function rU(e){return e===O.SPHERICAL_ECEF||e===O.SPHERICAL_MARS_PCPF||e===O.SPHERICAL_MOON_PCPF}function Ote(e,t,i){const n=Math.sin(e),r=Math.cos(e),s=Math.sin(t),a=Math.cos(t),o=i;return o[0]=-n,o[4]=-s*r,o[8]=a*r,o[12]=0,o[1]=r,o[5]=-s*n,o[9]=a*n,o[13]=0,o[2]=0,o[6]=a,o[10]=s,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1,o}function iAe(e,t,i){return Ote(e,t,i),Lu(i,i),i}function pI(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=B0(e,1)),e.wkt===TSe.wkt?t.spatialReferenceId=O.SPHERICAL_ECEF:Pw(e)?t.spatialReferenceId=O.WGS84:um(e)?t.spatialReferenceId=O.WEB_MERCATOR:SSe(e)?t.spatialReferenceId=O.PLATE_CARREE:e.wkt===$Se.wkt?t.spatialReferenceId=O.WGS84_ECEF:e.wkid===cm.CGCS2000?t.spatialReferenceId=O.CGCS2000:e.wkt===RQ.wkt?t.spatialReferenceId=O.SPHERICAL_MARS_PCPF:e.wkt===PQ.wkt?t.spatialReferenceId=O.SPHERICAL_MOON_PCPF:GF(e)?t.spatialReferenceId=O.GCSMARS2000:WF(e)?t.spatialReferenceId=O.GCSMOON2000:t.spatialReferenceId=O.UNKNOWN):O.UNKNOWN}function Bt(e,t,i,n){e!==i&&(i[n++]=e[t++],i[n++]=e[t++],i[n]=e[t])}function Vy(e,t,i,n){i[n++]=S0*(e[t++]/Xt.radius),i[n++]=S0*(Math.PI/2-2*Math.atan(Math.exp(-e[t++]/Xt.radius))),i[n]=e[t]}function nAe(e,t,i,n){Vy(e,t,i,n),$f(i,n,i,n)}function rAe(e,t,i,n){Vy(e,t,i,n),Mf(i,n,i,n)}function sAe(e,t,i,n,r){const s=.4999999*Math.PI,a=fs(jl*e[t+1],-s,s),o=Math.sin(a);i[n++]=jl*e[t]*r.radius,i[n++]=r.halfSemiMajorAxis*Math.log((1+o)/(1-o)),i[n]=e[t+2]}function Kw(e,t,i,n){sAe(e,t,i,n,Xt)}const sU=Xt.radius*Math.PI/180,aU=180/(Xt.radius*Math.PI);function Cf(e,t,i,n){i[n]=e[t]*sU,i[n+1]=e[t+1]*sU,i[n+2]=e[t+2]}function Tf(e,t,i,n){i[n]=e[t]*aU,i[n+1]=e[t+1]*aU,i[n+2]=e[t+2]}function aAe(e,t,i,n){Vy(e,t,i,n),Cf(i,n,i,n)}function oAe(e,t,i,n){Df(e,t,i,n),Cf(i,n,i,n)}function lAe(e,t,i,n){Af(e,t,i,n),Cf(i,n,i,n)}function cAe(e,t,i,n){Tf(e,t,i,n),$f(i,n,i,n)}function uAe(e,t,i,n){Tf(e,t,i,n),Kw(i,n,i,n)}function dAe(e,t,i,n){Tf(e,t,i,n),Mf(i,n,i,n)}function HN(e,t,i,n,r){const s=r+e[t+2],a=jl*e[t+1],o=jl*e[t],l=Math.cos(a);i[n++]=Math.cos(o)*l*s,i[n++]=Math.sin(o)*l*s,i[n]=Math.sin(a)*s}function oU(e,t,i,n){HN(e,t,i,n,$h.radius)}function lU(e,t,i,n){HN(e,t,i,n,au.radius)}function $f(e,t,i,n){HN(e,t,i,n,Xt.radius)}function GN(e,t,i,n,r){const s=e[t],a=e[t+1],o=e[t+2],l=Math.sqrt(s*s+a*a+o*o),c=cee(o/(l===0?1:l)),h=Math.atan2(a,s);i[n++]=S0*h,i[n++]=S0*c,i[n]=l-r}function cU(e,t,i,n){GN(e,t,i,n,$h.radius)}function uU(e,t,i,n){GN(e,t,i,n,au.radius)}function Af(e,t,i,n){GN(e,t,i,n,Xt.radius)}function hAe(e,t,i,n){Af(e,t,i,n),Kw(i,n,i,n)}function pAe(e,t,i,n){Af(e,t,i,n),Mf(i,n,i,n)}function fAe(e,t,i,n,r){const s=jl*e[t],a=jl*e[t+1],o=e[t+2],l=Math.sin(a),c=Math.cos(a),h=r.radius/Math.sqrt(1-r.eccentricitySquared*l*l);i[n++]=(h+o)*c*Math.cos(s),i[n++]=(h+o)*c*Math.sin(s),i[n++]=(h*(1-r.eccentricitySquared)+o)*l}function Mf(e,t,i,n){fAe(e,t,i,n,Xt)}function Df(e,t,i,n){const r=j$e,s=e[t],a=e[t+1],o=e[t+2];let l,c,h,p,m,g,y,b,w,_,x,S,k,A,T,C,M,L,V,P,J;l=Math.abs(o),c=s*s+a*a,h=Math.sqrt(c),p=c+o*o,m=Math.sqrt(p),P=Math.atan2(a,s),g=o*o/p,y=c/p,A=r.a2/m,T=r.a3-r.a4/m,y>.3?(b=l/m*(1+y*(r.a1+A+g*T)/m),V=Math.asin(b),_=b*b,w=Math.sqrt(1-_)):(w=h/m*(1-g*(r.a5-A-y*T)/m),V=Math.acos(w),_=1-w*w,b=Math.sqrt(_)),x=1-Xt.eccentricitySquared*_,S=Xt.radius/Math.sqrt(x),k=r.a6*S,A=h-S*w,T=l-k*b,M=w*A+b*T,C=w*T-b*A,L=C/(k/x+M),V+=L,J=M+C*L/2,o<0&&(V=-V),i[n++]=S0*P,i[n++]=S0*V,i[n]=J}function mAe(e,t,i,n){Df(e,t,i,n),$f(i,n,i,n)}function gAe(e,t,i,n){Df(e,t,i,n),Kw(i,n,i,n)}const Lb={[O.WGS84]:{[O.CGCS2000]:null,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:Bt,[O.WGS84_COMPARABLE_LON_LAT]:Bt,[O.SPHERICAL_ECEF]:$f,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:Kw,[O.PLATE_CARREE]:Cf,[O.WGS84]:Bt,[O.WGS84_ECEF]:Mf},[O.CGCS2000]:{[O.CGCS2000]:Bt,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:Bt,[O.WGS84_COMPARABLE_LON_LAT]:Bt,[O.SPHERICAL_ECEF]:$f,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:Cf,[O.WGS84]:null,[O.WGS84_ECEF]:Mf},[O.GCSMARS2000]:{[O.CGCS2000]:null,[O.GCSMARS2000]:Bt,[O.GCSMOON2000]:null,[O.LON_LAT]:Bt,[O.WGS84_COMPARABLE_LON_LAT]:null,[O.SPHERICAL_ECEF]:null,[O.SPHERICAL_MARS_PCPF]:lU,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:null,[O.WGS84]:null,[O.WGS84_ECEF]:null},[O.GCSMOON2000]:{[O.CGCS2000]:null,[O.GCSMARS2000]:null,[O.GCSMOON2000]:Bt,[O.LON_LAT]:Bt,[O.WGS84_COMPARABLE_LON_LAT]:null,[O.SPHERICAL_ECEF]:null,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:oU,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:null,[O.WGS84]:null,[O.WGS84_ECEF]:null},[O.WEB_MERCATOR]:{[O.CGCS2000]:null,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:Vy,[O.WGS84_COMPARABLE_LON_LAT]:Vy,[O.SPHERICAL_ECEF]:nAe,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:Bt,[O.PLATE_CARREE]:aAe,[O.WGS84]:Vy,[O.WGS84_ECEF]:rAe},[O.WGS84_ECEF]:{[O.CGCS2000]:Df,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:Df,[O.WGS84_COMPARABLE_LON_LAT]:Df,[O.SPHERICAL_ECEF]:mAe,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:gAe,[O.PLATE_CARREE]:oAe,[O.WGS84]:Df,[O.WGS84_ECEF]:Bt},[O.SPHERICAL_ECEF]:{[O.CGCS2000]:Af,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:Af,[O.WGS84_COMPARABLE_LON_LAT]:Af,[O.SPHERICAL_ECEF]:Bt,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:hAe,[O.PLATE_CARREE]:lAe,[O.WGS84]:Af,[O.WGS84_ECEF]:pAe},[O.SPHERICAL_MARS_PCPF]:{[O.CGCS2000]:null,[O.GCSMARS2000]:uU,[O.GCSMOON2000]:null,[O.LON_LAT]:uU,[O.WGS84_COMPARABLE_LON_LAT]:null,[O.SPHERICAL_ECEF]:null,[O.SPHERICAL_MARS_PCPF]:Bt,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:null,[O.WGS84]:null,[O.WGS84_ECEF]:null},[O.SPHERICAL_MOON_PCPF]:{[O.CGCS2000]:null,[O.GCSMARS2000]:null,[O.GCSMOON2000]:cU,[O.LON_LAT]:cU,[O.WGS84_COMPARABLE_LON_LAT]:null,[O.SPHERICAL_ECEF]:null,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:Bt,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:null,[O.WGS84]:null,[O.WGS84_ECEF]:null},[O.UNKNOWN]:{[O.CGCS2000]:null,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:null,[O.WGS84_COMPARABLE_LON_LAT]:null,[O.SPHERICAL_ECEF]:null,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:Bt,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:null,[O.WGS84]:null,[O.WGS84_ECEF]:null},[O.LON_LAT]:{[O.CGCS2000]:Bt,[O.GCSMARS2000]:Bt,[O.GCSMOON2000]:Bt,[O.LON_LAT]:Bt,[O.WGS84_COMPARABLE_LON_LAT]:Bt,[O.SPHERICAL_ECEF]:$f,[O.SPHERICAL_MARS_PCPF]:lU,[O.SPHERICAL_MOON_PCPF]:oU,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:Kw,[O.PLATE_CARREE]:Cf,[O.WGS84]:Bt,[O.WGS84_ECEF]:Mf},[O.WGS84_COMPARABLE_LON_LAT]:{[O.CGCS2000]:null,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:Bt,[O.WGS84_COMPARABLE_LON_LAT]:Bt,[O.SPHERICAL_ECEF]:$f,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:Cf,[O.WGS84]:Bt,[O.WGS84_ECEF]:Mf},[O.PLATE_CARREE]:{[O.CGCS2000]:Tf,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:Tf,[O.WGS84_COMPARABLE_LON_LAT]:Tf,[O.SPHERICAL_ECEF]:cAe,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:uAe,[O.PLATE_CARREE]:Bt,[O.WGS84]:Tf,[O.WGS84_ECEF]:dAe}};function Rte(e,t,i=qN()){return j(e)||j(t)?null:yAe(e,t,i).projector}function yAe(e,t,i){if(j(e)||j(t)||i.source.spatialReference===e&&i.dest.spatialReference===t)return i;const n=pI(e,i.source),r=pI(t,i.dest);return n===O.UNKNOWN&&r===O.UNKNOWN?vn(e,t)?i.projector=Bt:i.projector=null:i.projector=Lb[n][r],i}function qN(){return{source:{spatialReference:null,spatialReferenceId:O.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:O.UNKNOWN,metersPerUnit:1},projector:Bt}}const vAe={spatialReference:null,spatialReferenceId:O.UNKNOWN},bAe={spatialReference:null,spatialReferenceId:O.UNKNOWN},Pte=qN();qN();const jl=rIe(1),S0=lee(1),sS=sc(),Ku=sc(),Yu=sc(),en=sc();var h5;let xl=h5=class extends W{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new h5({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};u([d({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],xl.prototype,"cols",void 0),u([d({type:Nt,json:{write:!0}})],xl.prototype,"level",void 0),u([d({type:String,json:{write:!0}})],xl.prototype,"levelValue",void 0),u([d({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],xl.prototype,"origin",void 0),u([d({type:Number,json:{write:!0}})],xl.prototype,"resolution",void 0),u([d({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],xl.prototype,"rows",void 0),u([d({type:Number,json:{write:!0}})],xl.prototype,"scale",void 0),xl=h5=u([I("esri.layers.support.LOD")],xl);const qc=xl;let Lte=class{constructor(t,i,n,r,s){this.id=t,this.level=i,this.row=n,this.col=r,this.extent=s}};var fd;const dU=new nt({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let cn=fd=class extends W{static create(e={}){const{resolutionFactor:t=1,scales:i,size:n=256,spatialReference:r=je.WebMercator,numLODs:s=24}=e;if(!Dn(r)){const p=[];if(i)for(let m=0;m<i.length;m++){const g=i[m];p.push(new qc({level:m,scale:g,resolution:g}))}else{let m=5e-4;for(let g=s-1;g>=0;g--)p.unshift(new qc({level:g,scale:m,resolution:m})),m*=2}return new fd({dpi:96,lods:p,origin:new Le(0,0,r),size:[n,n],spatialReference:r})}const a=Qo(r),o=e.origin?new Le({x:e.origin.x,y:e.origin.y,spatialReference:r}):new Le(a?{x:a.origin[0],y:a.origin[1],spatialReference:r}:{x:0,y:0,spatialReference:r}),l=96,c=1/(B0(r)*39.37*l),h=[];if(i)for(let p=0;p<i.length;p++){const m=i[p],g=m*c;h.push(new qc({level:p,scale:m,resolution:g}))}else{let p=OQ(r)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const m=Math.ceil(s/t);h.push(new qc({level:0,scale:p,resolution:p*c}));for(let g=1;g<m;g++){const y=p/2**t,b=y*c;h.push(new qc({level:g,scale:y,resolution:b})),p=y}}return new fd({dpi:l,lods:h,origin:o,size:[n,n],spatialReference:r})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const i=Qo(e);return e.isWrappable&&!!i&&Math.abs(i.origin[0]-t.x)<=i.dx}return!1}readOrigin(e,t){return Le.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,i=0;const n=[],r=this._levelToLOD={};e&&(t=-1/0,i=1/0,e.forEach(s=>{n.push(s.scale),t=s.scale>t?s.scale:t,i=s.scale<i?s.scale:i,r[s.level]=s})),this._set("scales",n),this._set("minScale",t),this._set("maxScale",i),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const i=Math.floor(e),n=i+1;return t[i]/(t[i]/t[n])**(e-i)}scaleToZoom(e){const t=this.scales,i=t.length-1;let n=0;for(;n<i;n++){const r=t[n],s=t[n+1];if(r<=e)return n;if(s===e)return n+1;if(r>e&&s<e)return n+Math.log(r/e)/Math.log(r/s)}return n}snapScale(e,t=.95){const i=this.scaleToZoom(e);return i%Math.floor(i)>=t?this.zoomToScale(Math.ceil(i)):this.zoomToScale(Math.floor(i))}tileAt(e,t,i,n){const r=this.lodAt(e);if(!r)return null;let s,a;if(typeof t=="number")s=t,a=i;else if(vn(t.spatialReference,this.spatialReference))s=t.x,a=t.y,n=i;else{const c=FC(t,this.spatialReference);if(j(c))return null;s=c.x,a=c.y,n=i}const o=r.resolution*this.size[0],l=r.resolution*this.size[1];return n||(n=new Lte(null,0,0,0,Dh())),n.level=e,n.row=Math.floor((this.origin.y-a)/l+.001),n.col=Math.floor((s-this.origin.x)/o+.001),this.updateTileInfo(n),n}updateTileInfo(e,t=fd.ExtrapolateOptions.NONE){let i=this.lodAt(e.level);if(!i&&t===fd.ExtrapolateOptions.POWER_OF_TWO){const a=this.lods[this.lods.length-1];a.level<e.level&&(i=a)}if(!i)return;const n=e.level-i.level,r=i.resolution*this.size[0]/2**n,s=i.resolution*this.size[1]/2**n;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=Dh()),e.extent[0]=this.origin.x+e.col*r,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+r,e.extent[3]=e.extent[1]+s}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const i=this.lodAt(t.level);if(i==null)return null;const{resolution:n}=i,r=n*this.size[0],s=n*this.size[1];return e[0]=this.origin.x+t.col*r,e[1]=this.origin.y-(t.row+1)*s,e[2]=e[0]+r,e[3]=e[1]+s,e}lodAt(e){var t;return((t=this._levelToLOD)==null?void 0:t[e])??null}clone(){return fd.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(this.size[0]===256&&this.size[1]===256)return e===256?this:null;const i=[],n=this.lods.length;for(let r=0;r<n;r++){const s=this.lods[r],a=s.resolution*t;i.push(new qc({level:s.level,scale:s.scale,resolution:a}))}return new fd({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:i})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let i=0;i<e.length;i++){const n=e[i];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}};u([d({type:Number,json:{write:!0}})],cn.prototype,"compressionQuality",void 0),u([d({type:Number,json:{write:!0}})],cn.prototype,"dpi",void 0),u([d({type:String,json:{read:dU.read,write:dU.write,origins:{"web-scene":{read:!1,write:!1}}}})],cn.prototype,"format",void 0),u([d({readOnly:!0})],cn.prototype,"isWrappable",null),u([d({type:Le,json:{write:!0}})],cn.prototype,"origin",void 0),u([ee("origin")],cn.prototype,"readOrigin",null),u([d({type:[qc],value:null,json:{write:!0}})],cn.prototype,"lods",null),u([d({readOnly:!0})],cn.prototype,"minScale",void 0),u([d({readOnly:!0})],cn.prototype,"maxScale",void 0),u([d({readOnly:!0})],cn.prototype,"scales",void 0),u([d({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],cn.prototype,"size",void 0),u([ee("size",["rows","cols"])],cn.prototype,"readSize",null),u([ue("size",{cols:{type:Nt},rows:{type:Nt}})],cn.prototype,"writeSize",null),u([d({type:je,json:{write:!0}})],cn.prototype,"spatialReference",void 0),cn=fd=u([I("esri.layers.support.TileInfo")],cn),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(cn||(cn={}));const eu=cn,B2={widthBreakpoint:{getValue(e){const t=e.viewSize[0],i=e.breakpoints,n=this.values;return t<=i.xsmall?n.xsmall:t<=i.small?n.small:t<=i.medium?n.medium:t<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],i=e.breakpoints,n=this.values;return t<=i.xsmall?n.xsmall:t<=i.small?n.small:t<=i.medium?n.medium:t<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,i=t[0],n=t[1],r=this.values;return n>=i?r.portrait:r.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},vA={xsmall:544,small:768,medium:992,large:1200};function wAe(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function bA(e,t){return t?B2[e].valueToClassName[t].split(" "):[]}const _Ae=e=>{let t=class extends e{constructor(...i){super(...i),this._breakpointsHandles=new vs,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=vA}initialize(){this._breakpointsHandles.add(X(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),gt))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=Si(this._breakpointsHandles))}set breakpoints(i){if(i===this._get("breakpoints"))return;const n=wAe(i);if(!n){const r=JSON.stringify(vA,null,2);console.warn("provided breakpoints are not valid, using defaults:"+r)}i=n?i:vA,this._set("breakpoints",{...i})}_updateClassNames(){if(!this.container)return;const i=Or.acquire(),n=Or.acquire();let r,s=!1;for(r in B2){const a=this[r],o=B2[r].getValue({viewSize:this.size,breakpoints:this.breakpoints});a!==o&&(s=!0,this[r]=o,bA(r,a).forEach(l=>n.push(l)),bA(r,o).forEach(l=>i.push(l)))}s&&(this._applyClassNameChanges(i,n),Or.release(i),Or.release(n))}_applyClassNameChanges(i,n){const r=this.container;r&&(n.forEach(s=>r.classList.remove(s)),i.forEach(s=>r.classList.add(s)))}_removeActiveClassNames(){const i=this.container;if(!i)return;let n;for(n in B2)bA(n,this[n]).forEach(r=>i.classList.remove(r))}};return u([d()],t.prototype,"breakpoints",null),u([d()],t.prototype,"orientation",void 0),u([d()],t.prototype,"widthBreakpoint",void 0),u([d()],t.prototype,"heightBreakpoint",void 0),t=u([I("esri.views.BreakpointsOwner")],t),t};function WN(e){return typeof e=="string"?document.getElementById(e):e??null}function Fte(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function hU(e,t){const i=t.parentNode;i&&i.insertBefore(e,t)}function pU(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}let jy=class extends ve{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._handles=new vs,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll(),this._handles.destroy()}add(t,i,n={}){return this._installWatch(t,i,n,X)}addWhen(t,i,n={}){return this._installWatch(t,i,n,io)}addOnCollectionChange(t,i,{initial:n=!1,final:r=!1}={}){const s=++this._handleId;return this._handles.add([gs(t,"after-changes",this._createSyncUpdatingCallback(),x0),gs(t,"change",i,{onListenerAdd:n?a=>i({added:a.toArray(),removed:[]}):void 0,onListenerRemove:r?a=>i({added:[],removed:a.toArray()}):void 0})],s),{remove:()=>this._handles.remove(s)}}addPromise(t){if(j(t))return t;const i=++this._handleId;this._handles.add({remove:()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this._handles.has(aS)||this._set("updating",!1))}},i),this._pendingPromises.add(t),this._set("updating",!0);const n=()=>this._handles.remove(i);return t.then(n,n),t}removeAll(){this._pendingPromises.clear(),this._handles.removeAll(),this._set("updating",!1)}_installWatch(t,i,n={},r){const s=++this._handleId;n.sync||this._installSyncUpdatingWatch(t,s);const a=r(t,i,n);return this._handles.add(a,s),{remove:()=>this._handles.remove(s)}}_installSyncUpdatingWatch(t,i){const n=this._createSyncUpdatingCallback(),r=X(t,n,{sync:!0,equals:()=>!1});return this._handles.add(r,i),r}_createSyncUpdatingCallback(){return()=>{this._handles.remove(aS),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this._handles.add(U0(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this._handles.remove(aS))}),aS)}}};u([d({readOnly:!0})],jy.prototype,"updating",void 0),jy=u([I("esri.core.support.WatchUpdatingTracking")],jy);const aS=-42;/*!
 * @esri/arcgis-html-sanitizer - v3.0.1 - Tue Nov 15 2022 09:46:54 GMT-0800 (Pacific Standard Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 */var xAe=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},df={exports:{}},Ai={},Yw={exports:{}},Lm={};function Nte(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function SAe(e,t,i){}function EAe(e,t,i){}var kAe=/javascript\s*\:/img;function IAe(e,t){return kAe.test(t)?"":t}Lm.whiteList=Nte();Lm.getDefaultWhiteList=Nte;Lm.onAttr=SAe;Lm.onIgnoreAttr=EAe;Lm.safeAttrValue=IAe;var CAe={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var n,r;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,r=e.length;n<r;n++)t.call(i,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Uv=CAe;function TAe(e,t){e=Uv.trimRight(e),e[e.length-1]!==";"&&(e+=";");var i=e.length,n=!1,r=0,s=0,a="";function o(){if(!n){var h=Uv.trim(e.slice(r,s)),p=h.indexOf(":");if(p!==-1){var m=Uv.trim(h.slice(0,p)),g=Uv.trim(h.slice(p+1));if(m){var y=t(r,a.length,m,g,h);y&&(a+=y+"; ")}}}r=s+1}for(;s<i;s++){var l=e[s];if(l==="/"&&e[s+1]==="*"){var c=e.indexOf("*/",s+2);if(c===-1)break;s=c+1,r=s+1,n=!1}else l==="("?n=!0:l===")"?n=!1:l===";"?n||o():l===`
`&&o()}return Uv.trim(a)}var $Ae=TAe,oS=Lm,AAe=$Ae;function fU(e){return e==null}function MAe(e){var t={};for(var i in e)t[i]=e[i];return t}function zte(e){e=MAe(e||{}),e.whiteList=e.whiteList||oS.whiteList,e.onAttr=e.onAttr||oS.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||oS.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||oS.safeAttrValue,this.options=e}zte.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,n=i.whiteList,r=i.onAttr,s=i.onIgnoreAttr,a=i.safeAttrValue,o=AAe(e,function(l,c,h,p,m){var g=n[h],y=!1;if(g===!0?y=g:typeof g=="function"?y=g(p):g instanceof RegExp&&(y=g.test(p)),y!==!0&&(y=!1),p=a(h,p),!!p){var b={position:c,sourcePosition:l,source:m,isWhite:y};if(y){var w=r(h,p,b);return fU(w)?h+":"+p:w}else{var w=s(h,p,b);if(!fU(w))return w}}});return o};var DAe=zte;(function(e,t){var i=Lm,n=DAe;function r(a,o){var l=new n(o);return l.process(a)}t=e.exports=r,t.FilterCSS=n;for(var s in i)t[s]=i[s]})(Yw,Yw.exports);var KN={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var n,r;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,r=e.length;n<r;n++)t.call(i,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,i=t.exec(e);return i?i.index:-1}},OAe=Yw.exports.FilterCSS,RAe=Yw.exports.getDefaultWhiteList,fI=KN;function Vte(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var jte=new OAe;function PAe(e,t,i){}function LAe(e,t,i){}function FAe(e,t,i){}function NAe(e,t,i){}function Ute(e){return e.replace(VAe,"&lt;").replace(jAe,"&gt;")}function zAe(e,t,i,n){if(i=Kte(i),t==="href"||t==="src"){if(i=fI.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(t==="background"){if(lS.lastIndex=0,lS.test(i))return""}else if(t==="style"){if(mU.lastIndex=0,mU.test(i)||(gU.lastIndex=0,gU.test(i)&&(lS.lastIndex=0,lS.test(i))))return"";n!==!1&&(n=n||jte,i=n.process(i))}return i=Yte(i),i}var VAe=/</g,jAe=/>/g,UAe=/"/g,BAe=/&quot;/g,HAe=/&#([a-zA-Z0-9]*);?/gim,GAe=/&colon;?/gim,qAe=/&newline;?/gim,lS=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,mU=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,gU=/u\s*r\s*l\s*\(.*/gi;function Bte(e){return e.replace(UAe,"&quot;")}function Hte(e){return e.replace(BAe,'"')}function Gte(e){return e.replace(HAe,function(i,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function qte(e){return e.replace(GAe,":").replace(qAe," ")}function Wte(e){for(var t="",i=0,n=e.length;i<n;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return fI.trim(t)}function Kte(e){return e=Hte(e),e=Gte(e),e=qte(e),e=Wte(e),e}function Yte(e){return e=Bte(e),e=Ute(e),e}function WAe(){return""}function KAe(e,t){typeof t!="function"&&(t=function(){});var i=!Array.isArray(e);function n(a){return i?!0:fI.indexOf(e,a)!==-1}var r=[],s=!1;return{onIgnoreTag:function(a,o,l){if(n(a))if(l.isClosing){var c="[/removed]",h=l.position+c.length;return r.push([s!==!1?s:l.position,h]),s=!1,c}else return s||(s=l.position),"[removed]";else return t(a,o,l)},remove:function(a){var o="",l=0;return fI.forEach(r,function(c){o+=a.slice(l,c[0]),l=c[1]}),o+=a.slice(l),o}}}function YAe(e){for(var t="",i=0;i<e.length;){var n=e.indexOf("<!--",i);if(n===-1){t+=e.slice(i);break}t+=e.slice(i,n);var r=e.indexOf("-->",n);if(r===-1)break;i=r+3}return t}function JAe(e){var t=e.split("");return t=t.filter(function(i){var n=i.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),t.join("")}Ai.whiteList=Vte();Ai.getDefaultWhiteList=Vte;Ai.onTag=PAe;Ai.onIgnoreTag=LAe;Ai.onTagAttr=FAe;Ai.onIgnoreTagAttr=NAe;Ai.safeAttrValue=zAe;Ai.escapeHtml=Ute;Ai.escapeQuote=Bte;Ai.unescapeQuote=Hte;Ai.escapeHtmlEntities=Gte;Ai.escapeDangerHtml5Entities=qte;Ai.clearNonPrintableCharacter=Wte;Ai.friendlyAttrValue=Kte;Ai.escapeAttrValue=Yte;Ai.onIgnoreTagStripAll=WAe;Ai.StripTagBody=KAe;Ai.stripCommentTag=YAe;Ai.stripBlankChar=JAe;Ai.cssFilter=jte;Ai.getDefaultCSSWhiteList=RAe;var iT={},Nd=KN;function ZAe(e){var t=Nd.spaceIndex(e),i;return t===-1?i=e.slice(1,-1):i=e.slice(1,t+1),i=Nd.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function QAe(e){return e.slice(0,2)==="</"}function XAe(e,t,i){var n="",r=0,s=!1,a=!1,o=0,l=e.length,c="",h="";e:for(o=0;o<l;o++){var p=e.charAt(o);if(s===!1){if(p==="<"){s=o;continue}}else if(a===!1){if(p==="<"){n+=i(e.slice(r,o)),s=o,r=o;continue}if(p===">"){n+=i(e.slice(r,s)),h=e.slice(s,o+1),c=ZAe(h),n+=t(s,n.length,c,h,QAe(h)),r=o+1,s=!1;continue}if(p==='"'||p==="'")for(var m=1,g=e.charAt(o-m);g.trim()===""||g==="=";){if(g==="="){a=p;continue e}g=e.charAt(o-++m)}}else if(p===a){a=!1;continue}}return r<e.length&&(n+=i(e.substr(r))),n}var eMe=/[^a-zA-Z0-9\\_:.-]/gim;function tMe(e,t){var i=0,n=0,r=[],s=!1,a=e.length;function o(m,g){if(m=Nd.trim(m),m=m.replace(eMe,"").toLowerCase(),!(m.length<1)){var y=t(m,g||"");y&&r.push(y)}}for(var l=0;l<a;l++){var c=e.charAt(l),h,p;if(s===!1&&c==="="){s=e.slice(i,l),i=l+1,n=e.charAt(i)==='"'||e.charAt(i)==="'"?i:nMe(e,l+1);continue}if(s!==!1&&l===n){if(p=e.indexOf(c,l+1),p===-1)break;h=Nd.trim(e.slice(n+1,p)),o(s,h),s=!1,l=p,i=l+1;continue}if(/\s|\n|\t/.test(c))if(e=e.replace(/\s|\n|\t/g," "),s===!1)if(p=iMe(e,l),p===-1){h=Nd.trim(e.slice(i,l)),o(h),s=!1,i=l+1;continue}else{l=p-1;continue}else if(p=rMe(e,l-1),p===-1){h=Nd.trim(e.slice(i,l)),h=yU(h),o(s,h),s=!1,i=l+1;continue}else continue}return i<e.length&&(s===!1?o(e.slice(i)):o(s,yU(Nd.trim(e.slice(i))))),Nd.trim(r.join(" "))}function iMe(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="="?t:-1}}function nMe(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="'"||i==='"'?t:-1}}function rMe(e,t){for(;t>0;t--){var i=e[t];if(i!==" ")return i==="="?t:-1}}function sMe(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function yU(e){return sMe(e)?e.substr(1,e.length-2):e}iT.parseTag=XAe;iT.parseAttr=tMe;var aMe=Yw.exports.FilterCSS,Fo=Ai,Jte=iT,oMe=Jte.parseTag,lMe=Jte.parseAttr,H2=KN;function cS(e){return e==null}function cMe(e){var t=H2.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=H2.trim(e.slice(t+1,-1));var i=e[e.length-1]==="/";return i&&(e=H2.trim(e.slice(0,-1))),{html:e,closing:i}}function uMe(e){var t={};for(var i in e)t[i]=e[i];return t}function dMe(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map(function(n){return n.toLowerCase()}):t[i.toLowerCase()]=e[i];return t}function Zte(e){e=uMe(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Fo.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=dMe(e.whiteList||e.allowList):e.whiteList=Fo.whiteList,e.onTag=e.onTag||Fo.onTag,e.onTagAttr=e.onTagAttr||Fo.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Fo.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Fo.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Fo.safeAttrValue,e.escapeHtml=e.escapeHtml||Fo.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new aMe(e.css))}Zte.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,n=i.whiteList,r=i.onTag,s=i.onIgnoreTag,a=i.onTagAttr,o=i.onIgnoreTagAttr,l=i.safeAttrValue,c=i.escapeHtml,h=t.cssFilter;i.stripBlankChar&&(e=Fo.stripBlankChar(e)),i.allowCommentTag||(e=Fo.stripCommentTag(e));var p=!1;i.stripIgnoreTagBody&&(p=Fo.StripTagBody(i.stripIgnoreTagBody,s),s=p.onIgnoreTag);var m=oMe(e,function(g,y,b,w,_){var x={sourcePosition:g,position:y,isClosing:_,isWhite:Object.prototype.hasOwnProperty.call(n,b)},S=r(b,w,x);if(!cS(S))return S;if(x.isWhite){if(x.isClosing)return"</"+b+">";var k=cMe(w),A=n[b],T=lMe(k.html,function(C,M){var L=H2.indexOf(A,C)!==-1,V=a(b,C,M,L);return cS(V)?L?(M=l(b,C,M,h),M?C+'="'+M+'"':C):(V=o(b,C,M,L),cS(V)?void 0:V):V});return w="<"+b,T&&(w+=" "+T),k.closing&&(w+=" /"),w+=">",w}else return S=s(b,w,x),cS(S)?c(w):S},c);return p&&(m=p.remove(m)),m};var hMe=Zte;(function(e,t){var i=Ai,n=iT,r=hMe;function s(o,l){var c=new r(l);return c.process(o)}t=e.exports=s,t.filterXSS=s,t.FilterXSS=r,function(){for(var o in i)t[o]=i[o];for(var l in n)t[l]=n[l]}();function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=e.exports)})(df,df.exports);var pMe=function(){function e(t,i){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,a,o,l){return s==="a"&&a==="href"||(s==="img"||s==="source")&&a==="src"?n.sanitizeUrl(o):df.exports.safeAttrValue(s,a,o,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var r;t&&!i?r=t:t&&i?(r=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(s){s==="whiteList"?r.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,t.whiteList||{}]):r[s]=t[s]})):(r=Object.create(this.arcgisFilterOptions),r.whiteList=this.arcgisWhiteList),this.xssFilterOptions=r,this._xssFilter=new df.exports.FilterXSS(r)}return e.prototype.sanitize=function(t,i){switch(i===void 0&&(i={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,i);default:return i.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,i){var n=(i??{}).isProtocolRequired,r=n===void 0?!0:n,s=this._trim(t.substring(0,t.indexOf(":"))),a=t==="/",o=/^#/.test(t),l=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return a||o||l?df.exports.escapeAttrValue(t):!s&&!r?df.exports.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,i,n,r){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,i,n,r):df.exports.safeAttrValue(t,i,n,r)},e.prototype.validate=function(t,i){i===void 0&&(i={});var n=this.sanitize(t,i);return{isValid:t===n,sanitized:n}},e.prototype.encodeHTML=function(t){var i=this;return String(t).replace(/[&<>"'\/]/g,function(n){return i._entityMap[n]})},e.prototype.encodeAttrValue=function(t){var i=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(n,r){return i.test(n)?n:"&#x".concat(Number(t.charCodeAt(r)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var i={};return t.forEach(function(n){Object.keys(n).forEach(function(r){Array.isArray(n[r])&&Array.isArray(i[r])?i[r]=i[r].concat(n[r]):i[r]=n[r]})}),i},e.prototype._iterateOverObject=function(t,i){var n=this;i===void 0&&(i={});try{var r=!1,s=void 0;if(Array.isArray(t))s=t.reduce(function(o,l){var c=n.validate(l,i);return c.isValid?o.concat([l]):(r=!0,o.concat([c.sanitized]))},[]);else if(xAe(t)){var a=Object.keys(t);s=a.reduce(function(o,l){var c=t[l],h=n.validate(c,i);return h.isValid?o[l]=c:(r=!0,o[l]=h.sanitized),o},{})}else return i.allowUndefined&&typeof t>"u"?void 0:null;return r?s:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const nT=new Map;function Qte(){nT.clear()}function fMe(e){return nT.get(e)}function mMe(e,t){nT.set(e,t)}function wA(e){nT.delete(e)}var wm,E0,gMe=function(e){if("WebkitTransition"in e.style)wm="webkitTransitionEnd",E0="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");wm="transitionend",E0="animationend"}},Xte=function(e){wm||gMe(e)},yMe=function(e,t){return t===void 0&&(t=e+"-active"),function(i){Xte(i);var n=!1,r=function(s){n||(n=!0,i.removeEventListener(wm,r),i.removeEventListener(E0,r),i.classList.remove(e),i.classList.remove(t))};i.classList.add(e),i.addEventListener(wm,r),i.addEventListener(E0,r),requestAnimationFrame(function(){i.classList.add(t)})}},vMe=function(e,t){return t===void 0&&(t=e+"-active"),function(i,n){Xte(i);var r=!1,s=function(a){r||(r=!0,i.removeEventListener(wm,s),i.removeEventListener(E0,s),n())};i.classList.add(e),i.addEventListener(wm,s),i.addEventListener(E0,s),requestAnimationFrame(function(){i.classList.add(t)})}};const bMe=Y.getLogger("esri.widgets.support.widgetUtils");function eie(e){const t=Or.acquire();for(let n=0;n<arguments.length;n++){const r=arguments[n],s=typeof r;if(s==="string")t.push(r);else if(Array.isArray(r))t.push.apply(t,r);else if(s==="object")for(const a in r)r[a]&&t.push(a)}const i=t.join(" ");return Or.release(t),i}(()=>{const e=new Map,t=new ResizeObserver(i=>{var n;Qte();for(const r of i)(n=e.get(r.target))==null||n(r)});return(i,n,r)=>(e.has(i)&&bMe.error("Already observing element",i),e.set(i,n),t.observe(i,r),j0(()=>{t.unobserve(i),e.delete(i)}))})();function Ul(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function vU(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function mI(e){const t="data-node-ref";this[e.getAttribute(t)]=e}function wMe(e,t){return(e==="enter"?yMe:vMe)(t)}const _Me=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],xMe=_Me.reduce((e,t)=>(e[t]=[],e),{}),SMe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],tie=new pMe({whiteList:xMe,onTagAttr:(e,t,i)=>{const n=`${t}="${i}"`;if(SMe.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function EMe(e){return e==="Enter"||e===" "}const iie="http://www.w3.org/",rT=`${iie}2000/svg`,nie=`${iie}1999/xlink`;let bU=[],YN=(e,t)=>{let i={};return Object.keys(e).forEach(n=>{i[n]=e[n]}),t&&Object.keys(t).forEach(n=>{i[n]=t[n]}),i},JN=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),rie=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},kMe=(e,t,i)=>{if(t.vnodeSelector!==""){for(let n=i;n<e.length;n++)if(JN(e[n],t))return n}return-1},_A=(e,t,i,n)=>{let r=e[t];if(r.vnodeSelector==="")return;let s=r.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let a=0;a<e.length;a++)if(a!==t){let o=e[a];if(JN(o,r))throw new Error(`${i.vnodeSelector} had a ${r.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},IMe=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},p5=[],f5=!1,sie=e=>{(e.children||[]).forEach(sie),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},wU=()=>{f5=!1,p5.forEach(sie),p5.length=0},_U=e=>{p5.push(e),f5||(f5=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(wU,{timeout:16}):setTimeout(wU,16))},xU=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i)return t.style.pointerEvents="none",void i(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),_U(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),_U(e))},CMe=(e,t,i)=>{if(!t)return;let n=i.eventHandlerInterceptor,r=Object.keys(t),s=r.length;for(let a=0;a<s;a++){let o=r[a],l=t[o];if(o==="className")throw new Error('Property "className" is not supported, use "class".');if(o==="class")m5(e,l,!0);else if(o==="classes"){let c=Object.keys(l),h=c.length;for(let p=0;p<h;p++){let m=c[p];l[m]&&e.classList.add(m)}}else if(o==="styles"){let c=Object.keys(l),h=c.length;for(let p=0;p<h;p++){let m=c[p],g=l[m];g&&(rie(g),i.styleApplyer(e,m,g))}}else if(o!=="key"&&l!=null){let c=typeof l;c==="function"?(o.lastIndexOf("on",0)===0&&(n&&(l=n(o,l,e,t)),o==="oninput"&&function(){let h=l;l=function(p){h.apply(this,[p]),p.target["oninput-value"]=p.target.value}}()),e[o]=l):i.namespace===rT?o==="href"?e.setAttributeNS(nie,o,l):e.setAttribute(o,l):c==="string"&&o!=="value"?o==="innerHTML"?e[o]=tie.sanitize(l):aie(e)&&o in e?e[o]=l:e.setAttribute(o,l):e[o]=l}}};function aie(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let gI,TMe=(e,t,i)=>{if(t)for(let n of t)yy(n,e,void 0,i)},oie=(e,t,i)=>{TMe(e,t.children,i),t.text&&(e.textContent=t.text),CMe(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},yy=(e,t,i,n)=>{let r,s=0,a=e.vnodeSelector,o=t.ownerDocument;if(a==="")r=e.domNode=o.createTextNode(e.text),i!==void 0?t.insertBefore(r,i):t.appendChild(r);else{for(let l=0;l<=a.length;++l){let c=a.charAt(l);if(l===a.length||c==="."||c==="#"){let h=a.charAt(s-1),p=a.slice(s,l);h==="."?r.classList.add(p):h==="#"?r.id=p:(p==="svg"&&(n=YN(n,{namespace:rT})),n.namespace!==void 0?r=e.domNode=o.createElementNS(n.namespace,p):(r=e.domNode=e.domNode||o.createElement(p),p==="input"&&e.properties&&e.properties.type!==void 0&&r.setAttribute("type",e.properties.type)),i!==void 0?t.insertBefore(r,i):r.parentNode!==t&&t.appendChild(r)),s=l+1}}oie(r,e,n)}},m5=(e,t,i)=>{t&&t.split(" ").forEach(n=>{n&&e.classList.toggle(n,i)})},$Me=(e,t,i,n)=>{if(!i)return;let r=!1,s=Object.keys(i),a=s.length;for(let o=0;o<a;o++){let l=s[o],c=i[l],h=t[l];if(l==="class")h!==c&&(m5(e,h,!1),m5(e,c,!0));else if(l==="classes"){let p=e.classList,m=Object.keys(c),g=m.length;for(let y=0;y<g;y++){let b=m[y],w=!!c[b];w!==!!h[b]&&(r=!0,w?p.add(b):p.remove(b))}}else if(l==="styles"){let p=Object.keys(c),m=p.length;for(let g=0;g<m;g++){let y=p[g],b=c[y];b!==h[y]&&(r=!0,b?(rie(b),n.styleApplyer(e,y,b)):n.styleApplyer(e,y,""))}}else if(c||typeof h!="string"||(c=""),l==="value"){let p=e[l];p!==c&&(e["oninput-value"]?p===e["oninput-value"]:c!==h)&&(e[l]=c,e["oninput-value"]=void 0),c!==h&&(r=!0)}else if(c!==h){let p=typeof c;p==="function"&&n.eventHandlerInterceptor||(n.namespace===rT?l==="href"?e.setAttributeNS(nie,l,c):e.setAttribute(l,c):p==="string"?l==="innerHTML"?e[l]=tie.sanitize(c):l==="role"&&c===""?e.removeAttribute(l):aie(e)&&l in e?e[l]=c:e.setAttribute(l,c):e[l]!==c&&(e[l]=c),r=!0)}}return r},AMe=(e,t,i,n,r)=>{if(i===n)return!1;n=n||bU;let s,a=(i=i||bU).length,o=n.length,l=0,c=0,h=!1;for(;c<o;){let p=l<a?i[l]:void 0,m=n[c];if(p!==void 0&&JN(p,m))h=gI(p,m,r)||h,l++;else{let g=kMe(i,m,l+1);if(g>=0){for(s=l;s<g;s++)xU(i[s]),_A(i,s,e,"removed");h=gI(i[g],m,r)||h,l=g+1}else yy(m,t,l<a?i[l].domNode:void 0,r),IMe(m),_A(n,c,e,"added")}c++}if(a>l)for(s=l;s<a;s++)xU(i[s]),_A(i,s,e,"removed");return h};gI=(e,t,i)=>{let n=e.domNode,r=!1;if(e===t)return!1;let s=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let a=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(a,n),t.domNode=a,r=!0,r}t.domNode=n}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(i=YN(i,{namespace:rT})),e.text!==t.text&&(s=!0,t.text===void 0?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,s=AMe(t,n,e.children,t.children,i)||s,s=$Me(n,e.properties,t.properties,i)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,i,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),r};let Bv=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=e;e=i,gI(n,i,t)},domNode:e.domNode});const MMe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}};let Cg=e=>YN(MMe,e),oh={create:(e,t)=>(t=Cg(t),yy(e,document.createElement("div"),void 0,t),Bv(e,t)),append:(e,t,i)=>(i=Cg(i),yy(t,e,void 0,i),Bv(t,i)),insertBefore:(e,t,i)=>(i=Cg(i),yy(t,e.parentNode,e,i),Bv(t,i)),merge:(e,t,i)=>(i=Cg(i),t.domNode=e,oie(e,t,i),Bv(t,i)),replace:(e,t,i)=>(i=Cg(i),yy(t,e.parentNode,e,i),e.parentNode.removeChild(e),Bv(t,i))},lie,DMe=(e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i};lie=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let OMe=(e,t)=>{let i=e;return t.forEach(n=>{i=i&&i.children?lie(i.children,r=>r.domNode===n):void 0}),i},RMe=(e,t,i)=>{let n=function(r){i("domEvent",r);let s=t(),a=DMe(r.currentTarget,s.domNode);a.reverse();let o,l=OMe(s.getLastRender(),a);return e.scheduleRender(),l&&(o=l.properties[`on${r.type}`].apply(l.properties.bind||this,arguments)),i("domEventProcessed",r),o};return(r,s,a,o)=>n},g5=e=>{let t,i,n=Cg(e),r=n.performanceLogger,s=!0,a=!1,o=[],l=[],c=(p,m,g)=>{let y,b=()=>y;n.eventHandlerInterceptor=RMe(t,b,r),y=p(m,g(),n),o.push(y),l.push(g)},h=()=>{if(i=void 0,s){s=!1,r("renderStart",void 0);for(let p=0;p<o.length;p++){let m=l[p]();r("rendered",void 0),o[p].update(m),r("patched",void 0)}r("renderDone",void 0),s=!0}};return t={renderNow:h,scheduleRender:()=>{i||a||(i=requestAnimationFrame(h))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),a=!0},resume:()=>{a=!1,s=!0,t.scheduleRender()},append:(p,m)=>{c(oh.append,p,m)},insertBefore:(p,m)=>{c(oh.insertBefore,p,m)},merge:(p,m)=>{c(oh.merge,p,m)},replace:(p,m)=>{c(oh.replace,p,m)},detach:p=>{for(let m=0;m<l.length;m++)if(l[m]===p)return l.splice(m,1),o.splice(m,1)[0];throw new Error("renderFunction was not found")}},t},md=class extends ve{constructor(){super(...arguments),this.items=new Ie,this._watchUpdatingTracking=new jy,this._callbacks=new Map,this._projector=g5(),this._hiddenProjector=g5()}get needsRender(){return this.items.length>0}get updating(){var t;return((t=this._watchUpdatingTracking)==null?void 0:t.updating)??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(const n of i.added){const r=()=>n.render();this._callbacks.set(n,r),this._projector.append(this.surface,r)}for(const n of i.removed){const r=this._projector.detach(this._callbacks.get(n));this.surface.removeChild(r.domNode),this._callbacks.delete(n)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const i=this._hiddenSurface,n=this._hiddenProjector;let r;const s=()=>(r=t.render(),r);n.append(i,s),n.renderNow();const a={left:0,top:0,right:0,bottom:0};if(r&&r.domNode){const o=r.domNode.getBoundingClientRect();a.left=o.left,a.top=o.top,a.right=o.right,a.bottom=o.bottom}for(n.detach(s);i.firstChild;)i.removeChild(i.firstChild);return a}overlaps(t,i){const n=this.computeBoundingRect(t),r=this.computeBoundingRect(i);return Math.max(n.left,r.left)<=Math.min(n.right,r.right)&&Math.max(n.top,r.top)<=Math.min(n.bottom,r.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t){if(!this.items.some(n=>n.visible))return;const i=t.getContext("2d");i.save(),i.font=this._fontString(),this.items.forEach(n=>{i.save(),n.renderCanvas(i),i.restore()}),i.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};u([d({readOnly:!0})],md.prototype,"surface",void 0),u([d({readOnly:!0})],md.prototype,"items",void 0),u([d({readOnly:!0})],md.prototype,"needsRender",null),u([d({readOnly:!0})],md.prototype,"_watchUpdatingTracking",void 0),u([d({readOnly:!0})],md.prototype,"updating",null),md=u([I("esri.views.overlay.ViewOverlay")],md);const SU=md;function Uy(e,t,i,n){let r=null,s=1e3;typeof t=="number"?(s=t,n=i):(r=t??null,s=i);let a,o=0;const l=()=>{o=0,e.apply(n,a)},c=(...h)=>{r&&r.apply(n,h),a=h,s?o||(o=setTimeout(l,s)):l()};return c.remove=()=>{o&&(clearTimeout(o),o=0)},c.forceUpdate=()=>{o&&(clearTimeout(o),l())},c.hasPendingUpdates=()=>!!o,c}const PMe="randomUUID"in crypto;function LMe(){if(PMe)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=i=>e[i].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}const FMe={handleInterceptedEvent:(e,t,i,n)=>(e.scheduleRender(),t.properties[`on${n.type}`].apply(t.properties.bind||i,[n]))},NMe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{e.style[t]=i}},zMe=e=>({...NMe,...e}),VMe=(e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i},jMe=(e,t)=>e.find(t),EU=(e,t,i=!1)=>{let n=e;return t.forEach((r,s)=>{const a=n!=null&&n.children?jMe(n.children,o=>o.domNode===r):void 0;i&&!a&&s!==t.length-1||(n=a)}),n},UMe=e=>{let t;const i={...FMe,...e},n=zMe(i),r=n.performanceLogger;let s,a=!0,o=!1;const l=[],c=[],h=(m,g,y)=>{var _;let b;n.eventHandlerInterceptor=(x,S,k,A)=>function(T){let C;r("domEvent",T);const M=VMe(T.currentTarget,b.domNode),L=M.some(P=>{var J;return customElements.get((J=P==null?void 0:P.tagName)==null?void 0:J.toLowerCase())});if(T.eventPhase===Event.CAPTURING_PHASE||!L)M.reverse(),C=EU(b.getLastRender(),M);else{const P=T.composedPath(),J=P.slice(P.indexOf(T.currentTarget),P.indexOf(b.domNode)).filter(oe=>oe.getRootNode()===oe.ownerDocument).reverse();C=EU(b.getLastRender(),J,!0)}let V;return C&&(V=i.handleInterceptedEvent(t,C,this,T)),r("domEventProcessed",T),V},(_=i.postProcessProjectionOptions)==null||_.call(i,n);const w=y();b=m(g,w,n),l.push(b),c.push(y),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(b,w)};let p=()=>{if(s=void 0,a){a=!1,r("renderStart",void 0);for(let m=0;m<l.length;m++){const g=c[m]();r("rendered",void 0),l[m].update(g),r("patched",void 0)}r("renderDone",void 0),a=!0}};return i.modifyDoRenderImplementation&&(p=i.modifyDoRenderImplementation(p,l,c)),t={renderNow:p,scheduleRender:()=>{s||o||(s=requestAnimationFrame(p))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),o=!0},resume:()=>{o=!1,a=!0,t.scheduleRender()},append:(m,g)=>{h(oh.append,m,g)},insertBefore:(m,g)=>{h(oh.insertBefore,m,g)},merge:(m,g)=>{h(oh.merge,m,g)},replace:(m,g)=>{h(oh.replace,m,g)},detach:m=>{for(let g=0;g<c.length;g++)if(c[g]===m)return c.splice(g,1),l.splice(g,1)[0];throw new Error("renderFunction was not found")}},t};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */function kU(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(nY)||e.contains(iY)&&t?"dark":"light",n=a=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:a}})),r=a=>{s!==a&&n(a),s=a};let s=i();n(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",a=>r(a.matches?"dark":"light")),new MutationObserver(()=>r(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function BMe(){typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document&&(document.readyState==="interactive"?kU():document.addEventListener("DOMContentLoaded",()=>kU(),{once:!0}))}const HMe=BMe;HMe();let cie;function GMe(){NK(Fa(wt(cie)))}cie="components/assets";const uie=Symbol("widget"),qMe=Symbol("widget-test-data"),WMe=[],KMe={},yI=new WeakMap;function die(e,t){let i=t.children;if(i&&i.length)for(let r=0;r<i.length;++r)i[r]=die(e,i[r]);else i=WMe;const n=t.vnodeSelector;if(ZN(n)){const r=t.properties||KMe,s=r.key||n;return{vnodeSelector:"div",properties:{key:s,afterCreate:YMe,afterUpdate:JMe,afterRemoved:hie,parentWidget:e,widgetConstructor:n,widgetProperties:{...r,key:s,children:i}},children:void 0,text:void 0,domNode:null}}return t}function YMe(e,t,i,{parentWidget:n,widgetConstructor:r,widgetProperties:s}){var o;const a=new r(s);a.container=e,yI.set(e,a),(o=a.afterCreate)==null||o.call(a,a,e),n._internalHandles.add(j0(()=>hie(e)))}function JMe(e,t,i,{widgetProperties:n}){var s;const r=yI.get(e);r&&(r.set(n),(s=r.afterUpdate)==null||s.call(r,r,e))}function hie(e){var i;const t=yI.get(e);t&&((i=t.afterRemoved)==null||i.call(t,t,e),t.destroy(),yI.delete(e))}function ZN(e){return typeof e=="function"&&e[uie]}const IU=new Set;function ZMe(e){IU.add(e),e.finally(()=>IU.delete(e))}var pie;const QMe="esri.widgets.Widget";let XMe=0;const e3e={widgetIcon:"esri-icon-checkbox-unchecked"};function fie(e,t){for(const i in t)e[i]!=null&&(typeof e[i]=="object"&&typeof t[i]=="object"?fie(e[i],t==null?void 0:t[i]):e[i]=t[i]);return e}const t3e=UMe({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(n,r,s,a)=>{const o=t==null?void 0:t(n,r,s,a),l=i.test(n);if(!((n=n.replace(i,"")).toLowerCase()in s)||l){const c=n[2].toLowerCase()+n.slice(3),h=g=>o==null?void 0:o.call(s,g);s.addEventListener(c,h,l);const p=()=>s.removeEventListener(c,h,l),m=a.afterRemoved;a.afterRemoved=g=>{m==null||m(g),p()}}return o}},handleInterceptedEvent(e,t,i,n){const{eventPhase:r,type:s}=n,a=r===Event.CAPTURING_PHASE;let o=`on${s}${a?"capture":""}`;const l=t.properties;(l&&o in l||(o=`on${s[0].toUpperCase()}${s.slice(1)}${a?"Capture":""}`,l&&o in l))&&(Qte(),e.scheduleRender(),l[o].call(l.bind||i,n))}});let xA=!1,un=class extends JC(Ru.EventedAccessor){constructor(t,i){super(t,i),this._attached=!1,this._internalHandles=new vs,this._projector=t3e,this._readyForTrueRender=!1,this.iconClass=e3e.widgetIcon,this.key=this,this._loadLocale=fQ(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const a=await ps(this._messageBundleProps.map(async({bundlePath:o,propertyName:l})=>{let c=await gte(o);this.uiStrings&&Object.keys(this.uiStrings)&&(c=fie(z(c),this.uiStrings)),this[l]=c}));for(const o of a)o.error&&Y.getLogger(this.declaredClass).error("widget-intl:locale-error",this.declaredClass,o.error)}await this.loadLocale()}),GMe();const n="esri-widget-uid-"+LMe(),r=this.render.bind(this);this._trackingTarget=new LC(()=>this.scheduleRender());const s=()=>{var p;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:n,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0};const a=r();let{properties:o}=a;o||(a.properties=o={});let{key:l,styles:c}=o;l||(o.key=n),c||(o.styles=c={}),c.display||(c.display="");let h=0;return(p=a.children)==null||p.forEach(m=>{if(ZN(m.vnodeSelector))return;let{properties:g}=m;g||(m.properties=g={}),g.key||(g.key=`${this.id}--${h++}`)}),die(this,a)};this.render=()=>{if(xA)return s();let a=fMe(this)??null;if(a)return a;this._trackingTarget.clear(),xA=!0;try{a=yu(this._trackingTarget,s)}catch(o){throw console.error(o),o}finally{xA=!1}return a&&mMe(this,a),a},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()})),ZMe(this._resourcesFetch)}normalizeCtorArgs(t,i){const n={...t};return i&&(n.container=i),n}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(SD)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(Si(this._trackingTarget),Si(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,wA(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return WN(t)}get domNode(){return this.container}set domNode(t){this.container=t}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+XMe++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(pie=uie,qMe)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(wA(this),this._projector.scheduleRender())}classes(...t){return eie.apply(this,t)}renderNow(){wA(this),this._projector.renderNow()}_postInitialize(){var i;if(this.destroyed)return;this.scheduleRender(),(i=this._delegatedEventNames)!=null&&i.length&&this._internalHandles.add(X(()=>this.viewModel,(n,r)=>{r&&this._internalHandles.remove("delegated-events"),n&&DC(n)&&this._internalHandles.add(this._delegatedEventNames.map(s=>OC(n,s,a=>{this.emit(s,a)})),"delegated-events")},gt)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(SD),this.scheduleRender()};this._internalHandles.add([SX(t),X(()=>this.uiStrings,t),io(()=>this.container,n=>{this.destroyed||this._attach(n)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var i;this._attached&&(this._projector.detach(this.render),this._attached=!1),(i=t==null?void 0:t.parentNode)==null||i.removeChild(t)}};un[pie]=!0,u([d()],un.prototype,"_readyForTrueRender",void 0),u([d({value:null})],un.prototype,"container",null),u([ct("container")],un.prototype,"castContainer",null),u([d()],un.prototype,"iconClass",void 0),u([d()],un.prototype,"id",null),u([d()],un.prototype,"label",null),u([d()],un.prototype,"renderable",null),u([d()],un.prototype,"uiStrings",void 0),u([d()],un.prototype,"viewModel",void 0),u([d({value:!0})],un.prototype,"visible",null),u([d()],un.prototype,"key",void 0),u([d()],un.prototype,"children",void 0),u([d()],un.prototype,"afterCreate",void 0),u([d()],un.prototype,"afterUpdate",void 0),u([d()],un.prototype,"afterRemoved",void 0),un=u([I(QMe)],un);const br=un;function mie(e){return 32+e.length}function gie(e){return 16}function bWe(e){if(!e)return 0;let t=vie;for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];switch(typeof n){case"string":t+=mie(n);break;case"number":t+=gie();break;case"boolean":t+=4}}return t}function i3e(e){if(!e)return 0;if(Array.isArray(e))return n3e(e);let t=vie;for(const i in e)e.hasOwnProperty(i)&&(t+=yie(e[i]));return t}function n3e(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let i=bie;for(let n=0;n<t;n++)i+=yie(e[n]);return i}function yie(e){switch(typeof e){case"object":return i3e(e);case"string":return mie(e);case"number":return gie();case"boolean":return 4;default:return 8}}function wWe(e,t){return bie+e.length*t}const vie=32,bie=32;var Jw;(function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"})(Jw||(Jw={}));const CU=["B","kB","MB","GB","TB"];function r3e(e,t){let i=t===0?0:Math.floor(Math.log(t)/Math.log(Jw.KILOBYTES));i=fs(i,0,CU.length-1);const n=Mh(t/Jw.KILOBYTES**i,{maximumFractionDigits:2});return ec(e.units.bytes[CU[i]],{fileSize:n})}function s3e(e){const{exifInfo:t,exifName:i,tagName:n}=e;if(!t||!i||!n)return null;const r=t.find(s=>s.name===i);return r?a3e({tagName:n,tags:r.tags}):null}function a3e(e){const{tagName:t,tags:i}=e;if(!i||!t)return null;const n=i.find(r=>r.name===t);return n&&n.value||null}var y5;const o3e={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let Zr=y5=class extends W{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=s3e({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return o3e[t]||null}clone(){return new y5({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};u([d({type:String})],Zr.prototype,"contentType",void 0),u([d()],Zr.prototype,"exifInfo",void 0),u([d({readOnly:!0})],Zr.prototype,"orientationInfo",null),u([d({type:Nt})],Zr.prototype,"id",void 0),u([d({type:String})],Zr.prototype,"globalId",void 0),u([d({type:String})],Zr.prototype,"keywords",void 0),u([d({type:String})],Zr.prototype,"name",void 0),u([d({json:{read:!1}})],Zr.prototype,"parentGlobalId",void 0),u([d({json:{read:!1}})],Zr.prototype,"parentObjectId",void 0),u([d({type:Nt})],Zr.prototype,"size",void 0),u([d({json:{read:!1}})],Zr.prototype,"url",void 0),Zr=y5=u([I("esri.layers.support.AttachmentInfo")],Zr);const l3e=Zr;var v5;let kn=v5=class extends W{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new v5(z({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};u([d({type:[String],json:{write:!0}})],kn.prototype,"attachmentTypes",void 0),u([d({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],kn.prototype,"attachmentsWhere",void 0),u([d({type:Boolean,json:{write:!0}})],kn.prototype,"cacheHint",void 0),u([d({type:[String],json:{write:!0}})],kn.prototype,"keywords",void 0),u([d({type:[Number],json:{write:!0}})],kn.prototype,"globalIds",void 0),u([d({json:{write:!0}})],kn.prototype,"name",void 0),u([d({type:Number,json:{read:{source:"resultRecordCount"}}})],kn.prototype,"num",void 0),u([d({type:[Number],json:{write:!0}})],kn.prototype,"objectIds",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],kn.prototype,"returnMetadata",void 0),u([d({type:[Number],json:{write:!0}})],kn.prototype,"size",void 0),u([d({type:Number,json:{read:{source:"resultOffset"}}})],kn.prototype,"start",void 0),u([ue("start"),ue("num")],kn.prototype,"writeStart",null),u([d({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],kn.prototype,"where",void 0),kn=v5=u([I("esri.rest.support.AttachmentQuery")],kn),kn.from=Gi(kn);const b5=kn,_We={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function wie(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function QN(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function xWe(e){var t;return(e==null?void 0:e.type)==="feature"&&((t=e.source)==null?void 0:t.type)==="feature-layer"}async function _ie(e,t){const i=xt==null?void 0:xt.findServerInfo(e);if((i==null?void 0:i.currentVersion)!=null)return i.owningSystemUrl||null;const n=e.toLowerCase().indexOf("/rest/services");if(n===-1)return null;const r=`${e.substring(0,n)}/rest/info`,s=$(t)?t.signal:null,{data:a}=await Tt(r,{query:{f:"json"},responseType:"json",signal:s});return(a==null?void 0:a.owningSystemUrl)||null}function c3e(e){if(!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function xie(e){return c3e(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function u3e(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function d3e(e){return!!u3e(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const h3e="esri.widgets.Feature.support.featureUtils",TU=Y.getLogger(h3e),p3e=/href=(""|'')/gi,f3e=/(\{([^\{\r\n]+)\})/g,m3e=/\'/g,Sie=/^\s*expression\//i,g3e=/(\n)/gi,y3e=/[\u00A0-\u9999<>\&]/gim,v3e=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,b3e=/^(?:mailto:|tel:)/,Eie="relationships/",w5=cN("short-date-short-time");function kie(e){if(!j(e))return e.get("sourceLayer")||e.get("layer")}async function vI(e,t){return typeof e=="function"?e.call(null,t):e}function Iie(e=""){if(e)return!b3e.test(e.trim().toLowerCase())}function XN(e){return!!e&&Sie.test(e)}function w3e(e,t){if(!XN(t)||!e)return null;const i=t.replace(Sie,"").toLowerCase();let n=null;return e.some(r=>r.name.toLowerCase()===i&&(n=r,!0)),n}function Cie(e,t){const i=w3e(t,e==null?void 0:e.fieldName);return i?i.title||null:e?e.label||e.fieldName:null}function _3e(e,t){const i=t.get(e.toLowerCase());return`{${i&&i.fieldName||e}}`}function x3e(e){return e.replace(p3e,"")}function Zw(e,t){const i=e4(t,e);return i?i.name:e}function S3e(e,t){return e&&e.map(i=>Zw(i,t))}function e4(e,t){return e&&typeof e.getField=="function"&&t?e.getField(t)??null:null}function Tie(e){return`${e}`.trim()}function Of({attributes:e,globalAttributes:t,layer:i,text:n,expressionAttributes:r,fieldInfoMap:s}){return n?_5({formattedAttributes:t,template:C3e(n,{...t,...r,...e},i),fieldInfoMap:s}):""}function _5({formattedAttributes:e,template:t,fieldInfoMap:i}){return Tie(x3e(ec(ec(t,n=>_3e(n,i)),e)))}function E3e(e,t,i=!1){const n=t[e];if(typeof n=="string"){const r="%27",s=(i?encodeURIComponent(n):n).replace(m3e,r);t[e]=s}}function k3e(e,t=!1){const i={...e};return Object.keys(i).forEach(n=>E3e(n,i,t)),i}function I3e(e,t,i){const n=(t=Tie(t))&&t[0]!=="{";return ec(e,k3e(i,n||!1))}function x5(e,t){return e.replace(f3e,(i,n,r)=>{const s=e4(t,r);return s?`{${s.name}}`:n})}function C3e(e,t,i){const n=x5(e,i);return n&&n.replace(v3e,(r,s,a)=>I3e(r,s||a,t))}function T3e(e,t){if(typeof e=="string"&&t&&t.dateFormat==null&&(t.places!=null||t.digitSeparator!=null)){const i=Number(e);if(!isNaN(i))return i}return e}function $3e(e){return(e==null?void 0:e.type)==="feature"}function $U(e){return!!(e!=null&&e.layer)}function A3e(e){return(e==null?void 0:e.type)==="map-image"}function M3e(e,t){var c;const i=t.fieldInfos,n=t.fieldName,r=(c=$ie(i,n))==null?void 0:c.clone(),s=t.preventPlacesFormatting,a=t.layer,o=e4(a,n);if(r&&(o==null?void 0:o.type)==="date"){const h=r.format||new fy;h.dateFormat=h.dateFormat||"short-date-short-time",h.dateTimeFormatOptions=!$U(a)&&$3e(a)&&a.datesInUnknownTimezone||$U(a)&&A3e(a.layer)&&a.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,r.format=h}const l=r&&r.format;return typeof e=="string"&&wX(n)&&l?l.formatRasterPixelValue(e):typeof(e=T3e(e,l))=="string"||e==null||l==null?V_(e):s?Mh(e,{...IX(l),minimumFractionDigits:0,maximumFractionDigits:20}):l.format(e)}function $ie(e,t){if(!e||!e.length||!t)return;const i=t.toLowerCase();let n;return e.some(r=>!(!r.fieldName||r.fieldName.toLowerCase()!==i)&&(n=r,!0)),n}function D3e({fieldName:e,graphic:t,layer:i}){if(tu(e)||!i||typeof i.getFeatureType!="function")return null;const{typeIdField:n}=i;if(!n||e!==n)return null;const r=i.getFeatureType(t);return r?r.name:null}function O3e({fieldName:e,value:t,graphic:i,layer:n}){if(tu(e)||!n||typeof n.getFieldDomain!="function")return null;const r=i&&n.getFieldDomain(e,{feature:i});return r&&r.type==="coded-value"?r.getName(t):null}function R3e(e,t){const{creatorField:i,creationDateField:n,editorField:r,editDateField:s}=e;if(!t)return;const a=t[s];if(typeof a=="number"){const l=t[r];return{type:"edit",date:_u(a,w5),user:l}}const o=t[n];if(typeof o=="number"){const l=t[i];return{type:"create",date:_u(o,w5),user:l}}return null}function P3e(e,t){const i=new Map;return e&&e.forEach(n=>{const r=Zw(n.fieldName,t);n.fieldName=r,i.set(r.toLowerCase(),n)}),i}function AU(e){const t=[];if(!e)return t;const{fieldInfos:i,content:n}=e;return i&&t.push(...i),n&&Array.isArray(n)&&n.forEach(r=>{if(r.type==="fields"){const s=r&&r.fieldInfos;s&&t.push(...s)}}),t}function t4(e){return e.replace(y3e,t=>`&#${t.charCodeAt(0)};`)}function V_(e){return typeof e=="string"?e.replace(g3e,'<br class="esri-text-new-line" />'):e}function Aie(e){const{value:t,fieldName:i,fieldInfos:n,fieldInfoMap:r,layer:s,graphic:a}=e;if(t==null)return"";const o=O3e({fieldName:i,value:t,graphic:a,layer:s});if(o)return o;const l=D3e({fieldName:i,graphic:a,layer:s});if(l)return l;if(r.get(i.toLowerCase()))return M3e(t,{fieldInfos:n||Array.from(r.values()),fieldName:i,layer:s});const c=s&&s.fieldsIndex;return c&&c.isDateField(i)?_u(t,w5):V_(t)}function SA({fieldInfos:e,attributes:t,layer:i,graphic:n,fieldInfoMap:r,relatedInfos:s}){const a={};return s==null||s.forEach(o=>z3e({attributes:a,relatedInfo:o,fieldInfoMap:r,fieldInfos:e,layer:i})),t&&Object.keys(t).forEach(o=>{const l=t[o];a[o]=Aie({fieldName:o,fieldInfos:e,fieldInfoMap:r,layer:i,value:l,graphic:n})}),a}async function Mie(e,t){var h,p;const{layer:i,graphic:n,outFields:r,objectIds:s,returnGeometry:a,spatialReference:o}=e,l=s[0];if(typeof l!="number"&&typeof l!="string"){const m="Could not query required fields for the specified feature. The feature's ID is invalid.",g={layer:i,graphic:n,objectId:l,requiredFields:r};return TU.warn(m,g),null}if(!((p=(h=xie(i))==null?void 0:h.operations)!=null&&p.supportsQuery)){const m="The specified layer cannot be queried. The following fields will not be available.",g={layer:i,graphic:n,requiredFields:r,returnGeometry:a};return TU.warn(m,g),null}const c=i.createQuery();return c.objectIds=s,c.outFields=r!=null&&r.length?r:[i.objectIdField],c.returnGeometry=!!a,c.returnZ=!!a,c.returnM=!!a,c.outSpatialReference=o,(await i.queryFeatures(c,t)).features[0]}async function L3e(e){var n;if(!((n=e.expressionInfos)!=null&&n.length))return!1;const t=await wu(),{arcadeUtils:{hasGeometryFunctions:i}}=t;return i(e)}async function F3e({graphic:e,popupTemplate:t,layer:i,spatialReference:n},r){if(!i||!t||(typeof i.load=="function"&&await i.load(r),!e.attributes))return;const s=e.attributes[i.objectIdField];if(s==null)return;const a=[s],o=await t.getRequiredFields(i.fieldsIndex),l=vEe(o,e),c=l?[]:o,h=t.returnGeometry||await L3e(t);if(l&&!h)return;const p=await Mie({layer:i,graphic:e,outFields:c,objectIds:a,returnGeometry:h,spatialReference:n},r);p&&(p.geometry&&(e.geometry=p.geometry),p.attributes&&(e.attributes={...e.attributes,...p.attributes}))}function tu(e=""){return!!e&&e.includes(Eie)}function N3e(e){return e?`${Eie}${e.layerId}/${e.fieldName}`:""}function MU({attributes:e,graphic:t,relatedInfo:i,fieldInfos:n,fieldInfoMap:r,layer:s}){e&&t&&i&&Object.keys(t.attributes).forEach(a=>{const o=N3e({layerId:i.relation.id.toString(),fieldName:a}),l=t.attributes[a];e[o]=Aie({fieldName:o,fieldInfos:n,fieldInfoMap:r,layer:s,value:l,graphic:t})})}function z3e({attributes:e,relatedInfo:t,fieldInfoMap:i,fieldInfos:n,layer:r}){e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach(s=>MU({attributes:e,graphic:s,relatedInfo:t,fieldInfoMap:i,fieldInfos:n,layer:r})),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach(s=>MU({attributes:e,graphic:s,relatedInfo:t,fieldInfoMap:i,fieldInfos:n,layer:r})))}const DU=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},Die=({layer:e,method:t,query:i,definitionExpression:n})=>{var a,o;if(!((o=(a=e.capabilities)==null?void 0:a.query)!=null&&o.supportsCacheHint)||t==="attachments")return;const r=$(i.where)?i.where:null,s=$(i.geometry)?i.geometry:null;DU(n)||DU(r)||(s==null?void 0:s.type)==="extent"||i.resultType==="tile"||(i.cacheHint=!0)},V3e=({query:e,layer:t,method:i})=>{Die({layer:t,method:i,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},j3e=({queryPayload:e,layer:t,method:i})=>{Die({layer:t,method:i,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})};function U3e(e,t,i){return e&&t&&i?OU(e.allLayers,t,i)||OU(e.allTables,t,i):null}function OU(e,t,i){return e.find(n=>n!==t&&n.type==="feature"&&n.url===t.url&&n.layerId===i.relatedTableId)}const RU={editing:!1,operations:{add:!0,update:!0,delete:!0}},Oie=Ie.ofType(l3e);let Qr=class extends ve{constructor(t){super(t),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities={...RU},this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new Oie,this.fileInfos=new Ie,this.graphic=null,this.mode="view",this.filesEnabled=!1,this.addHandles(X(()=>this.graphic,()=>this._graphicChanged(),gt))}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(t){return{...RU,...t}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){const{graphic:t}=this;if(!t)return!1;const i=t.layer||t.sourceLayer;return(i==null?void 0:i.loaded)&&"capabilities"in i&&i.capabilities&&"operations"in i.capabilities&&"supportsResizeAttachments"in i.capabilities.operations&&i.capabilities.operations.supportsResizeAttachments||!1}async getAttachments(){const{_attachmentLayer:t,attachmentInfos:i}=this;if(!t||typeof t.queryAttachments!="function")throw new N("invalid-layer","getAttachments(): A valid layer is required.");const n=this._getObjectId(),r=new b5({objectIds:[n],returnMetadata:!0}),s=[],a=t.queryAttachments(r).then(l=>l[n]||s).catch(()=>s);this._getAttachmentsPromise=a,this.notifyChange("state");const o=await a;return i.removeAll(),o.length&&i.addMany(o),this._getAttachmentsPromise=null,this.notifyChange("state"),o}async addAttachment(t,i=this.graphic){var l;const{_attachmentLayer:n,attachmentInfos:r,abilities:s}=this;if(!i)throw new N("invalid-graphic","addAttachment(): A valid graphic is required.",{graphic:i});if(!t)throw new N("invalid-attachment","addAttachment(): An attachment is required.",{attachment:t});if(!((l=s.operations)!=null&&l.add))throw new N("invalid-abilities","addAttachment(): add abilities are required.");if(!n||typeof n.addAttachment!="function")throw new N("invalid-layer","addAttachment(): A valid layer is required.");const a=n.addAttachment(i,t).then(c=>this._queryAttachment(c.objectId,i)),o=await a;return r.add(o),o}async deleteAttachment(t){var l;const{_attachmentLayer:i,attachmentInfos:n,graphic:r,abilities:s}=this;if(!t)throw new N("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!((l=s.operations)!=null&&l.delete))throw new N("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!i||typeof i.deleteAttachments!="function")throw new N("invalid-layer","deleteAttachment(): A valid layer is required.");if(!r)throw new N("invalid-graphic","deleteAttachment(): A graphic is required.");const a=i.deleteAttachments(r,[t.id]).then(()=>t),o=await a;return n.remove(o),o}async updateAttachment(t,i=this.activeAttachmentInfo){var h;const{_attachmentLayer:n,attachmentInfos:r,graphic:s,abilities:a}=this;if(!t)throw new N("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:t});if(!i)throw new N("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:i});if(!((h=a.operations)!=null&&h.update))throw new N("invalid-abilities","updateAttachment(): Update abilities are required.");const o=r.findIndex(p=>p===i);if(!n||typeof n.updateAttachment!="function")throw new N("invalid-layer","updateAttachment(): A valid layer is required.");if(!s)throw new N("invalid-graphic","updateAttachment(): A graphic is required.");const l=n.updateAttachment(s,i.id,t).then(p=>this._queryAttachment(p.objectId)),c=await l;return r.splice(o,1,c),c}async commitFiles(){return await Promise.all(this.fileInfos.items.map(t=>this.addAttachment(t.form))),this.fileInfos.removeAll(),this.getAttachments()}addFile(t,i){if(!t||!i)return null;const n={file:t,form:i};return this.fileInfos.add(n),n}updateFile(t,i,n=this.activeFileInfo){if(!t||!i||!n)return null;const r=this.fileInfos.findIndex(s=>n===s);return r>-1&&this.fileInfos.splice(r,1,{file:t,form:i}),this.fileInfos.items[r]}deleteFile(t){const i=this.fileInfos.find(n=>n.file===t);return i?(this.fileInfos.remove(i),i):null}async _queryAttachment(t,i){const{_attachmentLayer:n}=this;if(!t||!(n!=null&&n.queryAttachments))throw new N("invalid-attachment-id","Could not query attachment.");const r=this._getObjectId(i),s=new b5({objectIds:[r],attachmentsWhere:`AttachmentId=${t}`,returnMetadata:!0});return n.queryAttachments(s).then(a=>a[r][0])}_getObjectId(t=this.graphic){return(t==null?void 0:t.getObjectId())??null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:t}=this,i=kie(t);this._attachmentLayer=i?i.type==="scene"&&$(i.associatedLayer)?i.associatedLayer:i:null}};u([d()],Qr.prototype,"abilities",void 0),u([ct("abilities")],Qr.prototype,"castAbilities",null),u([d()],Qr.prototype,"activeAttachmentInfo",void 0),u([d()],Qr.prototype,"activeFileInfo",void 0),u([d({readOnly:!0,type:Oie})],Qr.prototype,"attachmentInfos",void 0),u([d()],Qr.prototype,"fileInfos",void 0),u([d({type:yr})],Qr.prototype,"graphic",void 0),u([d()],Qr.prototype,"mode",void 0),u([d({readOnly:!0})],Qr.prototype,"state",null),u([d()],Qr.prototype,"filesEnabled",void 0),u([d({readOnly:!0})],Qr.prototype,"supportsResizeAttachments",null),Qr=u([I("esri.widgets.Attachments.AttachmentsViewModel")],Qr);const i4=Qr;function PU(e){const t=e.toLowerCase();return t==="image/bmp"||t==="image/emf"||t==="image/exif"||t==="image/gif"||t==="image/x-icon"||t==="image/jpeg"||t==="image/png"||t==="image/tiff"||t==="image/x-wmf"}function B3e(e){const t=wt("esri/themes/base/images/files/");return e?e==="text/plain"?`${t}text-32.svg`:e==="application/pdf"?`${t}pdf-32.svg`:e==="text/csv"?`${t}csv-32.svg`:e==="application/gpx+xml"?`${t}gpx-32.svg`:e==="application/x-dwf"?`${t}cad-32.svg`:e==="application/postscript"||e==="application/json"||e==="text/xml"||e==="model/vrml"?`${t}code-32.svg`:e==="application/x-zip-compressed"||e==="application/x-7z-compressed"||e==="application/x-gzip"||e==="application/x-tar"||e==="application/x-gtar"||e==="application/x-bzip2"||e==="application/gzip"||e==="application/x-compress"||e==="application/x-apple-diskimage"||e==="application/x-rar-compressed"||e==="application/zip"?`${t}zip-32.svg`:e.includes("image/")?`${t}image-32.svg`:e.includes("audio/")?`${t}sound-32.svg`:e.includes("video/")?`${t}video-32.svg`:e.includes("msexcel")||e.includes("ms-excel")||e.includes("spreadsheetml")?`${t}excel-32.svg`:e.includes("msword")||e.includes("ms-word")||e.includes("wordprocessingml")?`${t}word-32.svg`:e.includes("powerpoint")||e.includes("presentationml")?`${t}report-32.svg`:`${t}generic-32.svg`:`${t}generic-32.svg`}function hr(e){return(t,i)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}var H3e=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},Rie=function(e,t){for(var i=0,n=e.length;i<n;i++){var r=e[i];Array.isArray(r)?Rie(r,t):r!=null&&r!==!1&&(r.hasOwnProperty("vnodeSelector")||(r=H3e(r)),t.push(r))}},G3e=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var r=[];return Rie(i,r),{vnodeSelector:e,properties:t||void 0,children:r,text:void 0,domNode:null}};function R(e,t,...i){return typeof e!="function"||ZN(e)?G3e(e,t,...i):e(t,...i)}const LU={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},ft="esri-attachments",sp="esri-button",le={base:ft,loaderContainer:`${ft}__loader-container`,loader:`${ft}__loader`,fadeIn:`${ft}--fade-in`,container:`${ft}__container`,containerList:`${ft}__container--list`,containerPreview:`${ft}__container--preview`,actions:`${ft}__actions`,deleteButton:`${ft}__delete-button`,addAttachmentButton:`${ft}__add-attachment-button`,errorMessage:`${ft}__error-message`,items:`${ft}__items`,item:`${ft}__item`,itemButton:`${ft}__item-button`,itemMask:`${ft}__item-mask`,itemMaskIcon:`${ft}__item-mask--icon`,itemImage:`${ft}__image`,itemImageResizable:`${ft}__image--resizable`,itemLabel:`${ft}__label`,itemFilename:`${ft}__filename`,itemChevronIcon:`${ft}__item-chevron-icon`,itemLink:`${ft}__item-link`,itemLinkOverlay:`${ft}__item-link-overlay`,itemLinkOverlayIcon:`${ft}__item-link-overlay-icon`,itemEditIcon:`${ft}__item-edit-icon`,itemAddIcon:`${ft}__item-add-icon`,itemAddButton:`${ft}__item-add-button`,formNode:`${ft}__form-node`,fileFieldset:`${ft}__file-fieldset`,fileLabel:`${ft}__file-label`,fileName:`${ft}__file-name`,fileInput:`${ft}__file-input`,metadata:`${ft}__metadata`,metadataFieldset:`${ft}__metadata-fieldset`,progressBar:`${ft}__progress-bar`,esriWidget:"esri-widget",esriButton:sp,buttonDisabled:`${sp}--disabled`,esriButtonSecondary:`${sp}--secondary`,esriButtonTertiary:`${sp}--tertiary`,esriButtonThird:`${sp}--third`,esriButtonSmall:`${sp}--small`,esriButtonHalf:`${sp}--half`,empty:"esri-widget__content--empty",iconExternalLink:"esri-icon-link-external",iconEdit:"esri-icon-edit",iconRight:"esri-icon-right",iconLeft:"esri-icon-left",iconPlus:"esri-icon-plus"},EA=window.CSS;let rr=class extends br{constructor(t,i){super(t,i),this.displayType="auto",this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=null,this.visibleElements={...LU},this._supportsImageOrientation=EA&&EA.supports&&EA.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.viewModel||(this.viewModel=new i4),this.addHandles([gs(()=>{var t;return(t=this.viewModel)==null?void 0:t.attachmentInfos},"change",()=>this.scheduleRender()),gs(()=>{var t;return(t=this.viewModel)==null?void 0:t.fileInfos},"change",()=>this.scheduleRender()),X(()=>{var t;return(t=this.viewModel)==null?void 0:t.mode},()=>this._modeChanged(),gt)])}loadDependencies(){return Promise.all([H(()=>import("./calcite-icon.js"),[])])}get abilities(){return this.viewModel.abilities}set abilities(t){this.viewModel.abilities=t}get effectiveDisplayType(){const{displayType:t}=this;return t&&t!=="auto"?t:this.viewModel.supportsResizeAttachments?"preview":"list"}get graphic(){return this.viewModel.graphic}set graphic(t){this.viewModel.graphic=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}castVisibleElements(t){return{...LU,...t}}addAttachment(){const{_addAttachmentForm:t,viewModel:i}=this;return this._set("submitting",!0),this._set("error",null),i.addAttachment(t).then(n=>(this._set("submitting",!1),this._set("error",null),i.mode="view",n)).catch(n=>{throw this._set("submitting",!1),this._set("error",new N("attachments:add-attachment",this.messages.addErrorMessage,n)),n})}deleteAttachment(t){const{viewModel:i}=this;return this._set("submitting",!0),this._set("error",null),i.deleteAttachment(t).then(n=>(this._set("submitting",!1),this._set("error",null),i.mode="view",n)).catch(n=>{throw this._set("submitting",!1),this._set("error",new N("attachments:delete-attachment",this.messages.deleteErrorMessage,n)),n})}updateAttachment(){const{viewModel:t}=this,{_updateAttachmentForm:i}=this;return this._set("submitting",!0),this._set("error",null),t.updateAttachment(i).then(n=>(this._set("submitting",!1),this._set("error",null),t.mode="view",n)).catch(n=>{throw this._set("submitting",!1),this._set("error",new N("attachments:update-attachment",this.messages.updateErrorMessage,n)),n})}addFile(){const t=this.viewModel.addFile(this.selectedFile,this._addAttachmentForm);return this.viewModel.mode="view",t}updateFile(){const{viewModel:t}=this,i=t.updateFile(this.selectedFile,this._updateAttachmentForm,t.activeFileInfo);return t.mode="view",i}deleteFile(t){var n;const i=this.viewModel.deleteFile(t||((n=this.viewModel.activeFileInfo)==null?void 0:n.file));return this.viewModel.mode="view",i}render(){const{submitting:t,viewModel:i}=this,{state:n}=i;return R("div",{class:this.classes(le.base,le.esriWidget)},t?this.renderProgressBar():null,n==="loading"?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:t,visibleElements:i}=this;return t&&i.errorMessage?R("div",{key:"error-message",class:le.errorMessage},t.message):null}renderAttachments(){const{activeFileInfo:t,mode:i,activeAttachmentInfo:n}=this.viewModel;return i==="add"?this.renderAddForm():i==="edit"?this.renderDetailsForm(n||t):this.renderAttachmentContainer()}renderLoading(){return R("div",{class:le.loaderContainer,key:"loader"},R("div",{class:le.loader}))}renderProgressBar(){return this.visibleElements.progressBar?R("div",{class:le.progressBar,key:"progress-bar"}):null}renderAddForm(){const{submitting:t,selectedFile:i}=this,n=t||!i,r=this.visibleElements.cancelAddButton?R("button",{type:"button",bind:this,disabled:t,onclick:this._cancelForm,class:this.classes(le.esriButton,le.esriButtonTertiary,le.esriButtonSmall,le.esriButtonHalf,t&&le.buttonDisabled)},this.messages.cancel):null,s=this.visibleElements.addSubmitButton?R("button",{type:"submit",disabled:n,class:this.classes(le.esriButton,le.esriButtonSecondary,le.esriButtonSmall,le.esriButtonHalf,{[le.buttonDisabled]:n})},this.messages.add):null,a=i?R("span",{key:"file-name",class:le.fileName},i.name):null,o=R("form",{bind:this,afterCreate:mI,afterRemoved:vU,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},R("fieldset",{class:le.fileFieldset},a,R("label",{class:this.classes(le.fileLabel,le.esriButton,le.esriButtonSecondary)},i?this.messages.changeFile:this.messages.selectFile,R("input",{class:le.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),s,r);return R("div",{key:"add-form-container",class:le.formNode},o)}renderDetailsForm(t){var k,A,T;const{visibleElements:i,viewModel:n,selectedFile:r,submitting:s}=this,{abilities:a}=n,o=s||!r;let l,c,h,p;r?(l=r.type,c=r.name,h=r.size):t&&"file"in t?(l=t.file.type,c=t.file.name,h=t.file.size):t&&"contentType"in t&&(l=t.contentType,c=t.name,h=t.size,p=t.url);const m=a.editing&&((k=a.operations)!=null&&k.delete)&&i.deleteButton?R("button",{key:"delete-button",type:"button",disabled:s,bind:this,onclick:C=>this._submitDeleteAttachment(C,t),class:this.classes(le.esriButton,le.esriButtonSmall,le.esriButtonTertiary,le.deleteButton,{[le.buttonDisabled]:s})},this.messages.delete):void 0,g=a.editing&&((A=a.operations)!=null&&A.update)&&i.updateButton?R("button",{disabled:o,key:"update-button",type:"submit",class:this.classes(le.esriButton,le.esriButtonSmall,le.esriButtonThird,{[le.buttonDisabled]:o})},this.messages.update):void 0,y=this.visibleElements.cancelUpdateButton?R("button",{disabled:s,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(le.esriButton,le.esriButtonSmall,le.esriButtonTertiary,le.esriButtonThird,{[le.buttonDisabled]:s})},this.messages.cancel):void 0,b=a.editing&&((T=a.operations)!=null&&T.update)?R("fieldset",{key:"file",class:le.fileFieldset},R("span",{key:"file-name",class:le.fileName},c),R("label",{class:this.classes(le.fileLabel,le.esriButton,le.esriButtonSecondary)},this.messages.changeFile,R("input",{class:le.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):void 0,w=R("fieldset",{key:"size",class:le.metadataFieldset},R("label",null,r3e(this.messagesUnits,h??0))),_=R("fieldset",{key:"content-type",class:le.metadataFieldset},R("label",null,l)),x=$(p)?R("a",{class:le.itemLink,href:p,rel:"noreferrer",target:"_blank"},this.renderImageMask(t,400),R("div",{class:le.itemLinkOverlay},R("span",{class:le.itemLinkOverlayIcon},R("calcite-icon",{icon:"launch"})))):this.renderImageMask(t,400),S=R("form",{bind:this,afterCreate:mI,afterRemoved:vU,"data-node-ref":"_updateAttachmentForm",onsubmit:C=>this._submitUpdateAttachment(C,t)},R("div",{class:le.metadata},w,_),b,R("div",{class:le.actions},m,y,g));return R("div",{key:"edit-form-container",class:le.formNode},x,S)}renderImageMask(t,i){return t?"file"in t?this.renderGenericImageMask(t.file.name,t.file.type):this.renderImageMaskForAttachment(t,i):null}renderGenericImageMask(t,i){const{supportsResizeAttachments:n}=this.viewModel,r=B3e(i),s={[le.itemImageResizable]:n};return R("div",{class:this.classes(le.itemMaskIcon,le.itemMask)},R("img",{title:t,alt:t,src:r,class:this.classes(s,le.itemImage)}))}renderImageMaskForAttachment(t,i){const{supportsResizeAttachments:n}=this.viewModel;if(!t)return null;const{contentType:r,name:s,url:a}=t;if(!n||!PU(r))return this.renderGenericImageMask(s,r);const o=this._getCSSTransform(t),l=o?{transform:o,"image-orientation":"none"}:{},c=`${a}${a!=null&&a.includes("?")?"&":"?"}w=${i}`,h={[le.itemImageResizable]:n};return R("div",{class:this.classes(le.itemMask)},R("img",{styles:l,alt:s,title:s,src:c,class:this.classes(h,le.itemImage)}))}renderFile(t){const{file:i}=t;return R("li",{class:le.item,key:i},R("button",{key:"details-button",bind:this,class:le.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,onclick:()=>this._startEditFile(t),type:"button"},this.renderImageMask(t),R("label",{class:le.itemLabel},R("span",{class:le.itemFilename},i.name||this.messages.noTitle),R("span",{"aria-hidden":"true",class:this.classes(le.itemChevronIcon,Ul(this.container)?le.iconLeft:le.iconRight)}))))}renderAttachmentInfo({attachmentInfo:t,displayType:i}){const{viewModel:n,effectiveDisplayType:r}=this,{abilities:s,supportsResizeAttachments:a}=n,{contentType:o,name:l,url:c}=t,h=this.renderImageMask(t,i==="list"?48:400),p=s.editing?R("span",{"aria-hidden":"true",class:this.classes(le.itemChevronIcon,Ul(this.container)?le.iconLeft:le.iconRight)}):null,m=[h,r==="preview"&&a&&PU(o)?null:R("label",{class:le.itemLabel},R("span",{class:le.itemFilename},l||this.messages.noTitle),p)],g=s.editing?R("button",{key:"details-button",bind:this,class:le.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":t.id,onclick:()=>this._startEditAttachment(t),type:"button"},m):R("a",{key:"details-link",class:le.itemButton,href:c??void 0,target:"_blank"},m);return R("li",{class:le.item,key:t},g)}renderAttachmentContainer(){var y;const{effectiveDisplayType:t,viewModel:i,visibleElements:n}=this,{attachmentInfos:r,abilities:s,fileInfos:a}=i,o=!!(r!=null&&r.length),l=!!(a!=null&&a.length),c={[le.containerList]:t!=="preview",[le.containerPreview]:t==="preview"},h=s.editing&&((y=s.operations)!=null&&y.add)&&n.addButton?R("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes(le.esriButton,le.esriButtonTertiary,le.addAttachmentButton),type:"button"},R("span",{"aria-hidden":"true",class:this.classes(le.itemAddIcon,le.iconPlus)}),this.messages.add):void 0,p=o?R("ul",{key:"attachments-list",class:le.items},r.toArray().map(b=>this.renderAttachmentInfo({attachmentInfo:b,displayType:t}))):void 0,m=l?R("ul",{key:"file-list",class:le.items},a.toArray().map(b=>this.renderFile(b))):void 0,g=l||o?void 0:R("div",{class:le.empty},this.messages.noAttachments);return R("div",{key:"attachments-container",class:this.classes(le.container,c)},p,m,g,h)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(t){const i=t.target,n=i&&i.files&&i.files.item(0);this._set("selectedFile",n)}_submitDeleteAttachment(t,i){t.preventDefault(),i&&("file"in i?this.deleteFile(i.file):i&&this.deleteAttachment(i))}_submitAddAttachment(t){t.preventDefault(),this.viewModel.filesEnabled?this.addFile():this.addAttachment()}_submitUpdateAttachment(t,i){t.preventDefault(),i&&"file"in i?this.updateFile():this.updateAttachment()}_startEditAttachment(t){const{viewModel:i}=this;i.activeFileInfo=null,i.activeAttachmentInfo=t,i.mode="edit"}_startEditFile(t){const{viewModel:i}=this;i.activeAttachmentInfo=null,i.activeFileInfo=t,i.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(t){t.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(t){const{orientationInfo:i}=t;return!this._supportsImageOrientation&&i?[i.rotation?`rotate(${i.rotation}deg)`:"",i.mirrored?"scaleX(-1)":""].join(" "):""}};u([d()],rr.prototype,"abilities",null),u([d()],rr.prototype,"displayType",void 0),u([d({readOnly:!0})],rr.prototype,"effectiveDisplayType",null),u([d()],rr.prototype,"graphic",null),u([d()],rr.prototype,"label",null),u([d(),hr("esri/widgets/Attachments/t9n/Attachments")],rr.prototype,"messages",void 0),u([d(),hr("esri/core/t9n/Units")],rr.prototype,"messagesUnits",void 0),u([d({readOnly:!0})],rr.prototype,"selectedFile",void 0),u([d({readOnly:!0})],rr.prototype,"submitting",void 0),u([d({readOnly:!0})],rr.prototype,"error",void 0),u([d({type:i4})],rr.prototype,"viewModel",void 0),u([d()],rr.prototype,"visibleElements",void 0),u([ct("visibleElements")],rr.prototype,"castVisibleElements",null),rr=u([I("esri.widgets.Attachments")],rr);const q3e=rr;let Fb=class extends i4{constructor(t){super(t),this.description=null,this.title=null}};u([d()],Fb.prototype,"description",void 0),u([d()],Fb.prototype,"title",void 0),Fb=u([I("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],Fb);const n4=Fb,W3e={heading:"esri-widget__heading"};function r4({level:e,class:t,...i},n){const r=K3e(e);return R(`h${r}`,{...i,class:eie(W3e.heading,t),role:"heading","aria-level":String(r)},n)}function K3e(e){return fs(Math.ceil(e),1,6)}const kA="esri-feature-element-info",IA={base:kA,title:`${kA}__title`,description:`${kA}__description`};let Tg=class extends br{constructor(t,i){super(t,i),this.description=null,this.headingLevel=2,this.title=null}render(){return R("div",{class:IA.base},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:t}=this;return t?R(r4,{level:this.headingLevel,class:IA.title},t):null}renderDescription(){const{description:t}=this;return t?R("div",{key:"description",class:IA.description},t):null}};u([d()],Tg.prototype,"description",void 0),u([d()],Tg.prototype,"headingLevel",void 0),u([d()],Tg.prototype,"title",void 0),Tg=u([I("esri.widgets.Feature.support.FeatureElementInfo")],Tg);const sT=Tg,Y3e={base:"esri-feature-attachments"};let Sl=class extends br{constructor(t,i){super(t,i),this._featureElementInfo=null,this.attachmentsWidget=new q3e,this.headingLevel=2,this.viewModel=new n4}initialize(){this._featureElementInfo=new sT,this.addHandles([X(()=>{var t,i;return[(t=this.viewModel)==null?void 0:t.description,(i=this.viewModel)==null?void 0:i.title,this.headingLevel]},()=>this._setupFeatureElementInfo(),gt),X(()=>this.viewModel,t=>this.attachmentsWidget.viewModel=t,gt)])}destroy(){var t;this.attachmentsWidget.destroy(),(t=this._featureElementInfo)==null||t.destroy()}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get displayType(){return this.attachmentsWidget.displayType}set displayType(t){this.attachmentsWidget.displayType=t}get graphic(){return this.viewModel.graphic}set graphic(t){this.viewModel.graphic=t}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}render(){var i;const{attachmentsWidget:t}=this;return R("div",{class:Y3e.base},(i=this._featureElementInfo)==null?void 0:i.render(),t==null?void 0:t.render())}_setupFeatureElementInfo(){var r;const{description:t,title:i,headingLevel:n}=this;(r=this._featureElementInfo)==null||r.set({description:t,title:i,headingLevel:n})}};u([d({readOnly:!0})],Sl.prototype,"attachmentsWidget",void 0),u([d()],Sl.prototype,"description",null),u([d()],Sl.prototype,"displayType",null),u([d()],Sl.prototype,"graphic",null),u([d()],Sl.prototype,"headingLevel",void 0),u([d()],Sl.prototype,"title",null),u([d({type:n4})],Sl.prototype,"viewModel",void 0),Sl=u([I("esri.widgets.Feature.FeatureAttachments")],Sl);const J3e=Sl,Yh=e=>{let t=class extends e{destroy(){var i,n;this.destroyed||((i=this._get("handles"))==null||i.destroy(),(n=this._get("updatingHandles"))==null||n.destroy())}get handles(){return this._get("handles")||new vs}get updatingHandles(){return this._get("updatingHandles")||new jy}};return u([d({readOnly:!0})],t.prototype,"handles",null),u([d({readOnly:!0})],t.prototype,"updatingHandles",null),t=u([I("esri.core.HandleOwner")],t),t};let bI=class extends Yh(ve){};bI=u([I("esri.core.HandleOwner")],bI);let gd=class extends Yh(ve){constructor(t){super(t),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add(X(()=>this.creator,i=>{this._destroyContent(),this._createContent(i)},gt))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:t,graphic:i,destroyer:n}=this;t&&i&&(vI(n,{graphic:i}).catch(()=>null),this._set("created",null))}async _createContent(t){const i=this.graphic;if(!i||!t)return;const n=vI(t,{graphic:i}).catch(()=>null);this._loadingPromise=n,this.notifyChange("state");const r=await n;n===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",r))}};u([d({readOnly:!0})],gd.prototype,"created",void 0),u([d()],gd.prototype,"creator",void 0),u([d()],gd.prototype,"destroyer",void 0),u([d({type:yr})],gd.prototype,"graphic",void 0),u([d({readOnly:!0})],gd.prototype,"state",null),gd=u([I("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],gd);const wI=gd;function Ta(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:Q3e(e[t])}}}function Z3e(e){const t=e==null?void 0:e.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function Q3e(e){return function(t,...i){Z3e(t)?EMe(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...i)}}function X3e(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const i=t._delegatedEventNames,n=Array.isArray(e)?e:eDe(e);i.push(...n)}}function eDe(e){return e.split(",").map(t=>t.trim())}const Pie="calcite-mode-";function tDe(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replace(/\s|'|"/g,"")}function _I(){return tDe().startsWith("dark")}function iDe(){return`${Pie}${_I()?"dark":"light"}`}function nDe(e){rDe(e),e.classList.add(iDe())}function rDe(e){Array.from(e.classList).forEach(t=>{t.startsWith(Pie)&&e.classList.remove(t)})}function Lie(e){return e&&typeof e.render=="function"}function sDe(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const CA="esri-feature-content",TA={base:CA,loaderContainer:`${CA}__loader-container`,loader:`${CA}__loader`};let $g=class extends br{constructor(t,i){super(t,i),this.viewModel=null,this._addTargetToAnchors=n=>{Array.from(n.querySelectorAll("a")).forEach(r=>{Iie(r.href)&&!r.hasAttribute("target")&&r.setAttribute("target","_blank")})}}get creator(){var t;return(t=this.viewModel)==null?void 0:t.creator}set creator(t){this.viewModel&&(this.viewModel.creator=t)}get graphic(){var t;return(t=this.viewModel)==null?void 0:t.graphic}set graphic(t){this.viewModel&&(this.viewModel.graphic=t)}renderLoading(){return R("div",{class:TA.loaderContainer,key:"loader"},R("div",{class:TA.loader}))}renderCreated(){var i;const t=(i=this.viewModel)==null?void 0:i.created;return t?t instanceof HTMLElement?R("div",{key:t,bind:t,afterCreate:this._attachToNode}):Lie(t)?R("div",{key:t},!t.destroyed&&t.render()):R("div",{key:t,innerHTML:t,afterCreate:this._addTargetToAnchors}):null}render(){var i;const t=(i=this.viewModel)==null?void 0:i.state;return R("div",{class:TA.base},t==="loading"?this.renderLoading():this.renderCreated())}_attachToNode(t){const i=this;t.appendChild(i)}};u([d()],$g.prototype,"creator",null),u([d()],$g.prototype,"graphic",null),u([d({type:wI})],$g.prototype,"viewModel",void 0),$g=u([I("esri.widgets.Feature.FeatureContent")],$g);const G2=$g;let Ic=class extends ve{constructor(t){super(t),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:t,fieldInfos:i}=this,n=[];return i==null||i.forEach(r=>{if(!(!r.hasOwnProperty("visible")||r.visible))return;const s=r.clone();s.label=Cie(s,t),n.push(s)}),n}};u([d()],Ic.prototype,"attributes",void 0),u([d({type:[RX]})],Ic.prototype,"expressionInfos",void 0),u([d()],Ic.prototype,"description",void 0),u([d({type:[$_]})],Ic.prototype,"fieldInfos",void 0),u([d({readOnly:!0})],Ic.prototype,"formattedFieldInfos",null),u([d()],Ic.prototype,"title",void 0),Ic=u([I("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],Ic);const aT=Ic,aDe=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function oDe(e){let t=null;return aDe.some(i=>(i.pattern.test(e)&&(t=i),!!t)),t}function lDe(e,t){if(typeof t!="string"||!t)return t;const i=oDe(t);if(!i)return t;const n=t.match(i.pattern),r=n&&n[2],s=ec(ec(i.label,{messages:e,hierPart:r}),{appName:i.appName}),a=i.target?` target="${i.target}"`:"",o=i.target==="_blank"?' rel="noreferrer"':"";return t.replace(i.pattern,`<a${a} href="$1"${o}>${s}</a>`)}const uS="esri-feature-fields",Hv={base:uS,fieldHeader:`${uS}__field-header`,fieldData:`${uS}__field-data`,fieldDataDate:`${uS}__field-data--date`,esriTable:"esri-widget__table"};let Io=class extends br{constructor(t,i){super(t,i),this._featureElementInfo=null,this.viewModel=new aT,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new sT,this.addHandles(X(()=>{var t,i;return[(t=this.viewModel)==null?void 0:t.description,(i=this.viewModel)==null?void 0:i.title]},()=>this._setupFeatureElementInfo(),gt))}destroy(){var t;(t=this._featureElementInfo)==null||t.destroy()}get attributes(){return this.viewModel.attributes}set attributes(t){this.viewModel.attributes=t}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get expressionInfos(){return this.viewModel.expressionInfos}set expressionInfos(t){this.viewModel.expressionInfos=t}get fieldInfos(){return this.viewModel.fieldInfos}set fieldInfos(t){this.viewModel.fieldInfos=t}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}renderFieldInfo(t,i){const{attributes:n}=this.viewModel,r=t.fieldName,s=t.label||r,a=n?n[r]==null?"":n[r]:"",o=!(!t.format||!t.format.dateFormat),l=typeof a=="number"&&!o?this._forceLTR(a):lDe(this.messagesURIUtils,a),c={[Hv.fieldDataDate]:o};return R("tr",{key:`fields-element-info-row-${r}-${i}`},R("th",{key:`fields-element-info-row-header-${r}-${i}`,class:Hv.fieldHeader,innerHTML:s}),R("td",{key:`fields-element-info-row-data-${r}-${i}`,class:this.classes(Hv.fieldData,c),innerHTML:l}))}renderFields(){const{formattedFieldInfos:t}=this.viewModel;return t!=null&&t.length?R("table",{class:Hv.esriTable,summary:this.messages.fieldsSummary},R("tbody",null,t.map((i,n)=>this.renderFieldInfo(i,n)))):null}render(){var t;return R("div",{class:Hv.base},(t=this._featureElementInfo)==null?void 0:t.render(),this.renderFields())}_setupFeatureElementInfo(){var n;const{description:t,title:i}=this;(n=this._featureElementInfo)==null||n.set({description:t,title:i})}_forceLTR(t){return`&lrm;${t}`}};u([d()],Io.prototype,"attributes",null),u([d()],Io.prototype,"description",null),u([d()],Io.prototype,"expressionInfos",null),u([d()],Io.prototype,"fieldInfos",null),u([d()],Io.prototype,"title",null),u([d({type:aT,nonNullable:!0})],Io.prototype,"viewModel",void 0),u([d(),hr("esri/widgets/Feature/t9n/Feature")],Io.prototype,"messages",void 0),u([d(),hr("esri/widgets/support/t9n/uriUtils")],Io.prototype,"messagesURIUtils",void 0),Io=u([I("esri.widgets.Feature.FeatureFields")],Io);const Fie=Io,cDe={maximumFractionDigits:20};function uDe(e){return Mh(e,cDe)}var S5;let Pp=S5=class extends W{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,i){t[i]=e??0}clone(){return new S5({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};u([d({type:de,json:{type:[Nt],write:!0}})],Pp.prototype,"color",void 0),u([d({type:String,json:{write:!0}})],Pp.prototype,"label",void 0),u([d({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Pp.prototype,"value",void 0),u([ue("value")],Pp.prototype,"writeValue",null),Pp=S5=u([I("esri.renderers.visualVariables.support.ColorStop")],Pp);const dDe=Pp;function hDe(e,t,i){return ps(e.map((n,r)=>t.apply(i,[n,r])))}async function pDe(e,t,i){return(await ps(e.map((n,r)=>t.apply(i,[n,r])))).map(n=>n.value)}function s4(e){return{ok:!0,value:e}}function a4(e){return{ok:!1,error:e}}function fDe(e){return $(e)&&e.ok===!0?e.value:null}function mDe(e){return $(e)&&e.ok===!1?e.error:null}async function oT(e){if(j(e))return{ok:!1,error:new Error("no promise provided")};try{return s4(await e)}catch(t){return a4(t)}}async function OWe(e){try{return s4(await e)}catch(t){return Vs(t),a4(t)}}function o4(e,t){return new yd(e,t)}let yd=class extends ve{get value(){return fDe(this._result)}get error(){return mDe(this._result)}get finished(){return $(this._result)}constructor(t,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Rk(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=t(n),this.promise.then(r=>{this._result=s4(r),this._cleanup()},r=>{this._result=a4(r),this._cleanup()}),this._abortHandle=ds(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Hi(this._abortHandle),this._abortController=null}};u([d()],yd.prototype,"value",null),u([d()],yd.prototype,"error",null),u([d()],yd.prototype,"finished",null),u([d()],yd.prototype,"promise",void 0),u([d()],yd.prototype,"_result",void 0),yd=u([I("esri.core.asyncUtils.ReactiveTask")],yd);function lT(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function gDe(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function yDe(e,t,i,n,r,s,a,o,l,c,h,p,m,g,y,b){const w=new Float32Array(16);return w[0]=e,w[1]=t,w[2]=i,w[3]=n,w[4]=r,w[5]=s,w[6]=a,w[7]=o,w[8]=l,w[9]=c,w[10]=h,w[11]=p,w[12]=m,w[13]=g,w[14]=y,w[15]=b,w}function vDe(e,t){return new Float32Array(e,t,16)}const bDe=lT();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:bDe,clone:gDe,create:lT,createView:vDe,fromValues:yDe},Symbol.toStringTag,{value:"Module"}));const wDe=(e,t)=>{const i=Kh(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Lu(i,i)},_De=(e,t)=>{const i=Kh(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Lu(i,i)},xDe=(e,t)=>{const i=1-t,n=Kh(e,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return Lu(n,n)},SDe=(e,t)=>{const i=Math.sin(t*Math.PI/180),n=Math.cos(t*Math.PI/180),r=Kh(e,.213+.787*n-.213*i,.715-.715*n-.715*i,.072-.072*n+.928*i,0,.213-.213*n+.143*i,.715+.285*n+.14*i,.072-.072*n-.283*i,0,.213-.213*n-.787*i,.715-.715*n+.715*i,.072+.928*n+.072*i,0,0,0,0,1);return Lu(r,r)},EDe=(e,t)=>{const i=1-2*t,n=Kh(e,i,0,0,t,0,i,0,t,0,0,i,t,0,0,0,1);return Lu(n,n)},kDe=(e,t)=>{const i=Kh(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Lu(i,i)},IDe=(e,t)=>{const i=1-t,n=Kh(e,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return Lu(n,n)};let Nie=class zie{constructor(t,i,n){this.strength=t,this.radius=i,this.threshold=n,this.type="bloom"}interpolate(t,i,n){this.strength=ss(t.strength,i.strength,n),this.radius=ss(t.radius,i.radius,n),this.threshold=ss(t.threshold,i.threshold,n)}clone(){return new zie(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:H1(this.radius),strength:this.strength,threshold:this.threshold}}},Vie=class jie{constructor(t){this.radius=t,this.type="blur"}interpolate(t,i,n){this.radius=Math.round(ss(t.radius,i.radius,n))}clone(){return new jie(this.radius)}toJSON(){return{type:"blur",radius:H1(this.radius)}}},E5=class Uie{constructor(t,i){this.type=t,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,n){this.amount=ss(t.amount,i.amount,n),this._updateMatrix()}clone(){return new Uie(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||lT();switch(this.type){case"brightness":this._colorMatrix=wDe(t,this.amount);break;case"contrast":this._colorMatrix=_De(t,this.amount);break;case"grayscale":this._colorMatrix=xDe(t,this.amount);break;case"invert":this._colorMatrix=EDe(t,this.amount);break;case"saturate":this._colorMatrix=kDe(t,this.amount);break;case"sepia":this._colorMatrix=IDe(t,this.amount)}}},Bie=class Hie{constructor(t,i,n,r){this.offsetX=t,this.offsetY=i,this.blurRadius=n,this.color=r,this.type="drop-shadow"}interpolate(t,i,n){this.offsetX=ss(t.offsetX,i.offsetX,n),this.offsetY=ss(t.offsetY,i.offsetY,n),this.blurRadius=ss(t.blurRadius,i.blurRadius,n),this.color[0]=Math.round(ss(t.color[0],i.color[0],n)),this.color[1]=Math.round(ss(t.color[1],i.color[1],n)),this.color[2]=Math.round(ss(t.color[2],i.color[2],n)),this.color[3]=ss(t.color[3],i.color[3],n)}clone(){return new Hie(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:H1(this.offsetX),yoffset:H1(this.offsetY),blurRadius:H1(this.blurRadius),color:t}}},Gie=class qie{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,n){this.angle=ss(t.angle,i.angle,n),this._updateMatrix()}clone(){return new qie(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||lT();this._colorMatrix=SDe(t,this.angle)}},Wie=class Kie{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,i,n){this.amount=ss(t.amount,i.amount,n)}clone(){return new Kie(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function ss(e,t,i){return e+(t-e)*i}function H1(e){return Math.round(1e3*xu(e))/1e3}function CDe(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new E5(e.type,0);case"saturate":case"brightness":case"contrast":return new E5(e.type,1);case"opacity":return new Wie(1);case"hue-rotate":return new Gie(0);case"blur":return new Vie(0);case"drop-shadow":return new Bie(0,0,0,[...pN("transparent")]);case"bloom":return new Nie(0,0,1)}}function TDe(e,t){const i=e.length>t.length?e:t;return(e.length>t.length?t:e).every((n,r)=>n.type===i[r].type)}function $De(e,t){const i=e.length>t.length?e:t,n=e.length>t.length?t:e;for(let r=n.length;r<i.length;r++)n.push(CDe(i[r]))}function ADe(e){const t=e[0];return!!t&&"type"in t}var FU,NU,k5={};function Yie(e){if(!e||e.length===0)return null;if(typeof e=="string"){const i=zU(e);return i&&i.length!==0?i:null}const t=e.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new N("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:zU(i.value)}});t.sort((i,n)=>n.effects.length-i.effects.length);for(let i=0;i<t.length-1;i++){if(!TDe(t[i].effects,t[i+1].effects))throw new N("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[i].effects,b:t[i+1].effects});$De(t[i].effects,t[i+1].effects)}return t.sort((i,n)=>n.scale-i.scale),t}function zU(e){let t;if(!e)return[];try{t=k5.parse(e)}catch(i){throw new N("effect:invalid-syntax","Invalid effect syntax",{value:e,error:i})}return t.map(i=>MDe(i))}function MDe(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return DDe(e);case"opacity":return ODe(e);case"hue-rotate":return RDe(e);case"blur":return PDe(e);case"drop-shadow":return LDe(e);case"bloom":return FDe(e)}}catch(t){throw t.details.filter=e,t}throw new N("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function DDe(e){let t=1;return Z0(e.parameters,1),e.parameters.length===1&&(t=Vo(e.parameters[0])),new E5(e.name,t)}function ODe(e){let t=1;return Z0(e.parameters,1),e.parameters.length===1&&(t=Vo(e.parameters[0])),new Wie(t)}function RDe(e){let t=0;return Z0(e.parameters,1),e.parameters.length===1&&(t=BDe(e.parameters[0])),new Gie(t)}function PDe(e){let t=0;return Z0(e.parameters,1),e.parameters.length===1&&(t=u4(e.parameters[0]),j_(t,e.parameters[0])),new Vie(t)}function LDe(e){const t=[];let i=null;for(const n of e.parameters)if(n.type==="color"){if(t.length&&Object.freeze(t),i)throw new N("effect:type-error","Accepts only one color",{});i=HDe(n)}else{const r=u4(n);if(Object.isFrozen(t))throw new N("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(r),t.length===3&&j_(r,n)}if(t.length<2||t.length>3)throw new N("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new Bie(t[0],t[1],t[2]||0,i||Jie("black"))}function FDe(e){let t=1,i=0,n=0;return Z0(e.parameters,3),e.parameters[0]&&(t=Vo(e.parameters[0])),e.parameters[1]&&(i=u4(e.parameters[1]),j_(i,e.parameters[1])),e.parameters[2]&&(n=Vo(e.parameters[2])),new Nie(t,i,n)}function Z0(e,t){if(e.length>t)throw new N("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function cT(e){if(e.type==="color")return"<color>";if(e.unit){if(c4[e.unit])return"<length>";if(l4[e.unit])return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function j_(e,t){if(e<0)throw new N("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function NDe(e){if(e.type!=="quantity"||e.unit!==null)throw new N("effect:type-error",`Expected <double>, Actual: ${cT(e)}`,{term:e})}function zDe(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new N("effect:type-error",`Expected <double> or <percentage>, Actual: ${cT(e)}`,{term:e})}NU=function(){function e(r,s){function a(){this.constructor=r}a.prototype=s.prototype,r.prototype=new a}function t(r,s,a,o){var l=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(l,t.prototype),l.expected=s,l.found=a,l.location=o,l.name="SyntaxError",l}function i(r,s,a){return a=a||" ",r.length>s?r:(s-=r.length,r+(a+=a.repeat(s)).slice(0,s))}function n(r,s){var a,o={},l=(s=s!==void 0?s:{}).grammarSource,c={start:Oz},h=Oz,p="none",m=")",g=",",y="(",b="%",w="px",_="cm",x="mm",S="in",k="pt",A="pc",T="deg",C="rad",M="grad",L="turn",V="#",P=".",J="e",oe=/^[ \t\n\r]/,se=/^[a-z\-]/,rt=/^[0-9a-fA-F]/,tt=/^[+\-]/,lt=/^[0-9]/,Z=uc("none"),ge=xn("none",!1),te=xn(")",!1),$e=xn(",",!1),Ue=uc("whitespace"),Mi=uv([" ","	",`
`,"\r"],!1,!1),Ot=uc("function"),lc=xn("(",!1),oo=uc("identifier"),cc=uv([["a","z"],"-"],!1,!1),tx=uc("percentage"),zT=xn("%",!1),VT=uc("length"),Ble=xn("px",!1),Hle=xn("cm",!1),Gle=xn("mm",!1),qle=xn("in",!1),Wle=xn("pt",!1),Kle=xn("pc",!1),Yle=uc("angle"),Jle=xn("deg",!1),Zle=xn("rad",!1),Qle=xn("grad",!1),Xle=xn("turn",!1),ece=uc("number"),tce=uc("color"),ice=xn("#",!1),$z=uv([["0","9"],["a","f"],["A","F"]],!1,!1),Az=uv(["+","-"],!1,!1),Nu=uv([["0","9"]],!1,!1),nce=xn(".",!1),rce=xn("e",!1),sce=function(){return[]},ace=function(D,q){return{type:"function",name:D,parameters:q||[]}},oce=function(D,q){return q.length>0?Vce(D,q,3):[D]},lce=function(D){return{type:"quantity",value:D.value,unit:D.unit}},cce=function(D){return{type:"color",colorType:D.type,value:D.value}},uce=function(D){return D},dce=function(){return nx()},hce=function(D){return{value:D,unit:"%"}},pce=function(D){return{value:D,unit:"px"}},fce=function(D){return{value:D,unit:"cm"}},mce=function(D){return{value:D,unit:"mm"}},gce=function(D){return{value:D,unit:"in"}},yce=function(D){return{value:D,unit:"pt"}},vce=function(D){return{value:D,unit:"pc"}},bce=function(D){return{value:D,unit:"deg"}},wce=function(D){return{value:D,unit:"rad"}},_ce=function(D){return{value:D,unit:"grad"}},xce=function(D){return{value:D,unit:"turn"}},Sce=function(D){return{value:D,unit:null}},Ece=function(){return{type:"hex",value:nx()}},kce=function(D){return{type:"function",value:D}},Ice=function(){return{type:"named",value:nx()}},Cce=function(){return parseFloat(nx())},U=0,di=0,ix=[{line:1,column:1}],sl=0,jT=[],be=0;if("startRule"in s){if(!(s.startRule in c))throw new Error(`Can't start parsing from rule "`+s.startRule+'".');h=c[s.startRule]}function nx(){return r.substring(di,U)}function xn(D,q){return{type:"literal",text:D,ignoreCase:q}}function uv(D,q,Q){return{type:"class",parts:D,inverted:q,ignoreCase:Q}}function Tce(){return{type:"end"}}function uc(D){return{type:"other",description:D}}function Mz(D){var q,Q=ix[D];if(Q)return Q;for(q=D-1;!ix[q];)q--;for(Q={line:(Q=ix[q]).line,column:Q.column};q<D;)r.charCodeAt(q)===10?(Q.line++,Q.column=1):Q.column++,q++;return ix[D]=Q,Q}function Dz(D,q){var Q=Mz(D),Ye=Mz(q);return{source:l,start:{offset:D,line:Q.line,column:Q.column},end:{offset:q,line:Ye.line,column:Ye.column}}}function Ve(D){U<sl||(U>sl&&(sl=U,jT=[]),jT.push(D))}function $ce(D,q,Q){return new t(t.buildMessage(D,q),D,q,Q)}function Oz(){var D;return(D=Ace())===o&&(D=Mce()),D}function Ace(){var D,q;return be++,D=U,Sn(),r.substr(U,4)===p?(q=p,U+=4):(q=o,be===0&&Ve(ge)),q!==o?(Sn(),di=D,D=sce()):(U=D,D=o),be--,D===o&&be===0&&Ve(Z),D}function Mce(){var D,q;if(D=[],(q=UT())!==o)for(;q!==o;)D.push(q),q=UT();else D=o;return D}function UT(){var D,q,Q,Ye;return D=U,Sn(),(q=Oce())!==o?(Sn(),(Q=Dce())===o&&(Q=null),Sn(),r.charCodeAt(U)===41?(Ye=m,U++):(Ye=o,be===0&&Ve(te)),Ye!==o?(Sn(),di=D,D=ace(q,Q)):(U=D,D=o)):(U=D,D=o),D}function Dce(){var D,q,Q,Ye,Rn,yi,oa,rx;if(D=U,(q=BT())!==o){for(Q=[],Ye=U,Rn=Sn(),r.charCodeAt(U)===44?(yi=g,U++):(yi=o,be===0&&Ve($e)),yi===o&&(yi=null),oa=Sn(),(rx=BT())!==o?Ye=Rn=[Rn,yi,oa,rx]:(U=Ye,Ye=o);Ye!==o;)Q.push(Ye),Ye=U,Rn=Sn(),r.charCodeAt(U)===44?(yi=g,U++):(yi=o,be===0&&Ve($e)),yi===o&&(yi=null),oa=Sn(),(rx=BT())!==o?Ye=Rn=[Rn,yi,oa,rx]:(U=Ye,Ye=o);di=D,D=oce(q,Q)}else U=D,D=o;return D}function BT(){var D,q;return D=U,(q=Rce())===o&&(q=Pce())===o&&(q=Lce())===o&&(q=Fce()),q!==o&&(di=D,q=lce(q)),(D=q)===o&&(D=U,(q=Nce())!==o&&(di=D,q=cce(q)),D=q),D}function Sn(){var D,q;for(be++,D=[],oe.test(r.charAt(U))?(q=r.charAt(U),U++):(q=o,be===0&&Ve(Mi));q!==o;)D.push(q),oe.test(r.charAt(U))?(q=r.charAt(U),U++):(q=o,be===0&&Ve(Mi));return be--,q=o,be===0&&Ve(Ue),D}function Oce(){var D,q,Q;return be++,D=U,(q=Rz())!==o?(r.charCodeAt(U)===40?(Q=y,U++):(Q=o,be===0&&Ve(lc)),Q!==o?(di=D,D=uce(q)):(U=D,D=o)):(U=D,D=o),be--,D===o&&(q=o,be===0&&Ve(Ot)),D}function Rz(){var D,q,Q;if(be++,D=U,q=[],se.test(r.charAt(U))?(Q=r.charAt(U),U++):(Q=o,be===0&&Ve(cc)),Q!==o)for(;Q!==o;)q.push(Q),se.test(r.charAt(U))?(Q=r.charAt(U),U++):(Q=o,be===0&&Ve(cc));else q=o;return q!==o&&(di=D,q=dce()),be--,(D=q)===o&&(q=o,be===0&&Ve(oo)),D}function Rce(){var D,q,Q;return be++,D=U,Sn(),(q=aa())!==o?(r.charCodeAt(U)===37?(Q=b,U++):(Q=o,be===0&&Ve(zT)),Q!==o?(di=D,D=hce(q)):(U=D,D=o)):(U=D,D=o),be--,D===o&&be===0&&Ve(tx),D}function Pce(){var D,q,Q;return be++,D=U,Sn(),(q=aa())!==o?(r.substr(U,2)===w?(Q=w,U+=2):(Q=o,be===0&&Ve(Ble)),Q!==o?(di=D,D=pce(q)):(U=D,D=o)):(U=D,D=o),D===o&&(D=U,Sn(),(q=aa())!==o?(r.substr(U,2)===_?(Q=_,U+=2):(Q=o,be===0&&Ve(Hle)),Q!==o?(di=D,D=fce(q)):(U=D,D=o)):(U=D,D=o),D===o&&(D=U,Sn(),(q=aa())!==o?(r.substr(U,2)===x?(Q=x,U+=2):(Q=o,be===0&&Ve(Gle)),Q!==o?(di=D,D=mce(q)):(U=D,D=o)):(U=D,D=o),D===o&&(D=U,Sn(),(q=aa())!==o?(r.substr(U,2)===S?(Q=S,U+=2):(Q=o,be===0&&Ve(qle)),Q!==o?(di=D,D=gce(q)):(U=D,D=o)):(U=D,D=o),D===o&&(D=U,Sn(),(q=aa())!==o?(r.substr(U,2)===k?(Q=k,U+=2):(Q=o,be===0&&Ve(Wle)),Q!==o?(di=D,D=yce(q)):(U=D,D=o)):(U=D,D=o),D===o&&(D=U,Sn(),(q=aa())!==o?(r.substr(U,2)===A?(Q=A,U+=2):(Q=o,be===0&&Ve(Kle)),Q!==o?(di=D,D=vce(q)):(U=D,D=o)):(U=D,D=o)))))),be--,D===o&&be===0&&Ve(VT),D}function Lce(){var D,q,Q;return be++,D=U,(q=aa())!==o?(r.substr(U,3)===T?(Q=T,U+=3):(Q=o,be===0&&Ve(Jle)),Q!==o?(di=D,D=bce(q)):(U=D,D=o)):(U=D,D=o),D===o&&(D=U,(q=aa())!==o?(r.substr(U,3)===C?(Q=C,U+=3):(Q=o,be===0&&Ve(Zle)),Q!==o?(di=D,D=wce(q)):(U=D,D=o)):(U=D,D=o),D===o&&(D=U,(q=aa())!==o?(r.substr(U,4)===M?(Q=M,U+=4):(Q=o,be===0&&Ve(Qle)),Q!==o?(di=D,D=_ce(q)):(U=D,D=o)):(U=D,D=o),D===o&&(D=U,(q=aa())!==o?(r.substr(U,4)===L?(Q=L,U+=4):(Q=o,be===0&&Ve(Xle)),Q!==o?(di=D,D=xce(q)):(U=D,D=o)):(U=D,D=o)))),be--,D===o&&(q=o,be===0&&Ve(Yle)),D}function Fce(){var D,q;return be++,D=U,Sn(),(q=aa())!==o?(di=D,D=Sce(q)):(U=D,D=o),be--,D===o&&be===0&&Ve(ece),D}function Nce(){var D,q,Q,Ye;if(be++,D=U,r.charCodeAt(U)===35?(q=V,U++):(q=o,be===0&&Ve(ice)),q!==o){if(Q=[],rt.test(r.charAt(U))?(Ye=r.charAt(U),U++):(Ye=o,be===0&&Ve($z)),Ye!==o)for(;Ye!==o;)Q.push(Ye),rt.test(r.charAt(U))?(Ye=r.charAt(U),U++):(Ye=o,be===0&&Ve($z));else Q=o;Q!==o?(di=D,D=Ece()):(U=D,D=o)}else U=D,D=o;return D===o&&(D=U,(q=UT())!==o&&(di=D,q=kce(q)),(D=q)===o&&(D=U,(q=Rz())!==o&&(di=D,q=Ice()),D=q)),be--,D===o&&(q=o,be===0&&Ve(tce)),D}function aa(){var D,q,Q,Ye,Rn,yi,oa;for(D=U,tt.test(r.charAt(U))?(r.charAt(U),U++):be===0&&Ve(Az),q=U,Q=[],lt.test(r.charAt(U))?(Ye=r.charAt(U),U++):(Ye=o,be===0&&Ve(Nu));Ye!==o;)Q.push(Ye),lt.test(r.charAt(U))?(Ye=r.charAt(U),U++):(Ye=o,be===0&&Ve(Nu));if(r.charCodeAt(U)===46?(Ye=P,U++):(Ye=o,be===0&&Ve(nce)),Ye!==o){if(Rn=[],lt.test(r.charAt(U))?(yi=r.charAt(U),U++):(yi=o,be===0&&Ve(Nu)),yi!==o)for(;yi!==o;)Rn.push(yi),lt.test(r.charAt(U))?(yi=r.charAt(U),U++):(yi=o,be===0&&Ve(Nu));else Rn=o;Rn!==o?q=Q=[Q,Ye,Rn]:(U=q,q=o)}else U=q,q=o;if(q===o)if(q=[],lt.test(r.charAt(U))?(Q=r.charAt(U),U++):(Q=o,be===0&&Ve(Nu)),Q!==o)for(;Q!==o;)q.push(Q),lt.test(r.charAt(U))?(Q=r.charAt(U),U++):(Q=o,be===0&&Ve(Nu));else q=o;if(q!==o){if(Q=U,r.charCodeAt(U)===101?(Ye=J,U++):(Ye=o,be===0&&Ve(rce)),Ye!==o){if(tt.test(r.charAt(U))?(Rn=r.charAt(U),U++):(Rn=o,be===0&&Ve(Az)),Rn===o&&(Rn=null),yi=[],lt.test(r.charAt(U))?(oa=r.charAt(U),U++):(oa=o,be===0&&Ve(Nu)),oa!==o)for(;oa!==o;)yi.push(oa),lt.test(r.charAt(U))?(oa=r.charAt(U),U++):(oa=o,be===0&&Ve(Nu));else yi=o;yi!==o?Q=Ye=[Ye,Rn,yi]:(U=Q,Q=o)}else U=Q,Q=o;Q===o&&(Q=null),di=D,D=Cce()}else U=D,D=o;return D}function zce(D,q){return D.map(function(Q){return Q[q]})}function Vce(D,q,Q){return[D].concat(zce(q,Q))}if((a=h())!==o&&U===r.length)return a;throw a!==o&&U<r.length&&Ve(Tce()),$ce(jT,sl<r.length?r.charAt(sl):null,sl<r.length?Dz(sl,sl+1):Dz(sl,sl))}return e(t,Error),t.prototype.format=function(r){var s="Error: "+this.message;if(this.location){var a,o=null;for(a=0;a<r.length;a++)if(r[a].source===this.location.source){o=r[a].text.split(/\r\n|\n|\r/g);break}var l=this.location.start,c=this.location.source+":"+l.line+":"+l.column;if(o){var h=this.location.end,p=i("",l.line.toString().length," "),m=o[l.line-1],g=(l.line===h.line?h.column:m.length+1)-l.column||1;s+=`
 --> `+c+`
`+p+` |
`+l.line+" | "+m+`
`+p+" | "+i("",l.column-1," ")+i("",g,"^")}else s+=`
 at `+c}return s},t.buildMessage=function(r,s){var a={literal:function(g){return'"'+l(g.text)+'"'},class:function(g){var y=g.parts.map(function(b){return Array.isArray(b)?c(b[0])+"-"+c(b[1]):c(b)});return"["+(g.inverted?"^":"")+y.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(g){return g.description}};function o(g){return g.charCodeAt(0).toString(16).toUpperCase()}function l(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(y){return"\\x0"+o(y)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(y){return"\\x"+o(y)})}function c(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(y){return"\\x0"+o(y)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(y){return"\\x"+o(y)})}function h(g){return a[g.type](g)}function p(g){var y,b,w=g.map(h);if(w.sort(),w.length>0){for(y=1,b=1;y<w.length;y++)w[y-1]!==w[y]&&(w[b]=w[y],b++);w.length=b}switch(w.length){case 1:return w[0];case 2:return w[0]+" or "+w[1];default:return w.slice(0,-1).join(", ")+", or "+w[w.length-1]}}function m(g){return g?'"'+l(g)+'"':"end of input"}return"Expected "+p(r)+" but "+m(s)+" found."},{SyntaxError:t,parse:n}},(FU={get exports(){return k5},set exports(e){k5=e}}).exports&&(FU.exports=NU());const l4={deg:1,grad:.9,rad:180/Math.PI,turn:360};function VDe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&l4[e.unit]!=null))throw new N("effect:type-error",`Expected <angle>, Actual: ${cT(e)}`,{term:e})}const c4={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function jDe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&c4[e.unit]!=null))throw new N("effect:type-error",`Expected <length>, Actual: ${cT(e)}`,{term:e})}function Vo(e){zDe(e);const t=e.value;return j_(t,e),e.unit==="%"?.01*t:t}function UDe(e){return NDe(e),j_(e.value,e),e.value}function BDe(e){return VDe(e),e.value*l4[e.unit]||0}function u4(e){return jDe(e),e.value*c4[e.unit]||0}function HDe(e){switch(e.colorType){case"hex":return NEe(e.value);case"named":return Jie(e.value);case"function":return WDe(e.value)}}function Jie(e){if(!FX(e))throw new N("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return FEe(e)}const GDe=/^rgba?/i,qDe=/^hsla?/i;function WDe(e){if(Z0(e.parameters,4),GDe.test(e.name))return[Vo(e.parameters[0]),Vo(e.parameters[1]),Vo(e.parameters[2]),e.parameters[3]?Vo(e.parameters[3]):1];if(qDe.test(e.name))return NX(UDe(e.parameters[0]),Vo(e.parameters[1]),Vo(e.parameters[2]),e.parameters[3]?Vo(e.parameters[3]):1);throw new N("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function d4(e,t,i){var n;try{return YDe(e)}catch(r){(n=i==null?void 0:i.messages)==null||n.push(r)}return null}function h4(e,t,i,n){try{const r=KDe(e);fr(i,r,t)}catch(r){n.messages&&n.messages.push(r)}}function KDe(e){const t=Yie(e);return t?ADe(t)?t.map(i=>i.toJSON()):t.map(({scale:i,effects:n})=>({scale:i,value:n.map(r=>r.toJSON())})):null}function YDe(e){if(!e||e.length===0)return null;if(JDe(e)){const t=[];for(const i of e)t.push({scale:i.scale,value:VU(i.value)});return t}return VU(e)}function JDe(e){const t=e[0];return!!t&&"scale"in t}function VU(e){if(!e||!e.length)return"";const t=[];for(const i of e){let n=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":n=[fc(i,"amount")];break;case"blur":n=[fc(i,"radius","pt")];break;case"hue-rotate":n=[fc(i,"angle","deg")];break;case"drop-shadow":n=[fc(i,"xoffset","pt"),fc(i,"yoffset","pt"),fc(i,"blurRadius","pt"),ZDe(i,"color")];break;case"bloom":n=[fc(i,"strength"),fc(i,"radius","pt"),fc(i,"threshold")]}const r=`${i.type}(${n.filter(Boolean).join(" ")})`;Yie(r),t.push(r)}return t.join(" ")}function fc(e,t,i){if(e[t]==null)throw new N("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return i?e[t]+i:""+e[t]}function ZDe(e,t){if(e[t]==null)throw new N("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const i=e[t];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const $A=-3;var zd;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(zd||(zd={}));let PWe=class{constructor(t,i,n){this._namespace=t,this._storage=i,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(t,i,n,r=0){this._storage.put(this._namespace+t,i,n,r)}get(t){const i=this._storage.get(this._namespace+t);return i===void 0?++this._miss:++this._hit,i}pop(t){const i=this._storage.pop(this._namespace+t);return i===void 0?++this._miss:++this._hit,i}updateSize(t,i,n){this._storage.updateSize(this._namespace+t,i,n)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}},Zie=class{constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new vh,this._users=new vh}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,i){this._removeFuncs.push([t,i])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(i=>i[0]!==t)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,i,n,r){const s=this._db.get(t);if(s&&(this._size-=s.size,this._db.delete(t),s.entry!==i&&this._notifyRemove(t,s.entry,zd.ALL)),n>this._maxSize)return void this._notifyRemove(t,i,zd.ALL);if(i===void 0)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return void console.warn("Refusing to cache entry with invalid size "+n);const a=1+Math.max(r,$A)-$A;this._db.set(t,{entry:i,size:n,lifetime:a,lives:a}),this._size+=n,this._checkSizeLimit()}updateSize(t,i,n){const r=this._db.get(t);if(r&&r.entry===i){for(this._size-=r.size;n>this._maxSize;){const s=this._notifyRemove(t,i,zd.SOME);if(!($(s)&&s>0))return void this._db.delete(t);n=s}r.size=n,this._size+=n,this._checkSizeLimit()}}pop(t){const i=this._db.get(t);if(i)return this._size-=i.size,this._db.delete(t),++this._hit,i.entry;++this._miss}get(t){const i=this._db.get(t);if(i!==void 0)return this._db.delete(t),i.lives=i.lifetime,this._db.set(t,i),++this._hit,i.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},n=new Array;this._db.forEach((a,o)=>{const l=a.lifetime;n[l]=(n[l]||0)+a.size,this._users.forAll(c=>{const h=c.namespace;if(o.startsWith(h)){const p=i[h]||0;i[h]=p+a.size}})});const r={};this._users.forAll(a=>{const o=a.namespace;if(!isNaN(a.hitRate)&&a.hitRate>0){const l=i[o]||0;i[o]=l,r[o]=Math.round(100*a.hitRate)+"%"}else r[o]="0%"});const s=Object.keys(i);s.sort((a,o)=>i[o]-i[a]),s.forEach(a=>t[a]=Math.round(i[a]/2**20)+"MB / "+r[a]);for(let a=n.length-1;a>=0;--a){const o=n[a];o&&(t["Priority "+(a+$A-1)]=Math.round(o/this.size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){this._db.forEach((i,n)=>{n.startsWith(t)&&(this._size-=i.size,this._db.delete(n),this._notifyRemove(n,i.entry,zd.ALL))})}clearAll(){this._db.forEach((t,i)=>this._notifyRemove(i,t.entry,zd.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,i,n){let r;return this._removeFuncs.some(s=>{if(t.startsWith(s[0])){const a=s[1](i,n);return typeof a=="number"&&(r=a),!0}return!1}),r}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,i]of this._db){if(this._db.delete(t),i.lives<=1){this._size-=i.size;const n=this._notifyRemove(t,i.entry,zd.SOME);$(n)&&n>0&&(this._size+=n,i.lives=i.lifetime,i.size=n,this._db.set(t,i))}else--i.lives,this._db.set(t,i);if(this._size<=.9*this.maxSize)return}}},QDe=class{constructor(t,i){this._storage=new Zie,this._storage.maxSize=t,i&&this._storage.registerRemoveFunc("",i)}put(t,i){this._storage.put(t,i,1,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}};new QDe(1e3);new de([128,128,128]);const XDe=new de("white");function Qm(e,t){if(!e)return null;let i=null;return _0(e)?i=eOe(e):eT(e)&&(i=e.color?new de(e.color):null),i?Qw(i,t):null}function eOe(e){const t=e.symbolLayers;if(!t)return null;let i=null;return t.forEach(n=>{var r;n.type==="object"&&((r=n.resource)==null?void 0:r.href)!=null||(i=n.type==="water"?n.color:$(n.material)?n.material.color:null)}),i?new de(i):null}function Qw(e,t){if(t==null||e==null)return e;const i=e.toRgba();return i[3]=i[3]*t,new de(i)}function tOe(e,t,i){const n=e.symbolLayers;if(!n)return;const r=s=>{const a=$(s)?s:null;return Qw(t=t??a??(i!=null?XDe:null),i)};n.forEach(s=>{var a;if(s.type!=="object"||((a=s.resource)==null?void 0:a.href)==null||t)if(s.type==="water")s.color=r(s.color);else{const o=$(s.material)?s.material.color:null,l=r(o);j(s.material)?s.material=new Ks({color:l}):s.material.color=l,i!=null&&"outline"in s&&$(s.outline)&&$(s.outline.color)&&(s.outline.color=Qw(s.outline.color,i))}})}function iOe(e,t,i){(t=t??e.color)&&(e.color=Qw(t,i)),i!=null&&"outline"in e&&e.outline&&e.outline.color&&(e.outline.color=Qw(e.outline.color,i))}function AA(e,t,i){e&&(t||i!=null)&&(t&&(t=new de(t)),_0(e)?tOe(e,t,i):eT(e)&&iOe(e,t,i))}async function nOe(e,t){const i=e.symbolLayers;i&&await hDe(i,async n=>rOe(n,t))}async function rOe(e,t){switch(e.type){case"extrude":aOe(e,t);break;case"icon":case"line":case"text":sOe(e,t);break;case"path":lOe(e,t);break;case"object":await oOe(e,t)}}function sOe(e,t){const i=Qie(t);$(i)&&(e.size=i)}function Qie(e){for(const t of e)if(typeof t=="number")return t;return null}function aOe(e,t){e.size=typeof t[2]=="number"?t[2]:0}async function oOe(e,t){const{resourceSize:i,symbolSize:n}=await cOe(e),r=Xie(t,i,n);e.width=G1(t[0],n[0],i[0],r),e.depth=G1(t[1],n[1],i[1],r),e.height=G1(t[2],n[2],i[2],r)}function lOe(e,t){const i=Xie(t,HX,[e.width,void 0,e.height]);e.width=G1(t[0],e.width,1,i),e.height=G1(t[2],e.height,1,i)}function Xie(e,t,i){for(let n=0;n<3;n++){const r=e[n];switch(r){case"symbol-value":{const s=i[n];return s!=null?s/t[n]:1}case"proportional":break;default:if(r&&t[n])return r/t[n]}}return 1}async function cOe(e){const t=await H(()=>import("./symbolLayerUtils.js"),[]),i=await t.computeObjectLayerResourceSize(e,10),{width:n,height:r,depth:s}=e,a=[n,s,r];let o=1;for(let l=0;l<3;l++){const c=a[l];if(c!=null){o=c/i[l];break}}for(let l=0;l<3;l++)a[l]==null&&(a[l]=i[l]*o);return{resourceSize:i,symbolSize:a}}function G1(e,t,i,n){switch(e){case"proportional":return i*n;case"symbol-value":return t??i;default:return e}}function uOe(e,t){const i=Qie(t);if(!j(i))switch(e.type){case"simple-marker":e.size=i;break;case"picture-marker":{const n=e.width/e.height;n>1?(e.width=i,e.height=i*n):(e.width=i*n,e.height=i);break}case"simple-line":e.width=i;break;case"text":e.font.size=i}}async function dOe(e,t){if(e&&t)return _0(e)?nOe(e,t):void(eT(e)&&uOe(e,t))}function hOe(e,t,i){if(e&&t!=null)if(_0(e)){const n=e.symbolLayers;n&&n.forEach(r=>{if(r&&r.type==="object")switch(i){case"tilt":r.tilt=t;break;case"roll":r.roll=t;break;default:r.heading=t}})}else eT(e)&&(e.type!=="simple-marker"&&e.type!=="picture-marker"&&e.type!=="text"||(e.angle=t))}async function pOe(e,t){return await e.fetchSymbol(t)||e.fetchCIMSymbol(t)}const fOe="<",mOe=">",gOe=cN("short-date");function yOe(e,t,i,n){let r="";t===0?r=`${fOe} `:t===i&&(r=`${mOe} `);let s=null;return s=n?_u(e,gOe):uDe(e),r+s}const vOe=new de([64,64,64]);function bOe(e,t){const i=[],n=e.length-1;return e.length===5?i.push(0,2,4):i.push(0,n),e.map((r,s)=>i.includes(s)?yOe(r,s,n,t):null)}async function wOe(e,t,i){let n=!1,r=[],s=[];if(e.stops){const c=e.stops;r=c.map(h=>h.value),n=c.some(h=>!!h.label),n&&(s=c.map(h=>h.label))}const a=r[0],o=r[r.length-1];if(a==null&&o==null)return null;const l=n?null:bOe(r,i??!1);return(await Promise.all(r.map(async(c,h)=>({value:c,color:e.type==="opacity"?await _Oe(c,e,t):(await H(()=>Promise.resolve().then(()=>C4),void 0)).getColor(e,c),label:n?s[h]:(l==null?void 0:l[h])??""})))).reverse()}async function _Oe(e,t,i=vOe){const n=new de(i),r=(await H(()=>Promise.resolve().then(()=>C4),void 0)).getOpacity(t,e);return r!=null&&(n.a=r),n}var I5;let Nb=I5=class extends W{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new I5({color:this.color,ratio:this.ratio})}};u([d({type:de,json:{type:[Nt],default:null,write:!0}})],Nb.prototype,"color",void 0),u([d({type:Number,json:{write:!0}})],Nb.prototype,"ratio",void 0),Nb=I5=u([I("esri.renderers.support.HeatmapColorStop")],Nb);const q1=Nb;function xOe(e){if(!e.colorStops)return[];const t=[...e.colorStops].filter(n=>{var r;return((r=n.color)==null?void 0:r.a)>0});let i=t.length-1;if(t&&t[0]){const n=t[i];n&&n.ratio!==1&&(t.push(new q1({ratio:1,color:n.color})),i++)}return t.map((n,r)=>{var a,o;let s="";return r===0?s=((a=e.legendOptions)==null?void 0:a.minLabel)||"low":r===i&&(s=((o=e.legendOptions)==null?void 0:o.maxLabel)||"high"),{color:n.color,label:s,ratio:n.ratio}}).reverse()}Y.getLogger("esri.renderers.support.utils");async function Ss(e,t,i){PF(e,t,()=>[]).push(...i)}async function SOe(e){var i,n;const t=new Map;if(!e)return t;if("visualVariables"in e&&e.visualVariables){const r=e.visualVariables.filter(s=>s.type==="color");for(const s of r){const a=(await wOe(s)??[]).map(o=>o.color);await Ss(t,s.field||s.valueExpression,a)}}if(e.type==="heatmap"){const r=xOe(e).map(s=>s.color);await Ss(t,e.field||e.valueExpression,r)}else if(e.type==="pie-chart"){for(const r of e.attributes)await Ss(t,r.field||r.valueExpression,[r.color]);await Ss(t,"default",[(i=e==null?void 0:e.othersCategory)==null?void 0:i.color,Qm(e.backgroundFillSymbol,null)])}else if(e.type==="dot-density"){for(const r of e.attributes)await Ss(t,r.field||r.valueExpression,[r.color]);await Ss(t,"default",[e.backgroundColor])}else if(e.type==="unique-value")if(((n=e.authoringInfo)==null?void 0:n.type)==="predominance")for(const r of e.uniqueValueInfos??[])await Ss(t,r.value.toString(),[Qm(r.symbol,null)]);else{const r=(e.uniqueValueInfos??[]).map(c=>Qm(c.symbol,null)),{field:s,field2:a,field3:o,valueExpression:l}=e;(s||l)&&await Ss(t,s||l,r),a&&await Ss(t,a,r),o&&await Ss(t,o,r)}else if(e.type==="class-breaks"){const r=e.classBreakInfos.map(o=>Qm(o.symbol,null)),{field:s,valueExpression:a}=e;await Ss(t,s??a,r)}else e.type==="simple"&&await Ss(t,"default",[Qm(e.symbol,null)]);return"defaultSymbol"in e&&e.defaultSymbol&&await Ss(t,"default",[Qm(e.defaultSymbol,null)]),t.forEach((r,s)=>{const a=m_e(r.filter(Boolean),(o,l)=>JSON.stringify(o)===JSON.stringify(l));t.set(s,a)}),t}var C5;let zb=C5=class extends W{constructor(e){super(e),this.name=null,this.code=null}clone(){return new C5({name:this.name,code:this.code})}};u([d({type:String,json:{write:!0}})],zb.prototype,"name",void 0),u([d({type:[String,Number],json:{write:!0}})],zb.prototype,"code",void 0),zb=C5=u([I("esri.layers.support.CodedValue")],zb);const EOe=new nt({inherited:"inherited",codedValue:"coded-value",range:"range"});let Vb=class extends W{constructor(t){super(t),this.name=null,this.type=null}};u([d({type:String,json:{write:!0}})],Vb.prototype,"name",void 0),u([xe(EOe)],Vb.prototype,"type",void 0),Vb=u([I("esri.layers.support.Domain")],Vb);const uT=Vb;var T5;let jb=T5=class extends uT{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some(n=>(String(n.code)===i&&(t=n.name),!!t))}return t}clone(){return new T5({codedValues:z(this.codedValues),name:this.name})}};u([d({type:[zb],json:{write:!0}})],jb.prototype,"codedValues",void 0),u([xe({codedValue:"coded-value"})],jb.prototype,"type",void 0),jb=T5=u([I("esri.layers.support.CodedValueDomain")],jb);const ene=jb;var $5;let q2=$5=class extends uT{constructor(e){super(e),this.type="inherited"}clone(){return new $5}};u([xe({inherited:"inherited"})],q2.prototype,"type",void 0),q2=$5=u([I("esri.layers.support.InheritedDomain")],q2);const tne=q2;var A5;let Ag=A5=class extends uT{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new A5({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};u([d({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]}}}})],Ag.prototype,"maxValue",void 0),u([d({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]}}}})],Ag.prototype,"minValue",void 0),u([xe({range:"range"})],Ag.prototype,"type",void 0),Ag=A5=u([I("esri.layers.support.RangeDomain")],Ag);const ine=Ag,nne={key:"type",base:uT,typeMap:{range:ine,"coded-value":ene,inherited:tne}};function p4(e){if(!e||!e.type)return null;switch(e.type){case"range":return ine.fromJSON(e);case"codedValue":return ene.fromJSON(e);case"inherited":return tne.fromJSON(e)}return null}const kOe=new nt({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});var M5;const IOe=new nt({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let sr=M5=class extends W{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return(i==null?void 0:i.value)??null}readValueType(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return i?IOe.fromJSON(i.fieldValueType):null}clone(){return new M5({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};u([d({type:String,json:{write:!0}})],sr.prototype,"alias",void 0),u([d({type:[String,Number],json:{write:{allowNull:!0}}})],sr.prototype,"defaultValue",void 0),u([d()],sr.prototype,"description",void 0),u([ee("description")],sr.prototype,"readDescription",null),u([d({types:nne,json:{read:{reader:p4},write:!0}})],sr.prototype,"domain",void 0),u([d({type:Boolean,json:{write:!0}})],sr.prototype,"editable",void 0),u([d({type:Nt,json:{write:!0}})],sr.prototype,"length",void 0),u([d({type:String,json:{write:!0}})],sr.prototype,"name",void 0),u([d({type:Boolean,json:{write:!0}})],sr.prototype,"nullable",void 0),u([xe(kOe)],sr.prototype,"type",void 0),u([d()],sr.prototype,"valueType",void 0),u([ee("valueType",["description"])],sr.prototype,"readValueType",null),u([d({type:Boolean,json:{read:!1}})],sr.prototype,"visible",void 0),sr=M5=u([I("esri.layers.support.Field")],sr);const f4=sr;var D5;let Mg=D5=class extends W{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new D5({mapLayerId:e,gdbVersion:t})}};u([xe({mapLayer:"map-layer"})],Mg.prototype,"type",void 0),u([d({type:Nt,json:{write:!0}})],Mg.prototype,"mapLayerId",void 0),u([d({type:String,json:{write:!0}})],Mg.prototype,"gdbVersion",void 0),Mg=D5=u([I("esri.layers.support.source.MapLayerSource")],Mg);var O5;let Cc=O5=class extends W{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:i,spatialReference:n,geometryType:r}=this,s={workspaceId:e,query:t,oidFields:i,spatialReference:(n==null?void 0:n.clone())??void 0,geometryType:r};return new O5(s)}};u([xe({queryTable:"query-table"})],Cc.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Cc.prototype,"workspaceId",void 0),u([d({type:String,json:{write:!0}})],Cc.prototype,"query",void 0),u([d({type:String,json:{write:!0}})],Cc.prototype,"oidFields",void 0),u([d({type:je,json:{write:!0}})],Cc.prototype,"spatialReference",void 0),u([xe(L2e)],Cc.prototype,"geometryType",void 0),Cc=O5=u([I("esri.layers.support.source.QueryTableDataSource")],Cc);var R5;let Dg=R5=class extends W{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new R5({workspaceId:e,dataSourceName:t})}};u([xe({raster:"raster"})],Dg.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Dg.prototype,"dataSourceName",void 0),u([d({type:String,json:{write:!0}})],Dg.prototype,"workspaceId",void 0),Dg=R5=u([I("esri.layers.support.source.RasterDataSource")],Dg);var P5;let Lp=P5=class extends W{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:i}=this;return new P5({workspaceId:e,gdbVersion:t,dataSourceName:i})}};u([xe({table:"table"})],Lp.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Lp.prototype,"workspaceId",void 0),u([d({type:String,json:{write:!0}})],Lp.prototype,"gdbVersion",void 0),u([d({type:String,json:{write:!0}})],Lp.prototype,"dataSourceName",void 0),Lp=P5=u([I("esri.layers.support.source.TableDataSource")],Lp);var L5,F5;const COe=qn()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Cs=L5=class extends W{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,i){return jU()(e,t,i)}castLeftTableSource(e){return tc(N5(),e)}readRightTableSource(e,t,i){return jU()(e,t,i)}castRightTableSource(e){return tc(N5(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:i,rightTableSource:n,joinType:r}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:(i==null?void 0:i.clone())??void 0,rightTableSource:(n==null?void 0:n.clone())??void 0,joinType:r};return new L5(s)}};u([xe({joinTable:"join-table"})],Cs.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Cs.prototype,"leftTableKey",void 0),u([d({type:String,json:{write:!0}})],Cs.prototype,"rightTableKey",void 0),u([d({json:{write:!0}})],Cs.prototype,"leftTableSource",void 0),u([ee("leftTableSource")],Cs.prototype,"readLeftTableSource",null),u([ct("leftTableSource")],Cs.prototype,"castLeftTableSource",null),u([d({json:{write:!0}})],Cs.prototype,"rightTableSource",void 0),u([ee("rightTableSource")],Cs.prototype,"readRightTableSource",null),u([ct("rightTableSource")],Cs.prototype,"castRightTableSource",null),u([xe(COe)],Cs.prototype,"joinType",void 0),Cs=L5=u([I("esri.layers.support.source.JoinTableDataSource")],Cs);let MA=null;function jU(){return MA||(MA=Uh({types:N5()})),MA}let DA=null;function N5(){return DA||(DA={key:"type",base:null,typeMap:{"data-layer":jo,"map-layer":Mg}}),DA}const TOe={key:"type",base:null,typeMap:{"join-table":Cs,"query-table":Cc,raster:Dg,table:Lp}};let jo=F5=class extends W{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new F5({fields:e,dataSource:t})}};u([xe({dataLayer:"data-layer"})],jo.prototype,"type",void 0),u([d({type:[f4],json:{write:!0}})],jo.prototype,"fields",void 0),u([d({types:TOe,json:{write:!0}})],jo.prototype,"dataSource",void 0),jo=F5=u([I("esri.layers.support.source.DataLayerSource")],jo),jo.from=Gi(jo);function VWe(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function rne(e){return typeof e=="string"?Ti(e):z(e)}function $Oe(e,t,i){const n={};for(const r in e){if(r==="declaredClass")continue;const s=e[r];if(s!=null&&typeof s!="function")if(Array.isArray(s)){n[r]=[];for(let a=0;a<s.length;a++)n[r][a]=$Oe(s[a])}else if(typeof s=="object")if(s.toJSON){const a=s.toJSON(i&&i[r]);n[r]=t?a:JSON.stringify(a)}else n[r]=t?s:JSON.stringify(s);else n[r]=s}return n}const dS={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new ja({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:je.WebMercator}),minus180Line:new ja({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:je.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new ja({paths:[[[180,-180],[180,180]]],spatialReference:je.WGS84}),minus180Line:new ja({paths:[[[-180,-180],[-180,180]]],spatialReference:je.WGS84})}};function Rf(e,t){return Math.ceil((e-t)/(2*t))}function sne(e,t){const i=W1(e);for(const n of i)for(const r of n)r[0]+=t;return e}function W1(e){return Bf(e)?e.rings:e.paths}async function AOe(e,t,i,n){const r=rne(e),s=t[0].spatialReference,a={...n,query:{...r.query,f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:VC(t[0]),geometries:t}),cutter:JSON.stringify(i)}},o=await Tt(r.path+"/cut",a),{cutIndexes:l,geometries:c=[]}=o.data;return{cutIndexes:l,geometries:c.map(h=>{const p=Ah(h);return p.spatialReference=s,p})}}function MOe(e){return{geometryType:VC(e[0]),geometries:e.map(t=>t.toJSON())}}function DOe(e,t,i){const n=N2e(t);return e.map(r=>{const s=n.fromJSON(r);return s.spatialReference=i,s})}async function OOe(e,t,i){const n=typeof e=="string"?Ti(e):e,r=t[0].spatialReference,s=VC(t[0]),a={...i,query:{...n.query,f:"json",sr:r.wkid?r.wkid:JSON.stringify(r),geometries:JSON.stringify(MOe(t))}},{data:o}=await Tt(n.path+"/simplify",a);return DOe(o.geometries,s,r)}const ane=Y.getLogger("esri.geometry.support.normalizeUtils");function ROe(e){return e.type==="polygon"}function POe(e){return e[0].type==="polygon"}function LOe(e){return e[0].type==="polyline"}function FOe(e,t){if(!(e instanceof ja||e instanceof bu)){const r="straightLineDensify: the input geometry is neither polyline nor polygon";throw ane.error(r),new N(r)}const i=W1(e),n=[];for(const r of i){const s=[];n.push(s),s.push([r[0][0],r[0][1]]);for(let a=0;a<r.length-1;a++){const o=r[a][0],l=r[a][1],c=r[a+1][0],h=r[a+1][1],p=Math.sqrt((c-o)*(c-o)+(h-l)*(h-l)),m=(h-l)/p,g=(c-o)/p,y=p/t;if(y>1){for(let x=1;x<=y-1;x++){const S=x*t,k=g*S+o,A=m*S+l;s.push([k,A])}const b=(p+Math.floor(y-1)*t)/2,w=g*b+o,_=m*b+l;s.push([w,_])}s.push([c,h])}}return ROe(e)?new bu({rings:n,spatialReference:e.spatialReference}):new ja({paths:n,spatialReference:e.spatialReference})}function UU(e,t,i){if(t){const n=FOe(e,1e6);e=py(n,!0)}return i&&(e=sne(e,i)),e}function BU(e,t,i){if(Array.isArray(e)){const n=e[0];if(n>t){const r=Rf(n,t);e[0]=n+r*(-2*t)}else if(n<i){const r=Rf(n,i);e[0]=n+r*(-2*i)}}else{const n=e.x;if(n>t){const r=Rf(n,t);e=e.clone().offset(r*(-2*t),0)}else if(n<i){const r=Rf(n,i);e=e.clone().offset(r*(-2*i),0)}}return e}function NOe(e,t){let i=-1;for(let n=0;n<t.cutIndexes.length;n++){const r=t.cutIndexes[n],s=t.geometries[n],a=W1(s);for(let o=0;o<a.length;o++){const l=a[o];l.some(c=>{if(c[0]<180)return!0;{let h=0;for(let m=0;m<l.length;m++){const g=l[m][0];h=g>h?g:h}h=Number(h.toFixed(9));const p=-360*Rf(h,180);for(let m=0;m<l.length;m++){const g=s.getPoint(o,m);s.setPoint(o,m,g.clone().offset(p,0))}return!0}})}if(r===i){if(POe(e))for(const o of W1(s))e[r]=e[r].addRing(o);else if(LOe(e))for(const o of W1(s))e[r]=e[r].addPath(o)}else i=r,e[r]=s}return e}async function one(e,t,i){if(!Array.isArray(e))return one([e],t);t&&typeof t!="string"&&ane.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const n=typeof t=="string"?t:(t==null?void 0:t.url)??ut.geometryServiceUrl;let r,s,a,o,l,c,h,p,m=0;const g=[],y=[];for(const k of e)if(j(k))y.push(k);else if(r||(r=k.spatialReference,s=Qo(r),a=r.isWebMercator,c=a?102100:4326,o=dS[c].maxX,l=dS[c].minX,h=dS[c].plus180Line,p=dS[c].minus180Line),s)if(k.type==="mesh")y.push(k);else if(k.type==="point")y.push(BU(k.clone(),o,l));else if(k.type==="multipoint"){const A=k.clone();A.points=A.points.map(T=>BU(T,o,l)),y.push(A)}else if(k.type==="extent"){const A=k.clone()._normalize(!1,!1,s);y.push(A.rings?new bu(A):A)}else if(k.extent){const A=k.extent,T=Rf(A.xmin,l)*(2*o);let C=T===0?k.clone():sne(k.clone(),T);A.offset(T,0),A.intersects(h)&&A.xmax!==o?(m=A.xmax>m?A.xmax:m,C=UU(C,a),g.push(C),y.push("cut")):A.intersects(p)&&A.xmin!==l?(m=A.xmax*(2*o)>m?A.xmax*(2*o):m,C=UU(C,a,360),g.push(C),y.push("cut")):y.push(C)}else y.push(k.clone());else y.push(k);let b=Rf(m,o),w=-90;const _=b,x=new ja;for(;b>0;){const k=360*b-180;x.addPath([[k,w],[k,-1*w]]),w*=-1,b--}if(g.length>0&&_>0){const k=NOe(g,await AOe(n,g,x,i)),A=[],T=[];for(let L=0;L<y.length;L++){const V=y[L];if(V!=="cut")T.push(V);else{const P=k.shift(),J=e[L];$(J)&&J.type==="polygon"&&J.rings&&J.rings.length>1&&P.rings.length>=J.rings.length?(A.push(P),T.push("simplify")):T.push(a?bh(P):P)}}if(!A.length)return T;const C=await OOe(n,A,i),M=[];for(let L=0;L<T.length;L++){const V=T[L];V!=="simplify"?M.push(V):M.push(a?bh(C.shift()):C.shift())}return M}const S=[];for(let k=0;k<y.length;k++){const A=y[k];if(A!=="cut")S.push(A);else{const T=g.shift();S.push(a===!0?bh(T):T)}}return S}function jWe(e,t){const i=Qo(t);if(i){const[n,r]=i.valid,s=r-n;if(e<n)for(;e<n;)e+=s;if(e>r)for(;e>r;)e-=s}return e}function lne(e){const t={};for(const i in e){if(i==="declaredClass")continue;const n=e[i];if(n!=null&&typeof n!="function")if(Array.isArray(n)){t[i]=[];for(let r=0;r<n.length;r++)t[i][r]=lne(n[r])}else typeof n=="object"?n.toJSON&&(t[i]=JSON.stringify(n)):t[i]=n}return t}var Vd;(function(e){e[e.varint=0]="varint",e[e.fixed64=1]="fixed64",e[e.delimited=2]="delimited",e[e.fixed32=5]="fixed32",e[e.unknown=99]="unknown"})(Vd||(Vd={}));const HU=4294967296,zOe=new TextDecoder("utf-8"),VOe=G("safari")||G("ios")?6:G("ff")?12:32;let z5=class W2{constructor(t,i,n=0,r=t?t.byteLength:0){this._tag=0,this._dataType=Vd.unknown,this._init(t,i,n,r)}_init(t,i,n,r){this._data=t,this._dataView=i,this._pos=n,this._end=r}asUnsafe(){return this}clone(){return new W2(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const i=this._decodeVarint();if(this._tag=i>>3,this._dataType=7&i,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();if(t!==void 0)return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=this._data[this._pos]!==0;return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,i=this._pos,n=t.getUint32(i,!0)+t.getUint32(i+4,!0)*HU;return this._skip(8),n}getSFixed64(){const t=this._dataView,i=this._pos,n=t.getUint32(i,!0)+t.getInt32(i+4,!0)*HU;return this._skip(8),n}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),i=this._pos,n=this._toString(this._data,i,i+t);return this._skip(t),n}getBytes(){const t=this._getLength(),i=this._pos,n=this._toBytes(this._data,i,i+t);return this._skip(t),n}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,i,n,r){const s=this.getMessage(),a=t(s,i,n,r);return s.release(),a}processMessage(t){const i=this.getMessage(),n=t(i);return i.release(),n}getMessage(){const t=this._getLength(),i=W2.pool.acquire();return i._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),i}release(){W2.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case Vd.varint:this._decodeVarint();break;case Vd.fixed64:this._skip(8);break;case Vd.delimited:this._skip(this._getLength());break;case Vd.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t}_decodeVarint(){const t=this._data;let i=this._pos,n=0,r=0;if(this._end-i>=10)do{if(r=t[i++],n|=127&r,(128&r)==0||(r=t[i++],n|=(127&r)<<7,(128&r)==0)||(r=t[i++],n|=(127&r)<<14,(128&r)==0)||(r=t[i++],n|=(127&r)<<21,(128&r)==0)||(r=t[i++],n+=268435456*(127&r),(128&r)==0)||(r=t[i++],n+=34359738368*(127&r),(128&r)==0)||(r=t[i++],n+=4398046511104*(127&r),(128&r)==0)||(r=t[i++],n+=562949953421312*(127&r),(128&r)==0)||(r=t[i++],n+=72057594037927940*(127&r),(128&r)==0)||(r=t[i++],n+=9223372036854776e3*(127&r),(128&r)==0))break;throw new Error("Varint too long!")}while(0);else{let s=1;for(;i!==this._end&&(r=t[i],(128&r)!=0);)++i,n+=(127&r)*s,s*=128;if(i===this._end)throw new Error("Varint overrun!");++i,n+=r*s}return this._pos=i,n}_decodeSVarint(){const t=this._data;let i=this._pos,n=0,r=0;const s=1&t[i];if(this._end-i>=10)do{if(r=t[i++],n|=127&r,(128&r)==0||(r=t[i++],n|=(127&r)<<7,(128&r)==0)||(r=t[i++],n|=(127&r)<<14,(128&r)==0)||(r=t[i++],n|=(127&r)<<21,(128&r)==0)||(r=t[i++],n+=268435456*(127&r),(128&r)==0)||(r=t[i++],n+=34359738368*(127&r),(128&r)==0)||(r=t[i++],n+=4398046511104*(127&r),(128&r)==0)||(r=t[i++],n+=562949953421312*(127&r),(128&r)==0)||(r=t[i++],n+=72057594037927940*(127&r),(128&r)==0)||(r=t[i++],n+=9223372036854776e3*(127&r),(128&r)==0))break;throw new Error("Varint too long!")}while(0);else{let a=1;for(;i!==this._end&&(r=t[i],(128&r)!=0);)++i,n+=(127&r)*a,a*=128;if(i===this._end)throw new Error("Varint overrun!");++i,n+=r*a}return this._pos=i,s?-(n+1)/2:n/2}_getLength(){if(this._dataType!==Vd.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,i,n){if((n=Math.min(this._end,n))-i>VOe){const a=t.subarray(i,n);return zOe.decode(a)}let r="",s="";for(let a=i;a<n;++a){const o=t[a];128&o?s+="%"+o.toString(16):(r+=decodeURIComponent(s)+String.fromCharCode(o),s="")}return s.length&&(r+=decodeURIComponent(s)),r}_toBytes(t,i,n){return n=Math.min(this._end,n),new Uint8Array(t.buffer,i,n-i)}};z5.pool=new Bh(z5,void 0,e=>{e._data=null,e._dataView=null});let tl=class K2{constructor(t=[],i=[],n=!1){this.lengths=t??[],this.coords=i??[],this.hasIndeterminateRingOrder=n}static fromRect(t){const[i,n,r,s]=t,a=r-i,o=s-n;return new K2([5],[i,n,a,0,0,o,-a,0,0,-o])}get isPoint(){return this.lengths.length===0}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((t,i)=>t+i)}forEachVertex(t){let i=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let s=0;s<r;s++)t(this.coords[2*(s+i)],this.coords[2*(s+i)+1]);i+=r}}clone(t){return t?(t.set(this.coords),new K2(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new K2(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}},Ph=class cne{constructor(t=null,i={},n,r){this.geometry=t,this.attributes=i,this.centroid=n,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const t=new cne(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}};function jOe(e){return!(j(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}let UWe=class extends Ph{},une=class dne{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new dne;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}};const hne=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let HWe=class{constructor(t){this._options=t,this.geometryTypes=hne,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new une}prepareFeatures(t){this._vertexDimension=2,t.hasZ&&this._vertexDimension++,t.hasM&&this._vertexDimension++}finishFeatureResult(t){if(!t||!t.features||!t.hasZ||!this._options.sourceSpatialReference||!t.spatialReference||vn(t.spatialReference,this._options.sourceSpatialReference)||t.spatialReference.vcsWkid)return;const i=p0(this._options.sourceSpatialReference)/p0(t.spatialReference);if(i!==1)for(const n of t.features){if(!jOe(n))continue;const r=n.geometry.coords;for(let s=2;s<r.length;s+=3)r[s]*=i}}addFeature(t,i){t.features.push(i)}createFeature(){return new Ph}createSpatialReference(){return{wkid:0}}createGeometry(){return new tl}addField(t,i){t.fields.push(i)}allocateCoordinates(t){t.coords.length=t.lengths.reduce((i,n)=>i+n,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(t,i){t.coords[this._coordinatePtr++]=i}addCoordinatePoint(t,i){t.coords.push(i)}addLength(t,i){t.lengths.push(i)}addQueryGeometry(t,i){t.queryGeometry=i.queryGeometry,t.queryGeometryType=i.queryGeometryType}createPointGeometry(){return new tl}};const GU=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],qU=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],WU=["upperLeft","lowerLeft"];function KU(e){return e>=GU.length?null:GU[e]}function UOe(e){return e>=qU.length?null:qU[e]}function YU(e){return e>=WU.length?null:WU[e]}function JU(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function BOe(e,t,i){const r=e.asUnsafe(),s=t.createPointGeometry(i);for(;r.next();)switch(r.tag()){case 3:{const a=r.getUInt32(),o=r.pos()+a;let l=0;for(;r.pos()<o;)t.addCoordinatePoint(s,r.getSInt64(),l++);break}default:r.skip()}return s}function HOe(e,t,i){const s=e.asUnsafe(),a=t.createGeometry(i),o=2+(i.hasZ?1:0)+(i.hasM?1:0);for(;s.next();)switch(s.tag()){case 2:{const l=s.getUInt32(),c=s.pos()+l;let h=0;for(;s.pos()<c;)t.addLength(a,s.getUInt32(),h++);break}case 3:{const l=s.getUInt32(),c=s.pos()+l;let h=0;for(t.allocateCoordinates(a);s.pos()<c;)t.addCoordinate(a,s.getSInt64(),h),h++,h===o&&(h=0);break}default:s.skip()}return a}function GOe(e){const r=e.asUnsafe(),s=new tl;let a="esriGeometryPoint";for(;r.next();)switch(r.tag()){case 2:{const o=r.getUInt32(),l=r.pos()+o;for(;r.pos()<l;)s.lengths.push(r.getUInt32());break}case 3:{const o=r.getUInt32(),l=r.pos()+o;for(;r.pos()<l;)s.coords.push(r.getSInt64());break}case 1:a=hne[r.getEnum()];break;default:r.skip()}return{queryGeometry:s,queryGeometryType:a}}function qOe(e){const h=e.asUnsafe();for(;h.next();)switch(h.tag()){case 1:return h.getString();case 2:return h.getFloat();case 3:return h.getDouble();case 4:return h.getSInt32();case 5:return h.getUInt32();case 6:return h.getInt64();case 7:return h.getUInt64();case 8:return h.getSInt64();case 9:return h.getBool();default:return h.skip(),null}return null}function WOe(e){const o=e.asUnsafe(),l={type:KU(0)};for(;o.next();)switch(o.tag()){case 1:l.name=o.getString();break;case 2:l.type=KU(o.getEnum());break;case 3:l.alias=o.getString();break;case 4:l.sqlType=UOe(o.getEnum());break;case 5:o.skip();break;case 6:l.defaultValue=o.getString();break;default:o.skip()}return l}function KOe(e){const n={},r=e.asUnsafe();for(;r.next();)switch(r.tag()){case 1:n.name=r.getString();break;case 2:n.isSystemMaintained=r.getBool();break;default:r.skip()}return n}function YOe(e,t,i,n){const o=t.createFeature(i);let l=0;for(;e.next();)switch(e.tag()){case 1:{const c=n[l++].name;o.attributes[c]=e.processMessage(qOe);break}case 2:o.geometry=e.processMessageWithArgs(HOe,t,i);break;case 4:o.centroid=e.processMessageWithArgs(BOe,t,i);break;default:e.skip()}return o}function JOe(e){const s=[1,1,1,1],a=e.asUnsafe();for(;a.next();)switch(a.tag()){case 1:s[0]=a.getDouble();break;case 2:s[1]=a.getDouble();break;case 4:s[2]=a.getDouble();break;case 3:s[3]=a.getDouble();break;default:a.skip()}return s}function ZOe(e){const s=[0,0,0,0],a=e.asUnsafe();for(;a.next();)switch(a.tag()){case 1:s[0]=a.getDouble();break;case 2:s[1]=a.getDouble();break;case 4:s[2]=a.getDouble();break;case 3:s[3]=a.getDouble();break;default:a.skip()}return s}function QOe(e){const r={originPosition:YU(0)},s=e.asUnsafe();for(;s.next();)switch(s.tag()){case 1:r.originPosition=YU(s.getEnum());break;case 2:r.scale=s.processMessage(JOe);break;case 3:r.translate=s.processMessage(ZOe);break;default:s.skip()}return r}function XOe(e){const r={},s=e.asUnsafe();for(;s.next();)switch(s.tag()){case 1:r.shapeAreaFieldName=s.getString();break;case 2:r.shapeLengthFieldName=s.getString();break;case 3:r.units=s.getString();break;default:s.skip()}return r}function e5e(e,t){const o=t.createSpatialReference();for(;e.next();)switch(e.tag()){case 1:o.wkid=e.getUInt32();break;case 5:o.wkt=e.getString();break;case 2:o.latestWkid=e.getUInt32();break;case 3:o.vcsWkid=e.getUInt32();break;case 4:o.latestVcsWkid=e.getUInt32();break;default:e.skip()}return o}function t5e(e,t){const b=t.createFeatureResult(),w=e.asUnsafe();b.geometryType=JU(t,0);let _=!1;for(;w.next();)switch(w.tag()){case 1:b.objectIdFieldName=w.getString();break;case 3:b.globalIdFieldName=w.getString();break;case 4:b.geohashFieldName=w.getString();break;case 5:b.geometryProperties=w.processMessage(XOe);break;case 7:b.geometryType=JU(t,w.getEnum());break;case 8:b.spatialReference=w.processMessageWithArgs(e5e,t);break;case 10:b.hasZ=w.getBool();break;case 11:b.hasM=w.getBool();break;case 12:b.transform=w.processMessage(QOe);break;case 9:{const x=w.getBool();b.exceededTransferLimit=x;break}case 13:t.addField(b,w.processMessage(WOe));break;case 15:_||(t.prepareFeatures(b),_=!0),t.addFeature(b,w.processMessageWithArgs(YOe,t,b,b.fields));break;case 2:b.uniqueIdField=w.processMessage(KOe);break;default:w.skip()}return t.finishFeatureResult(b),b}function i5e(e,t){const r={};let s=null;for(;e.next();)switch(e.tag()){case 4:s=e.processMessageWithArgs(GOe);break;case 1:r.featureResult=e.processMessageWithArgs(t5e,t);break;default:e.skip()}return $(s)&&r.featureResult&&t.addQueryGeometry(r,s),r}function n5e(e,t){try{const n=new z5(new Uint8Array(e),new DataView(e)),r={};for(;n.next();)n.tag()===2?r.queryResult=n.processMessageWithArgs(i5e,t):n.skip();return r}catch(i){throw new N("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:i})}}function r5e(e,t){const i=n5e(e,t),n=i.queryResult.featureResult,r=i.queryResult.queryGeometry,s=i.queryResult.queryGeometryType;if(n&&n.features&&n.features.length&&n.objectIdFieldName){const a=n.objectIdFieldName;for(const o of n.features)o.attributes&&(o.objectId=o.attributes[a])}return n&&(n.queryGeometry=r,n.queryGeometryType=s),n}function V5(e,t,i){if(!i||!i.features||!i.hasZ)return;const n=$te(i.geometryType,t,e.outSpatialReference);if(!j(n))for(const r of i.features)n(r.geometry)}const ZU="Layer does not support extent calculation.";function s5e(e,t){if(t&&e.type==="extent")return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&e.type==="point")return`${e.x},${e.y}`;const i=e.toJSON();return delete i.spatialReference,JSON.stringify(i)}function a5e(e,t){const i=e.geometry,n=e.toJSON();delete n.compactGeometryEnabled,delete n.defaultSpatialReferenceEnabled;const r=n;let s,a,o;if($(i)&&(a=i.spatialReference,o=i.spatialReference.wkid||JSON.stringify(i.spatialReference),r.geometryType=VC(i),r.geometry=s5e(i,e.compactGeometryEnabled),r.inSR=o),n.groupByFieldsForStatistics&&(r.groupByFieldsForStatistics=n.groupByFieldsForStatistics.join(",")),n.objectIds&&(r.objectIds=n.objectIds.join(",")),n.orderByFields&&(r.orderByFields=n.orderByFields.join(",")),!n.outFields||!n.returnDistinctValues&&(t!=null&&t.returnCountOnly||t!=null&&t.returnExtentOnly||t!=null&&t.returnIdsOnly)?delete r.outFields:n.outFields.includes("*")?r.outFields="*":r.outFields=n.outFields.join(","),n.outSR?(r.outSR=n.outSR.wkid||JSON.stringify(n.outSR),s=e.outSpatialReference):i&&(n.returnGeometry||n.returnCentroid)&&(r.outSR=r.inSR,s=a),n.returnGeometry&&delete n.returnGeometry,n.outStatistics&&(r.outStatistics=JSON.stringify(n.outStatistics)),n.fullText&&(r.fullText=JSON.stringify(n.fullText)),n.pixelSize&&(r.pixelSize=JSON.stringify(n.pixelSize)),n.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&$(a)&&$(e.quantizationParameters)&&$(e.quantizationParameters.extent)&&a.equals(e.quantizationParameters.extent.spatialReference)&&delete n.quantizationParameters.extent.spatialReference,r.quantizationParameters=JSON.stringify(n.quantizationParameters)),n.parameterValues&&(r.parameterValues=JSON.stringify(n.parameterValues)),n.rangeValues&&(r.rangeValues=JSON.stringify(n.rangeValues)),n.dynamicDataSource&&(r.layer=JSON.stringify({source:n.dynamicDataSource}),delete n.dynamicDataSource),n.timeExtent){const l=n.timeExtent,{start:c,end:h}=l;c==null&&h==null||(r.time=c===h?c:`${c??"null"},${h??"null"}`),delete n.timeExtent}return e.defaultSpatialReferenceEnabled&&$(a)&&$(s)&&a.equals(s)&&(r.defaultSR=r.inSR,delete r.inSR,delete r.outSR),r}async function o5e(e,t,i,n){const r=$(t.timeExtent)&&t.timeExtent.isEmpty?{data:{features:[]}}:await U_(e,t,"json",n);return V5(t,i,r.data),r}async function qWe(e,t,i,n){if($(t.timeExtent)&&t.timeExtent.isEmpty)return{data:i.createFeatureResult()};const r=await l5e(e,t,n),s=r;return s.data=r5e(r.data,i),s}function l5e(e,t,i){return U_(e,t,"pbf",i)}function WWe(e,t,i){return $(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):U_(e,t,"json",i,{returnIdsOnly:!0})}function KWe(e,t,i){return $(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):U_(e,t,"json",i,{returnIdsOnly:!0,returnCountOnly:!0})}function YWe(e,t,i){return $(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):U_(e,t,"json",i,{returnExtentOnly:!0,returnCountOnly:!0}).then(n=>{const r=n.data;if(r.hasOwnProperty("extent"))return n;if(r.features)throw new Error(ZU);if(r.hasOwnProperty("count"))throw new Error(ZU);return n})}function U_(e,t,i,n={},r={}){const s=typeof e=="string"?Ti(e):e,a=t.geometry?[t.geometry]:[];return n.responseType=i==="pbf"?"array-buffer":"json",one(a,null,n).then(o=>{const l=o&&o[0];$(l)&&((t=t.clone()).geometry=l);const c=lne({...s.query,f:i,...r,...a5e(t,r)});return Tt(nc(s.path,"query"),{...n,query:{...c,...n.query}})})}var j5;const U5=new nt({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let In=j5=class extends W{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){var r;const i=je.fromJSON(t.spatialReference),n=[];for(let s=0;s<e.length;s++){const a=e[s],o=yr.fromJSON(a),l=a.geometry&&a.geometry.spatialReference;$(o.geometry)&&!l&&(o.geometry.spatialReference=i);const c=a.aggregateGeometries,h=o.aggregateGeometries;if(c&&$(h))for(const p in h){const m=h[p],g=(r=c[p])==null?void 0:r.spatialReference;$(m)&&!g&&(m.spatialReference=i)}n.push(o)}return n}writeGeometryType(e,t,i,n){if(e)return void U5.write(e,t,i,n);const{features:r}=this;if(r){for(const s of r)if(s&&$(s.geometry))return void U5.write(s.geometry.type,t,i,n)}}readQueryGeometry(e,t){if(!e)return null;const i=!!e.spatialReference,n=Ah(e);return n&&!i&&t.spatialReference&&(n.spatialReference=je.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:i}=this;if(i){for(const n of i)if(n&&$(n.geometry)&&n.geometry.spatialReference)return void(t.spatialReference=n.geometry.spatialReference.toJSON())}}clone(){return new j5(this.cloneProperties())}cloneProperties(){return z({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let i=0;i<t.features.length;i++){const n=t.features[i];if(n.geometry){const r=e&&e[i];n.geometry=r&&r.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,i],translate:[n,r]}=e,s=c=>Math.round((c-n)/t),a=c=>Math.round((r-c)/i),o=this.features,l=this._getQuantizationFunction(this.geometryType,s,a);for(let c=0,h=o.length;c<h;c++)l!=null&&l(o[c].geometry)||(o.splice(c,1),c--,h--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:i}=this;if(!i)return this;const{translate:[n,r],scale:[s,a]}=i,o=h=>h*s+n,l=h=>r-h*a,c=this._getHydrationFunction(e,o,l);for(const{geometry:h}of t)$(h)&&c&&c(h);return this.transform=null,this}_quantizePoints(e,t,i){let n,r;const s=[];for(let a=0,o=e.length;a<o;a++){const l=e[a];if(a>0){const c=t(l[0]),h=i(l[1]);c===n&&h===r||(s.push([c-n,h-r]),n=c,r=h)}else n=t(l[0]),r=i(l[1]),s.push([n,r])}return s.length>0?s:null}_getQuantizationFunction(e,t,i){return e==="point"?n=>(n.x=t(n.x),n.y=i(n.y),n):e==="polyline"||e==="polygon"?n=>{const r=Bf(n)?n.rings:n.paths,s=[];for(let a=0,o=r.length;a<o;a++){const l=r[a],c=this._quantizePoints(l,t,i);c&&s.push(c)}return s.length>0?(Bf(n)?n.rings=s:n.paths=s,n):null}:e==="multipoint"?n=>{const r=this._quantizePoints(n.points,t,i);return r&&r.length>0?(n.points=r,n):null}:e==="extent"?n=>n:null}_getHydrationFunction(e,t,i){return e==="point"?n=>{n.x=t(n.x),n.y=i(n.y)}:e==="polyline"||e==="polygon"?n=>{const r=Bf(n)?n.rings:n.paths;let s,a;for(let o=0,l=r.length;o<l;o++){const c=r[o];for(let h=0,p=c.length;h<p;h++){const m=c[h];h>0?(s+=m[0],a+=m[1]):(s=m[0],a=m[1]),m[0]=t(s),m[1]=i(a)}}}:e==="extent"?n=>{n.xmin=t(n.xmin),n.ymin=i(n.ymin),n.xmax=t(n.xmax),n.ymax=i(n.ymax)}:e==="multipoint"?n=>{const r=n.points;let s,a;for(let o=0,l=r.length;o<l;o++){const c=r[o];o>0?(s+=c[0],a+=c[1]):(s=c[0],a=c[1]),c[0]=t(s),c[1]=i(a)}}:null}};u([d({type:String,json:{write:!0}})],In.prototype,"displayFieldName",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],In.prototype,"exceededTransferLimit",void 0),u([d({type:[yr],json:{write:!0}})],In.prototype,"features",void 0),u([ee("features")],In.prototype,"readFeatures",null),u([d({type:[f4],json:{write:!0}})],In.prototype,"fields",void 0),u([d({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:U5.read}}})],In.prototype,"geometryType",void 0),u([ue("geometryType")],In.prototype,"writeGeometryType",null),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],In.prototype,"hasM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],In.prototype,"hasZ",void 0),u([d({types:Dm,json:{write:!0}})],In.prototype,"queryGeometry",void 0),u([ee("queryGeometry")],In.prototype,"readQueryGeometry",null),u([d({type:je,json:{write:!0}})],In.prototype,"spatialReference",void 0),u([ue("spatialReference")],In.prototype,"writeSpatialReference",null),u([d({json:{write:!0}})],In.prototype,"transform",void 0),In=j5=u([I("esri.rest.support.FeatureSet")],In),In.prototype.toJSON.isDefaultToJSON=!0;const m4=In,QU={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},c5e={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function u5e(e,t){const i=new Date(e,t+1,1);return i.setDate(0),i.getDate()}function Gf(e,t,i){const n=new Date(e.getTime());if(t&&i){const r=c5e[i],{getter:s,setter:a,multiplier:o}=r;if(i==="months"){const l=u5e(n.getFullYear(),n.getMonth()+t);n.getDate()>l&&n.setDate(l)}n[a](n[s]()+t*o)}return n}function XU(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function d5e(e,t,i){return e===0?0:e*QU[t]/QU[i]}var Co;let Ps=Co=class extends W{static get allTime(){return e9}static get empty(){return h5e}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(Co.allTime)}get isEmpty(){return this.equals(Co.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new Co({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=$(this.start)?this.start.getTime():this.start,i=$(this.end)?this.end.getTime():this.end,n=$(e.start)?e.start.getTime():e.start,r=$(e.end)?e.end.getTime():e.end;return t===n&&i===r}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=nh(this.start,n=>XU(n,e)),i=nh(this.end,n=>{const r=XU(n,e);return n.getTime()===r.getTime()?r:Gf(r,1,e)});return new Co({start:t,end:i})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return Co.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=hb(this.start,-1/0,o=>o.getTime()),i=hb(this.end,1/0,o=>o.getTime()),n=hb(e.start,-1/0,o=>o.getTime()),r=hb(e.end,1/0,o=>o.getTime());let s,a;if(n>=t&&n<=i?s=n:t>=n&&t<=r&&(s=t),i>=n&&i<=r?a=i:r>=t&&r<=i&&(a=r),s!=null&&a!=null&&!isNaN(s)&&!isNaN(a)){const o=new Co;return o.start=s===-1/0?null:new Date(s),o.end=a===1/0?null:new Date(a),o}return Co.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const i=new Co,{start:n,end:r}=this;return $(n)&&(i.start=Gf(n,e,t)),$(r)&&(i.end=Gf(r,e,t)),i}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return e9.clone();const t=$(this.start)&&$(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=$(this.end)&&$(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new Co({start:t,end:i})}};u([d({type:Date,json:{write:{allowNull:!0}}})],Ps.prototype,"end",void 0),u([ee("end")],Ps.prototype,"readEnd",null),u([ue("end")],Ps.prototype,"writeEnd",null),u([d({readOnly:!0,json:{read:!1}})],Ps.prototype,"isAllTime",null),u([d({readOnly:!0,json:{read:!1}})],Ps.prototype,"isEmpty",null),u([d({type:Date,json:{write:{allowNull:!0}}})],Ps.prototype,"start",void 0),u([ee("start")],Ps.prototype,"readStart",null),u([ue("start")],Ps.prototype,"writeStart",null),Ps=Co=u([I("esri.TimeExtent")],Ps);const e9=new Ps,h5e=new Ps({start:void 0,end:void 0}),oc=Ps;let Fp=class extends Wt(W){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};u([d({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:$(this.onFields)&&this.onFields.length>0}}}}})],Fp.prototype,"onFields",void 0),u([d({type:String,json:{write:!0}})],Fp.prototype,"operator",void 0),u([d({type:String,json:{write:!0}})],Fp.prototype,"searchTerm",void 0),u([d({type:String,json:{write:!0}})],Fp.prototype,"searchType",void 0),Fp=u([I("esri.rest.support.FullTextSearch")],Fp);const p5e=Fp;var B5;const t9=new nt({upperLeft:"upper-left",lowerLeft:"lower-left"});let Np=B5=class extends W{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new B5(z({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};u([d({type:Gt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Np.prototype,"extent",void 0),u([d({type:["view","edit"],json:{write:!0}})],Np.prototype,"mode",void 0),u([d({type:String,json:{read:t9.read,write:t9.write}})],Np.prototype,"originPosition",void 0),u([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Np.prototype,"tolerance",void 0),Np=B5=u([I("esri.rest.support.QuantizationParameters")],Np);const pne=Np;var H5;const i9=new nt({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let To=H5=class extends W{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=z(e))}clone(){return new H5({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:z(this.statisticParameters)})}};u([d({type:Number,json:{write:!0}})],To.prototype,"maxPointCount",void 0),u([d({type:Number,json:{write:!0}})],To.prototype,"maxRecordCount",void 0),u([d({type:Number,json:{write:!0}})],To.prototype,"maxVertexCount",void 0),u([d({type:String,json:{write:!0}})],To.prototype,"onStatisticField",void 0),u([d({type:String,json:{write:!0}})],To.prototype,"outStatisticFieldName",void 0),u([d({type:String,json:{read:{source:"statisticType",reader:i9.read},write:{target:"statisticType",writer:i9.write}}})],To.prototype,"statisticType",void 0),u([d({type:Object})],To.prototype,"statisticParameters",void 0),u([ue("statisticParameters")],To.prototype,"writeStatisticParameters",null),To=H5=u([I("esri.rest.support.StatisticDefinition")],To);const fne=To;var By;const f5e=new nt({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),m5e=new nt({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Ce=By=class extends W{static from(e){return FF(By,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const i={};for(const n in e){const r=e[n];Array.isArray(r)?i[n]=r.map(s=>s instanceof Date?s.getTime():s):r instanceof Date?i[n]=r.getTime():i[n]=r}t.parameterValues=i}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new By(z({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:$(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Ce.MAX_MAX_RECORD_COUNT_FACTOR=5,u([d({json:{write:!0}})],Ce.prototype,"aggregateIds",void 0),u([d({type:Boolean,json:{write:!0}})],Ce.prototype,"cacheHint",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"compactGeometryEnabled",void 0),u([d({json:{write:!0}})],Ce.prototype,"datumTransformation",void 0),u([ct("datumTransformation")],Ce.prototype,"castDatumTransformation",null),u([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"defaultSpatialReferenceEnabled",void 0),u([d({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Ce.prototype,"distance",void 0),u([d({type:jo,json:{write:!0}})],Ce.prototype,"dynamicDataSource",void 0),u([d({type:String,json:{write:!0}})],Ce.prototype,"formatOf3DObjects",void 0),u([d({type:[p5e],json:{write:{enabled:!0,overridePolicy(){return{enabled:$(this.fullText)&&this.fullText.length>0}}}}})],Ce.prototype,"fullText",void 0),u([d({type:String,json:{write:!0}})],Ce.prototype,"gdbVersion",void 0),u([d({types:Dm,json:{read:Ah,write:!0}})],Ce.prototype,"geometry",void 0),u([d({type:Number,json:{write:!0}})],Ce.prototype,"geometryPrecision",void 0),u([d({type:[String],json:{write:!0}})],Ce.prototype,"groupByFieldsForStatistics",void 0),u([d({type:String,json:{write:!0}})],Ce.prototype,"having",void 0),u([d({type:Date})],Ce.prototype,"historicMoment",void 0),u([ue("historicMoment")],Ce.prototype,"writeHistoricMoment",null),u([d({type:Number,json:{write:!0}})],Ce.prototype,"maxAllowableOffset",void 0),u([d({type:Number,cast:e=>e<1?1:e>By.MAX_MAX_RECORD_COUNT_FACTOR?By.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Ce.prototype,"maxRecordCountFactor",void 0),u([d({type:["xyFootprint"],json:{write:!0}})],Ce.prototype,"multipatchOption",void 0),u([d({type:Number,json:{read:{source:"resultRecordCount"}}})],Ce.prototype,"num",void 0),u([d({json:{write:!0}})],Ce.prototype,"objectIds",void 0),u([d({type:[String],json:{write:!0}})],Ce.prototype,"orderByFields",void 0),u([d({type:[String],json:{write:!0}})],Ce.prototype,"outFields",void 0),u([d({type:je,json:{name:"outSR",write:!0}})],Ce.prototype,"outSpatialReference",void 0),u([d({type:[fne],json:{write:{enabled:!0,overridePolicy(){return{enabled:$(this.outStatistics)&&this.outStatistics.length>0}}}}})],Ce.prototype,"outStatistics",void 0),u([d({json:{write:!0}})],Ce.prototype,"parameterValues",void 0),u([ue("parameterValues")],Ce.prototype,"writeParameterValues",null),u([d({type:Le,json:{write:!0}})],Ce.prototype,"pixelSize",void 0),u([d({type:pne,json:{write:!0}})],Ce.prototype,"quantizationParameters",void 0),u([d({type:[Object],json:{write:!0}})],Ce.prototype,"rangeValues",void 0),u([d({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Ce.prototype,"relationParameter",void 0),u([d({type:String,json:{write:!0}})],Ce.prototype,"resultType",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"returnCentroid",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"returnDistinctValues",void 0),u([d({type:Boolean,json:{default:!0,write:!0}})],Ce.prototype,"returnExceededLimitFeatures",void 0),u([d({type:Boolean,json:{write:!0}})],Ce.prototype,"returnGeometry",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"returnQueryGeometry",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"returnM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ce.prototype,"returnZ",void 0),u([d({type:je,json:{write:!0}})],Ce.prototype,"sourceSpatialReference",void 0),u([xe(f5e,{ignoreUnknown:!1,name:"spatialRel"})],Ce.prototype,"spatialRelationship",void 0),u([d({type:Number,json:{read:{source:"resultOffset"}}})],Ce.prototype,"start",void 0),u([ue("start"),ue("num")],Ce.prototype,"writeStart",null),u([d({type:String,json:{write:!0}})],Ce.prototype,"sqlFormat",void 0),u([d({type:String,json:{write:!0}})],Ce.prototype,"text",void 0),u([d({type:oc,json:{write:!0}})],Ce.prototype,"timeExtent",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Ce.prototype,"timeReferenceUnknownClient",void 0),u([xe(m5e,{ignoreUnknown:!1}),d({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null&&this.distance>0}}}}})],Ce.prototype,"units",void 0),u([d({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],Ce.prototype,"where",void 0),u([ue("where")],Ce.prototype,"writeWhere",null),Ce=By=u([I("esri.rest.support.Query")],Ce);const Kl=Ce;async function OA(e,t,i){const n=await g5e(e,t,i);return m4.fromJSON(n)}async function g5e(e,t,i){const n=rne(e),r={...i},s=Kl.from(t),{data:a}=await o5e(n,s,s.sourceSpatialReference,r);return a}function Hn(e,t){return e?t?4:3:t?3:2}const Q0=Y.getLogger("esri.layers.graphics.featureConversionUtils"),mne={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},y5e=(e,t,i,n,r,s)=>{e[i]=r,e[i+1]=s},n9=(e,t,i,n,r,s)=>{e[i]=r,e[i+1]=s,e[i+2]=t[n+2]},v5e=(e,t,i,n,r,s)=>{e[i]=r,e[i+1]=s,e[i+2]=t[n+3]},b5e=(e,t,i,n,r,s)=>{e[i]=r,e[i+1]=s,e[i+2]=t[n+2],e[i+3]=t[n+3]};function g4(e,t,i,n){if(e){if(i)return t&&n?b5e:n9;if(t&&n)return v5e}else if(t&&n)return n9;return y5e}function RA({scale:e,translate:t},i){return Math.round((i-t[0])/e[0])}function PA({scale:e,translate:t},i){return Math.round((t[1]-i)/e[1])}function LA({scale:e,translate:t},i,n){return i*e[n]+t[n]}function ZWe(e,t,i){return e?t?i?b4(e):y4(e):i?v4(e):dT(e):null}function dT(e){const t=e.coords;return{x:t[0],y:t[1]}}function gne(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function y4(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function w5e(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function v4(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function _5e(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function b4(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function x5e(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function S5e(e,t,i,n){let r=dT;i&&n?r=b4:i?r=y4:n&&(r=v4);for(const s of t){const{geometry:a,attributes:o}=s,l=$(a)?r(a):null;e.push({attributes:o,geometry:l})}return e}function w4(e,t){return e&&t?x5e:e?w5e:t?_5e:gne}function yne(e,t,i,n,r){const s=w4(i,n);for(const{geometry:a,attributes:o}of t){const l=$(a)?s(new tl,a):null;e.push(new Ph(l,o,null,r?o[r]:void 0))}return e}function QWe(e,t,i=w4(t.z!=null,t.m!=null)){return i(e,t)}function E5e(e,t,i,n){for(const{geometry:r,attributes:s}of t)e.push({attributes:s,geometry:$(r)?vne(r,i,n):null});return e}function vne(e,t,i){if(j(e))return null;const n=Hn(t,i),r=[];for(let s=0;s<e.coords.length;s+=n){const a=[];for(let o=0;o<n;o++)a.push(e.coords[s+o]);r.push(a)}return t?i?{points:r,hasZ:t,hasM:i}:{points:r,hasZ:t}:i?{points:r,hasM:i}:{points:r}}function bne(e,t,i,n,r){const s=Hn(i,n);for(const{geometry:a,attributes:o}of t){const l=$(a)?wne(new tl,a,s):null;e.push(new Ph(l,o,null,r?o[r]:void 0))}return e}function wne(e,t,i=Hn(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const n=e.coords;let r=0;for(const s of t.points)for(let a=0;a<i;a++)n[r++]=s[a];return e}function k5e(e,t,i,n){for(const{geometry:r,attributes:s}of t)e.push({attributes:s,geometry:$(r)?_ne(r,i,n):null});return e}function _ne(e,t,i){if(!e)return null;const n=Hn(t,i),{coords:r,lengths:s}=e,a=[];let o=0;for(const l of s){const c=[];for(let h=0;h<l;h++){const p=[];for(let m=0;m<n;m++)p.push(r[o++]);c.push(p)}a.push(c)}return t?i?{paths:a,hasZ:t,hasM:i}:{paths:a,hasZ:t}:i?{paths:a,hasM:i}:{paths:a}}function xne(e,t,i,n,r){const s=Hn(i,n);for(const{geometry:a,attributes:o}of t){const l=$(a)?Sne(new tl,a,s):null;e.push(new Ph(l,o,null,r?o[r]:void 0))}return e}function Sne(e,t,i=Hn(t.hasZ,t.hasM)){const{lengths:n,coords:r}=e;let s=0;for(const a of t.paths){for(const o of a)for(let l=0;l<i;l++)r[s++]=o[l];n.push(a.length)}return e}function I5e(e,t,i,n){for(const{geometry:r,attributes:s,centroid:a}of t){const o=$(r)?Ene(r,i,n):null;if($(a)){const l=dT(a);e.push({attributes:s,centroid:l,geometry:o})}else e.push({attributes:s,geometry:o})}return e}function Ene(e,t,i){if(!e)return null;const n=Hn(t,i),{coords:r,lengths:s}=e,a=[];let o=0;for(const l of s){const c=[];for(let h=0;h<l;h++){const p=[];for(let m=0;m<n;m++)p.push(r[o++]);c.push(p)}a.push(c)}return t?i?{rings:a,hasZ:t,hasM:i}:{rings:a,hasZ:t}:i?{rings:a,hasM:i}:{rings:a}}function kne(e,t,i,n,r){for(const{geometry:s,centroid:a,attributes:o}of t){const l=$(s)?Ine(new tl,s,i,n):null,c=r?o[r]:void 0;$(a)?e.push(new Ph(l,o,gne(new tl,a),c)):e.push(new Ph(l,o,null,c))}return e}function Ine(e,t,i=t.hasZ,n=t.hasM){return C5e(e,t.rings,i,n),e}function C5e(e,t,i,n){const r=Hn(i,n),{lengths:s,coords:a}=e;let o=0;lu(e);for(const l of t){for(const c of l)for(let h=0;h<r;h++)a[o++]=c[h];s.push(l.length)}return e}const Hy=[],K1=[];function XWe(e,t,i,n,r){Hy[0]=e;const[s]=Cne(K1,Hy,t,i,n,r);return il(Hy),il(K1),s}function Cne(e,t,i,n,r,s){if(il(e),!i){for(const a of t){const o=s?a.attributes[s]:void 0;e.push(new Ph(null,a.attributes,null,o))}return e}switch(i){case"esriGeometryPoint":return yne(e,t,n,r,s);case"esriGeometryMultipoint":return bne(e,t,n,r,s);case"esriGeometryPolyline":return xne(e,t,n,r,s);case"esriGeometryPolygon":return kne(e,t,n,r,s);default:Q0.error("convertToFeatureSet:unknown-geometry",new N(`Unable to parse unknown geometry type '${i}'`)),il(e)}return e}function eKe(e,t,i,n,r,s){const a=e.length;switch(i){case"esriGeometryPoint":yne(e,t,n,r,s);break;case"esriGeometryMultipoint":bne(e,t,n,r,s);break;case"esriGeometryPolyline":xne(e,t,n,r,s);break;case"esriGeometryPolygon":kne(e,t,n,r,s);break;default:Q0.error("convertToFeatureSet:unknown-geometry",new N(`Unable to parse unknown geometry type '${i}'`))}for(let o=0;o<t.length;o++)e[o+a].geometryType=i,e[o+a].insertAfter=t[o].insertAfter,e[o+a].groupId=t[o].groupId;return e}function tKe(e,t,i,n){K1[0]=e,Tne(Hy,K1,t,i,n);const r=Hy[0];return il(Hy),il(K1),r}function iKe(e,t,i){if(j(e))return null;const n=new tl;return"hasZ"in e&&t==null&&(t=e.hasZ),"hasM"in e&&i==null&&(i=e.hasM),XF(e)?w4(t??e.z!=null,i??e.m!=null)(n,e):Bf(e)?Ine(n,e,t,i):eN(e)?Sne(n,e,Hn(t,i)):QF(e)?wne(n,e,Hn(t,i)):void Q0.error("convertFromGeometry:unknown-geometry",new N(`Unable to parse unknown geometry type '${e}'`))}function T5e(e,t,i,n){const r=e&&("coords"in e?e:e.geometry);if(j(r))return null;switch(t){case"esriGeometryPoint":{let s=dT;return i&&n?s=b4:i?s=y4:n&&(s=v4),s(r)}case"esriGeometryMultipoint":return vne(r,i,n);case"esriGeometryPolyline":return _ne(r,i,n);case"esriGeometryPolygon":return Ene(r,i,n);default:return Q0.error("convertToGeometry:unknown-geometry",new N(`Unable to parse unknown geometry type '${t}'`)),null}}function $5e(e,t){for(const i of t)e.push({attributes:i.attributes});return e}function Tne(e,t,i,n,r){if(il(e),j(i))return $5e(e,t);switch(i){case"esriGeometryPoint":return S5e(e,t,n,r);case"esriGeometryMultipoint":return E5e(e,t,n,r);case"esriGeometryPolyline":return k5e(e,t,n,r);case"esriGeometryPolygon":return I5e(e,t,n,r);default:Q0.error("convertToFeatureSet:unknown-geometry",new N(`Unable to parse unknown geometry type '${i}'`))}return e}function nKe(e){const{objectIdFieldName:t,spatialReference:i,transform:n,fields:r,hasM:s,hasZ:a,features:o,geometryType:l,exceededTransferLimit:c,uniqueIdField:h,queryGeometry:p,queryGeometryType:m}=e,g={features:Tne([],o,l,a,s),fields:r,geometryType:l,objectIdFieldName:t,spatialReference:i,uniqueIdField:h,queryGeometry:T5e(p,m,!1,!1)};return n&&(g.transform=n),c&&(g.exceededTransferLimit=c),s&&(g.hasM=s),a&&(g.hasZ=a),g}function rKe(e,t){const i=new une,{hasM:n,hasZ:r,features:s,objectIdFieldName:a,spatialReference:o,geometryType:l,exceededTransferLimit:c,transform:h,fields:p}=e;return p&&(i.fields=p),i.geometryType=l??null,i.objectIdFieldName=a??t??null,i.spatialReference=o??null,i.objectIdFieldName?(s&&Cne(i.features,s,l,r,n,i.objectIdFieldName),c&&(i.exceededTransferLimit=c),n&&(i.hasM=n),r&&(i.hasZ=r),h&&(i.transform=h),i):(Q0.error(new N("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),i)}function sKe(e){const{transform:t,features:i,hasM:n,hasZ:r}=e;if(!t)return e;for(const s of i)$(s.geometry)&&s9(s.geometry,s.geometry,n,r,t),$(s.centroid)&&s9(s.centroid,s.centroid,n,r,t);return e.transform=null,e}function aKe(e,t){const{geometryType:i,features:n,hasM:r,hasZ:s}=t;if(!e)return t;for(let a=0;a<n.length;a++){const o=n[a],l=o.weakClone();l.geometry=new tl,r9(l.geometry,o.geometry,r,s,i,e),o.centroid&&(l.centroid=new tl,r9(l.centroid,o.centroid,r,s,"esriGeometryPoint",e)),n[a]=l}return t.transform=e,t}function r9(e,t,i,n,r,s,a=i,o=n){if(lu(e),j(t)||!t.coords.length)return null;const l=mne[r],{coords:c,lengths:h}=t,p=Hn(i,n),m=Hn(i&&a,n&&o),g=g4(i,n,a,o);if(!h.length)return g(e.coords,c,0,0,RA(s,c[0]),PA(s,c[1])),lu(e,p,0),e;let y,b,w,_,x=0,S=0,k=S;for(const A of h){if(A<l)continue;let T=0;S=k,w=y=RA(s,c[x]),_=b=PA(s,c[x+1]),g(e.coords,c,S,x,w,_),T++,x+=p,S+=m;for(let C=1;C<A;C++,x+=p)w=RA(s,c[x]),_=PA(s,c[x+1]),w===y&&_===b||(g(e.coords,c,S,x,w-y,_-b),S+=m,T++,y=w,b=_);T>=l&&(e.lengths.push(T),k=S)}return il(e.coords,k),e.coords.length?e:null}function oKe(e,t,i,n,r,s,a=i,o=n){if(lu(e),!t||!t.coords.length)return null;const l=mne[r],{coords:c,lengths:h}=t,p=Hn(i,n),m=Hn(i&&a,n&&o),g=g4(i,n,a,o);if(!h.length)return g(e.coords,c,0,0,c[0],c[1]),lu(e,p,0),e;let y=0;const b=s*s;for(const w of h){if(w<l){y+=w*p;continue}const _=e.coords.length/m,x=y,S=y+(w-1)*p;g(e.coords,c,e.coords.length,x,c[x],c[x+1]),G5(e.coords,c,p,b,g,x,S),g(e.coords,c,e.coords.length,S,c[S],c[S+1]);const k=e.coords.length/m-_;k>=l?e.lengths.push(k):il(e.coords,_*m),y+=w*p}return e.coords.length?e:null}function A5e(e,t,i,n){const r=e[t],s=e[t+1],a=e[i],o=e[i+1],l=e[n],c=e[n+1];let h=a,p=o,m=l-h,g=c-p;if(m!==0||g!==0){const y=((r-h)*m+(s-p)*g)/(m*m+g*g);y>1?(h=l,p=c):y>0&&(h+=m*y,p+=g*y)}return m=r-h,g=s-p,m*m+g*g}function G5(e,t,i,n,r,s,a){let o,l=n,c=0;for(let h=s+i;h<a;h+=i)o=A5e(t,h,s,a),o>l&&(c=h,l=o);l>n&&(c-s>i&&G5(e,t,i,n,r,s,c),r(e,t,e.length,c,t[c],t[c+1]),a-c>i&&G5(e,t,i,n,r,c,a))}function lKe(e,t,i,n){if(j(t)||!t.coords||!t.coords.length)return null;const r=Hn(i,n);let s=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;if(t&&t.coords){const c=t.coords;for(let h=0;h<c.length;h+=r){const p=c[h],m=c[h+1];s=Math.min(s,p),o=Math.max(o,p),a=Math.min(a,m),l=Math.max(l,m)}}return wO(e)?OIe(e,s,a,o,l):EIe(s,a,o,l,e),e}function s9(e,t,i,n,r){const{coords:s,lengths:a}=t,o=Hn(i,n);if(!s.length)return e!==t&&lu(e),e;MF(r);const{originPosition:l,scale:c,translate:h}=r,p=D5e;p.originPosition=l;const m=p.scale;m[0]=c[0]??1,m[1]=-(c[1]??1),m[2]=c[2]??1,m[3]=c[3]??1;const g=p.translate;if(g[0]=h[0]??0,g[1]=h[1]??0,g[2]=h[2]??0,g[3]=h[3]??0,!a.length){for(let b=0;b<o;++b)e.coords[b]=LA(p,s[b],b);return e!==t&&lu(e,o,0),e}let y=0;for(let b=0;b<a.length;b++){const w=a[b];e.lengths[b]=w;for(let S=0;S<o;++S)e.coords[y+S]=LA(p,s[y+S],S);let _=e.coords[y],x=e.coords[y+1];y+=o;for(let S=1;S<w;S++,y+=o){_+=s[y]*m[0],x+=s[y+1]*m[1],e.coords[y]=_,e.coords[y+1]=x;for(let k=2;k<o;++k)e.coords[y+k]=LA(p,s[y+k],k)}}return e!==t&&lu(e,s.length,a.length),e}function cKe(e,t,i,n,r,s){if(lu(e),e.lengths.push(...t.lengths),i===r&&n===s)for(let a=0;a<t.coords.length;a++)e.coords.push(t.coords[a]);else{const a=Hn(i,n),o=g4(i,n,r,s),l=t.coords;for(let c=0;c<l.length;c+=a)o(e.coords,l,e.coords.length,c,l[c],l[c+1])}return e}function M5e(e,t,i,n){let r=0,s=e[n*t],a=e[n*(t+1)];for(let o=1;o<i;o++){const l=s+e[n*(t+o)],c=a+e[n*(t+o)+1],h=(l-s)*(c+a);s=l,a=c,r+=h}return .5*r}function uKe(e,t){const{coords:i,lengths:n}=e;let r=0,s=0;for(let a=0;a<n.length;a++){const o=n[a];s+=M5e(i,r,o,t),r+=o}return Math.abs(s)}function dKe(e,t){if(j(e))return null;const i=e.clone(),n=e.coords,r=e.lengths;let s=0;for(let a=0;a<r.length;a++){const o=r[a];let l=n[t*s],c=n[t*s+1];for(let h=1;h<o;h++){const p=l+n[t*(s+h)],m=c+n[t*(s+h)+1];i.coords[t*(s+h)]=p,i.coords[t*(s+h)+1]=m,l=p,c=m}s+=o}return i}function lu(e,t=0,i=0){il(e.lengths,i),il(e.coords,t)}function il(e,t=0){e.length!==t&&(e.length=t)}const D5e={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};var q5;let hi=q5=class extends W{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new q5(z({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};u([d({type:Boolean,json:{write:!0}})],hi.prototype,"cacheHint",void 0),u([d({type:jo,json:{write:!0}})],hi.prototype,"dynamicDataSource",void 0),u([d({type:String,json:{write:!0}})],hi.prototype,"gdbVersion",void 0),u([d({type:Number,json:{write:!0}})],hi.prototype,"geometryPrecision",void 0),u([d({type:Date})],hi.prototype,"historicMoment",void 0),u([ue("historicMoment")],hi.prototype,"_writeHistoricMoment",null),u([d({type:Number,json:{write:!0}})],hi.prototype,"maxAllowableOffset",void 0),u([d({type:[Number],json:{write:!0}})],hi.prototype,"objectIds",void 0),u([d({type:[String],json:{write:!0}})],hi.prototype,"orderByFields",void 0),u([d({type:[String],json:{write:!0}})],hi.prototype,"outFields",void 0),u([d({type:je,json:{read:{source:"outSR"},write:{target:"outSR"}}})],hi.prototype,"outSpatialReference",void 0),u([d({json:{write:!0}})],hi.prototype,"relationshipId",void 0),u([d({type:Number,json:{read:{source:"resultOffset"}}})],hi.prototype,"start",void 0),u([ue("start"),ue("num")],hi.prototype,"writeStart",null),u([d({type:Number,json:{read:{source:"resultRecordCount"}}})],hi.prototype,"num",void 0),u([d({json:{write:!0}})],hi.prototype,"returnGeometry",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],hi.prototype,"returnM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],hi.prototype,"returnZ",void 0),u([d({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],hi.prototype,"where",void 0),hi=q5=u([I("esri.rest.support.RelationshipQuery")],hi),hi.from=Gi(hi);const k0=hi,hKe=Object.freeze(Object.defineProperty({__proto__:null,default:k0},Symbol.toStringTag,{value:"Module"}));var W5;let Og=W5=class extends W{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new W5({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};u([d({type:[String],json:{write:!0}})],Og.prototype,"groupByFields",void 0),u([d({type:Number,json:{write:!0}})],Og.prototype,"topCount",void 0),u([d({type:[String],json:{write:!0}})],Og.prototype,"orderByFields",void 0),Og=W5=u([I("esri.rest.support.TopFilter")],Og);const O5e=Og;var K5;const a9=new nt({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),o9=new nt({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Yt=K5=class extends W{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new K5(z({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};u([d({type:Boolean,json:{write:!0}})],Yt.prototype,"cacheHint",void 0),u([d({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Yt.prototype,"distance",void 0),u([d({types:Dm,json:{read:Ah,write:!0}})],Yt.prototype,"geometry",void 0),u([d({type:Number,json:{write:!0}})],Yt.prototype,"geometryPrecision",void 0),u([d({type:Number,json:{write:!0}})],Yt.prototype,"maxAllowableOffset",void 0),u([d({type:Number,json:{read:{source:"resultRecordCount"}}})],Yt.prototype,"num",void 0),u([d({json:{write:!0}})],Yt.prototype,"objectIds",void 0),u([d({type:[String],json:{write:!0}})],Yt.prototype,"orderByFields",void 0),u([d({type:[String],json:{write:!0}})],Yt.prototype,"outFields",void 0),u([d({type:je,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Yt.prototype,"outSpatialReference",void 0),u([d({type:String,json:{write:!0}})],Yt.prototype,"resultType",void 0),u([d({json:{write:!0}})],Yt.prototype,"returnGeometry",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Yt.prototype,"returnM",void 0),u([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Yt.prototype,"returnZ",void 0),u([d({type:Number,json:{read:{source:"resultOffset"}}})],Yt.prototype,"start",void 0),u([ue("start"),ue("num")],Yt.prototype,"writeStart",null),u([d({type:String,json:{read:{source:"spatialRel",reader:a9.read},write:{target:"spatialRel",writer:a9.write}}})],Yt.prototype,"spatialRelationship",void 0),u([d({type:oc,json:{write:!0}})],Yt.prototype,"timeExtent",void 0),u([d({type:O5e,json:{write:!0}})],Yt.prototype,"topFilter",void 0),u([d({type:String,json:{read:o9.read,write:{writer:o9.write,overridePolicy(e){return{enabled:$(e)&&$(this.distance)&&this.distance>0}}}}})],Yt.prototype,"units",void 0),u([d({type:String,json:{write:!0}})],Yt.prototype,"where",void 0),Yt=K5=u([I("esri.rest.support.TopFeaturesQuery")],Yt),Yt.from=Gi(Yt);const hS=Yt,R5e="esri.widgets.Feature.support.relatedFeatureUtils",l9=Y.getLogger(R5e),c9=new Map;function Y2(e){if(!tu(e))return null;const[t,i]=e.split("/").slice(1);return{layerId:t,fieldName:i}}function P5e(e,t){if(!t.relationships)return null;let i=null;const{relationships:n}=t;return n.some(r=>r.id===parseInt(e,10)&&(i=r,!0)),i}function L5e({originRelationship:e,relationships:t,layerId:i}){let n=null;return t&&t.some(r=>(`${r.relatedTableId}`===i&&r.id===(e==null?void 0:e.id)&&(n=r),!!n)),n}function F5e(e,t){const i=t.toLowerCase();for(const n in e)if(n.toLowerCase()===i)return e[n];return null}function N5e(e,t){const i=P5e(e,t);if(i)return{url:`${t.url}/${i.relatedTableId}`,sourceSpatialReference:t.spatialReference,relation:i,relatedFields:[],outStatistics:[]}}function z5e(e,t){if(!t||!e)return;const{features:i,statsFeatures:n}=e,r=i&&i.value;t.relatedFeatures=r?r.features:[];const s=n&&n.value;t.relatedStatsFeatures=s?s.features:[]}function V5e(e,t,i,n){var s;const r=new k0;return r.outFields=["*"],r.relationshipId=typeof t.id=="number"?t.id:parseInt(t.id,10),r.objectIds=[e.attributes[i.objectIdField]],((s=i.queryRelatedFeatures)==null?void 0:s.call(i,r,n))??Promise.resolve({})}function j5e(e,t,i){let n=0;const r=[];for(;n<t.length;)r.push(`${e} IN (${t.slice(n,i+n)})`),n+=i;return r.join(" OR ")}async function U5e(e,t,i,n){const r=i.layerId.toString(),{layerInfo:s,relation:a,relatedFields:o,outStatistics:l,url:c,sourceSpatialReference:h}=t;if(!s||!a)return null;const p=L5e({originRelationship:a,relationships:s.relationships,layerId:r});if(p!=null&&p.relationshipTableId&&p.keyFieldInRelationshipTable){const g=(await V5e(e,p,i,n))[e.attributes[i.objectIdField]];if(!g)return null;const y=g.features.map(b=>b.attributes[s.objectIdField]);if(l!=null&&l.length&&s.supportsStatistics){const b=new Kl;b.where=j5e(s.objectIdField,y,1e3),b.outFields=o,b.outStatistics=l,b.sourceSpatialReference=h;const w={features:Promise.resolve(g),statsFeatures:OA(c,b)};return ps(w)}}const m=p==null?void 0:p.keyField;if(m){const g=sN(W5e(s.fields,m)),y=F5e(e.attributes,a.keyField),b=g?`${m}=${y}`:`${m}='${y}'`,w=OA(c,new Kl({where:b,outFields:t.relatedFields,sourceSpatialReference:h}),n),_=t.outStatistics&&t.outStatistics.length>0&&s.supportsStatistics?OA(c,new Kl({where:b,outFields:t.relatedFields,outStatistics:t.outStatistics,sourceSpatialReference:h}),n):null,x={features:w};return _&&(x.statsFeatures=_),ps(x)}return null}function B5e(e,t){return Tt(e,{query:{f:"json"},signal:t&&t.signal})}function H5e({relatedInfos:e,layer:t},i){const n={};return e.forEach((r,s)=>{const{relation:a}=r;if(!a){const p=new N("relation-required","A relation is required on a layer to retrieve related records.");throw l9.error(p),p}const{relatedTableId:o}=a;if(typeof o!="number"){const p=new N("A related table ID is required on a layer to retrieve related records.");throw l9.error(p),p}const l=`${t.url}/${o}`,c=c9.get(l),h=c||B5e(l);c||c9.set(l,h),n[s]=h}),pQ(ps(n),i)}function G5e({graphic:e,relatedInfos:t,layer:i},n){const r={};return t.forEach((s,a)=>{s.layerInfo&&(r[a]=U5e(e,s,i,n))}),ps(r)}function q5e({relatedInfo:e,fieldName:t,fieldInfo:i}){var n,r;if((n=e.relatedFields)==null||n.push(t),i.statisticType){const s=new fne({statisticType:i.statisticType,onStatisticField:t,outStatisticFieldName:t});(r=e.outStatistics)==null||r.push(s)}}function W5e(e,t){if(e!=null){t=t.toLowerCase();for(const i of e)if(i&&i.name.toLowerCase()===t)return i}return null}const u9={chartAnimation:!0};let qi=class extends ve{constructor(t){super(t),this.abilities={...u9},this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.isAggregate=!1,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(t){return{...u9,...t}}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(t){this._setContentElementMedia(t)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(t){const{formattedMediaInfoCount:i}=this,n=(t+i)%i;this.activeMediaInfoIndex=n}_pageContentElementMedia(t){const{activeMediaInfoIndex:i}=this,n=i+t;this._setContentElementMedia(n)}_formatMediaInfos(){const{mediaInfos:t,layer:i}=this,n=this.attributes??{},r=this.formattedAttributes??{},s=this.expressionAttributes??{},a=this.fieldInfoMap??new Map;return(t==null?void 0:t.map(o=>{const l=o==null?void 0:o.clone();if(!l)return null;if(l.title=Of({attributes:n,fieldInfoMap:a,globalAttributes:r,expressionAttributes:s,layer:i,text:l.title}),l.caption=Of({attributes:n,fieldInfoMap:a,globalAttributes:r,expressionAttributes:s,layer:i,text:l.caption}),l.altText=Of({attributes:n,fieldInfoMap:a,globalAttributes:r,expressionAttributes:s,layer:i,text:l.altText}),l.type==="image"){const{value:c}=l;return this._setImageValue({value:c,formattedAttributes:r,layer:i}),l.value.sourceURL?l:void 0}if(l.type==="pie-chart"||l.type==="line-chart"||l.type==="column-chart"||l.type==="bar-chart"){const{value:c}=l;return this._setChartValue({value:c,chartType:l.type,attributes:n,formattedAttributes:r,layer:i,expressionAttributes:s}),l}return null}).filter($))??[]}_setImageValue(t){const i=this.fieldInfoMap??new Map,{value:n,formattedAttributes:r,layer:s}=t,{linkURL:a,sourceURL:o}=n;if(o){const l=x5(o,s);n.sourceURL=_5({formattedAttributes:r,template:l,fieldInfoMap:i})}if(a){const l=x5(a,s);n.linkURL=_5({formattedAttributes:r,template:l,fieldInfoMap:i})}}_setChartValue(t){const{value:i,attributes:n,formattedAttributes:r,chartType:s,layer:a,expressionAttributes:o}=t,{popupTemplate:l,relatedInfos:c}=this,{fields:h,normalizeField:p}=i,m=a;if(i.fields=S3e(h,m),p&&(i.normalizeField=Zw(p,m)),!h.some(y=>!!(r[y]!=null||tu(y)&&(c!=null&&c.size))))return;const g=(l==null?void 0:l.fieldInfos)??[];h.forEach(y=>{if(tu(y))return void(i.series=[...i.series,...this._getRelatedChartInfos({fieldInfos:g,fieldName:y,formattedAttributes:r,chartType:s,value:i})]);const b=this._getChartOption({value:i,attributes:n,chartType:s,formattedAttributes:r,expressionAttributes:o,fieldName:y,fieldInfos:g});i.series.push(b)})}_getRelatedChartInfos(t){var g;const{fieldInfos:i,fieldName:n,formattedAttributes:r,chartType:s,value:a}=t,o=[],l=Y2(n),c=l&&((g=this.relatedInfos)==null?void 0:g.get(l.layerId.toString()));if(!c)return o;const{relatedFeatures:h,relation:p}=c;if(!p||!h)return o;const{cardinality:m}=p;return h.forEach(y=>{const{attributes:b}=y;b&&Object.keys(b).forEach(w=>{w===l.fieldName&&o.push(this._getChartOption({value:a,attributes:b,formattedAttributes:r,fieldName:n,chartType:s,relatedFieldName:w,hasMultipleRelatedFeatures:(h==null?void 0:h.length)>1,fieldInfos:i}))})}),m==="one-to-many"||m==="many-to-many"?o:[o[0]]}_getTooltip({label:t,value:i,chartType:n}){return n==="pie-chart"?`${t}`:`${t}: ${i}`}_getChartOption(t){var T;const{value:i,attributes:n,formattedAttributes:r,expressionAttributes:s,fieldName:a,relatedFieldName:o,fieldInfos:l,chartType:c,hasMultipleRelatedFeatures:h}=t,p=this.layer,m=this.fieldInfoMap??new Map,{normalizeField:g,tooltipField:y}=i,b=g?tu(g)?n[Y2(g).fieldName]:n[g]:null,w=XN(a)&&s&&s[a]!==void 0?s[a]:o&&n[o]!==void 0?n[o]:n[a]!==void 0?n[a]:r[a],_=new CX({fieldName:a,value:w===void 0?null:w&&b?w/b:w});if(tu(a)){const C=m.get(a.toLowerCase()),M=y&&m.get(y.toLowerCase()),L=(C==null?void 0:C.fieldName)??a,V=h&&y?Y2(y).fieldName:(M==null?void 0:M.fieldName)??y,P=h&&V?n[V]:r[V]??(C==null?void 0:C.label)??(C==null?void 0:C.fieldName)??o,J=h&&o?n[o]:r[L];return _.tooltip=this._getTooltip({label:P,value:J,chartType:c}),_}const x=$ie(l,a),S=Zw(a,p),k=y&&r[y]!==void 0?r[y]:Cie(x||new $_({fieldName:S}),(T=this.popupTemplate)==null?void 0:T.expressionInfos),A=r[S];return _.tooltip=this._getTooltip({label:k,value:A,chartType:c}),_}};u([d()],qi.prototype,"abilities",void 0),u([ct("abilities")],qi.prototype,"castAbilities",null),u([d()],qi.prototype,"activeMediaInfoIndex",void 0),u([d({readOnly:!0})],qi.prototype,"activeMediaInfo",null),u([d()],qi.prototype,"attributes",void 0),u([d()],qi.prototype,"description",void 0),u([d()],qi.prototype,"fieldInfoMap",void 0),u([d()],qi.prototype,"formattedAttributes",void 0),u([d()],qi.prototype,"expressionAttributes",void 0),u([d({readOnly:!0})],qi.prototype,"formattedMediaInfos",null),u([d()],qi.prototype,"isAggregate",void 0),u([d()],qi.prototype,"layer",void 0),u([d({readOnly:!0})],qi.prototype,"formattedMediaInfoCount",null),u([d()],qi.prototype,"mediaInfos",void 0),u([d()],qi.prototype,"popupTemplate",void 0),u([d()],qi.prototype,"relatedInfos",void 0),u([d()],qi.prototype,"title",void 0),qi=u([I("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],qi);const Pf=qi;var d9=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],K5e=[].concat(d9.slice(30,39),d9.slice(28,30).reverse()),Y5e=[{name:"default",colors:K5e},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}];const h9="en-us",_4=new Map([["ar",()=>H(()=>import("./ar.js"),["ar.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.a)],["bg-bg",()=>H(()=>import("./bg_BG.js"),["bg_BG.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.b)],["bs-ba",()=>H(()=>import("./bs_BA.js"),["bs_BA.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.b)],["ca-es",()=>H(()=>import("./ca_ES.js"),["ca_ES.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.c)],["cs-cz",()=>H(()=>import("./cs_CZ.js"),["cs_CZ.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.c)],["da-dk",()=>H(()=>import("./da_DK.js"),["da_DK.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.d)],["de-de",()=>H(()=>import("./de_DE.js"),["de_DE.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.d)],["de-ch",()=>H(()=>import("./de_CH.js"),["de_CH.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.d)],["el-gr",()=>H(()=>import("./el_GR.js"),["el_GR.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.e)],["en-us",()=>H(()=>import("./en_US.js"),["en_US.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.e)],["en-ca",()=>H(()=>import("./en_CA.js"),["en_CA.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.e)],["es-es",()=>H(()=>import("./es_ES.js"),["es_ES.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.e)],["et-ee",()=>H(()=>import("./et_EE.js"),["et_EE.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.e)],["fi-fi",()=>H(()=>import("./fi_FI.js"),["fi_FI.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.f)],["fr-fr",()=>H(()=>import("./fr_FR.js"),["fr_FR.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.f)],["he-il",()=>H(()=>import("./he_IL.js"),["he_IL.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.h)],["hr-hr",()=>H(()=>import("./hr_HR.js"),["hr_HR.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.h)],["hu-hu",()=>H(()=>import("./hu_HU.js"),["hu_HU.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.h)],["id-id",()=>H(()=>import("./id_ID.js"),["id_ID.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.i)],["it-it",()=>H(()=>import("./it_IT.js"),["it_IT.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.i)],["ja-jp",()=>H(()=>import("./ja_JP.js"),["ja_JP.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.j)],["ko-kr",()=>H(()=>import("./ko_KR.js"),["ko_KR.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.k)],["lt-lt",()=>H(()=>import("./lt_LT.js"),["lt_LT.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.l)],["lv-lv",()=>H(()=>import("./lv_LV.js"),["lv_LV.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.l)],["nb-no",()=>H(()=>import("./nb_NO.js"),["nb_NO.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.n)],["nl-nl",()=>H(()=>import("./nl_NL.js"),["nl_NL.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.n)],["pl-pl",()=>H(()=>import("./pl_PL.js"),["pl_PL.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.p)],["pt-br",()=>H(()=>import("./pt_BR.js"),["pt_BR.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.p)],["pt-pt",()=>H(()=>import("./pt_PT.js"),["pt_PT.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.p)],["ro-ro",()=>H(()=>import("./ro_RO.js"),["ro_RO.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.r)],["ru-ru",()=>H(()=>import("./ru_RU.js"),["ru_RU.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.r)],["sk-sk",()=>H(()=>import("./sk_SK.js"),["sk_SK.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.s)],["sl-sl",()=>H(()=>import("./sl_SL.js"),["sl_SL.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.s)],["sr-rs",()=>H(()=>import("./sr_RS.js"),["sr_RS.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.s)],["sv-se",()=>H(()=>import("./sv_SE.js"),["sv_SE.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.s)],["th-th",()=>H(()=>import("./th_TH.js"),["th_TH.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.t)],["tr-tr",()=>H(()=>import("./tr_TR.js"),["tr_TR.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.t)],["uk-ua",()=>H(()=>import("./uk_UA.js"),["uk_UA.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.u)],["vi-vn",()=>H(()=>import("./vi_VN.js"),["vi_VN.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.v)],["zh-cn",()=>H(()=>import("./zh_Hans.js"),["zh_Hans.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.z)],["zh-hk",()=>H(()=>import("./zh_Hant.js"),["zh_Hant.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.z)],["zh-tw",()=>H(()=>import("./zh_Hant.js"),["zh_Hant.js","_commonjsHelpers.js","_commonjs-dynamic-modules.js"]).then(e=>e.z)]]);function J5e(e){const t=e.split("-")[0].toLowerCase();let i=null;for(const n of _4.keys())if(n.startsWith(t)){i=n;break}return i}function Z5e(e){return e?_4.has(e.toLowerCase())?e.toLowerCase():J5e(e)||h9:h9}let Xm=null,Gv=null;async function Q5e(e=Wa()){if(e=Z5e(e),Xm&&e===Gv)return Xm;Xm=H(()=>import("./index2.js"),["index2.js","_commonjsHelpers.js"]).then(t=>t.i),Gv=e;try{const[t,i]=await Promise.all([Xm,_4.get(Gv)()]);Gv===e&&(t.am4core.options.defaultLocale=i.default),t.am4core.options.suppressWarnings=!0,t.am4core.options.autoDispose=!0}catch{return Xm=null,Gv=null,null}return Xm}function X5e(e,t="default"){const i=Y5e.find(n=>n.name===t);return i?i.colors.map(n=>e.color(n)):null}const _r="esri-feature-media",vi={base:_r,mediaContainer:`${_r}__container`,mediaItemContainer:`${_r}__item-container`,mediaItem:`${_r}__item`,mediaItemTitle:`${_r}__item-title`,mediaItemCaption:`${_r}__item-caption`,mediaPrevious:`${_r}__previous`,mediaPreviousIconLTR:`${_r}__previous-icon`,mediaPreviousIconRTL:`${_r}__previous-icon--rtl`,mediaNext:`${_r}__next`,mediaNextIconLTR:`${_r}__next-icon`,mediaNextIconRTL:`${_r}__next-icon--rtl`,mediaChart:`${_r}__chart`,mediaButton:`${_r}__button`,mediaIcon:`${_r}__icon`,iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow"},FA=.05,NA=.95,zA=15,mc="color",Ju="tooltip",qv="value",p9="default-line-value";let Xr=class extends br{constructor(t,i){super(t,i),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.viewModel=new Pf,this.messages=null,this._getChartDependencies=async n=>{const r=await Q5e(),{destroyed:s,viewModel:a}=this;if(s||!a||!n)return;const{activeMediaInfo:o}=a,l=await this._getRendererColors(r);this._renderChart({chartDiv:n,mediaInfo:o,chartsModule:r,colorMap:l})}}initialize(){this._featureElementInfo=new sT,this.addHandles([X(()=>{var t,i;return[(t=this.viewModel)==null?void 0:t.activeMediaInfo,(i=this.viewModel)==null?void 0:i.activeMediaInfoIndex]},()=>this._setupMediaRefreshTimer(),gt),X(()=>{var t,i;return[(t=this.viewModel)==null?void 0:t.description,(i=this.viewModel)==null?void 0:i.title]},()=>this._setupFeatureElementInfo(),gt)])}destroy(){var t;this._clearMediaRefreshTimer(),(t=this._featureElementInfo)==null||t.destroy()}get attributes(){return this.viewModel.attributes}set attributes(t){this.viewModel.attributes=t}get activeMediaInfoIndex(){return this.viewModel.activeMediaInfoIndex}set activeMediaInfoIndex(t){this.viewModel.activeMediaInfoIndex=t}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get fieldInfoMap(){return this.viewModel.fieldInfoMap}set fieldInfoMap(t){this.viewModel.fieldInfoMap=t}get layer(){return this.viewModel.layer}set layer(t){this.viewModel.layer=t}get mediaInfos(){return this.viewModel.mediaInfos}set mediaInfos(t){this.viewModel.mediaInfos=t}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(t){this.viewModel.popupTemplate=t}get relatedInfos(){return this.viewModel.relatedInfos}set relatedInfos(t){this.viewModel.relatedInfos=t}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}render(){var t;return R("div",{bind:this,class:vi.base,onkeyup:this._handleMediaKeyup},(t=this._featureElementInfo)==null?void 0:t.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:t}=this.viewModel;return t?R("div",{key:"media-element-container",class:vi.mediaContainer},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(t){const{_refreshIntervalInfo:i}=this,{activeMediaInfoIndex:n,formattedMediaInfoCount:r}=this.viewModel,{value:s,refreshInterval:a,altText:o,title:l,type:c}=t,{sourceURL:h,linkURL:p}=s,m=Iie(p??void 0)?"_blank":"_self",g=m==="_blank"?"noreferrer":"",y=a?i:null,b=y?y.timestamp:0,w=y?y.sourceURL:h,_=R("img",{alt:o||l,key:`media-${c}-${n}-${r}-${b}`,src:w??void 0});return(p?R("a",{title:l,href:p,rel:g,target:m},_):null)||_}renderChartMediaInfo(t){const{activeMediaInfoIndex:i,formattedMediaInfoCount:n}=this.viewModel;return R("div",{key:`media-${t.type}-${i}-${n}`,bind:this,class:vi.mediaChart,afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:t}=this.viewModel;return t?t.type==="image"?this.renderImageMediaInfo(t):t.type.includes("chart")?this.renderChartMediaInfo(t):null:null}renderMediaInfo(){const{activeMediaInfo:t}=this.viewModel;if(!t)return null;const i=t.title?R("div",{key:"media-title",class:vi.mediaItemTitle,innerHTML:t.title}):null,n=t.caption?R("div",{key:"media-caption",class:vi.mediaItemCaption,innerHTML:t.caption}):null;return R("div",{key:"media-container",class:vi.mediaItemContainer},R("div",{key:"media-item-container",class:vi.mediaItem},this.renderMediaInfoType()),i,n)}renderMediaPageButton(t){if(this.viewModel.formattedMediaInfoCount<2)return null;const i=t==="previous",n=i?this.messages.previous:this.messages.next,r=i?this.classes(vi.mediaButton,vi.mediaPrevious):this.classes(vi.mediaButton,vi.mediaNext),s=i?this.classes(vi.mediaIcon,vi.mediaPreviousIconLTR,vi.iconLeftTriangleArrow):this.classes(vi.mediaIcon,vi.mediaNextIconLTR,vi.iconRightTriangleArrow),a=i?this.classes(vi.mediaIcon,vi.mediaPreviousIconRTL,vi.iconRightTriangleArrow):this.classes(vi.mediaIcon,vi.mediaNextIconRTL,vi.iconLeftTriangleArrow),o=i?"media-previous":"media-next",l=i?this._previous:this._next;return R("button",{type:"button",key:o,title:n,"aria-label":n,tabIndex:0,class:r,bind:this,onclick:l},R("span",{"aria-hidden":"true",class:s}),R("span",{"aria-hidden":"true",class:a}))}_setupFeatureElementInfo(){var n;const{description:t,title:i}=this;(n=this._featureElementInfo)==null||n.set({description:t,title:i})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_getRenderer(){const{isAggregate:t,layer:i}=this.viewModel;return t&&(i!=null&&i.featureReduction)&&"renderer"in i.featureReduction?i.featureReduction.renderer:i==null?void 0:i.renderer}async _getRendererColors(t){const{am4core:i}=t,n=new Map,r=this._getRenderer(),s="default";if(!r)return n;const a=await SOe(r);return a.delete(s),Array.from(a.values()).every(o=>(o==null?void 0:o.length)===1)&&(n.set(p9,i.color({r:50,g:50,b:50,a:1})),Array.from(a.keys()).forEach(o=>{var l;o&&n.set(o,i.color((l=a.get(o))==null?void 0:l[0].toCss(!0)))})),n}_handleMediaKeyup(t){const i=of(t);i==="ArrowLeft"&&(t.stopPropagation(),this.viewModel.previous()),i==="ArrowRight"&&(t.stopPropagation(),this.viewModel.next())}_renderChart(t){const{abilities:i}=this.viewModel,{chartsModule:n,chartDiv:r,mediaInfo:s,colorMap:a}=t,{value:o,type:l}=s,{am4core:c}=n,h=X5e(c);function p(y){y instanceof c.ColorSet&&h&&(y.list=h)}_I()&&c.useTheme(n.am4themes_dark);const m=window.matchMedia("(prefers-reduced-motion: reduce)");i.chartAnimation&&!m.matches?c.useTheme(n.am4themes_animated):c.unuseTheme(n.am4themes_animated),c.useTheme(p);const g=l==="pie-chart"?this._createPieChart(t):this._createXYChart(t);r.setAttribute("aria-label",s.altText||s.title),g.data=o.series.map(y=>({[Ju]:y.tooltip,[qv]:y.value,[mc]:a.get(y.fieldName)})).filter(y=>l!=="pie-chart"||y.value!=null&&y.value>0)}_customizeChartTooltip(t,i){t&&(t.label.wrap=!0,t.label.maxWidth=200,t.autoTextColor=!1,t.getFillFromObject=!1,t.label.fill=i.color("#ffffff"),t.background.fill=i.color({r:0,g:0,b:0,a:.7}))}_createPieChart(t){const{chartDiv:i,chartsModule:n}=t,{am4core:r,am4charts:s}=n,a=r.create(i,s.PieChart);a.rtl=Ul(this.container);const o=a.series.push(new s.PieSeries);return o.labels.template.disabled=!0,o.ticks.template.disabled=!0,o.dataFields.value=qv,o.dataFields.category=Ju,this._customizeChartTooltip(o.tooltip,r),o.slices.template.propertyFields.fill=mc,o.slices.template.propertyFields.stroke=mc,a}_getMinSeriesValue(t){let i=0;return t.forEach(n=>i=Math.min(n.value,i)),i}_createColumnChart(t,i){const{chartsModule:n,mediaInfo:r}=i,{value:s}=r,{am4core:a,am4charts:o}=n,l=t.xAxes.push(new o.CategoryAxis);l.dataFields.category=Ju,l.renderer.labels.template.disabled=!0;const c=l.tooltip;this._customizeChartTooltip(c,a),c.events.on("sizechanged",()=>{c.dy=-c.contentHeight});const h=t.yAxes.push(new o.ValueAxis),p=h.renderer.labels.template;h.renderer.minLabelPosition=FA,h.renderer.maxLabelPosition=NA,h.min=this._getMinSeriesValue(s.series),this._customizeChartTooltip(h.tooltip,a),p.wrap=!0;const m=t.series.push(new o.ColumnSeries);m.dataFields.valueY=qv,m.dataFields.categoryX=Ju,m.columns.template.propertyFields.fill=mc,m.columns.template.propertyFields.stroke=mc,t.cursor=new o.XYCursor,s.series.length>zA&&(t.scrollbarX=new a.Scrollbar)}_createBarChart(t,i){const{chartsModule:n,mediaInfo:r}=i,{value:s}=r,{am4core:a,am4charts:o}=n,l=t.yAxes.push(new o.CategoryAxis);l.dataFields.category=Ju,l.renderer.inversed=!0,l.renderer.labels.template.disabled=!0;const c=l.tooltip;this._customizeChartTooltip(c,a),c.events.on("sizechanged",()=>{c.dx=c.contentWidth});const h=t.xAxes.push(new o.ValueAxis),p=h.renderer.labels.template;h.renderer.minLabelPosition=FA,h.renderer.maxLabelPosition=NA,h.min=this._getMinSeriesValue(s.series),this._customizeChartTooltip(h.tooltip,a),p.wrap=!0;const m=t.series.push(new o.ColumnSeries);m.dataFields.valueX=qv,m.dataFields.categoryY=Ju,m.columns.template.propertyFields.fill=mc,m.columns.template.propertyFields.stroke=mc,t.cursor=new o.XYCursor,s.series.length>zA&&(t.scrollbarY=new a.Scrollbar)}_createLineChart(t,i){const{chartsModule:n,mediaInfo:r,colorMap:s}=i,{value:a}=r,{am4core:o,am4charts:l}=n,c=t.xAxes.push(new l.CategoryAxis);c.dataFields.category=Ju,c.renderer.labels.template.disabled=!0;const h=c.tooltip;this._customizeChartTooltip(h,o),h.events.on("sizechanged",()=>{h.dy=-h.contentHeight});const p=t.yAxes.push(new l.ValueAxis),m=p.renderer.labels.template;p.renderer.minLabelPosition=FA,p.renderer.maxLabelPosition=NA,p.min=this._getMinSeriesValue(a.series),this._customizeChartTooltip(p.tooltip,o),m.wrap=!0;const g=t.series.push(new l.LineSeries);g.dataFields.categoryX=Ju,g.dataFields.valueY=qv,g.strokeWidth=1;const y=s.get(p9);y&&(g.stroke=y);const b=g.bullets.push(new l.CircleBullet);b.propertyFields.fill=mc,b.propertyFields.stroke=mc,t.cursor=new l.XYCursor,a.series.length>zA&&(t.scrollbarX=new o.Scrollbar)}_createXYChart(t){const{chartDiv:i,chartsModule:n,mediaInfo:r}=t,{type:s}=r,{am4core:a,am4charts:o}=n,l=a.create(i,o.XYChart);return l.rtl=Ul(this.container),s==="column-chart"&&this._createColumnChart(l,t),s==="bar-chart"&&this._createBarChart(l,t),s==="line-chart"&&this._createLineChart(l,t),l}_clearMediaRefreshTimer(){const{_refreshTimer:t}=this;t&&(clearTimeout(t),this._refreshTimer=null)}_updateMediaInfoTimestamp(t){const i=Date.now();this._refreshIntervalInfo={timestamp:i,sourceURL:t&&this._getImageSource(t,i)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:t}=this.viewModel;t&&t.type==="image"&&t.refreshInterval&&this._setRefreshTimeout(t)}_setRefreshTimeout(t){const{refreshInterval:i,value:n}=t;if(!i)return;const r=6e4*i;this._updateMediaInfoTimestamp(n.sourceURL);const s=setInterval(()=>{this._updateMediaInfoTimestamp(n.sourceURL)},r);this._refreshTimer=s}_getImageSource(t,i){const n=t.includes("?")?"&":"?",[r,s=""]=t.split("#");return`${r}${n}timestamp=${i}${s?"#":""}${s}`}};u([d()],Xr.prototype,"attributes",null),u([d()],Xr.prototype,"activeMediaInfoIndex",null),u([d()],Xr.prototype,"description",null),u([d()],Xr.prototype,"fieldInfoMap",null),u([d()],Xr.prototype,"layer",null),u([d()],Xr.prototype,"mediaInfos",null),u([d()],Xr.prototype,"popupTemplate",null),u([d()],Xr.prototype,"relatedInfos",null),u([d()],Xr.prototype,"title",null),u([d({type:Pf})],Xr.prototype,"viewModel",void 0),u([d(),hr("esri/widgets/Feature/t9n/Feature")],Xr.prototype,"messages",void 0),Xr=u([I("esri.widgets.Feature.FeatureMedia")],Xr);const $ne=Xr;var Y5;let Ub=Y5=class extends W{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new Y5({minValue:this.minValue,maxValue:this.maxValue})}};u([d({type:Number,json:{write:!0}})],Ub.prototype,"minValue",void 0),u([d({type:Number,json:{write:!0}})],Ub.prototype,"maxValue",void 0),Ub=Y5=u([I("esri.renderer.support.AuthoringInfoClassBreakInfo")],Ub);var J5;let jd=J5=class extends W{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new J5({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:z(this.classBreakInfos)})}};u([d({type:String,json:{write:!0}})],jd.prototype,"field",void 0),u([d({type:String,json:{write:!0}})],jd.prototype,"normalizationField",void 0),u([d({type:String,json:{write:!0}})],jd.prototype,"label",void 0),u([d({type:[Ub],json:{write:!0}})],jd.prototype,"classBreakInfos",void 0),jd=J5=u([I("esri.renderers.support.AuthoringInfoFieldInfo")],jd);var Z5;const pS=new nt({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),fS=new nt({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),f9={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},m9=["high-to-low","above-and-below","centered-on","extremes"],g9=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],y9=["seconds","minutes","hours","days","months","years"];let es=Z5=class extends W{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new Z5({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};u([d({types:f9,json:{write:!0}})],es.prototype,"endTime",void 0),u([ct("endTime")],es.prototype,"castEndTime",null),u([d({type:String,json:{write:!0}})],es.prototype,"field",void 0),u([d({type:Number,json:{write:!0}})],es.prototype,"maxSliderValue",void 0),u([d({type:Number,json:{write:!0}})],es.prototype,"minSliderValue",void 0),u([d({types:f9,json:{write:!0}})],es.prototype,"startTime",void 0),u([ct("startTime")],es.prototype,"castStartTime",null),u([d({type:pS.apiValues,value:null,json:{type:pS.jsonValues,read:pS.read,write:pS.write}})],es.prototype,"style",null),u([d({type:g9,value:null,json:{type:g9,origins:{"web-scene":{type:m9,write:{writer:(e,t)=>{m9.includes(e)&&(t.theme=e)}}}},write:!0}})],es.prototype,"theme",null),u([d({type:fS.apiValues,json:{type:fS.jsonValues,read:fS.read,write:fS.write}})],es.prototype,"type",void 0),u([d({type:y9,json:{type:y9,write:!0}})],es.prototype,"units",void 0),es=Z5=u([I("esri.renderers.support.AuthoringInfoVisualVariable")],es);const eRe=es;let J2=class extends W{constructor(t){super(t),this.type=null}};u([d({readOnly:!0,json:{read:!1,write:!0}})],J2.prototype,"type",void 0),J2=u([I("esri.rest.support.ColorRamp")],J2);const x4=J2;var Q5;let zp=Q5=class extends x4{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new Q5({fromColor:z(this.fromColor),toColor:z(this.toColor),algorithm:this.algorithm})}};u([xe({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],zp.prototype,"algorithm",void 0),u([d({type:de,json:{type:[Nt],write:!0}})],zp.prototype,"fromColor",void 0),u([d({type:de,json:{type:[Nt],write:!0}})],zp.prototype,"toColor",void 0),u([d({type:["algorithmic"]})],zp.prototype,"type",void 0),zp=Q5=u([I("esri.rest.support.AlgorithmicColorRamp")],zp);const S4=zp;var X5;let Bb=X5=class extends x4{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new X5({colorRamps:z(this.colorRamps)})}};u([d({type:[S4],json:{write:!0}})],Bb.prototype,"colorRamps",void 0),u([d({type:["multipart"]})],Bb.prototype,"type",void 0),Bb=X5=u([I("esri.rest.support.MultipartColorRamp")],Bb);const Ane=Bb,tRe={key:"type",base:x4,typeMap:{algorithmic:S4,multipart:Ane}};function iRe(e){return e&&e.type?e.type==="algorithmic"?S4.fromJSON(e):e.type==="multipart"?Ane.fromJSON(e):null:null}var eR;const ap=new nt({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),mS=new nt({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),v9=new nt({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),b9=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],nRe=["high-to-low","above-and-below","above","below","90-10"],rRe=["flow-line","wave-front"],sRe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let bi=eR=class extends W{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?iRe(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new eR({classificationMethod:this.classificationMethod,colorRamp:z(this.colorRamp),fadeRatio:z(this.fadeRatio),fields:this.fields&&this.fields.slice(0),field1:z(this.field1),field2:z(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};u([d({type:ap.apiValues,value:null,json:{type:ap.jsonValues,read:ap.read,write:ap.write,origins:{"web-document":{default:"manual",type:ap.jsonValues,read:ap.read,write:ap.write}}}})],bi.prototype,"classificationMethod",null),u([d({types:tRe,json:{write:!0}})],bi.prototype,"colorRamp",void 0),u([ee("colorRamp")],bi.prototype,"readColorRamp",null),u([d({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],bi.prototype,"fadeRatio",void 0),u([d({type:[String],value:null,json:{write:!0}})],bi.prototype,"fields",null),u([d({type:jd,value:null,json:{write:!0}})],bi.prototype,"field1",null),u([d({type:jd,value:null,json:{write:!0}})],bi.prototype,"field2",null),u([d({type:rRe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],bi.prototype,"flowTheme",null),u([d({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],bi.prototype,"focus",null),u([d({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],bi.prototype,"isAutoGenerated",void 0),u([d({type:Number,value:null,json:{type:Nt,write:!0}})],bi.prototype,"numClasses",null),u([d({type:b9,json:{type:b9,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],bi.prototype,"lengthUnit",void 0),u([d({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],bi.prototype,"maxSliderValue",void 0),u([d({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],bi.prototype,"minSliderValue",void 0),u([d({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],bi.prototype,"statistics",null),u([d({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],bi.prototype,"standardDeviationInterval",null),u([d({type:mS.apiValues,value:null,json:{type:mS.jsonValues,read:mS.read,write:mS.write,origins:{"web-scene":{type:v9.jsonValues,write:{writer:v9.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],bi.prototype,"type",null),u([d({type:[eRe],json:{write:!0}})],bi.prototype,"visualVariables",void 0),u([d({type:sRe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],bi.prototype,"univariateSymbolStyle",null),u([d({type:nRe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],bi.prototype,"univariateTheme",null),bi=eR=u([I("esri.renderers.support.AuthoringInfo")],bi);const E4=bi,VA=new nt({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let Hb=class extends W{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const i=new Set;return await this.collectRequiredFields(i,t),Array.from(i).sort()}getSymbol(t,i){}async getSymbolAsync(t,i){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};u([d({type:E4,json:{write:!0}})],Hb.prototype,"authoringInfo",void 0),u([d({type:VA.apiValues,readOnly:!0,json:{type:VA.jsonValues,read:!1,write:{writer:VA.write,ignoreOrigin:!0}}})],Hb.prototype,"type",void 0),Hb=u([I("esri.renderers.Renderer")],Hb);const Fu=Hb;function aRe(e){var t,i;return((i=(t=e.match(oRe))==null?void 0:t[1])==null?void 0:i.replace(/\\'/g,"'"))??null}const oRe=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var tR;let Gy=tR=class extends W{constructor(){super(...arguments),this.title=null}clone(){return new tR({title:this.title})}};u([d({type:String,json:{write:!0}})],Gy.prototype,"title",void 0),Gy=tR=u([I("esri.renderers.support.LegendOptions")],Gy);var iR;let Z2=iR=class extends Gy{constructor(){super(...arguments),this.showLegend=null}clone(){return new iR({title:this.title,showLegend:this.showLegend})}};u([d({type:Boolean,json:{write:!0}})],Z2.prototype,"showLegend",void 0),Z2=iR=u([I("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],Z2);const Mne=Z2,jA=new nt({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let $o=class extends W{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(Y.getLogger(this.declaredClass).error(".field: field must be a string value"),null):E_(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};u([d()],$o.prototype,"index",void 0),u([d({type:jA.apiValues,readOnly:!0,json:{read:jA.read,write:jA.write}})],$o.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],$o.prototype,"field",void 0),u([ct("field")],$o.prototype,"castField",null),u([d({type:String,json:{write:!0}})],$o.prototype,"valueExpression",void 0),u([d({type:String,json:{write:!0}})],$o.prototype,"valueExpressionTitle",void 0),u([d({readOnly:!0})],$o.prototype,"arcadeRequired",null),u([d({type:Mne,json:{write:!0}})],$o.prototype,"legendOptions",void 0),$o=u([I("esri.renderers.visualVariables.VisualVariable")],$o);const B_=$o;var nR;let Vp=nR=class extends B_{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){return new nR({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([d({readOnly:!0})],Vp.prototype,"cache",null),u([d({type:["color"],json:{type:["colorInfo"]}})],Vp.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Vp.prototype,"normalizationField",void 0),u([d({type:[dDe],json:{write:!0}})],Vp.prototype,"stops",null),Vp=nR=u([I("esri.renderers.visualVariables.ColorVariable")],Vp);const Dne=Vp;var rR;let vd=rR=class extends W{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return Uw(t.transparency)}writeOpacity(e,t,i){t[i]=GC(e)}clone(){return new rR({label:this.label,opacity:this.opacity,value:this.value})}};u([d({type:String,json:{write:!0}})],vd.prototype,"label",void 0),u([d({type:Number,json:{type:Nt,write:{target:"transparency"}}})],vd.prototype,"opacity",void 0),u([ee("opacity",["transparency"])],vd.prototype,"readOpacity",null),u([ue("opacity")],vd.prototype,"writeOpacity",null),u([d({type:Number,json:{write:!0}})],vd.prototype,"value",void 0),vd=rR=u([I("esri.renderers.visualVariables.support.OpacityStop")],vd);const lRe=vd;var sR;let jp=sR=class extends B_{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){return new sR({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([d({readOnly:!0})],jp.prototype,"cache",null),u([d({type:["opacity"],json:{type:["transparencyInfo"]}})],jp.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],jp.prototype,"normalizationField",void 0),u([d({type:[lRe],json:{write:!0}})],jp.prototype,"stops",null),jp=sR=u([I("esri.renderers.visualVariables.OpacityVariable")],jp);const One=jp;var aR;let Tc=aR=class extends B_{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,i,n){if(n&&n.messages){const r=`visualVariables[${this.index}]`;n.messages.push(new N("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:r+".valueExpressionTitle",context:n}))}}clone(){return new aR({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};u([d({readOnly:!0})],Tc.prototype,"cache",null),u([d({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Tc.prototype,"axis",void 0),u([d({type:["rotation"],json:{type:["rotationInfo"]}})],Tc.prototype,"type",void 0),u([d({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Tc.prototype,"rotationType",void 0),u([d({type:String,json:{write:!0}})],Tc.prototype,"valueExpressionTitle",void 0),u([ue("web-scene","valueExpressionTitle")],Tc.prototype,"writeValueExpressionTitleWebScene",null),Tc=aR=u([I("esri.renderers.visualVariables.RotationVariable")],Tc);const Rne=Tc;var oR;let Rg=oR=class extends W{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new oR({label:this.label,size:this.size,value:this.value})}};u([d({type:String,json:{write:!0}})],Rg.prototype,"label",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],Rg.prototype,"size",void 0),u([d({type:Number,json:{write:!0}})],Rg.prototype,"value",void 0),Rg=oR=u([I("esri.renderers.visualVariables.support.SizeStop")],Rg);const Pg=Rg;var lR;let Q2=lR=class extends Mne{constructor(){super(...arguments),this.customValues=null}clone(){return new lR({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};u([d({type:[Number],json:{write:!0}})],Q2.prototype,"customValues",void 0),Q2=lR=u([I("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],Q2);const cRe=Q2;var cu,gn;function lh(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function Xw(e){return e!=null&&!isNaN(e)&&isFinite(e)}function Pne(e){return e.valueExpression?cu.Expression:e.field&&typeof e.field=="string"?cu.Field:cu.Unknown}function uRe(e,t){const i=t||Pne(e),n=e.valueUnit||"unknown";return i===cu.Unknown?gn.Constant:e.stops?gn.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?gn.ClampedLinear:n==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?gn.Proportional:gn.Additive:gn.Identity:gn.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(cu||(cu={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(gn||(gn={}));function vKe(e){}function dRe(e){return()=>e}const k4={inches:ga(1,"meters","inches"),feet:ga(1,"meters","feet"),"us-feet":ga(1,"meters","us-feet"),yards:ga(1,"meters","yards"),miles:ga(1,"meters","miles"),"nautical-miles":ga(1,"meters","nautical-miles"),millimeters:ga(1,"meters","millimeters"),centimeters:ga(1,"meters","centimeters"),decimeters:ga(1,"meters","decimeters"),meters:ga(1,"meters","meters"),kilometers:ga(1,"meters","kilometers"),"decimal-degrees":1/FSe(1,"meters",Xt.radius)},Lh=Y.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),w9=new yr,X2=Math.PI,Lne=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function Fne(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(y=>y.type==="color"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void Lh.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const r=typeof t=="number",s=r?null:t,a=s&&s.attributes;let o=r?t:null;const l=n.field,{ipData:c,hasExpression:h}=n.cache;let p=n.cache.compiledFunc;if(!l&&!h){const y=n.stops;return y&&y[0]&&y[0].color}if(typeof o!="number")if(h){if(j(i)||j(i.arcade))return void Lh.error("Use of arcade expressions requires an arcade context");const y={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},b=i.arcade.arcadeUtils,w=b.getViewInfo(y),_=b.createExecContext(s,w);if(!p){const x=b.createSyntaxTree(n.valueExpression);p=b.createFunction(x),n.cache.compiledFunc=p}o=b.executeFunction(p,_)}else a&&(o=a[l]);const m=n.normalizationField,g=a!=null&&m!=null?parseFloat(a[m]):void 0;if(o!=null&&(!m||r||!isNaN(g)&&g!==0)){isNaN(g)||r||(o/=g);const y=I4(o,c);if(y){const b=y[0],w=y[1],_=b===w?n.stops[b].color:de.blendColors(n.stops[b].color,n.stops[w].color,y[2],$(i)?i.color:void 0);return new de(_)}}}function Nne(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(y=>y.type==="opacity"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void Lh.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const r=typeof t=="number",s=r?null:t,a=s&&s.attributes;let o=r?t:null;const l=n.field,{ipData:c,hasExpression:h}=n.cache;let p=n.cache.compiledFunc;if(!l&&!h){const y=n.stops;return y&&y[0]&&y[0].opacity}if(typeof o!="number")if(h){if(j(i)||j(i.arcade))return void Lh.error("Use of arcade expressions requires an arcade context");const y={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},b=i.arcade.arcadeUtils,w=b.getViewInfo(y),_=b.createExecContext(s,w);if(!p){const x=b.createSyntaxTree(n.valueExpression);p=b.createFunction(x),n.cache.compiledFunc=p}o=b.executeFunction(p,_)}else a&&(o=a[l]);const m=n.normalizationField,g=a!=null&&m!=null?parseFloat(a[m]):void 0;if(o!=null&&(!m||r||!isNaN(g)&&g!==0)){isNaN(g)||r||(o/=g);const y=I4(o,c);if(y){const b=y[0],w=y[1];if(b===w)return n.stops[b].opacity;{const _=n.stops[b].opacity;return _+(n.stops[w].opacity-_)*y[2]}}}}function zne(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="rotation"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void Lh.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const r=n.axis||"heading",s=r==="heading"&&n.rotationType==="arithmetic"?90:0,a=r==="heading"&&n.rotationType==="arithmetic"?-1:1,o=typeof t=="number"?null:t,l=o&&o.attributes,c=n.field,{hasExpression:h}=n.cache;let p=n.cache.compiledFunc,m=0;if(!c&&!h)return m;if(h){if(j(i)||j(i.arcade))return void Lh.error("Use of arcade expressions requires an arcade context");const g={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},y=i.arcade.arcadeUtils,b=y.getViewInfo(g),w=y.createExecContext(o,b);if(!p){const _=y.createSyntaxTree(n.valueExpression);p=y.createFunction(_),n.cache.compiledFunc=p}m=y.executeFunction(p,w)}else l&&(m=l[c]||0);return m=typeof m!="number"||isNaN(m)?null:s+a*m,m}function hRe(e,t,i){const n=typeof t=="number",r=n?null:t,s=r&&r.attributes;let a=n?t:null;const{isScaleDriven:o}=e.cache;let l=e.cache.compiledFunc;if(o){const h=$(i)?i.scale:void 0,p=$(i)?i.view:void 0;a=h==null||p==="3d"?pRe(e):h}else if(!n)switch(e.inputValueType){case cu.Expression:{if(j(i)||j(i.arcade))return void Lh.error("Use of arcade expressions requires an arcade context");const h={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},p=i.arcade.arcadeUtils,m=p.getViewInfo(h),g=p.createExecContext(r,m);if(!l){const y=p.createSyntaxTree(e.valueExpression);l=p.createFunction(y),e.cache.compiledFunc=l}a=p.executeFunction(l,g);break}case cu.Field:s&&(a=s[e.field]);break;case cu.Unknown:a=null}if(!Xw(a))return null;if(n||!e.normalizationField)return a;const c=s?parseFloat(s[e.normalizationField]):null;return Xw(c)&&c!==0?a/c:null}function pRe(e){let t=null,i=null;const n=e.stops;return n?(t=n[0].value,i=n[n.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}function hT(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(s=>s.type==="size"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void Lh.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const r=jne(hRe(n,t,i),n,t,i,n.cache.ipData);return r==null||isNaN(r)?0:r}function hs(e,t,i){return e==null?null:lh(e)?hT(e,t,i):Xw(e)?e:null}function Vne(e,t,i){return Xw(i)&&e>i?i:Xw(t)&&e<t?t:e}function fRe(e,t,i,n){return e+((hs(t.minSize,i,n)||t.minDataValue)??0)}function mRe(e,t,i){const n=e.stops;let r=n&&n.length&&n[0].size;return r==null&&(r=e.minSize),hs(r,t,i)}function gRe(e,t,i,n){const r=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),s=hs(t.minSize,i,n),a=hs(t.maxSize,i,n),o=$(n)?n.shape:void 0;if(e<=t.minDataValue)return s;if(e>=t.maxDataValue)return a;if(s==null||a==null)return null;if(t.scaleBy==="area"&&o){const l=o==="circle",c=l?X2*(s/2)**2:s*s,h=c+r*((l?X2*(a/2)**2:a*a)-c);return l?2*Math.sqrt(h/X2):Math.sqrt(h)}return s+r*(a-s)}function yRe(e,t,i,n){const r=$(n)?n.shape:void 0,s=e/t.minDataValue,a=hs(t.minSize,i,n),o=hs(t.maxSize,i,n);let l=null;return l=r==="circle"?2*Math.sqrt(s*(a/2)**2):r==="square"||r==="diamond"||r==="image"?Math.sqrt(s*a**2):s*a,Vne(l,a,o)}function vRe(e,t,i,n,r){var l,c,h;const[s,a,o]=I4(e,r);if(s===a)return hs((l=t.stops)==null?void 0:l[s].size,i,n);{const p=hs((c=t.stops)==null?void 0:c[s].size,i,n);return p+(hs((h=t.stops)==null?void 0:h[a].size,i,n)-p)*o}}function bRe(e,t,i,n){const r=($(n)&&n.resolution?n.resolution:1)*k4[t.valueUnit],s=hs(t.minSize,i,n),a=hs(t.maxSize,i,n),{valueRepresentation:o}=t;let l=null;return l=o==="area"?2*Math.sqrt(e/X2)/r:o==="radius"||o==="distance"?2*e/r:e/r,Vne(l,s,a)}function jne(e,t,i,n,r){switch(t.transformationType){case gn.Additive:return fRe(e,t,i,n);case gn.Constant:return mRe(t,i,n);case gn.ClampedLinear:return gRe(e,t,i,n);case gn.Proportional:return yRe(e,t,i,n);case gn.Stops:return vRe(e,t,i,n,r);case gn.RealWorldSize:return bRe(e,t,i,n);case gn.Identity:return e;case gn.Unknown:return null}}function wRe(e,t,i){const{isScaleDriven:n}=e.cache;if(!(n&&i==="3d"||t))return null;const r={scale:t,view:i};let s=hs(e.minSize,w9,r),a=hs(e.maxSize,w9,r);if(s!=null||a!=null){if(s>a){const o=a;a=s,s=o}return{minSize:s,maxSize:a}}}function _Re(e,t,i){if(!e.visualVariables)return;const n=[],r=[],s=[],a=[],o=[];for(const l of e.visualVariables)switch(l.type){case"color":r.push(l);break;case"opacity":s.push(l);break;case"rotation":o.push(l);break;case"size":a.push(l)}return r.forEach(l=>{const c=Fne(l,t,i);n.push({variable:l,value:c})}),s.forEach(l=>{const c=Nne(l,t,i);n.push({variable:l,value:c})}),o.forEach(l=>{const c=zne(l,t,i);n.push({variable:l,value:c})}),a.forEach(l=>{const c=hT(l,t,i);n.push({variable:l,value:c})}),n.filter(l=>l.value!=null)}function I4(e,t){if(!t)return;let i=0,n=t.length-1;return t.some((r,s)=>e<r?(n=s,!0):(i=s,!1)),[i,n,(e-t[i])/(t[n]-t[i])]}function xRe(e,t,i){const n=["proportional","proportional","proportional"];for(const r of e){const s=r.useSymbolValue?"symbol-value":hT(r,t,i);switch(r.axis){case"width":n[0]=s;break;case"depth":n[1]=s;break;case"height":n[2]=s;break;case"width-and-depth":n[0]=s,n[1]=s;break;case"all":case void 0:case null:n[0]=s,n[1]=s,n[2]=s;break;default:r.axis}}return n}const C4=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:xRe,getColor:Fne,getOpacity:Nne,getRotationAngle:zne,getSize:hT,getSizeForValue:jne,getSizeFromNumberOrVariable:hs,getSizeRangeAtScale:wRe,getVisualVariableValues:_Re,viewScaleRE:Lne},Symbol.toStringTag,{value:"Module"}));var cR;const gS=new nt({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),uR=new nt({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function _9(e){if(e!=null)return typeof e=="string"||typeof e=="number"?mt(e):e.type==="size"?lh(e)?e:(delete(e={...e}).type,new vt(e)):void 0}function x9(e,t,i){if(typeof e!="object")return e;const n=new vt;return n.read(e,i),n}let vt=cR=class extends B_{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&Lne.test(this.valueExpression)}}set expression(e){Y.getLogger(this.declaredClass).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),e==="view.scale"?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){lh(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),lh(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return Pne(this)}set maxDataValue(e){e&&this.stops&&(Y.getLogger(this.declaredClass).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(Y.getLogger(this.declaredClass).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return _9(e)}readMaxSize(e,t,i){return x9(e,t,i)}set minDataValue(e){e&&this.stops&&(Y.getLogger(this.declaredClass).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(Y.getLogger(this.declaredClass).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return _9(e)}readMinSize(e,t,i){return x9(e,t,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value):e&&(Y.getLogger(this.declaredClass).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return uRe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,i,n){if(e==="$view.scale"){if(n&&n.messages){const r=this.index,s=typeof r=="string"?r:`visualVariables[${r}]`;n.messages.push(new N("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:s+".valueExpression",context:n}))}}else t[i]=e}readValueUnit(e){return e?uR.read(e):null}clone(){return new cR({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:lh(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:lh(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===gn.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===gn.Stops){const e=this.stops;if(!e)return this;const t=e.map(n=>n.size).reverse(),i=e.length;for(let n=0;n<i;n++)e[n].size=t[n];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};u([d({readOnly:!0})],vt.prototype,"cache",null),u([d({type:gS.apiValues,json:{type:gS.jsonValues,origins:{"web-map":{read:!1}},read:gS.read,write:gS.write}})],vt.prototype,"axis",void 0),u([d({type:String,value:null,json:{read:!1}})],vt.prototype,"expression",null),u([d()],vt.prototype,"index",null),u([d({type:String,readOnly:!0})],vt.prototype,"inputValueType",null),u([d({type:cRe,json:{write:!0}})],vt.prototype,"legendOptions",void 0),u([d({type:Number,value:null,json:{write:!0}})],vt.prototype,"maxDataValue",null),u([d({type:Number,value:null,json:{write:!0}})],vt.prototype,"maxSize",null),u([ct("maxSize")],vt.prototype,"castMaxSize",null),u([ee("maxSize")],vt.prototype,"readMaxSize",null),u([d({type:Number,value:null,json:{write:!0}})],vt.prototype,"minDataValue",null),u([d({type:Number,value:null,json:{write:!0}})],vt.prototype,"minSize",null),u([ct("minSize")],vt.prototype,"castMinSize",null),u([ee("minSize")],vt.prototype,"readMinSize",null),u([d({type:String,json:{write:!0}})],vt.prototype,"normalizationField",void 0),u([d({readOnly:!0})],vt.prototype,"arcadeRequired",null),u([d({type:String})],vt.prototype,"scaleBy",void 0),u([d({type:[Pg],value:null,json:{write:!0}})],vt.prototype,"stops",null),u([d({type:["outline"],json:{write:!0}})],vt.prototype,"target",void 0),u([d({type:String,readOnly:!0})],vt.prototype,"transformationType",null),u([d({type:["size"],json:{type:["sizeInfo"]}})],vt.prototype,"type",void 0),u([d({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],vt.prototype,"useSymbolValue",void 0),u([d({type:String,json:{write:!0}})],vt.prototype,"valueExpression",void 0),u([ee("valueExpression",["valueExpression","expression"])],vt.prototype,"readValueExpression",null),u([ue("web-scene","valueExpression")],vt.prototype,"writeValueExpressionWebScene",null),u([d({type:["radius","diameter","area","width","distance"],json:{write:!0}})],vt.prototype,"valueRepresentation",void 0),u([d({type:uR.apiValues,json:{write:uR.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],vt.prototype,"valueUnit",void 0),u([ee("valueUnit")],vt.prototype,"readValueUnit",null),vt=cR=u([I("esri.renderers.visualVariables.SizeVariable")],vt);const pT=vt,SRe={color:Dne,size:pT,opacity:One,rotation:Rne},ERe=new nt({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),kRe=/^\[([^\]]+)\]$/i;let eE=class extends ve{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),(t=t&&t.filter(i=>!!i))&&t.length){for(const i of t)switch(i.type){case"color":this.colorVariables.push(i);break;case"opacity":this.opacityVariables.push(i);break;case"rotation":this.rotationVariables.push(i);break;case"size":this.sizeVariables.push(i)}this.sizeVariables.length&&this.sizeVariables.some(i=>!!i.target)&&t.sort((i,n)=>{let r=null;return r=i.target===n.target?0:i.target?1:-1,r});for(let i=0;i<t.length;i++)t[i].index=i;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,i,n){const{rotationExpression:r,rotationType:s}=i,a=r&&r.match(kRe),o=a&&a[1];if(o&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:s,field:o})),t)return t.map(l=>{const c=ERe.read(l.type),h=SRe[c];h||(Y.getLogger(this.declaredClass).warn(`Unknown variable type: ${c}`),n&&n.messages&&n.messages.push(new eo("visual-variable:unsupported",`visualVariable of type '${c}' is not supported`,{definition:l,context:n})));const p=new h;return p.read(l,n),p})}writeVariables(t,i){const n=[];for(const r of t){const s=r.toJSON(i);s&&n.push(s)}return n}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};u([d()],eE.prototype,"visualVariables",null),eE=u([I("esri.renderers.visualVariables.VisualVariableFactory")],eE);const IRe=eE,CRe={base:B_,key:"type",typeMap:{opacity:One,color:Dne,rotation:Rne,size:pT}},X0=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new IRe}set visualVariables(i){this._vvFactory.visualVariables=i,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(i,n,r){return this._vvFactory.readVariables(i,n,r)}writeVisualVariables(i,n,r,s){n[r]=this._vvFactory.writeVariables(i,s)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const i of this.visualVariables)if(i.arcadeRequired)return!0;return!1}hasVisualVariables(i,n){return i?this.getVisualVariablesForType(i,n).length>0:this.getVisualVariablesForType("size",n).length>0||this.getVisualVariablesForType("color",n).length>0||this.getVisualVariablesForType("opacity",n).length>0||this.getVisualVariablesForType("rotation",n).length>0}getVisualVariablesForType(i,n){const r=this.visualVariables;return r?r.filter(s=>s.type===i&&(typeof n=="string"?s.target===n:n!==!1||!s.target)):[]}async collectVVRequiredFields(i,n){let r=[];this.visualVariables&&(r=r.concat(this.visualVariables));for(const s of r)s&&(s.field&&Ws(i,n,s.field),s.normalizationField&&Ws(i,n,s.normalizationField),s.valueExpression&&(TRe(s.valueExpression,i,n)||await jr(i,n,s.valueExpression)))}};return u([d({types:[CRe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),u([ee("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),u([ue("visualVariables")],t.prototype,"writeVisualVariables",null),t=u([I("esri.renderers.mixins.VisualVariablesMixin")],t),t};function TRe(e,t,i){const n=aRe(e);return!!$(n)&&(Ws(t,i,n),!0)}const Wv={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function $Re(e,t=Wv){var o,l;if(!e)return{symbol:null};const{retainId:i=Wv.retainId,ignoreDrivers:n=Wv.ignoreDrivers,hasLabelingContext:r=Wv.hasLabelingContext,retainCIM:s=Wv.retainCIM}=t;let a=null;if(_0(e)||e instanceof Rm)a=e.clone();else if(e.type==="cim"){const c=(l=(o=e.data)==null?void 0:o.symbol)==null?void 0:l.type;if(c!=="CIMPointSymbol")return{error:new N("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${c||"unknown"}' is unsupported in 3D`,{symbol:e})};a=s?e.clone():kf.fromCIMSymbol(e)}else if(e instanceof ms)a=QC.fromSimpleLineSymbol(e);else if(e instanceof Pu)a=kf.fromSimpleMarkerSymbol(e);else if(e instanceof L_)a=kf.fromPictureMarkerSymbol(e);else if(e instanceof Wh)a=t.geometryType&&t.geometryType==="mesh"?XC.fromSimpleFillSymbol(e):F_.fromSimpleFillSymbol(e);else{if(!(e instanceof J0))return{error:new N("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=r?ZC.fromTextSymbol(e):kf.fromTextSymbol(e)}if(i&&a&&a.type!=="cim"&&(a.id=e.id),n&&_0(a))for(let c=0;c<a.symbolLayers.length;++c)a.symbolLayers.getItemAt(c)._ignoreDrivers=!0;return{symbol:a}}function xI(e,t,i,n){const r=Une(e,{},{context:n,isLabelSymbol:!1});$(r)&&(t[i]=r)}function S9(e,t,i,n){const r=Une(e,{},{context:n,isLabelSymbol:!0});$(r)&&(t[i]=r)}function E9(e){return e instanceof Y0||e instanceof Rm}function Une(e,t,i){if(j(e))return null;const{context:n,isLabelSymbol:r}=i,s=n==null?void 0:n.origin,a=n==null?void 0:n.messages;if(s==="web-scene"&&!E9(e)){const o=$Re(e,{retainCIM:!0,hasLabelingContext:r});return $(o.symbol)?o.symbol.write(t,n):(a==null||a.push(new N("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:n,error:o.error})),null)}return(s==="web-map"||s==="portal-item"&&!wie(n==null?void 0:n.layer))&&E9(e)?(a==null||a.push(new N("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:n})),null):e.write(t,n)}function wKe(e,t){return dTe(e,null,t)}const ev={types:tT,json:{write:{writer:xI},origins:{"web-scene":{types:jj,write:{writer:xI},read:{reader:Uh({types:jj})}}}}},Bne={types:{base:bs,key:"type",typeMap:{"simple-fill":Hf.typeMap["simple-fill"],"picture-fill":Hf.typeMap["picture-fill"],"polygon-3d":Hf.typeMap["polygon-3d"]}},json:{write:{writer:xI},origins:{"web-scene":{type:F_,write:{writer:xI}}}}},tE={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}};var dR;let bd=dR=class extends W{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new dR({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};u([d({type:String,json:{write:!0}})],bd.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],bd.prototype,"label",void 0),u([d({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],bd.prototype,"minValue",void 0),u([d({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],bd.prototype,"maxValue",void 0),u([d(ev)],bd.prototype,"symbol",void 0),bd=dR=u([I("esri.renderers.support.ClassBreakInfo")],bd);const SI=bd;var hR;const Hne="log",iE="percent-of-total",nE="field",yS=new nt({esriNormalizeByLog:Hne,esriNormalizeByPercentOfTotal:iE,esriNormalizeByField:nE}),ARe=Gi(SI);let Wi=hR=class extends X0(Fu){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,i){if(!Array.isArray(e))return;let n=t.minValue;return e.map(r=>{const s=new SI;return s.read(r,i),s.minValue==null&&(s.minValue=n),s.maxValue==null&&(s.maxValue=s.minValue),n=s.maxValue,s})}writeClassBreakInfos(e,t,i,n){const r=e.map(s=>s.write({},n));this._areClassBreaksConsecutive()&&r.forEach(s=>delete s.classMinValue),t[i]=r}castField(e){return e==null?e:typeof e=="function"?(Y.getLogger(this.declaredClass).error(".field: field must be a string value"),null):E_(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=this.normalizationTotal!=null;return t||i?(e=t&&nE||i&&iE||null,t&&i&&Y.getLogger(this.declaredClass).warn("warning: both normalizationField and normalizationTotal are set!")):e!==nE&&e!==iE||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,i){let n=null;n=typeof e=="number"?new SI({minValue:e,maxValue:t,symbol:dte(i)}):ARe(z(e)),this.classBreakInfos.push(n),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const i=this.classBreakInfos.length;for(let n=0;n<i;n++){const r=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(r[0]===e&&r[1]===t){this.classBreakInfos.splice(n,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(j(t)||j(t.arcade))&&Y.getLogger(this.declaredClass).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let i=t;this.valueExpression&&(j(t)||j(t.arcade))&&(i={...i,arcade:await wu()});const n=this.getBreakIndex(e,i);return n!==-1?this.classBreakInfos[n]:null}getSymbol(e,t){if(this.valueExpression&&(j(t)||j(t.arcade)))return void Y.getLogger(this.declaredClass).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(e,t);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(j(t)||j(t.arcade))){const r=await wu(),{arcadeUtils:s}=r;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),i={...i,arcade:r}}const n=this.getBreakIndex(e,i);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((n,r)=>n+r.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new hR({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:z(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:z(this.visualVariables),legendOptions:z(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),jr(e,t,this.valueExpression)];Ws(e,t,this.field),Ws(e,t,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(e,t){const{viewingMode:i,scale:n,spatialReference:r,arcade:s}=DF(t,{}),{valueExpression:a}=this;let o=this._compiledValueExpression.valueExpression===a?this._compiledValueExpression.compiledFunction:null;const l=s.arcadeUtils;if(!o){const h=l.createSyntaxTree(a);o=l.createFunction(h),this._compiledValueExpression.compiledFunction=o}this._compiledValueExpression.valueExpression=a;const c=l.executeFunction(o,l.createExecContext(e,l.getViewInfo({viewingMode:i,scale:n,spatialReference:r})));return this._getBreakIndexfromInfos(c)}_getBreakIndexForField(e){const t=this.field,i=e.attributes,n=this.normalizationType;let r=parseFloat(i[t]);if(n){const s=this.normalizationTotal,a=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if(n===Hne)r=Math.log(r)*Math.LOG10E;else if(n!==iE||s==null||isNaN(s)){if(n===nE&&!isNaN(a)){if(isNaN(r)||isNaN(a))return-1;r/=a}}else r=r/s*100}return this._getBreakIndexfromInfos(r)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let i=0;i<this.classBreakInfos.length;i++){const n=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(n[0]<=e&&(t?e<=n[1]:e<n[1]))return i}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let i=1;i<t;i++)if(e[i-1].maxValue!==e[i].minValue)return!1;return!0}};u([d(Bne)],Wi.prototype,"backgroundFillSymbol",void 0),u([d({type:[SI]})],Wi.prototype,"classBreakInfos",void 0),u([ee("classBreakInfos")],Wi.prototype,"readClassBreakInfos",null),u([ue("classBreakInfos")],Wi.prototype,"writeClassBreakInfos",null),u([d({type:String,json:{write:!0}})],Wi.prototype,"defaultLabel",void 0),u([d(ev)],Wi.prototype,"defaultSymbol",void 0),u([d({type:String,json:{write:!0}})],Wi.prototype,"field",void 0),u([ct("field")],Wi.prototype,"castField",null),u([d({type:Boolean})],Wi.prototype,"isMaxInclusive",void 0),u([d({type:Gy,json:{write:!0}})],Wi.prototype,"legendOptions",void 0),u([d({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Wi.prototype,"minValue",null),u([d({type:String,json:{write:!0}})],Wi.prototype,"normalizationField",void 0),u([d({type:Number,cast:e=>Ra(e),json:{write:!0}})],Wi.prototype,"normalizationTotal",void 0),u([d({type:yS.apiValues,value:null,json:{type:yS.jsonValues,read:yS.read,write:yS.write}})],Wi.prototype,"normalizationType",null),u([xe({classBreaks:"class-breaks"})],Wi.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Wi.prototype,"valueExpression",void 0),u([d({type:String,json:{write:!0}})],Wi.prototype,"valueExpressionTitle",void 0),Wi=hR=u([I("esri.renderers.ClassBreaksRenderer")],Wi);const Gne=Wi;let qne=class{constructor(t,i){this._storage=new Zie,this._storage.maxSize=t,i&&this._storage.registerRemoveFunc("",i)}put(t,i,n){this._storage.put(t,i,n,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}};const k9="esri.renderers.support.DictionaryLoader",MRe={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let T4=class{constructor(t,i,n){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new qne(100),this._dictionaryPromise=null,this.url=t,this.config=i,this.fieldMap=n}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,i){let n;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(i));try{n=await this._dictionaryPromise}catch(g){if(Vr(g))return this._dictionaryPromise=null,null}const r={};if(this.fieldMap)for(const g of this._symbolFields){const y=this.fieldMap[g];if(y&&t.attributes[y]!=null){const b=""+t.attributes[y];r[g]=b}else r[g]=""}const s=n==null?void 0:n(r,i);if(!s||typeof s!="string")return null;const a=RF(s).toString(),o=this._symbolCache.get(a);if(o)return o.catch(()=>{this._symbolCache.pop(a)}),o;const l=s.split(";"),c=[],h=[];for(const g of l)if(g)if(g.includes("po:")){const y=g.substr(3).split("|");if(y.length===3){const b=y[0],w=y[1];let _=y[2];if(w==="DashTemplate")_=_.split(" ").map(x=>Number(x));else if(w==="Color"){const x=new de(_).toRgba();_=[x[0],x[1],x[2],255*x[3]]}else _=Number(_);h.push({primitiveName:b,propertyName:w,value:_})}}else if(g.includes("|")){for(const y of g.split("|"))if(this._itemNames.has(y)){c.push(y);break}}else this._itemNames.has(g)&&c.push(g);const p=!$(t.geometry)||!t.geometry.hasZ&&t.geometry.type==="point",m=this._cimPartsToCIMSymbol(c,h,p,i);return this._symbolCache.put(a,m,1),m}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void Y.getLogger(k9).error("no valid URL!");const i=Tt(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:$(t)?t.signal:null}),[{data:n}]=await Promise.all([i,wu()]);if(!n)throw this._dictionaryPromise=null,new N("esri.renderers.DictionaryRenderer","Bad dictionary data!");const r=n.expression,s=n.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+n.cimRefTemplateUrl,this._itemNames=new Set(n.itemsNames),this._symbolFields=s.symbol;const a={};if(this.config){const c=this.config;for(const h in c)a[h]=c[h]}if(s.configuration)for(const c of s.configuration)a.hasOwnProperty(c.name)||(a[c.name]=c.value);const o=[];if($(t)&&t.fields&&this.fieldMap)for(const c of this._symbolFields){const h=this.fieldMap[c],p=t.fields.filter(m=>m.name===h);p.length>0&&o.push({...p[0],name:c})}const l=G2e(r,$(t)?t.spatialReference:null,o,a).then(c=>{const h={scale:0};return(p,m)=>{if(j(c))return null;const g=c.repurposeFeature({geometry:null,attributes:p});return h.scale=$(m)?m.scale??void 0:void 0,c.evaluate({$feature:g,$view:h})}}).catch(c=>(Y.getLogger(k9).error("Creating dictinoary expression failed:",c),null));return this._dictionaryPromise=l,l}async _cimPartsToCIMSymbol(t,i,n,r){const s=new Array(t.length);for(let l=0;l<t.length;l++)s[l]=this._getSymbolPart(t[l],r);const a=await Promise.all(s),o=this.fieldMap;if(o)for(const l of a)Wne(l,o);return new D_({data:this._combineSymbolParts(a,i,n)})}async _getSymbolPart(t,i){if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(s=>s.data);const n=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),r=Tt(n,{responseType:"json",query:{f:"json"},...i});this._ongoingRequests.set(t,r);try{return(await r).data}catch(s){throw this._ongoingRequests.delete(t),s}}_combineSymbolParts(t,i,n){if(!t||t.length===0)return null;const r={...t[0]};if(t.length>1){r.symbolLayers=[];for(const s of t){const a=s;r.symbolLayers.unshift(...a.symbolLayers)}}return n&&(r.callout=MRe),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:i}}};function Wne(e,t){if(!e)return;const i=e.symbolLayers;if(!i)return;let n=i.length;for(;n--;){const r=i[n];r&&r.enable!==!1&&r.type==="CIMVectorMarker"&&DRe(r,t)}}function DRe(e,t){const i=e.markerGraphics;if(i)for(const n of i){if(!n)continue;const r=n.symbol;if(r)switch(r.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":Wne(r,t);break;case"CIMTextSymbol":r.fieldMap=t}}}const SKe=Object.freeze(Object.defineProperty({__proto__:null,DictionaryLoader:T4},Symbol.toStringTag,{value:"Module"}));var pR;let Ao=pR=class extends X0(Fu){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new T4(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,i,n){n!=null&&n.origin||super.writeVisualVariables(e,t,i,n)}clone(){return new pR({config:z(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:z(this.fieldMap),url:z(this.url),visualVariables:z(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await jr(e,t,this.scaleExpression);for(const i in this.fieldMap){const n=this.fieldMap[i];t.has(n)&&e.add(n)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};u([d({type:T4})],Ao.prototype,"_loader",null),u([d({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Ao.prototype,"config",void 0),u([d({type:Object,json:{write:!0}})],Ao.prototype,"fieldMap",void 0),u([d({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Ao.prototype,"scaleExpression",void 0),u([ue("scaleExpression")],Ao.prototype,"writeData",null),u([d({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Ao.prototype,"scaleExpressionTitle",void 0),u([d({type:String,json:{write:!0}})],Ao.prototype,"url",void 0),u([ue("visualVariables")],Ao.prototype,"writeVisualVariables",null),Ao=pR=u([I("esri.renderers.DictionaryRenderer")],Ao);const ORe=Ao;var fR;let $c=fR=class extends W{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(Y.getLogger(this.declaredClass).error(".field: field must be a string value"),null):E_(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new fR({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([d({type:de,json:{type:[Number],write:!0}})],$c.prototype,"color",void 0),u([d({type:String,json:{write:!0}})],$c.prototype,"field",void 0),u([ct("field")],$c.prototype,"castField",null),u([d({type:String,json:{write:!0}})],$c.prototype,"label",void 0),u([d({type:String,json:{write:!0}})],$c.prototype,"valueExpression",void 0),u([d({type:String,json:{write:!0}})],$c.prototype,"valueExpressionTitle",void 0),$c=fR=u([I("esri.renderers.support.AttributeColorInfo")],$c);const Kne=$c;var mR;let rE=mR=class extends W{constructor(){super(...arguments),this.unit=null}clone(){return new mR({unit:this.unit})}};u([d({type:String,json:{write:!0}})],rE.prototype,"unit",void 0),rE=mR=u([I("esri.renderers.support.DotDensityLegendOptions")],rE);const RRe=rE;var gR;let ts=gR=class extends X0(Fu){constructor(e){super(e),this.attributes=null,this.backgroundColor=new de([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new ms,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new Wh({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){var e;return((e=this.attributes)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new gR({attributes:z(this.attributes),backgroundColor:z(this.backgroundColor),dotBlendingEnabled:z(this.dotBlendingEnabled),dotShape:z(this.dotShape),dotSize:z(this.dotSize),dotValue:z(this.dotValue),legendOptions:z(this.legendOptions),outline:z(this.outline),referenceScale:z(this.referenceScale),visualVariables:z(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){var t;return`${(t=this.attributes)==null?void 0:t.map(i=>i.field||i.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes??[])i.valueExpression&&await jr(e,t,i.valueExpression),i.field&&e.add(i.field)}};u([d({type:[Kne],json:{write:!0}})],ts.prototype,"attributes",void 0),u([d({type:de,json:{write:!0}})],ts.prototype,"backgroundColor",void 0),u([d({type:Boolean,json:{write:!0}})],ts.prototype,"dotBlendingEnabled",void 0),u([d({type:String,json:{write:!1}})],ts.prototype,"dotShape",void 0),u([d({type:Number,json:{write:!0}})],ts.prototype,"dotSize",void 0),u([d({type:RRe,json:{write:!0}})],ts.prototype,"legendOptions",void 0),u([d({type:ms,json:{default:null,write:!0}})],ts.prototype,"outline",void 0),u([d({type:Number,json:{write:!0}})],ts.prototype,"dotValue",void 0),u([d({type:Number,json:{write:!0}})],ts.prototype,"referenceScale",void 0),u([d({type:Number,json:{write:!0}})],ts.prototype,"seed",void 0),u([xe({dotDensity:"dot-density"})],ts.prototype,"type",void 0),ts=gR=u([I("esri.renderers.DotDensityRenderer")],ts);const PRe=ts;let Lg=class extends Wt(W){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};u([d({type:String,json:{write:!0}})],Lg.prototype,"minLabel",void 0),u([d({type:String,json:{write:!0}})],Lg.prototype,"maxLabel",void 0),u([d({type:String,json:{write:!0}})],Lg.prototype,"title",void 0),Lg=u([I("esri.renderers.support.HeatmapLegendOptions")],Lg);function fT(){return[0,0,0,0]}function LRe(e){return[e[0],e[1],e[2],e[3]]}function tv(e,t,i,n){return[e,t,i,n]}function FRe(e){const t=fT(),i=Math.min(4,e.length);for(let n=0;n<i;++n)t[n]=e[n];return t}function NRe(e,t){return new Float64Array(e,t,4)}function Yne(){return fT()}function Jne(){return tv(1,1,1,1)}function Zne(){return tv(1,0,0,0)}function Qne(){return tv(0,1,0,0)}function Xne(){return tv(0,0,1,0)}function ere(){return tv(0,0,0,1)}const zRe=Yne(),VRe=Jne(),jRe=Zne(),URe=Qne(),BRe=Xne(),HRe=ere();Object.freeze(Object.defineProperty({__proto__:null,ONES:VRe,UNIT_W:HRe,UNIT_X:jRe,UNIT_Y:URe,UNIT_Z:BRe,ZEROS:zRe,clone:LRe,create:fT,createView:NRe,fromArray:FRe,fromValues:tv,ones:Jne,unitW:ere,unitX:Zne,unitY:Qne,unitZ:Xne,zeros:Yne},Symbol.toStringTag,{value:"Module"}));const $4=2.4;function GRe(e){return xu(e*$4)}function qRe(e){return hee(e)/$4}function WRe(e,t,i,n){let{color:r,ratio:s}=t,{color:a,ratio:o}=i;o===s&&(o===1?s-=1e-6:o+=1e-6);const l=fs((n-s)/(o-s),0,1);oee(e,r.toArray(),a.toArray(),l)}function kKe(e){const i=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:o})=>o>=0&&o<=1).sort((o,l)=>o.ratio-l.ratio).map(({color:o,ratio:l})=>({color:o,ratio:Math.max(l,.001)})),e.length<1)return i;let n=e[0],r=e[0],s=1;const a=fT();for(let o=0;o<512;o++){const l=(o+.5)/512;for(;l>r.ratio&&s<e.length;)n=r,r=e[s++];WRe(a,n,r,l),i.set(a,4*o)}return i}function IKe(e,t,i,n){const{radius:r,fieldOffset:s,field:a}=t,o=Math.round(hee(r)),l=new Float64Array(i*n);let c,h=Number.NEGATIVE_INFINITY;const p=JRe(a,s),m=new Set;for(const g of e){const y=g.getCursor();for(;y.next();){const b=y.getObjectId();if(m.has(b))continue;m.add(b);const w=y.readLegacyPointGeometry(),_=128;if(w.x<-_||w.x>=i+_||w.y<-_||w.y>n+_)continue;const x=+p(y),S=Math.max(0,Math.round(w.x)-o),k=Math.max(0,Math.round(w.y)-o),A=Math.min(n,Math.round(w.y)+o),T=Math.min(i,Math.round(w.x)+o);for(let C=k;C<A;C++)for(let M=S;M<T;M++){const L=C*i+M,V=YRe(w.x-M,w.y-C,o);c=l[L]+=V*x,c>h&&(h=c)}}}return{matrix:l.buffer,max:h}}function CKe(e,t,i,n,r,s){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);const a=e.getImageData(0,0,t,t);i&&n&&a.data.set(new Uint8ClampedArray(KRe(t,i,n,r,s))),e.putImageData(a,0,0)}function KRe(e,t,i,n,r){const s=new Uint32Array(e*e),a="buffer"in t?t:new Float64Array(t),o="buffer"in i?new Uint32Array(i.buffer):new Uint32Array(new Uint8Array(i).buffer),l=o.length/(r-n);for(let c=0;c<a.length;c++){const h=a[c],p=Math.floor((h-n)*l);s[c]=o[fs(p,0,o.length-1)]}return s.buffer}function YRe(e,t,i){const n=Math.sqrt(e**2+t**2)/i;return n>1?0:3/(Math.PI*i**2)*(1-n**2)**2}function TKe(e,t){return typeof e=="function"?e:e?typeof t=="string"?i=>-1*+i[e]:i=>+i[e]+t:()=>1}function JRe(e,t){return e!=null?typeof t=="string"?i=>-1*+i.readAttribute(e):i=>+i.readAttribute(e)+t:i=>1}var yR;const tre="esri.renderers.HeatmapRenderer",ZRe=Y.getLogger(tre);function I9(e){if(e!=null){const{maxDensity:t,minDensity:i,radius:n}=e;if(t!=null||i!=null||n!=null){const{blurRadius:r,maxPixelIntensity:s,minPixelIntensity:a,...o}=e;return o}}return e}let dn=yR=class extends Fu{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new q1({ratio:0,color:new de("rgba(255, 140, 0, 0)")}),new q1({ratio:.75,color:new de("rgba(255, 140, 0, 1)")}),new q1({ratio:.9,color:new de("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(e){return I9(e)}get blurRadius(){return qRe(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",GRe(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/($4**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(e,t){this._warnedProps[e]||mr(this).getDefaultOrigin()==="user"&&(this._warnedProps[e]=!0,U0(()=>{xD(ZRe,e,{replacement:`${String(t)} (suggested value: ${this._get(t)})`,version:"4.24"})}))}read(e,t){e=I9(e),super.read(e,t)}getSymbol(){return new Pu}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const i=this.field,n=this.valueExpression;i&&typeof i=="string"&&await Ws(e,t,i),n&&typeof n=="string"&&await jr(e,t,n)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new yR({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:z(this.colorStops),field:this.field,legendOptions:z(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([d({type:E4,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],dn.prototype,"authoringInfo",void 0),u([d({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],dn.prototype,"blurRadius",null),u([d({type:[q1],json:{write:!0}})],dn.prototype,"colorStops",void 0),u([d({type:String,json:{write:!0}})],dn.prototype,"field",void 0),u([d({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:i==null})},origins:{"web-scene":{write:!1}}}})],dn.prototype,"fieldOffset",void 0),u([d({type:Lg,json:{write:!0}})],dn.prototype,"legendOptions",void 0),u([d({type:Number,json:{write:!0}})],dn.prototype,"maxDensity",void 0),u([d({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],dn.prototype,"maxPixelIntensity",null),u([d({type:Number,json:{write:!0}})],dn.prototype,"minDensity",void 0),u([d({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],dn.prototype,"minPixelIntensity",null),u([d({type:Number,cast:mt,json:{write:!0}})],dn.prototype,"radius",void 0),u([d({type:Number,range:{min:0},json:{default:0,write:!0}})],dn.prototype,"referenceScale",void 0),u([xe({heatmap:"heatmap"})],dn.prototype,"type",void 0),u([d({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],dn.prototype,"valueExpression",void 0),u([d({type:String})],dn.prototype,"valueExpressionTitle",void 0),u([d({readOnly:!0})],dn.prototype,"_pixelIntensityToDensity",null),dn=yR=u([I(tre)],dn);const ire=dn;let hf=class extends Wt(W){constructor(){super(...arguments),this.color=new de([0,0,0,0]),this.label=null,this.threshold=0}};u([d({type:de,json:{write:!0}})],hf.prototype,"color",void 0),u([d({type:String,json:{write:!0}})],hf.prototype,"label",void 0),u([d({type:Number,range:{min:0,max:1},json:{write:!0}})],hf.prototype,"threshold",void 0),hf=u([I("esri.renderers.support.OthersCategory")],hf);let sE=class extends Wt(W){constructor(){super(...arguments),this.title=null}};u([d({type:String,json:{write:!0}})],sE.prototype,"title",void 0),sE=u([I("esri.renderers.support.PieChartLegendOptions")],sE);let Ts=class extends X0(Wt(Fu)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new de([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new hf,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){var t;return new Pu({size:this.size?this.size/2+(((t=this.outline)==null?void 0:t.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter($)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((t,i)=>t+i.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((t,i)=>t+JSON.stringify(i),"")}async collectRequiredFields(t,i){await this.collectVVRequiredFields(t,i);for(const n of this.attributes)n.valueExpression&&await jr(t,i,n.valueExpression),n.field&&t.add(n.field)}};u([d({type:[Kne],json:{write:!0}})],Ts.prototype,"attributes",void 0),u([d({type:Wh,json:{default:null,write:!0}})],Ts.prototype,"backgroundFillSymbol",void 0),u([d({type:de,json:{write:!0}})],Ts.prototype,"defaultColor",void 0),u([d({type:String,json:{write:!0}})],Ts.prototype,"defaultLabel",void 0),u([d({type:Number,range:{min:0,max:1},json:{write:!0}})],Ts.prototype,"holePercentage",void 0),u([d({type:hf,json:{write:!0}})],Ts.prototype,"othersCategory",void 0),u([d({type:sE,json:{write:!0}})],Ts.prototype,"legendOptions",void 0),u([d({type:ms,json:{default:null,write:!0}})],Ts.prototype,"outline",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],Ts.prototype,"size",void 0),u([xe({pieChart:"pie-chart"})],Ts.prototype,"type",void 0),Ts=u([I("esri.renderers.PieChartRenderer")],Ts);const QRe=Ts;var vR;let Up=vR=class extends X0(Fu){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(i=>i.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new vR({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:z(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};u([d({type:String,json:{write:!0}})],Up.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],Up.prototype,"label",void 0),u([d(ev)],Up.prototype,"symbol",void 0),u([xe({simple:"simple"})],Up.prototype,"type",void 0),Up=vR=u([I("esri.renderers.SimpleRenderer")],Up);const Eu=Up,XRe=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function bR(e){return e instanceof ve}function C9(e){return e instanceof Ie?Object.keys(e.items):bR(e)?mr(e).keys():e?Object.keys(e):[]}function vS(e,t){return e instanceof Ie?e.items[t]:e[t]}function ePe(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function Y1(e){return e?e.declaredClass:null}function nre(e,t){const i=e.diff;if(i&&typeof i=="function")return i(e,t);const n=C9(e),r=C9(t);if(n.length===0&&r.length===0)return;if(!n.length||!r.length||ePe(e,t))return{type:"complete",oldValue:e,newValue:t};const s=r.filter(p=>!n.includes(p)),a=n.filter(p=>!r.includes(p)),o=n.filter(p=>r.includes(p)&&vS(e,p)!==vS(t,p)).concat(s,a).sort(),l=Y1(e);if(l&&XRe.includes(l)&&o.length)return{type:"complete",oldValue:e,newValue:t};let c;const h=bR(e)&&bR(t);for(const p of o){const m=vS(e,p),g=vS(t,p);let y;if((h||typeof m!="function"&&typeof g!="function")&&m!==g&&(m!=null||g!=null)){if(i&&i[p]&&typeof i[p]=="function")y=i[p](m,g);else if(m instanceof Date&&g instanceof Date){if(m.getTime()===g.getTime())continue;y={type:"complete",oldValue:m,newValue:g}}else y=typeof m=="object"&&typeof g=="object"&&Y1(m)===Y1(g)?nre(m,g):{type:"complete",oldValue:m,newValue:g};$(y)&&($(c)?c.diff[p]=y:c={type:"partial",diff:{[p]:y}})}}return c}function tPe(e,t){if(j(e))return!1;const i=t.split(".");let n=e;for(const r of i){if(n.type==="complete")return!0;if(n.type!=="partial")return!1;{const s=n.diff[r];if(!s)return!1;n=s}}return!0}function DKe(e,t){for(const i of t)if(tPe(e,i))return!0;return!1}function iPe(e,t){if(!(typeof e=="function"||typeof t=="function"||j(e)&&j(t)))return j(e)||j(t)||typeof e=="object"&&typeof t=="object"&&Y1(e)!==Y1(t)?{type:"complete",oldValue:e,newValue:t}:nre(e,t)}let Fg=class extends Wt(W){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};u([d(tE)],Fg.prototype,"value",void 0),u([d(tE)],Fg.prototype,"value2",void 0),u([d(tE)],Fg.prototype,"value3",void 0),Fg=u([I("esri.renderers.support.UniqueValue")],Fg);const qy=Fg;let wd=class extends Wt(W){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const i=typeof(t=Array.isArray(t)?t:[t])[0];return i==="string"||i==="number"?t.map(n=>new qy({value:n})):i==="object"?t[0]instanceof qy?t:t.map(n=>new qy(n)):null}};u([d({type:String,json:{write:!0}})],wd.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],wd.prototype,"label",void 0),u([d(ev)],wd.prototype,"symbol",void 0),u([d({type:[qy],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new qy({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const i=[];for(const n of e){const r=[n.value,n.value2,n.value3].filter($).map(s=>s.toString());i.push(r)}t.values=i}}}})],wd.prototype,"values",void 0),u([ct("values")],wd.prototype,"castValues",null),wd=u([I("esri.renderers.support.UniqueValueClass")],wd);const rre=wd;let Gb=class extends Wt(W){constructor(t){super(t),this.heading=null,this.classes=null}};u([d({type:String,json:{write:!0}})],Gb.prototype,"heading",void 0),u([d({type:[rre],json:{write:!0}})],Gb.prototype,"classes",void 0),Gb=u([I("esri.renderers.support.UniqueValueGroup")],Gb);const wR=Gb;var _R;let Bp=_R=class extends W{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new _R({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};u([d({type:String,json:{write:!0}})],Bp.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],Bp.prototype,"label",void 0),u([d(ev)],Bp.prototype,"symbol",void 0),u([d(tE)],Bp.prototype,"value",void 0),Bp=_R=u([I("esri.renderers.support.UniqueValueInfo")],Bp);const J1=Bp,nPe=()=>!!G("enable-feature:force-wosr"),LKe=()=>!!G("enable-feature:SceneLayer-editing");let UA={};async function rPe(e,t){try{return{data:(await lPe(e,t)).data,baseUrl:Ree(e),styleUrl:e}}catch(i){return Vs(i),null}}function sPe(e,t,i){const n=$(t.portal)?t.portal:gr.getDefault();let r;const s=`${n.url} - ${n.user&&n.user.username} - ${e}`;return UA[s]||(UA[s]=aPe(e,n,i).then(a=>(r=a,a.fetchData())).then(a=>({data:a,baseUrl:r.itemUrl??"",styleName:e}))),UA[s]}function aPe(e,t,i){return t.load(i).then(()=>{const n=new Yc({disableExtraQuery:!0,query:`owner:${T9} AND type:${$9} AND typekeywords:"${e}"`});return t.queryItems(n,i)}).then(({results:n})=>{var a;let r=null;const s=e.toLowerCase();if(n&&Array.isArray(n)){for(const o of n)if(((a=o.typeKeywords)==null?void 0:a.some(c=>c.toLowerCase()===s))&&o.type===$9&&o.owner===T9){r=o;break}}if(!r)throw new N("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return r.load(i)})}function oPe(e,t,i){return e&&$(e.styleUrl)?rPe(e.styleUrl,i):e&&$(e.styleName)?sPe(e.styleName,t,i):Promise.reject(new N("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function FKe(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function NKe(e,t){if(t==="cimRef")return e.cimRef;if(e.formatInfos&&!nPe()){for(const i of e.formatInfos)if(i.type==="gltf")return i.href}return e.webRef}function lPe(e,t){const i={responseType:"json",query:{f:"json"},...t};return Tt(Ys(e),i)}const T9="esri_en",$9="Style",zKe="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var qb;const sre="esri.renderers.UniqueValueRenderer",Zu=Y.getLogger(sre),A9="uvInfos-watcher",M9="uvGroups-watcher",cPe=",",uPe=Gi(J1);function dPe(e){const{field1:t,field2:i,field3:n,fieldDelimiter:r,uniqueValueInfos:s,valueExpression:a}=e,o=!(!t||!i);return[{classes:(s??[]).map(l=>{var _;const{symbol:c,label:h,value:p,description:m}=l,[g,y,b]=o?((_=p==null?void 0:p.toString())==null?void 0:_.split(r||""))||[]:[p],w=[];return(t||a)&&w.push(g),i&&w.push(y),n&&w.push(b),{symbol:c,label:h,values:[w],description:m}})}]}let ri=qb=class extends X0(Fu){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,i){if(!t&&!i)return;if(!t||!i)return{type:"complete",oldValue:t,newValue:i};let n=!1;const r={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let s=0;s<i.length;s++){const a=t.find(o=>o.value===i[s].value);a?iPe(a,i[s])?(r.changed.push({type:"complete",oldValue:a,newValue:i[s]}),n=!0):r.unchanged.push({oldValue:a,newValue:i[s]}):(r.added.push(i[s]),n=!0)}for(let s=0;s<t.length;s++)i.find(a=>a.value===t[s].value)||(r.removed.push(t[s]),n=!0);return n?r:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:E_(e)}writeField(e,t,i,n){typeof e=="string"?t[i]=e:n&&n.messages?n.messages.push(new N("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):Zu.error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,i){return i.portal||gr.getDefault()}readStyleOrigin(e,t,i){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const n=W0(t.styleUrl,i);return Object.freeze({styleUrl:n})}}writeStyleOrigin(e,t,i,n){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=R_(e.styleUrl,n))}set uniqueValueGroups(e){this.styleOrigin?Zu.error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?Zu.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){var n;if(this.styleOrigin)return void Zu.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof e=="object"?uPe(e):new J1({value:e,symbol:dte(t)}),(n=this.uniqueValueInfos)==null||n.push(i),this._valueInfoMap[i.value]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void Zu.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t){for(let i=0;i<t.length;i++)if(t[i].value===e+""){delete this._valueInfoMap[e],t.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let i=t;return this.valueExpression&&(j(t)||j(t.arcade))&&(i={...i,arcade:await wu()}),this._getUniqueValueInfo(e,i)}getSymbol(e,t){if(this.valueExpression&&(j(t)||j(t.arcade)))return void Zu.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(e,t);return i&&i.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(j(i)||j(i.arcade))){const r=await wu(),{arcadeUtils:s}=r;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),i={...i,arcade:r}}const n=this._getUniqueValueInfo(e,i);return n&&n.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){var n;const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=(n=this.uniqueValueInfos)==null?void 0:n.reduce((r,s)=>r+s.getMeshHash(),"");return`${e}.${t}.${i}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new qb({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:z(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:z(this.visualVariables),legendOptions:z(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:z(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=z(this.uniqueValueInfos),i=z(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(z(this.styleOrigin))),Object.freeze(t),Object.freeze(i)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",i),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),jr(e,t,this.valueExpression)];Ws(e,t,this.field),Ws(e,t,this.field2),Ws(e,t,this.field3),await Promise.all(i)}populateFromStyle(){return oPe(this.styleOrigin,{portal:this.portal}).then(e=>{var i;const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(n=>{const r=new Rm({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:n.name});this.defaultSymbol||n.name!==e.data.defaultItem||(this.defaultSymbol=r,this._isDefaultSymbolDerived=!0);const s=new J1({value:n.name,symbol:r});t.push(s),this._valueInfoMap[n.name]=s}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((i=this.uniqueValueInfos)!=null&&i.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",cPe)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[t.value+""]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(A9);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const i of e)t.push(X(()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description}),(n,r)=>{n!==r&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,A9)}}_watchUniqueValueGroups(){this.removeHandles(M9);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const i of e){t.push(X(()=>({classes:i.classes}),(n,r)=>{n!==r&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const n of i.classes??[])t.push(X(()=>({symbol:n.symbol,values:n.values,label:n.label,description:n.description}),(r,s)=>{r!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,M9)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:i,field3:n,fieldDelimiter:r,uniqueValueGroups:s,valueExpression:a}=this;if(!t&&!a)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const o=!(!t||!i);for(const l of s)for(const c of l.classes??[]){const{symbol:h,label:p,values:m,description:g}=c;for(const y of m??[]){const{value:b,value2:w,value3:_}=y,x=[b];i&&x.push(w),n&&x.push(_);const S=o?x.join(r||""):x[0];e.push(new J1({symbol:h,label:p,value:S,description:g}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:i,valueExpression:n,fieldDelimiter:r,uniqueValueInfos:s}=this;if(!t&&!n||!s.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const a=!(!t||!i),o=s.map(c=>{var _;const{symbol:h,label:p,value:m,description:g}=c,[y,b,w]=a?((_=m==null?void 0:m.toString())==null?void 0:_.split(r||""))||[]:[m];return new rre({symbol:h,label:p,description:g,values:[new qy({value:y,value2:b,value3:w})]})}),l=[new wR({classes:o})];e&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:i,scale:n,spatialReference:r,arcade:s}=DF(t,{});let a=this._cache.compiledFunc;const o=s.arcadeUtils;if(!a){const c=o.createSyntaxTree(this.valueExpression);a=o.createFunction(c),this._cache.compiledFunc=a}const l=o.executeFunction(a,o.createExecContext(e,o.getViewInfo({viewingMode:i,scale:n,spatialReference:r})));return this._valueInfoMap[l+""]}_getUnqiueValueInfoForFields(e){const t=this.field,i=e.attributes;let n;if(typeof t!="function"&&this.field2){const r=this.field2,s=this.field3,a=[];t&&a.push(i[t]),r&&a.push(i[r]),s&&a.push(i[s]),n=a.join(this.fieldDelimiter||"")}else typeof t=="function"?n=t(e):t&&(n=i[t]);return this._valueInfoMap[n+""]}static fromPortalStyle(e,t){const i=new qb(t&&t.properties);i._set("styleOrigin",Object.freeze({styleName:e})),i._set("portal",t&&t.portal||gr.getDefault());const n=i.populateFromStyle();return n.catch(r=>{Zu.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",r)}),n}static fromStyleUrl(e,t){const i=new qb(t&&t.properties);i._set("styleOrigin",Object.freeze({styleUrl:e}));const n=i.populateFromStyle();return n.catch(r=>{Zu.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",r)}),n}};u([d({readOnly:!0})],ri.prototype,"_cache",null),u([xe({uniqueValue:"unique-value"})],ri.prototype,"type",void 0),u([d(Bne)],ri.prototype,"backgroundFillSymbol",void 0),u([d({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],ri.prototype,"field",null),u([ct("field")],ri.prototype,"castField",null),u([ue("field")],ri.prototype,"writeField",null),u([d({type:String,value:null,json:{write:!0}})],ri.prototype,"field2",null),u([d({type:String,value:null,json:{write:!0}})],ri.prototype,"field3",null),u([d({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],ri.prototype,"orderByClassesEnabled",void 0),u([d({type:String,value:null,json:{write:!0}})],ri.prototype,"valueExpression",null),u([d({type:String,json:{write:!0}})],ri.prototype,"valueExpressionTitle",void 0),u([d({type:Gy,json:{write:!0}})],ri.prototype,"legendOptions",void 0),u([d({type:String,json:{write:!0}})],ri.prototype,"defaultLabel",void 0),u([d(OZ({...ev},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],ri.prototype,"defaultSymbol",null),u([d({type:String,value:null,json:{write:!0}})],ri.prototype,"fieldDelimiter",null),u([d({type:gr,readOnly:!0})],ri.prototype,"portal",void 0),u([ee("portal",["styleName"])],ri.prototype,"readPortal",null),u([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],ri.prototype,"styleOrigin",void 0),u([ee("styleOrigin",["styleName","styleUrl"])],ri.prototype,"readStyleOrigin",null),u([ue("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],ri.prototype,"writeStyleOrigin",null),u([d({type:[wR],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,i)=>(t.uniqueValueGroups||dPe(t)).map(n=>wR.fromJSON(n,i))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],ri.prototype,"uniqueValueGroups",null),u([d({type:[J1],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],ri.prototype,"uniqueValueInfos",null),ri=qb=u([I(sre)],ri);const iv=ri,mT={key:"type",base:Fu,typeMap:{heatmap:ire,simple:Eu,"unique-value":iv,"class-breaks":Gne,"dot-density":PRe,dictionary:ORe,"pie-chart":QRe},errorContext:"renderer"},hPe={key:"type",base:Fu,typeMap:{simple:Eu,"unique-value":iv,"class-breaks":Gne,heatmap:ire},errorContext:"renderer"};function VKe(e,t){return e_(e,null,t)}const pPe=Uh({types:mT});function e_(e,t,i){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(i&&i.messages&&i.messages.push(new eo("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:i})),null):pPe(e,t,i):null}let fPe=class are{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(wD),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const i=new are,n=this._originStores[at.DEFAULTS];n&&n.forEach((r,s)=>{i.set(s,z(r),at.DEFAULTS)});for(let r=at.SERVICE;r<wD;r++){const s=this._originStores[r];s&&s.forEach((a,o)=>{t&&t.has(o)||i.set(o,z(a),r)})}return i}get(t,i){const n=i===void 0?this._values:this._originStores[i];return n?n.get(t):void 0}keys(t){const i=t==null?this._values:this._originStores[t];return i?[...i.keys()]:[]}set(t,i,n=at.USER){let r=this._originStores[n];if(r||(r=new Map,this._originStores[n]=r),r.set(t,i),!this._values.has(t)||this._propertyOriginMap.get(t)<=n){const s=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,n),s!==i}return!1}delete(t,i=at.USER){const n=this._originStores[i];if(!n)return;const r=n.get(t);if(n.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===i){this._values.delete(t);for(let s=i-1;s>=0;s--){const a=this._originStores[s];if(a&&a.has(t)){this._values.set(t,a.get(t)),this._propertyOriginMap.set(t,s);break}}}return r}has(t,i){const n=i===void 0?this._values:this._originStores[i];return!!n&&n.has(t)}revert(t,i){for(;i>0&&!this.has(t,i);)--i;const n=this._originStores[i],r=n&&n.get(t),s=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,i),s!==r}originOf(t){return this._propertyOriginMap.get(t)||at.DEFAULTS}forEach(t){this._values.forEach(t)}};const ore=e=>{let t=class extends e{constructor(...i){super(...i);const n=mr(this),r=n.store,s=new fPe;n.store=s,CQ(n,r,s)}read(i,n){$Q(this,i,n)}getAtOrigin(i,n){const r=BA(this),s=rh(n);if(typeof i=="string")return r.get(i,s);const a={};return i.forEach(o=>{a[o]=r.get(o,s)}),a}originOf(i){return Hk(this.originIdOf(i))}originIdOf(i){return BA(this).originOf(i)}revert(i,n){const r=BA(this),s=rh(n),a=mr(this);let o;o=typeof i=="string"?i==="*"?r.keys(s):[i]:i,o.forEach(l=>{a.invalidate(l),r.revert(l,s),a.commit(l)})}};return t=u([I("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function BA(e){return mr(e).store}let D9=class extends ore(ve){};D9=u([I("esri.core.ReadOnlyMultiOriginJSONSupport")],D9);const mPe=e=>{let t=class extends e{constructor(...i){super(...i)}clear(i,n="user"){return HA(this).delete(i,rh(n))}write(i={},n){return MQ(this,i=i||{},n),i}setAtOrigin(i,n,r){mr(this).setAtOrigin(i,n,rh(r))}removeOrigin(i){const n=HA(this),r=rh(i),s=n.keys(r);for(const a of s)n.originOf(a)===r&&n.set(a,n.get(a,r),at.USER)}updateOrigin(i,n){const r=HA(this),s=rh(n),a=this.get(i);for(let o=s+1;o<wD;++o)r.delete(i,o);r.set(i,a,s)}toJSON(i){return this.write({},i)}};return t=u([I("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function HA(e){return mr(e).store}const A4=e=>{let t=class extends mPe(ore(e)){constructor(...i){super(...i)}};return t=u([I("esri.core.MultiOriginJSONSupport")],t),t};let O9=class extends A4(ve){};O9=u([I("esri.core.MultiOriginJSONSupport")],O9);async function gPe(e,t){const{WhereClause:i}=await H(()=>import("./WhereClause.js").then(n=>n.W),["WhereClause.js","executionError.js"]);return i.create(e,t)}function yPe(e,t){return $(e)?$(t)?`(${e}) AND (${t})`:e:t}var xR;let Hp=xR=class extends W{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new xR({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([d({type:String,json:{write:!0}})],Hp.prototype,"expression",void 0),u([d({type:String,json:{write:!0}})],Hp.prototype,"name",void 0),u([d({type:["boolean","date","number","string"],json:{write:!0}})],Hp.prototype,"returnType",void 0),u([d({type:String,json:{write:!0}})],Hp.prototype,"title",void 0),Hp=xR=u([I("esri.form.ExpressionInfo")],Hp);const vPe=Hp;let Gp=class extends W{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};u([d({type:String,json:{write:!0}})],Gp.prototype,"description",void 0),u([d({type:String,json:{write:!0}})],Gp.prototype,"label",void 0),u([d()],Gp.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],Gp.prototype,"visibilityExpression",void 0),Gp=u([I("esri.form.elements.Element")],Gp);const I0=Gp;var SR;let aE=SR=class extends W{constructor(e){super(e),this.type=null}clone(){return new SR({type:this.type})}};u([d({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],aE.prototype,"type",void 0),aE=SR=u([I("esri.form.elements.inputs.AttachmentInput")],aE);const bPe=aE;var ER;let qp=ER=class extends I0{constructor(e){super(e),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new ER({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};u([d({type:String,json:{write:!0}})],qp.prototype,"attachmentKeyword",void 0),u([d({type:Boolean,json:{write:!0}})],qp.prototype,"editable",void 0),u([d({type:bPe,json:{read:{source:"inputType"},write:{target:"inputType"}}})],qp.prototype,"input",void 0),u([d({type:["attachment"],json:{read:!1,write:!0}})],qp.prototype,"type",void 0),qp=ER=u([I("esri.form.elements.AttachmentElement")],qp);const R9=qp;let oE=class extends W{constructor(t){super(t),this.type=null}};u([d()],oE.prototype,"type",void 0),oE=u([I("esri.form.elements.inputs.Input")],oE);const nv=oE;let Wb=class extends nv{constructor(t){super(t),this.maxLength=null,this.minLength=0}};u([d({type:Number,json:{write:!0}})],Wb.prototype,"maxLength",void 0),u([d({type:Number,json:{write:!0}})],Wb.prototype,"minLength",void 0),Wb=u([I("esri.form.elements.inputs.TextInput")],Wb);const M4=Wb;var kR;let lE=kR=class extends M4{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new kR({maxLength:this.maxLength,minLength:this.minLength})}};u([d({type:["barcode-scanner"],json:{read:!1,write:!0}})],lE.prototype,"type",void 0),lE=kR=u([I("esri.form.elements.inputs.BarcodeScannerInput")],lE);const wPe=lE;var IR;let Ng=IR=class extends nv{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new IR({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};u([d({type:String,json:{write:!0}})],Ng.prototype,"noValueOptionLabel",void 0),u([d({type:Boolean,json:{write:!0}})],Ng.prototype,"showNoValueOption",void 0),u([d({type:["combo-box"],json:{read:!1,write:!0}})],Ng.prototype,"type",void 0),Ng=IR=u([I("esri.form.elements.inputs.ComboBoxInput")],Ng);const _Pe=Ng;var CR;function P9(e){return e!=null?new Date(e):null}function L9(e){return e?e.getTime():null}let Mo=CR=class extends nv{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return P9(t.max)}writeMax(e,t){t.max=L9(e)}readMin(e,t){return P9(t.min)}writeMin(e,t){t.min=L9(e)}clone(){return new CR({includeTime:this.includeTime,max:this.max,min:this.min})}};u([d({type:Boolean,json:{write:!0}})],Mo.prototype,"includeTime",void 0),u([d({type:Date,json:{type:Number,write:!0}})],Mo.prototype,"max",void 0),u([ee("max")],Mo.prototype,"readMax",null),u([ue("max")],Mo.prototype,"writeMax",null),u([d({type:Date,json:{type:Number,write:!0}})],Mo.prototype,"min",void 0),u([ee("min")],Mo.prototype,"readMin",null),u([ue("min")],Mo.prototype,"writeMin",null),u([d({type:["datetime-picker"],json:{read:!1,write:!0}})],Mo.prototype,"type",void 0),Mo=CR=u([I("esri.form.elements.inputs.DateTimePickerInput")],Mo);const xPe=Mo;var TR;let zg=TR=class extends nv{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new TR({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};u([d({type:String,json:{write:!0}})],zg.prototype,"noValueOptionLabel",void 0),u([d({type:Boolean,json:{write:!0}})],zg.prototype,"showNoValueOption",void 0),u([d({type:["radio-buttons"],json:{read:!1,write:!0}})],zg.prototype,"type",void 0),zg=TR=u([I("esri.form.elements.inputs.RadioButtonsInput")],zg);const SPe=zg;var $R;let Vg=$R=class extends nv{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new $R({offValue:this.offValue,onValue:this.onValue})}};u([d({type:[String,Number],json:{write:!0}})],Vg.prototype,"offValue",void 0),u([d({type:[String,Number],json:{write:!0}})],Vg.prototype,"onValue",void 0),u([d({type:["switch"],json:{read:!1,write:!0}})],Vg.prototype,"type",void 0),Vg=$R=u([I("esri.form.elements.inputs.SwitchInput")],Vg);const EPe=Vg;var AR;let cE=AR=class extends M4{constructor(e){super(e),this.type="text-area"}clone(){return new AR({maxLength:this.maxLength,minLength:this.minLength})}};u([d({type:["text-area"],json:{read:!1,write:!0}})],cE.prototype,"type",void 0),cE=AR=u([I("esri.form.elements.inputs.TextAreaInput")],cE);const kPe=cE;var MR;let uE=MR=class extends M4{constructor(e){super(e),this.type="text-box"}clone(){return new MR({maxLength:this.maxLength,minLength:this.minLength})}};u([d({type:["text-box"],json:{read:!1,write:!0}})],uE.prototype,"type",void 0),uE=MR=u([I("esri.form.elements.inputs.TextBoxInput")],uE);const IPe=uE,CPe={base:nv,key:"type",typeMap:{"barcode-scanner":wPe,"combo-box":_Pe,"datetime-picker":xPe,"radio-buttons":SPe,switch:EPe,"text-area":kPe,"text-box":IPe}};var DR;const lre="esri.form.elements.FieldElement",F9=Y.getLogger(lre);let _a=DR=class extends I0{constructor(e){super(e),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return xD(F9,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._get("editable")??!0}set editable(e){xD(F9,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._set("editable",e)}clone(){return new DR({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};u([d({types:nne,json:{read:{reader:p4},write:!0}})],_a.prototype,"domain",void 0),u([d({type:Boolean,json:{write:!0}})],_a.prototype,"editable",null),u([d({type:String,json:{write:!0}})],_a.prototype,"editableExpression",void 0),u([d({type:String,json:{write:!0}})],_a.prototype,"fieldName",void 0),u([d({type:String,json:{write:!0}})],_a.prototype,"hint",void 0),u([d({types:CPe,json:{read:{source:"inputType"},write:{target:"inputType"}}})],_a.prototype,"input",void 0),u([d({type:String,json:{write:!0}})],_a.prototype,"requiredExpression",void 0),u([d({type:String,json:{read:!1,write:!0}})],_a.prototype,"type",void 0),u([d({type:String,json:{write:!0}})],_a.prototype,"valueExpression",void 0),_a=DR=u([I(lre)],_a);const N9=_a;var OR;let Ac=OR=class extends I0{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new OR({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:z(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};u([d({type:Number,json:{write:!0}})],Ac.prototype,"displayCount",void 0),u([d({type:["list"],json:{write:!0}})],Ac.prototype,"displayType",void 0),u([d({type:Boolean,json:{write:!0}})],Ac.prototype,"editable",void 0),u([d({type:[dN],json:{write:!0}})],Ac.prototype,"orderByFields",void 0),u([d({type:Number,json:{write:!0}})],Ac.prototype,"relationshipId",void 0),u([d({type:["relationship"],json:{read:!1,write:!0}})],Ac.prototype,"type",void 0),Ac=OR=u([I("esri.form.elements.RelationshipElement")],Ac);const z9=Ac;function cre(e){return{typesWithGroup:{base:I0,key:"type",typeMap:{attachment:R9,field:N9,group:e,relationship:z9}},typesWithoutGroup:{base:I0,key:"type",typeMap:{attachment:R9,field:N9,relationship:z9}}}}function ure(e,t,i=!0){if(!e)return null;const n=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(r=>n[r.type]).map(r=>n[r.type].fromJSON(r))}function dre(e,t,i=!0){if(!e)return null;const n=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(r=>n[r.type]).map(r=>r.toJSON())}function hre(e,t,i=!0){return e?e.map(n=>tc(i?t.typesWithGroup:t.typesWithoutGroup,n)):null}var RR;let Rl=RR=class extends I0{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return hre(e,GA,!1)}readElements(e,t){return ure(t.formElements,GA,!1)}writeElements(e,t){t.formElements=dre(e,GA,!1)}clone(){return new RR({description:this.description,elements:z(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};u([d({json:{write:!0}})],Rl.prototype,"elements",void 0),u([ct("elements")],Rl.prototype,"castElements",null),u([ee("elements",["formElements"])],Rl.prototype,"readElements",null),u([ue("elements")],Rl.prototype,"writeElements",null),u([d({type:["collapsed","expanded"],json:{write:!0}})],Rl.prototype,"initialState",void 0),u([d({type:String,json:{read:!1,write:!0}})],Rl.prototype,"type",void 0),Rl=RR=u([I("esri.form.elements.GroupElement")],Rl);const GA=cre(Rl),TPe=Rl;var PR;const qA=cre(TPe);let Do=PR=class extends W{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return hre(e,qA)}readElements(e,t){return ure(t.formElements,qA)}writeElements(e,t){t.formElements=dre(e,qA)}clone(){return new PR({description:this.description,expressionInfos:z(this.expressionInfos),elements:z(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};u([d({type:String,json:{write:!0}})],Do.prototype,"description",void 0),u([d({json:{write:!0}})],Do.prototype,"elements",void 0),u([ct("elements")],Do.prototype,"castElements",null),u([ee("elements",["formElements"])],Do.prototype,"readElements",null),u([ue("elements")],Do.prototype,"writeElements",null),u([d({type:[vPe],json:{write:!0}})],Do.prototype,"expressionInfos",void 0),u([d({type:Boolean,json:{default:!1,write:!0}})],Do.prototype,"preserveFieldValuesWhenHidden",void 0),u([d({type:String,json:{write:!0}})],Do.prototype,"title",void 0),Do=PR=u([I("esri.form.FormTemplate")],Do);const $Pe=Do;async function APe(e){const t="portalItem"in e?e:{portalItem:e},i=await H(()=>import("./portalLayers.js"),["portalLayers.js","lazyLayerLoader.js","layersLoader.js","fetchService.js"]);try{return await i.fromItem(t)}catch(n){const r=t&&t.portalItem,s=r&&r.id||"unset",a=r&&r.portal&&r.portal.url||ut.portalUrl;throw Y.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+a+"', id: '"+s+"')",n),n}}let MPe=0,hn=class extends Ru.EventedMixin(A_(Su)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Gt(-180,-90,180,90,je.WGS84),this.id=Date.now().toString(16)+"-layer-"+MPe++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=je.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const i=typeof t=="string"?{url:t}:t;return(await H(()=>import("./arcgisLayers.js"),["arcgisLayers.js","fetchService.js","lazyLayerLoader.js"])).fromUrl(i)}static fromPortalItem(t){return APe(t)}initialize(){this.when().catch(t=>{Vr(t)||Y.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){if(this.parent){const t=this,i=this.parent;"layers"in i&&i.layers.includes(t)?i.layers.remove(t):"tables"in i&&i.tables.includes(t)?i.tables.remove(t):"baseLayers"in i&&i.baseLayers.includes(t)?i.baseLayers.remove(t):"baseLayers"in i&&i.referenceLayers.includes(t)&&i.referenceLayers.remove(t)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return Ti(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Tt(t,{query:{f:"json"},responseType:"json"})).data;throw new N("layer:no-attribution-data","Layer does not have attribution data")}};u([d({type:String})],hn.prototype,"attributionDataUrl",void 0),u([d({type:Gt})],hn.prototype,"fullExtent",void 0),u([d({readOnly:!0})],hn.prototype,"hasAttributionData",null),u([d({type:String,clonable:!1})],hn.prototype,"id",void 0),u([d({type:Boolean,nonNullable:!0})],hn.prototype,"legendEnabled",void 0),u([d({type:["show","hide","hide-children"]})],hn.prototype,"listMode",void 0),u([d({type:Number,range:{min:0,max:1},nonNullable:!0})],hn.prototype,"opacity",void 0),u([d({clonable:!1})],hn.prototype,"parent",void 0),u([d({readOnly:!0})],hn.prototype,"parsedUrl",null),u([d({type:Boolean})],hn.prototype,"popupEnabled",void 0),u([d({type:Boolean})],hn.prototype,"attributionVisible",void 0),u([d({type:je})],hn.prototype,"spatialReference",void 0),u([d({type:String})],hn.prototype,"title",void 0),u([d({readOnly:!0,json:{read:!1}})],hn.prototype,"type",void 0),u([d()],hn.prototype,"url",void 0),u([d({type:Boolean,nonNullable:!0})],hn.prototype,"visible",void 0),hn=u([I("esri.layers.Layer")],hn);const C0=hn;function V9(e,t,i){if(e.hasM==null||e.hasZ)for(const n of t)for(const r of n)r.length>2&&(r[2]*=i)}function DPe(e,t,i){if(!e&&!t||!i)return;const n=p0(i);j9(e,i,n),j9(t,i,n)}function j9(e,t,i){if(e)for(const n of e)OPe(n.geometry,t,i)}function OPe(e,t,i){if(j(e)||!e.spatialReference||vn(e.spatialReference,t))return;const n=p0(e.spatialReference)/i;if(n!==1){if("x"in e)e.z!=null&&(e.z*=n);else if("rings"in e)V9(e,e.rings,n);else if("paths"in e)V9(e,e.paths,n);else if("points"in e&&(e.hasM==null||e.hasZ))for(const r of e.points)r.length>2&&(r[2]*=n)}}let RPe=0;const pre="esri.layers.graphics.sources.MemorySource",WA=Y.getLogger(pre);let Uc=class extends Su.LoadableMixin(JC(Yh(Ie))){constructor(t){super(t),this._idToClientGraphic=null,this.type="memory"}load(t){const i=$(t)?t.signal:null;return this.addResolvingPromise(this._startWorker(i)),Promise.resolve(this)}destroy(){var t;(t=this._connection)==null||t.close(),this._connection=null}get _workerGeometryType(){var i;const t=(i=this.layer)==null?void 0:i.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,i={}){await this.load(i);const n=await this._connection.invoke("queryFeatures",t?t.toJSON():null,i);V5(t,this.layer.spatialReference,n);const r=m4.fromJSON(n);if(!this._requiresClientGraphicMapping())return r;const s=this.layer.objectIdField;for(const a of r.features){const o=a.attributes[s],l=this._idToClientGraphic.get(o);l&&(a.geometry=l.geometry)}return r.geometryType=this.layer.geometryType,r}async queryFeaturesJSON(t,i={}){if(this._requiresClientGraphicMapping())throw new N("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(i);const n=await this._connection.invoke("queryFeatures",t?t.toJSON():null,i);return V5(t,this.layer.spatialReference,n),n}queryFeatureCount(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,i))}queryObjectIds(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,i))}queryExtent(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,i)).then(n=>({count:n.count,extent:Gt.fromJSON(n.extent)}))}querySnapping(t,i={}){return this.load(i).then(()=>this._connection.invoke("querySnapping",t,i))}async _applyEdits(t){if(!this._connection)throw new N("feature-layer-source:edit-failure","Memory source not loaded");const i=this.layer.objectIdField;let n=null;const r=[],s=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const a=h=>"objectId"in h&&h.objectId!=null?h.objectId:"attributes"in h&&h.attributes[i]!=null?h.attributes[i]:null;if(t.addFeatures&&(n=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const h of t.deleteFeatures){const p=a(h);p!=null&&r.push(p)}const o=t.updateFeatures&&this._idToClientGraphic?new Map:null;if(t.updateFeatures){for(const h of t.updateFeatures)if(s.push(this._serializeFeature(h)),o){const p=a(h);p!=null&&o.set(p,h)}}DPe(n?n.features:null,s,this.layer.spatialReference);const{fullExtent:l,featureEditResults:c}=await this._connection.invoke("applyEdits",{adds:n?n.features:[],updates:s,deletes:r});return this.fullExtent=l,n&&n.finish(c.uidToObjectId),this._updateClientGraphicIds(o,c),this._createEditsResult(c)}async _prepareClientMapping(t,i){if(this._layerOrSourceGeometryType!=="mesh"||j(t))return;const n=[];for(const{geometry:r}of t)!$(r)||r.type!=="mesh"||r.hasExtent||r.loaded||n.push(r.load({signal:i}));n.length&&await Promise.all(n)}_updateClientGraphicIds(t,i){if(this._idToClientGraphic){if(t)for(const n of i.updateResults){if(!n.success)continue;const r=t.get(n.objectId);r!=null&&this._addIdToClientGraphic(r)}for(const n of i.deleteResults)n.success&&this._idToClientGraphic.delete(n.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const i=t.success===!0?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:i?new N("feature-layer-source:edit-failure",i.description,{code:i.code}):null}}_prepareAddFeatures(t){const i=new Map,n=new Array(t.length);let r=null;for(let a=0;a<t.length;a++){const o=t[a],l=this._serializeFeature(o);!r&&$(o.geometry)&&(r=o.geometry.type),n[a]=l,i.set(`${l.uid}`,o)}const s=this;return{features:n,inferredGeometryType:r,finish(a){const o=s.sourceJSON.objectIdField;for(const l in a){const c=a[l],h=i.get(l);h&&(h.attributes||(h.attributes={}),c===-1?delete h.attributes[o]:h.attributes[o]=c,s._addIdToClientGraphic(h))}}}}_addIdToClientGraphic(t){if(!this._idToClientGraphic)return;const i=this.sourceJSON.objectIdField,n=t.attributes&&t.attributes[i];n!=null&&this._idToClientGraphic.set(n,t)}get _layerOrSourceGeometryType(){var t,i;return((t=this.layer)==null?void 0:t.geometryType)??((i=this.sourceJSON)==null?void 0:i.geometryType)}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return t==="mesh"||t==="multipatch"||t==="extent"}_serializeFeature(t){const{attributes:i}=t,n=this._geometryForSerialization(t),r=(RPe++).toString();return n?{uid:r,geometry:n.toJSON(),attributes:i}:{uid:r,attributes:i}}_geometryForSerialization(t){const{geometry:i}=t;return j(i)?null:this._geometryRequiresClientGraphicMapping(i)?i.extent?bu.fromExtent(i.extent):null:i}async _startWorker(t){this._connection=await QTe("MemorySourceWorker",{strategy:G("feature-layers-workers")?"dedicated":"local",signal:t});const{fields:i,spatialReference:n,objectIdField:r,hasM:s,hasZ:a,timeInfo:o}=this.layer,l=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,t);const c=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",g=>{WA.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),g.preventDefault()}));const h={features:c.features,fields:i&&i.map(g=>g.toJSON()),geometryType:bj.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&s,hasZ:this._layerOrSourceGeometryType==="mesh"||a,objectIdField:r,spatialReference:l?null:n&&n.toJSON(),timeInfo:o?o.toJSON():null},p=await this._connection.invoke("load",h,{signal:t});for(const g of p.warnings)WA.warn(g.message,{layer:this.layer,warning:g});p.featureErrors.length&&WA.warn(`Encountered ${p.featureErrors.length} validation errors while loading features`,p.featureErrors);const m=p.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(c.inferredGeometryType)&&(m.geometryType=bj.toJSON(c.inferredGeometryType)),this.sourceJSON=m,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),c.finish(p.assignedObjectIds)}};u([tN({Type:yr,ensureType:Gi(yr)})],Uc.prototype,"itemType",void 0),u([d()],Uc.prototype,"type",void 0),u([d({constructOnly:!0})],Uc.prototype,"layer",void 0),u([d({readOnly:!0})],Uc.prototype,"_workerGeometryType",null),u([d()],Uc.prototype,"sourceJSON",void 0),Uc=u([I(pre)],Uc);function PPe(e){return"portalItem"in e}const fre=e=>{let t=class extends e{get apiKey(){var i;return this._isOverridden("apiKey")?this._get("apiKey"):PPe(this)?(i=this.portalItem)==null?void 0:i.apiKey:null}set apiKey(i){i!=null?this._override("apiKey",i):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return u([d({type:String})],t.prototype,"apiKey",null),t=u([I("esri.layers.mixins.APIKeyMixin")],t),t},mre={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},gre=Object.values(mre),yre=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${gre.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),LPe=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${gre.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),FPe=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function KKe(e){return!!yre.test(e)}function rv(e){if(j(e))return null;const t=Ti(e),i=t.path.match(yre)||t.path.match(LPe);if(!i)return null;const[,n,r,s,a]=i,o=r.indexOf("/");return{title:D4(o!==-1?r.slice(o+1):r),serverType:mre[s.toLowerCase()],sublayer:a!=null&&a!==""?parseInt(a,10):null,url:{path:n}}}function NPe(e){const t=Ti(e).path.match(FPe);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function D4(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function zPe(e,t){const i=[];if(e){const n=rv(e);$(n)&&n.title&&i.push(n.title)}if(t){const n=D4(t);i.push(n)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function vre(e){if(!e)return!1;const t=".arcgis.com/",i="//services",n="//tiles",r="//features",s=(e=e.toLowerCase()).includes(t),a=e.includes(i)||e.includes(n)||e.includes(r);return s&&a}function VPe(e,t){return e&&YC(Pee(e,t))}function jPe(e){let{url:t}=e;if(!t)return{url:t};t=Pee(t,e.logger);const i=Ti(t),n=rv(i.path);let r;if($(n))n.sublayer!=null&&e.layer.layerId==null&&(r=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const s=NPe(i.path);$(s)&&(t=s.serviceUrl,r=s.sublayerId)}return{url:YC(t),layerId:r}}function UPe(e,t,i,n,r){gm(t,n,"url",r),n.url&&e.layerId!=null&&(n.url=nc(n.url,i,e.layerId.toString()))}function YKe(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),r=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return i&&(n||r||s)}const bre=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const i=rv(this.url);if($(i)&&i.title)return i.title}return this._get("title")||""}set title(i){this._set("title",i)}set url(i){this._set("url",VPe(i,Y.getLogger(this.declaredClass)))}};return u([d()],t.prototype,"title",null),u([d({type:String})],t.prototype,"url",null),t=u([I("esri.layers.mixins.ArcGISService")],t),t},U9={read:{reader:d4},write:{allowNull:!0,writer:h4}},O4=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return u([d({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),u([d({json:{read:!1,write:!1,origins:{"web-map":U9,"portal-item":U9}}})],t.prototype,"effect",void 0),t=u([I("esri.layers.mixins.BlendLayer")],t),t},wre=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return u([d({type:Object,json:{write:{overridePolicy:i=>({enabled:!!(i&&Object.keys(i).length>0)})}}})],t.prototype,"customParameters",void 0),t=u([I("esri.layers.mixins.CustomParametersMixin")],t),t},BPe=new Ru.EventEmitter,_re="esri.layers.mixins.EditBusLayer",xre=Symbol(_re);function JKe(e){return e!=null&&typeof e=="object"&&xre in e}const HPe=e=>{var t;let i=class extends e{constructor(...n){super(...n),this[t]=!0,this.when().then(()=>{this.own([BPe.on("edits",r=>{var h,p,m;const s="layer"in r?r.layer:null,a="layer"in r?(h=r.layer)==null?void 0:h.url:r.serviceUrl,o="layer"in r?(p=r.layer)==null?void 0:p.layerId:r.layerId,l=r.event;if(s===this||a!==this.url)return;if(o!=null&&this.layerId!=null&&o===this.layerId)return void this.emit("edits",z(l));const c=(m=l.editedFeatures)==null?void 0:m.find(({layerId:g})=>g===this.layerId);if(c){const{adds:g,updates:y,deletes:b}=c.editedFeatures,w={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:g?g.map(({attributes:_})=>({objectId:this.objectIdField&&_[this.objectIdField],globalId:this.globalIdField&&_[this.globalIdField]})):[],deletedFeatures:b?b.map(({attributes:_})=>({objectId:this.objectIdField&&_[this.objectIdField],globalId:this.globalIdField&&_[this.globalIdField]})):[],updatedFeatures:y?y.map(({current:{attributes:_}})=>({objectId:this.objectIdField&&_[this.objectIdField],globalId:this.globalIdField&&_[this.globalIdField]})):[],editedFeatures:z(l.editedFeatures),exceededTransferLimit:!1};this.emit("edits",w)}})])},()=>{})}};return t=xre,i=u([I(_re)],i),i};var LR;const KA=new nt({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),YA=new nt({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let El=LR=class extends W{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:n,timeExtent:r,objectIds:s,units:a,distance:o}=this;return new Kl({geometry:z(i),objectIds:z(s),spatialRelationship:n,timeExtent:z(r),where:t,units:a,distance:o,...e})}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:n,objectIds:r,units:s,distance:a}=this;return new LR({geometry:z(t),objectIds:z(r),spatialRelationship:i,timeExtent:z(n),where:e,units:s,distance:a})}};u([d({type:String,json:{write:!0}})],El.prototype,"where",void 0),u([d({types:Dm,json:{write:!0}})],El.prototype,"geometry",void 0),u([d({type:KA.apiValues,json:{name:"spatialRel",read:{reader:KA.read},write:{allowNull:!1,writer:KA.write,overridePolicy(){return{enabled:$(this.geometry)}}}}})],El.prototype,"spatialRelationship",void 0),u([d({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],El.prototype,"distance",void 0),u([d({type:[Number],json:{write:!0}})],El.prototype,"objectIds",void 0),u([d({type:YA.apiValues,json:{read:YA.read,write:{writer:YA.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],El.prototype,"units",void 0),u([d({type:oc,json:{write:!0}})],El.prototype,"timeExtent",void 0),El=LR=u([I("esri.layers.support.FeatureFilter")],El);const R4=El;var FR;const B9={read:{reader:d4},write:{writer:h4,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},H9={read:{reader:d4},write:{writer:h4,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},G9={name:"showExcludedLabels",default:!0};let Wp=FR=class extends W{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var n,r;const i=super.write(e,t);if(t!=null&&t.origin){if(i.filter){const s=Object.keys(i.filter);if(s.length>1||s[0]!=="where")return(n=t.messages)==null||n.push(new N("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in i)return(r=t.messages)==null||r.push(new N("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}clone(){return new FR({filter:$(this.filter)?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};u([d({type:R4,json:{write:{allowNull:!0,writer(e,t,i,n){const r=e==null?void 0:e.write({},n);r&&Object.keys(r).length!==0?fr(i,r,t):fr(i,null,t)}}}})],Wp.prototype,"filter",void 0),u([d({json:{write:!0,origins:{"web-map":B9,"portal-item":B9}}})],Wp.prototype,"includedEffect",void 0),u([d({json:{write:!0,origins:{"web-map":H9,"portal-item":H9}}})],Wp.prototype,"excludedEffect",void 0),u([d({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":G9,"portal-item":G9}}})],Wp.prototype,"excludedLabelsVisible",void 0),Wp=FR=u([I("esri.layers.support.FeatureEffect")],Wp);const P4=Wp,q9={write:{allowNull:!0}},GPe=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return u([d({type:P4,json:{origins:{"web-map":q9,"portal-item":q9}}})],t.prototype,"featureEffect",void 0),t=u([I("esri.layers.mixins.FeatureEffectLayer")],t),t};var Kb;const EI=qn()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),Sre=EI.jsonValues.slice();v_e(Sre,"orthometric");const Z1=qn()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Oo=Kb=class extends W{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return EI.write(e,t,i)}readHeightModel(e,t,i){return EI.read(e)||(i&&i.messages&&i.messages.push(qPe(e,{context:i})),null)}readHeightUnit(e,t,i){return Z1.read(e)||(i&&i.messages&&i.messages.push(W9(e,{context:i})),null)}readHeightUnitService(e,t,i){return NQ(e)||Z1.read(e)||(i&&i.messages&&i.messages.push(W9(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Kb({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=NSe(t);return new Kb({heightModel:e.heightModel,heightUnit:i,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Kb;return t.read(e,{origin:"web-scene"}),t}};function W9(e,t){return new eo("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function qPe(e,t){return new eo("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}u([d({type:EI.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Sre,default:"ellipsoidal"}}}})],Oo.prototype,"heightModel",void 0),u([ue("web-scene","heightModel")],Oo.prototype,"writeHeightModel",null),u([ee(["web-scene","service"],"heightModel")],Oo.prototype,"readHeightModel",null),u([d({type:Z1.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Z1.jsonValues,write:Z1.write}}}})],Oo.prototype,"heightUnit",void 0),u([ee("web-scene","heightUnit")],Oo.prototype,"readHeightUnit",null),u([ee("service","heightUnit")],Oo.prototype,"readHeightUnitService",null),u([d({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Oo.prototype,"vertCRS",void 0),u([ee("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Oo.prototype,"readVertCRS",null),Oo=Kb=u([I("esri.geometry.HeightModelInfo")],Oo);const gT=Oo;function WPe(e){if(!e)return e;const{start:t,end:i}=e;return new oc({start:$(t)?Gf(t,-t.getTimezoneOffset(),"minutes"):t,end:$(i)?Gf(i,-i.getTimezoneOffset(),"minutes"):i})}function KPe(e){if(!e)return e;const{start:t,end:i}=e;return new oc({start:$(t)?Gf(t,t.getTimezoneOffset(),"minutes"):t,end:$(i)?Gf(i,i.getTimezoneOffset(),"minutes"):i})}var NR;let Yb=NR=class extends W{constructor(e){super(e)}async collectRequiredFields(e,t){return jr(e,t,this.expression)}clone(){return new NR({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};u([d({type:String,json:{write:!0}})],Yb.prototype,"expression",void 0),u([d({type:String,json:{write:!0}})],Yb.prototype,"title",void 0),Yb=NR=u([I("esri.layers.support.FeatureExpressionInfo")],Yb);const K9=Yb;function ZKe(e){return 1/(k4[e]||1)}function YPe(){const e=Object.keys(k4);return e.sort(),e}const JPe=YPe();var zR;const bS=qn()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),Y9=new nt({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Mc=zR=class extends W{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,i,n){t[i]=e.write({},n),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):$(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new zR({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&p_e(this.featureExpressionInfo,e.featureExpressionInfo)}};u([d({type:K9,json:{write:!0}})],Mc.prototype,"featureExpressionInfo",void 0),u([ee("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Mc.prototype,"readFeatureExpressionInfo",null),u([ue("featureExpressionInfo",{featureExpressionInfo:{type:K9},"featureExpression.value":{type:[0]}})],Mc.prototype,"writeFeatureExpressionInfo",null),u([d({type:bS.apiValues,nonNullable:!0,json:{type:bS.jsonValues,read:bS.read,write:{writer:bS.write,isRequired:!0}}})],Mc.prototype,"mode",null),u([d({type:Number,json:{write:!0}})],Mc.prototype,"offset",void 0),u([d({type:JPe,json:{type:String,read:Y9.read,write:Y9.write}})],Mc.prototype,"unit",null),Mc=zR=u([I("esri.layers.support.ElevationInfo")],Mc);const Ere=Mc,ZPe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},L4={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,i){t[i]=!e}}}},F4={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:!0}},QPe={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:gm}}},XPe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},eLe={value:null,type:Ere,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function QKe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const kre={write:!0,read:!0},VR={type:Number,json:{origins:{"web-document":kre,"portal-item":{write:!0}}}},tLe={...VR,json:{...VR.json,origins:{"web-document":{...kre,write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,i)=>i&&i.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition&&t.layerDefinition.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?Uw(t.layerDefinition.drawingInfo.transparency):void 0:Uw(t.drawingInfo.transparency)}}},XKe={type:oc,readOnly:!0,get(){var o,l;if(!((o=this.layer)!=null&&o.timeInfo))return null;const{datesInUnknownTimezone:e,timeOffset:t,useViewTime:i}=this.layer,n=(l=this.view)==null?void 0:l.timeExtent;let r=this.layer.timeExtent;e&&(r=KPe(r));let s=i?n&&r?n.intersection(r):n||r:r;if(!s||s.isEmpty||s.isAllTime)return s;t&&(s=s.offset(-t.value,t.unit)),e&&(s=WPe(s));const a=this._get("timeExtent");return s.equals(a)?a:s}},eYe={type:Gt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const i=Gt.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(i.spatialReference=je.fromJSON(t.spatialReference)),i}}}},read:!1}},iLe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},nLe={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},rLe={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},Ire={json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}},J9=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Chihuahua"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class Fm extends Error{}class sLe extends Fm{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class aLe extends Fm{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class oLe extends Fm{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Jb extends Fm{}class Cre extends Fm{constructor(t){super(`Invalid unit ${t}`)}}class Pa extends Fm{}class Qu extends Fm{constructor(){super("Zone is an abstract class")}}const he="numeric",nl="short",Js="long",kI={year:he,month:he,day:he},Tre={year:he,month:nl,day:he},lLe={year:he,month:nl,day:he,weekday:nl},$re={year:he,month:Js,day:he},Are={year:he,month:Js,day:he,weekday:Js},Mre={hour:he,minute:he},Dre={hour:he,minute:he,second:he},Ore={hour:he,minute:he,second:he,timeZoneName:nl},Rre={hour:he,minute:he,second:he,timeZoneName:Js},Pre={hour:he,minute:he,hourCycle:"h23"},Lre={hour:he,minute:he,second:he,hourCycle:"h23"},Fre={hour:he,minute:he,second:he,hourCycle:"h23",timeZoneName:nl},Nre={hour:he,minute:he,second:he,hourCycle:"h23",timeZoneName:Js},zre={year:he,month:he,day:he,hour:he,minute:he},Vre={year:he,month:he,day:he,hour:he,minute:he,second:he},jre={year:he,month:nl,day:he,hour:he,minute:he},Ure={year:he,month:nl,day:he,hour:he,minute:he,second:he},cLe={year:he,month:nl,day:he,weekday:nl,hour:he,minute:he},Bre={year:he,month:Js,day:he,hour:he,minute:he,timeZoneName:nl},Hre={year:he,month:Js,day:he,hour:he,minute:he,second:he,timeZoneName:nl},Gre={year:he,month:Js,day:he,weekday:Js,hour:he,minute:he,timeZoneName:Js},qre={year:he,month:Js,day:he,weekday:Js,hour:he,minute:he,second:he,timeZoneName:Js};class H_{get type(){throw new Qu}get name(){throw new Qu}get ianaName(){return this.name}get isUniversal(){throw new Qu}offsetName(t,i){throw new Qu}formatOffset(t,i){throw new Qu}offset(t){throw new Qu}equals(t){throw new Qu}get isValid(){throw new Qu}}let JA=null;class yT extends H_{static get instance(){return JA===null&&(JA=new yT),JA}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:n}){return Kre(t,i,n)}formatOffset(t,i){return X1(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let dE={};function uLe(e){return dE[e]||(dE[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),dE[e]}const dLe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hLe(e,t){const i=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,r,s,a,o,l,c,h]=n;return[a,r,s,o,l,c,h]}function pLe(e,t){const i=e.formatToParts(t),n=[];for(let r=0;r<i.length;r++){const{type:s,value:a}=i[r],o=dLe[s];s==="era"?n[o]=a:yt(o)||(n[o]=parseInt(a,10))}return n}let wS={};class ku extends H_{static create(t){return wS[t]||(wS[t]=new ku(t)),wS[t]}static resetCache(){wS={},dE={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=ku.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:n}){return Kre(t,i,n,this.name)}formatOffset(t,i){return X1(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const n=uLe(this.name);let[r,s,a,o,l,c,h]=n.formatToParts?pLe(n,i):hLe(n,i);o==="BC"&&(r=-Math.abs(r)+1);const m=V4({year:r,month:s,day:a,hour:l===24?0:l,minute:c,second:h,millisecond:0});let g=+i;const y=g%1e3;return g-=y>=0?y:1e3+y,(m-g)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let Z9={};function fLe(e,t={}){const i=JSON.stringify([e,t]);let n=Z9[i];return n||(n=new Intl.ListFormat(e,t),Z9[i]=n),n}let jR={};function UR(e,t={}){const i=JSON.stringify([e,t]);let n=jR[i];return n||(n=new Intl.DateTimeFormat(e,t),jR[i]=n),n}let BR={};function mLe(e,t={}){const i=JSON.stringify([e,t]);let n=BR[i];return n||(n=new Intl.NumberFormat(e,t),BR[i]=n),n}let HR={};function gLe(e,t={}){const{base:i,...n}=t,r=JSON.stringify([e,n]);let s=HR[r];return s||(s=new Intl.RelativeTimeFormat(e,t),HR[r]=s),s}let Zb=null;function yLe(){return Zb||(Zb=new Intl.DateTimeFormat().resolvedOptions().locale,Zb)}function vLe(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let n,r;try{n=UR(e).resolvedOptions(),r=e}catch{const l=e.substring(0,i);n=UR(l).resolvedOptions(),r=l}const{numberingSystem:s,calendar:a}=n;return[r,s,a]}}function bLe(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function wLe(e){const t=[];for(let i=1;i<=12;i++){const n=qe.utc(2016,i,1);t.push(e(n))}return t}function _Le(e){const t=[];for(let i=1;i<=7;i++){const n=qe.utc(2016,11,13+i);t.push(e(n))}return t}function _S(e,t,i,n,r){const s=e.listingMode(i);return s==="error"?null:s==="en"?n(t):r(t)}function xLe(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class SLe{constructor(t,i,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:s,...a}=n;if(!i||Object.keys(a).length>0){const o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=mLe(t,o)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):z4(t,3);return Xi(i,this.padTo)}}}class ELe{constructor(t,i,n){this.opts=n;let r;if(t.zone.isUniversal){const a=-1*(t.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;t.offset!==0&&ku.create(o).valid?(r=o,this.dt=t):(r="UTC",n.timeZoneName?this.dt=t:this.dt=t.offset===0?t:qe.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,r=t.zone.name);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=UR(i,s)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class kLe{constructor(t,i,n){this.opts={style:"long",...n},!i&&Wre()&&(this.rtf=gLe(t,n))}format(t,i){return this.rtf?this.rtf.format(t,i):ULe(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}class oi{static fromOpts(t){return oi.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,i,n,r=!1){const s=t||Qi.defaultLocale,a=s||(r?"en-US":yLe()),o=i||Qi.defaultNumberingSystem,l=n||Qi.defaultOutputCalendar;return new oi(a,o,l,s)}static resetCache(){Zb=null,jR={},BR={},HR={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:n}={}){return oi.create(t,i,n)}constructor(t,i,n,r){const[s,a,o]=vLe(t);this.locale=s,this.numberingSystem=i||a||null,this.outputCalendar=n||o||null,this.intl=bLe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=xLe(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:oi.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1,n=!0){return _S(this,t,n,Zre,()=>{const r=i?{month:t,day:"numeric"}:{month:t},s=i?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=wLe(a=>this.extract(a,r,"month"))),this.monthsCache[s][t]})}weekdays(t,i=!1,n=!0){return _S(this,t,n,ese,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=i?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=_Le(a=>this.extract(a,r,"weekday"))),this.weekdaysCache[s][t]})}meridiems(t=!0){return _S(this,void 0,t,()=>tse,()=>{if(!this.meridiemCache){const i={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[qe.utc(2016,11,13,9),qe.utc(2016,11,13,19)].map(n=>this.extract(n,i,"dayperiod"))}return this.meridiemCache})}eras(t,i=!0){return _S(this,t,i,ise,()=>{const n={era:t};return this.eraCache[t]||(this.eraCache[t]=[qe.utc(-40,1,1),qe.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[t]})}extract(t,i,n){const r=this.dtFormatter(t,i),s=r.formatToParts(),a=s.find(o=>o.type.toLowerCase()===n);return a?a.value:null}numberFormatter(t={}){return new SLe(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new ELe(t,this.intl,i)}relFormatter(t={}){return new kLe(this.intl,this.isEnglish(),t)}listFormatter(t={}){return fLe(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let ZA=null;class ur extends H_{static get utcInstance(){return ZA===null&&(ZA=new ur(0)),ZA}static instance(t){return t===0?ur.utcInstance:new ur(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new ur(bT(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${X1(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${X1(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return X1(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class ILe extends H_{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Jd(e,t){if(yt(e)||e===null)return t;if(e instanceof H_)return e;if(CLe(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?yT.instance:i==="utc"||i==="gmt"?ur.utcInstance:ur.parseSpecifier(i)||ku.create(e)}else return qf(e)?ur.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new ILe(e)}let Q9=()=>Date.now(),X9="system",eB=null,tB=null,iB=null,nB=60,rB;class Qi{static get now(){return Q9}static set now(t){Q9=t}static set defaultZone(t){X9=t}static get defaultZone(){return Jd(X9,yT.instance)}static get defaultLocale(){return eB}static set defaultLocale(t){eB=t}static get defaultNumberingSystem(){return tB}static set defaultNumberingSystem(t){tB=t}static get defaultOutputCalendar(){return iB}static set defaultOutputCalendar(t){iB=t}static get twoDigitCutoffYear(){return nB}static set twoDigitCutoffYear(t){nB=t%100}static get throwOnInvalid(){return rB}static set throwOnInvalid(t){rB=t}static resetCaches(){oi.resetCache(),ku.resetCache()}}function yt(e){return typeof e>"u"}function qf(e){return typeof e=="number"}function vT(e){return typeof e=="number"&&e%1===0}function CLe(e){return typeof e=="string"}function TLe(e){return Object.prototype.toString.call(e)==="[object Date]"}function Wre(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function $Le(e){return Array.isArray(e)?e:[e]}function sB(e,t,i){if(e.length!==0)return e.reduce((n,r)=>{const s=[t(r),r];return n&&i(n[0],s[0])===n[0]?n:s},null)[1]}function ALe(e,t){return t.reduce((i,n)=>(i[n]=e[n],i),{})}function T0(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function iu(e,t,i){return vT(e)&&e>=t&&e<=i}function MLe(e,t){return e-t*Math.floor(e/t)}function Xi(e,t=2){const i=e<0;let n;return i?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function Ud(e){if(!(yt(e)||e===null||e===""))return parseInt(e,10)}function op(e){if(!(yt(e)||e===null||e===""))return parseFloat(e)}function N4(e){if(!(yt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function z4(e,t,i=!1){const n=10**t;return(i?Math.trunc:Math.round)(e*n)/n}function G_(e){return e%4===0&&(e%100!==0||e%400===0)}function Q1(e){return G_(e)?366:365}function II(e,t){const i=MLe(t-1,12)+1,n=e+(t-i)/12;return i===2?G_(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function V4(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function CI(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,i=e-1,n=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7;return t===4||n===3?53:52}function GR(e){return e>99?e:e>Qi.twoDigitCutoffYear?1900+e:2e3+e}function Kre(e,t,i,n=null){const r=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const a={timeZoneName:t,...s},o=new Intl.DateTimeFormat(i,a).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function bT(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const n=parseInt(t,10)||0,r=i<0||Object.is(i,-0)?-n:n;return i*60+r}function Yre(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Pa(`Invalid unit value ${e}`);return t}function TI(e,t){const i={};for(const n in e)if(T0(e,n)){const r=e[n];if(r==null)continue;i[t(n)]=Yre(r)}return i}function X1(e,t){const i=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),r=e>=0?"+":"-";switch(t){case"short":return`${r}${Xi(i,2)}:${Xi(n,2)}`;case"narrow":return`${r}${i}${n>0?`:${n}`:""}`;case"techie":return`${r}${Xi(i,2)}${Xi(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function wT(e){return ALe(e,["hour","minute","second","millisecond"])}const DLe=["January","February","March","April","May","June","July","August","September","October","November","December"],Jre=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],OLe=["J","F","M","A","M","J","J","A","S","O","N","D"];function Zre(e){switch(e){case"narrow":return[...OLe];case"short":return[...Jre];case"long":return[...DLe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Qre=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Xre=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],RLe=["M","T","W","T","F","S","S"];function ese(e){switch(e){case"narrow":return[...RLe];case"short":return[...Xre];case"long":return[...Qre];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const tse=["AM","PM"],PLe=["Before Christ","Anno Domini"],LLe=["BC","AD"],FLe=["B","A"];function ise(e){switch(e){case"narrow":return[...FLe];case"short":return[...LLe];case"long":return[...PLe];default:return null}}function NLe(e){return tse[e.hour<12?0:1]}function zLe(e,t){return ese(t)[e.weekday-1]}function VLe(e,t){return Zre(t)[e.month-1]}function jLe(e,t){return ise(t)[e.year<0?0:1]}function ULe(e,t,i="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&s){const p=e==="days";switch(t){case 1:return p?"tomorrow":`next ${r[e][0]}`;case-1:return p?"yesterday":`last ${r[e][0]}`;case 0:return p?"today":`this ${r[e][0]}`}}const a=Object.is(t,-0)||t<0,o=Math.abs(t),l=o===1,c=r[e],h=n?l?c[1]:c[2]||c[1]:l?r[e][0]:e;return a?`${o} ${h} ago`:`in ${o} ${h}`}function aB(e,t){let i="";for(const n of e)n.literal?i+=n.val:i+=t(n.val);return i}const BLe={D:kI,DD:Tre,DDD:$re,DDDD:Are,t:Mre,tt:Dre,ttt:Ore,tttt:Rre,T:Pre,TT:Lre,TTT:Fre,TTTT:Nre,f:zre,ff:jre,fff:Bre,ffff:Gre,F:Vre,FF:Ure,FFF:Hre,FFFF:qre};class cr{static create(t,i={}){return new cr(t,i)}static parseFormat(t){let i=null,n="",r=!1;const s=[];for(let a=0;a<t.length;a++){const o=t.charAt(a);o==="'"?(n.length>0&&s.push({literal:r,val:n}),i=null,n="",r=!r):r||o===i?n+=o:(n.length>0&&s.push({literal:!1,val:n}),n=o,i=o)}return n.length>0&&s.push({literal:r,val:n}),s}static macroTokenToFormatOpts(t){return BLe[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}formatDateTime(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i}).format()}formatDateTimeParts(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i}).formatToParts()}formatInterval(t,i={}){return this.loc.dtFormatter(t.start,{...this.opts,...i}).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i}).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return Xi(t,i);const n={...this.opts};return i>0&&(n.padTo=i),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,i){const n=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(g,y)=>this.loc.extract(t,g,y),a=g=>t.isOffsetFixed&&t.offset===0&&g.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,g.format):"",o=()=>n?NLe(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(g,y)=>n?VLe(t,g):s(y?{month:g}:{month:g,day:"numeric"},"month"),c=(g,y)=>n?zLe(t,g):s(y?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),h=g=>{const y=cr.macroTokenToFormatOpts(g);return y?this.formatWithSystemDefault(t,y):g},p=g=>n?jLe(t,g):s({era:g},"era"),m=g=>{switch(g){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return o();case"d":return r?s({day:"numeric"},"day"):this.num(t.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(t.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(t.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return h(g)}};return aB(cr.parseFormat(i),m)}formatDurationFromString(t,i){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>c=>{const h=n(c);return h?this.num(l.get(h),c.length):c},s=cr.parseFormat(i),a=s.reduce((l,{literal:c,val:h})=>c?l:l.concat(h),[]),o=t.shiftTo(...a.map(n).filter(l=>l));return aB(s,r(o))}}class Wo{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const nse=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function sv(...e){const t=e.reduce((i,n)=>i+n.source,"");return RegExp(`^${t}$`)}function av(...e){return t=>e.reduce(([i,n,r],s)=>{const[a,o,l]=s(t,r);return[{...i,...a},o||n,l]},[{},null,1]).slice(0,2)}function ov(e,...t){if(e==null)return[null,null];for(const[i,n]of t){const r=i.exec(e);if(r)return n(r)}return[null,null]}function rse(...e){return(t,i)=>{const n={};let r;for(r=0;r<e.length;r++)n[e[r]]=Ud(t[i+r]);return[n,null,i+r]}}const sse=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,HLe=`(?:${sse.source}?(?:\\[(${nse.source})\\])?)?`,j4=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ase=RegExp(`${j4.source}${HLe}`),U4=RegExp(`(?:T${ase.source})?`),GLe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,qLe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,WLe=/(\d{4})-?(\d{3})/,KLe=rse("weekYear","weekNumber","weekDay"),YLe=rse("year","ordinal"),JLe=/(\d{4})-(\d\d)-(\d\d)/,ose=RegExp(`${j4.source} ?(?:${sse.source}|(${nse.source}))?`),ZLe=RegExp(`(?: ${ose.source})?`);function Wy(e,t,i){const n=e[t];return yt(n)?i:Ud(n)}function QLe(e,t){return[{year:Wy(e,t),month:Wy(e,t+1,1),day:Wy(e,t+2,1)},null,t+3]}function lv(e,t){return[{hours:Wy(e,t,0),minutes:Wy(e,t+1,0),seconds:Wy(e,t+2,0),milliseconds:N4(e[t+3])},null,t+4]}function q_(e,t){const i=!e[t]&&!e[t+1],n=bT(e[t+1],e[t+2]),r=i?null:ur.instance(n);return[{},r,t+3]}function W_(e,t){const i=e[t]?ku.create(e[t]):null;return[{},i,t+1]}const XLe=RegExp(`^T?${j4.source}$`),eFe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function tFe(e){const[t,i,n,r,s,a,o,l,c]=e,h=t[0]==="-",p=l&&l[0]==="-",m=(g,y=!1)=>g!==void 0&&(y||g&&h)?-g:g;return[{years:m(op(i)),months:m(op(n)),weeks:m(op(r)),days:m(op(s)),hours:m(op(a)),minutes:m(op(o)),seconds:m(op(l),l==="-0"),milliseconds:m(N4(c),p)}]}const iFe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function B4(e,t,i,n,r,s,a){const o={year:t.length===2?GR(Ud(t)):Ud(t),month:Jre.indexOf(i)+1,day:Ud(n),hour:Ud(r),minute:Ud(s)};return a&&(o.second=Ud(a)),e&&(o.weekday=e.length>3?Qre.indexOf(e)+1:Xre.indexOf(e)+1),o}const nFe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function rFe(e){const[,t,i,n,r,s,a,o,l,c,h,p]=e,m=B4(t,r,n,i,s,a,o);let g;return l?g=iFe[l]:c?g=0:g=bT(h,p),[m,new ur(g)]}function sFe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const aFe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,oFe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,lFe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function oB(e){const[,t,i,n,r,s,a,o]=e;return[B4(t,r,n,i,s,a,o),ur.utcInstance]}function cFe(e){const[,t,i,n,r,s,a,o]=e;return[B4(t,o,i,n,r,s,a),ur.utcInstance]}const uFe=sv(GLe,U4),dFe=sv(qLe,U4),hFe=sv(WLe,U4),pFe=sv(ase),lse=av(QLe,lv,q_,W_),fFe=av(KLe,lv,q_,W_),mFe=av(YLe,lv,q_,W_),gFe=av(lv,q_,W_);function yFe(e){return ov(e,[uFe,lse],[dFe,fFe],[hFe,mFe],[pFe,gFe])}function vFe(e){return ov(sFe(e),[nFe,rFe])}function bFe(e){return ov(e,[aFe,oB],[oFe,oB],[lFe,cFe])}function wFe(e){return ov(e,[eFe,tFe])}const _Fe=av(lv);function xFe(e){return ov(e,[XLe,_Fe])}const SFe=sv(JLe,ZLe),EFe=sv(ose),kFe=av(lv,q_,W_);function IFe(e){return ov(e,[SFe,lse],[EFe,kFe])}const CFe="Invalid Duration",cse={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},TFe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...cse},pa=146097/400,eg=146097/4800,$Fe={years:{quarters:4,months:12,weeks:pa/7,days:pa,hours:pa*24,minutes:pa*24*60,seconds:pa*24*60*60,milliseconds:pa*24*60*60*1e3},quarters:{months:3,weeks:pa/28,days:pa/4,hours:pa*24/4,minutes:pa*24*60/4,seconds:pa*24*60*60/4,milliseconds:pa*24*60*60*1e3/4},months:{weeks:eg/7,days:eg,hours:eg*24,minutes:eg*24*60,seconds:eg*24*60*60,milliseconds:eg*24*60*60*1e3},...cse},Kp=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],AFe=Kp.slice(0).reverse();function Xu(e,t,i=!1){const n={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new _t(n)}function MFe(e){return e<0?Math.floor(e):Math.ceil(e)}function use(e,t,i,n,r){const s=e[r][i],a=t[i]/s,o=Math.sign(a)===Math.sign(n[r]),l=!o&&n[r]!==0&&Math.abs(a)<=1?MFe(a):Math.trunc(a);n[r]+=l,t[i]-=l*s}function DFe(e,t){AFe.reduce((i,n)=>yt(t[n])?i:(i&&use(e,t,i,t,n),n),null)}function OFe(e){const t={};for(const[i,n]of Object.entries(e))n!==0&&(t[i]=n);return t}class _t{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let n=i?$Fe:TFe;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||oi.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,i){return _t.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new Pa(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new _t({values:TI(t,_t.normalizeUnit),loc:oi.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(qf(t))return _t.fromMillis(t);if(_t.isDuration(t))return t;if(typeof t=="object")return _t.fromObject(t);throw new Pa(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[n]=wFe(t);return n?_t.fromObject(n,i):_t.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[n]=xFe(t);return n?_t.fromObject(n,i):_t.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new Pa("need to specify a reason the Duration is invalid");const n=t instanceof Wo?t:new Wo(t,i);if(Qi.throwOnInvalid)throw new oLe(n);return new _t({invalid:n})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new Cre(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const n={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?cr.create(this.loc,n).formatDurationFromString(this,t):CFe}toHuman(t={}){const i=Kp.map(n=>{const r=this.values[n];return yt(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(r)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=z4(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();if(i<0||i>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const n=this.shiftTo("hours","minutes","seconds","milliseconds");let r=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(r+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||n.milliseconds!==0)&&(r+=".SSS"));let s=n.toFormat(r);return t.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=_t.fromDurationLike(t),n={};for(const r of Kp)(T0(i.values,r)||T0(this.values,r))&&(n[r]=i.get(r)+this.get(r));return Xu(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const i=_t.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const n of Object.keys(this.values))i[n]=Yre(t(this.values[n],n));return Xu(this,{values:i},!0)}get(t){return this[_t.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...TI(t,_t.normalizeUnit)};return Xu(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:n,matrix:r}={}){const a={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:r,conversionAccuracy:n};return Xu(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return DFe(this.matrix,t),Xu(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=OFe(this.normalize().shiftToAll().toObject());return Xu(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(a=>_t.normalizeUnit(a));const i={},n={},r=this.toObject();let s;for(const a of Kp)if(t.indexOf(a)>=0){s=a;let o=0;for(const c in n)o+=this.matrix[c][a]*n[c],n[c]=0;qf(r[a])&&(o+=r[a]);const l=Math.trunc(o);i[a]=l,n[a]=(o*1e3-l*1e3)/1e3;for(const c in r)Kp.indexOf(c)>Kp.indexOf(a)&&use(this.matrix,r,c,i,a)}else qf(r[a])&&(n[a]=r[a]);for(const a in n)n[a]!==0&&(i[s]+=a===s?n[a]:n[a]/this.matrix[s][a]);return Xu(this,{values:i},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return Xu(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(n,r){return n===void 0||n===0?r===void 0||r===0:n===r}for(const n of Kp)if(!i(this.values[n],t.values[n]))return!1;return!0}}const tg="Invalid Interval";function RFe(e,t){return!e||!e.isValid?Fi.invalid("missing or invalid start"):!t||!t.isValid?Fi.invalid("missing or invalid end"):t<e?Fi.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Fi{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new Pa("need to specify a reason the Interval is invalid");const n=t instanceof Wo?t:new Wo(t,i);if(Qi.throwOnInvalid)throw new aLe(n);return new Fi({invalid:n})}static fromDateTimes(t,i){const n=Jv(t),r=Jv(i),s=RFe(n,r);return s??new Fi({start:n,end:r})}static after(t,i){const n=_t.fromDurationLike(i),r=Jv(t);return Fi.fromDateTimes(r,r.plus(n))}static before(t,i){const n=_t.fromDurationLike(i),r=Jv(t);return Fi.fromDateTimes(r.minus(n),r)}static fromISO(t,i){const[n,r]=(t||"").split("/",2);if(n&&r){let s,a;try{s=qe.fromISO(n,i),a=s.isValid}catch{a=!1}let o,l;try{o=qe.fromISO(r,i),l=o.isValid}catch{l=!1}if(a&&l)return Fi.fromDateTimes(s,o);if(a){const c=_t.fromISO(r,i);if(c.isValid)return Fi.after(s,c)}else if(l){const c=_t.fromISO(n,i);if(c.isValid)return Fi.before(o,c)}}return Fi.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const i=this.start.startOf(t),n=this.end.startOf(t);return Math.floor(n.diff(i,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?Fi.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(Jv).filter(a=>this.contains(a)).sort(),n=[];let{s:r}=this,s=0;for(;r<this.e;){const a=i[s]||this.e,o=+a>+this.e?this.e:a;n.push(Fi.fromDateTimes(r,o)),r=o,s+=1}return n}splitBy(t){const i=_t.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:n}=this,r=1,s;const a=[];for(;n<this.e;){const o=this.start.plus(i.mapUnits(l=>l*r));s=+o>+this.e?this.e:o,a.push(Fi.fromDateTimes(n,s)),n=s,r+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return i>=n?null:Fi.fromDateTimes(i,n)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return Fi.fromDateTimes(i,n)}static merge(t){const[i,n]=t.sort((r,s)=>r.s-s.s).reduce(([r,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[r,s.union(a)]:[r.concat([s]),a]:[r,a],[[],null]);return n&&i.push(n),i}static xor(t){let i=null,n=0;const r=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((l,c)=>l.time-c.time);for(const l of o)n+=l.type==="s"?1:-1,n===1?i=l.time:(i&&+i!=+l.time&&r.push(Fi.fromDateTimes(i,l.time)),i=null);return Fi.merge(r)}difference(...t){return Fi.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:tg}toLocaleString(t=kI,i={}){return this.isValid?cr.create(this.s.loc.clone(i),t).formatInterval(this):tg}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:tg}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:tg}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:tg}toFormat(t,{separator:i=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:tg}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):_t.invalid(this.invalidReason)}mapEndpoints(t){return Fi.fromDateTimes(t(this.s),t(this.e))}}class xS{static hasDST(t=Qi.defaultZone){const i=qe.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return ku.isValidZone(t)}static normalizeZone(t){return Jd(t,Qi.defaultZone)}static months(t="long",{locale:i=null,numberingSystem:n=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||oi.create(i,n,s)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:n=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||oi.create(i,n,s)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:n=null,locObj:r=null}={}){return(r||oi.create(i,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:n=null,locObj:r=null}={}){return(r||oi.create(i,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return oi.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return oi.create(i,null,"gregory").eras(t)}static features(){return{relative:Wre()}}}function lB(e,t){const i=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=i(t)-i(e);return Math.floor(_t.fromMillis(n).as("days"))}function PFe(e,t,i){const n=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const h=lB(l,c);return(h-h%7)/7}],["days",lB]],r={},s=e;let a,o;for(const[l,c]of n)i.indexOf(l)>=0&&(a=l,r[l]=c(e,t),o=s.plus(r),o>t?(r[l]--,e=s.plus(r)):e=o);return[e,r,o,a]}function LFe(e,t,i,n){let[r,s,a,o]=PFe(e,t,i);const l=t-r,c=i.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);c.length===0&&(a<t&&(a=r.plus({[o]:1})),a!==r&&(s[o]=(s[o]||0)+l/(a-r)));const h=_t.fromObject(s,n);return c.length>0?_t.fromMillis(l,n).shiftTo(...c).plus(h):h}const H4={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},cB={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},FFe=H4.hanidec.replace(/[\[|\]]/g,"").split("");function NFe(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(e[i].search(H4.hanidec)!==-1)t+=FFe.indexOf(e[i]);else for(const r in cB){const[s,a]=cB[r];n>=s&&n<=a&&(t+=n-s)}}return parseInt(t,10)}else return t}function yo({numberingSystem:e},t=""){return new RegExp(`${H4[e||"latn"]}${t}`)}const zFe="missing Intl.DateTimeFormat.formatToParts support";function Rt(e,t=i=>i){return{regex:e,deser:([i])=>t(NFe(i))}}const VFe=String.fromCharCode(160),dse=`[ ${VFe}]`,hse=new RegExp(dse,"g");function jFe(e){return e.replace(/\./g,"\\.?").replace(hse,dse)}function uB(e){return e.replace(/\./g,"").replace(hse," ").toLowerCase()}function vo(e,t){return e===null?null:{regex:RegExp(e.map(jFe).join("|")),deser:([i])=>e.findIndex(n=>uB(i)===uB(n))+t}}function dB(e,t){return{regex:e,deser:([,i,n])=>bT(i,n),groups:t}}function QA(e){return{regex:e,deser:([t])=>t}}function UFe(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function BFe(e,t){const i=yo(t),n=yo(t,"{2}"),r=yo(t,"{3}"),s=yo(t,"{4}"),a=yo(t,"{6}"),o=yo(t,"{1,2}"),l=yo(t,"{1,3}"),c=yo(t,"{1,6}"),h=yo(t,"{1,9}"),p=yo(t,"{2,4}"),m=yo(t,"{4,6}"),g=w=>({regex:RegExp(UFe(w.val)),deser:([_])=>_,literal:!0}),b=(w=>{if(e.literal)return g(w);switch(w.val){case"G":return vo(t.eras("short",!1),0);case"GG":return vo(t.eras("long",!1),0);case"y":return Rt(c);case"yy":return Rt(p,GR);case"yyyy":return Rt(s);case"yyyyy":return Rt(m);case"yyyyyy":return Rt(a);case"M":return Rt(o);case"MM":return Rt(n);case"MMM":return vo(t.months("short",!0,!1),1);case"MMMM":return vo(t.months("long",!0,!1),1);case"L":return Rt(o);case"LL":return Rt(n);case"LLL":return vo(t.months("short",!1,!1),1);case"LLLL":return vo(t.months("long",!1,!1),1);case"d":return Rt(o);case"dd":return Rt(n);case"o":return Rt(l);case"ooo":return Rt(r);case"HH":return Rt(n);case"H":return Rt(o);case"hh":return Rt(n);case"h":return Rt(o);case"mm":return Rt(n);case"m":return Rt(o);case"q":return Rt(o);case"qq":return Rt(n);case"s":return Rt(o);case"ss":return Rt(n);case"S":return Rt(l);case"SSS":return Rt(r);case"u":return QA(h);case"uu":return QA(o);case"uuu":return Rt(i);case"a":return vo(t.meridiems(),0);case"kkkk":return Rt(s);case"kk":return Rt(p,GR);case"W":return Rt(o);case"WW":return Rt(n);case"E":case"c":return Rt(i);case"EEE":return vo(t.weekdays("short",!1,!1),1);case"EEEE":return vo(t.weekdays("long",!1,!1),1);case"ccc":return vo(t.weekdays("short",!0,!1),1);case"cccc":return vo(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return dB(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return dB(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return QA(/[a-z_+-/]{1,256}?/i);default:return g(w)}})(e)||{invalidReason:zFe};return b.token=e,b}const HFe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function GFe(e,t){const{type:i,value:n}=e;if(i==="literal")return{literal:!0,val:n};const r=t[i];let s=HFe[i];if(typeof s=="object"&&(s=s[r]),s)return{literal:!1,val:s}}function qFe(e){return[`^${e.map(i=>i.regex).reduce((i,n)=>`${i}(${n.source})`,"")}$`,e]}function WFe(e,t,i){const n=e.match(t);if(n){const r={};let s=1;for(const a in i)if(T0(i,a)){const o=i[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(r[o.token.val[0]]=o.deser(n.slice(s,s+l))),s+=l}return[n,r]}else return[n,{}]}function KFe(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,n;return yt(e.z)||(i=ku.create(e.z)),yt(e.Z)||(i||(i=new ur(e.Z)),n=e.Z),yt(e.q)||(e.M=(e.q-1)*3+1),yt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),yt(e.u)||(e.S=N4(e.u)),[Object.keys(e).reduce((s,a)=>{const o=t(a);return o&&(s[o]=e[a]),s},{}),i,n]}let XA=null;function YFe(){return XA||(XA=qe.fromMillis(1555555555555)),XA}function JFe(e,t){if(e.literal)return e;const i=cr.macroTokenToFormatOpts(e.val),n=mse(i,t);return n==null||n.includes(void 0)?e:n}function pse(e,t){return Array.prototype.concat(...e.map(i=>JFe(i,t)))}function fse(e,t,i){const n=pse(cr.parseFormat(i),e),r=n.map(a=>BFe(a,e)),s=r.find(a=>a.invalidReason);if(s)return{input:t,tokens:n,invalidReason:s.invalidReason};{const[a,o]=qFe(r),l=RegExp(a,"i"),[c,h]=WFe(t,l,o),[p,m,g]=h?KFe(h):[null,null,void 0];if(T0(h,"a")&&T0(h,"H"))throw new Jb("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:l,rawMatches:c,matches:h,result:p,zone:m,specificOffset:g}}}function ZFe(e,t,i){const{result:n,zone:r,specificOffset:s,invalidReason:a}=fse(e,t,i);return[n,r,s,a]}function mse(e,t){return e?cr.create(t,e).formatDateTimeParts(YFe()).map(r=>GFe(r,e)):null}const gse=[0,31,59,90,120,151,181,212,243,273,304,334],yse=[0,31,60,91,121,152,182,213,244,274,305,335];function Ua(e,t){return new Wo("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function vse(e,t,i){const n=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const r=n.getUTCDay();return r===0?7:r}function bse(e,t,i){return i+(G_(e)?yse:gse)[t-1]}function wse(e,t){const i=G_(e)?yse:gse,n=i.findIndex(s=>s<t),r=t-i[n];return{month:n+1,day:r}}function qR(e){const{year:t,month:i,day:n}=e,r=bse(t,i,n),s=vse(t,i,n);let a=Math.floor((r-s+10)/7),o;return a<1?(o=t-1,a=CI(o)):a>CI(t)?(o=t+1,a=1):o=t,{weekYear:o,weekNumber:a,weekday:s,...wT(e)}}function hB(e){const{weekYear:t,weekNumber:i,weekday:n}=e,r=vse(t,1,4),s=Q1(t);let a=i*7+n-r-3,o;a<1?(o=t-1,a+=Q1(o)):a>s?(o=t+1,a-=Q1(t)):o=t;const{month:l,day:c}=wse(o,a);return{year:o,month:l,day:c,...wT(e)}}function eM(e){const{year:t,month:i,day:n}=e,r=bse(t,i,n);return{year:t,ordinal:r,...wT(e)}}function pB(e){const{year:t,ordinal:i}=e,{month:n,day:r}=wse(t,i);return{year:t,month:n,day:r,...wT(e)}}function QFe(e){const t=vT(e.weekYear),i=iu(e.weekNumber,1,CI(e.weekYear)),n=iu(e.weekday,1,7);return t?i?n?!1:Ua("weekday",e.weekday):Ua("week",e.week):Ua("weekYear",e.weekYear)}function XFe(e){const t=vT(e.year),i=iu(e.ordinal,1,Q1(e.year));return t?i?!1:Ua("ordinal",e.ordinal):Ua("year",e.year)}function _se(e){const t=vT(e.year),i=iu(e.month,1,12),n=iu(e.day,1,II(e.year,e.month));return t?i?n?!1:Ua("day",e.day):Ua("month",e.month):Ua("year",e.year)}function xse(e){const{hour:t,minute:i,second:n,millisecond:r}=e,s=iu(t,0,23)||t===24&&i===0&&n===0&&r===0,a=iu(i,0,59),o=iu(n,0,59),l=iu(r,0,999);return s?a?o?l?!1:Ua("millisecond",r):Ua("second",n):Ua("minute",i):Ua("hour",t)}const tM="Invalid DateTime",fB=864e13;function SS(e){return new Wo("unsupported zone",`the zone "${e.name}" is not supported`)}function iM(e){return e.weekData===null&&(e.weekData=qR(e.c)),e.weekData}function Kv(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new qe({...i,...t,old:i})}function Sse(e,t,i){let n=e-t*60*1e3;const r=i.offset(n);if(t===r)return[n,t];n-=(r-t)*60*1e3;const s=i.offset(n);return r===s?[n,r]:[e-Math.min(r,s)*60*1e3,Math.max(r,s)]}function mB(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function hE(e,t,i){return Sse(V4(e),t,i)}function gB(e,t){const i=e.o,n=e.c.year+Math.trunc(t.years),r=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:n,month:r,day:Math.min(e.c.day,II(n,r))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},a=_t.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),o=V4(s);let[l,c]=Sse(o,i,e.zone);return a!==0&&(l+=a,c=e.zone.offset(l)),{ts:l,o:c}}function Yv(e,t,i,n,r,s){const{setZone:a,zone:o}=i;if(e&&Object.keys(e).length!==0){const l=t||o,c=qe.fromObject(e,{...i,zone:l,specificOffset:s});return a?c:c.setZone(o)}else return qe.invalid(new Wo("unparsable",`the input "${r}" can't be parsed as ${n}`))}function ES(e,t,i=!0){return e.isValid?cr.create(oi.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function nM(e,t){const i=e.c.year>9999||e.c.year<0;let n="";return i&&e.c.year>=0&&(n+="+"),n+=Xi(e.c.year,i?6:4),t?(n+="-",n+=Xi(e.c.month),n+="-",n+=Xi(e.c.day)):(n+=Xi(e.c.month),n+=Xi(e.c.day)),n}function yB(e,t,i,n,r,s){let a=Xi(e.c.hour);return t?(a+=":",a+=Xi(e.c.minute),(e.c.second!==0||!i)&&(a+=":")):a+=Xi(e.c.minute),(e.c.second!==0||!i)&&(a+=Xi(e.c.second),(e.c.millisecond!==0||!n)&&(a+=".",a+=Xi(e.c.millisecond,3))),r&&(e.isOffsetFixed&&e.offset===0&&!s?a+="Z":e.o<0?(a+="-",a+=Xi(Math.trunc(-e.o/60)),a+=":",a+=Xi(Math.trunc(-e.o%60))):(a+="+",a+=Xi(Math.trunc(e.o/60)),a+=":",a+=Xi(Math.trunc(e.o%60)))),s&&(a+="["+e.zone.ianaName+"]"),a}const Ese={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},eNe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},tNe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},kse=["year","month","day","hour","minute","second","millisecond"],iNe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],nNe=["year","ordinal","hour","minute","second","millisecond"];function vB(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Cre(e);return t}function bB(e,t){const i=Jd(t.zone,Qi.defaultZone),n=oi.fromObject(t),r=Qi.now();let s,a;if(yt(e.year))s=r;else{for(const c of kse)yt(e[c])&&(e[c]=Ese[c]);const o=_se(e)||xse(e);if(o)return qe.invalid(o);const l=i.offset(r);[s,a]=hE(e,l,i)}return new qe({ts:s,zone:i,loc:n,o:a})}function wB(e,t,i){const n=yt(i.round)?!0:i.round,r=(a,o)=>(a=z4(a,n||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(a,o)),s=a=>i.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(i.unit)return r(s(i.unit),i.unit);for(const a of i.units){const o=s(a);if(Math.abs(o)>=1)return r(o,a)}return r(e>t?-0:0,i.units[i.units.length-1])}function _B(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}class qe{constructor(t){const i=t.zone||Qi.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new Wo("invalid input"):null)||(i.isValid?null:SS(i));this.ts=yt(t.ts)?Qi.now():t.ts;let r=null,s=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[r,s]=[t.old.c,t.old.o];else{const o=i.offset(this.ts);r=mB(this.ts,o),n=Number.isNaN(r.year)?new Wo("invalid input"):null,r=n?null:r,s=n?null:o}this._zone=i,this.loc=t.loc||oi.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new qe({})}static local(){const[t,i]=_B(arguments),[n,r,s,a,o,l,c]=i;return bB({year:n,month:r,day:s,hour:a,minute:o,second:l,millisecond:c},t)}static utc(){const[t,i]=_B(arguments),[n,r,s,a,o,l,c]=i;return t.zone=ur.utcInstance,bB({year:n,month:r,day:s,hour:a,minute:o,second:l,millisecond:c},t)}static fromJSDate(t,i={}){const n=TLe(t)?t.valueOf():NaN;if(Number.isNaN(n))return qe.invalid("invalid input");const r=Jd(i.zone,Qi.defaultZone);return r.isValid?new qe({ts:n,zone:r,loc:oi.fromObject(i)}):qe.invalid(SS(r))}static fromMillis(t,i={}){if(qf(t))return t<-fB||t>fB?qe.invalid("Timestamp out of range"):new qe({ts:t,zone:Jd(i.zone,Qi.defaultZone),loc:oi.fromObject(i)});throw new Pa(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(qf(t))return new qe({ts:t*1e3,zone:Jd(i.zone,Qi.defaultZone),loc:oi.fromObject(i)});throw new Pa("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const n=Jd(i.zone,Qi.defaultZone);if(!n.isValid)return qe.invalid(SS(n));const r=Qi.now(),s=yt(i.specificOffset)?n.offset(r):i.specificOffset,a=TI(t,vB),o=!yt(a.ordinal),l=!yt(a.year),c=!yt(a.month)||!yt(a.day),h=l||c,p=a.weekYear||a.weekNumber,m=oi.fromObject(i);if((h||o)&&p)throw new Jb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new Jb("Can't mix ordinal dates with month/day");const g=p||a.weekday&&!h;let y,b,w=mB(r,s);g?(y=iNe,b=eNe,w=qR(w)):o?(y=nNe,b=tNe,w=eM(w)):(y=kse,b=Ese);let _=!1;for(const M of y){const L=a[M];yt(L)?_?a[M]=b[M]:a[M]=w[M]:_=!0}const x=g?QFe(a):o?XFe(a):_se(a),S=x||xse(a);if(S)return qe.invalid(S);const k=g?hB(a):o?pB(a):a,[A,T]=hE(k,s,n),C=new qe({ts:A,zone:n,o:T,loc:m});return a.weekday&&h&&t.weekday!==C.weekday?qe.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${C.toISO()}`):C}static fromISO(t,i={}){const[n,r]=yFe(t);return Yv(n,r,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[n,r]=vFe(t);return Yv(n,r,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[n,r]=bFe(t);return Yv(n,r,i,"HTTP",i)}static fromFormat(t,i,n={}){if(yt(t)||yt(i))throw new Pa("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=n,a=oi.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[o,l,c,h]=ZFe(a,t,i);return h?qe.invalid(h):Yv(o,l,n,`format ${i}`,t,c)}static fromString(t,i,n={}){return qe.fromFormat(t,i,n)}static fromSQL(t,i={}){const[n,r]=IFe(t);return Yv(n,r,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new Pa("need to specify a reason the DateTime is invalid");const n=t instanceof Wo?t:new Wo(t,i);if(Qi.throwOnInvalid)throw new sLe(n);return new qe({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const n=mse(t,oi.fromObject(i));return n?n.map(r=>r?r.val:null).join(""):null}static expandFormat(t,i={}){return pse(cr.parseFormat(t),oi.fromObject(i)).map(r=>r.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?iM(this).weekYear:NaN}get weekNumber(){return this.isValid?iM(this).weekNumber:NaN}get weekday(){return this.isValid?iM(this).weekday:NaN}get ordinal(){return this.isValid?eM(this.c).ordinal:NaN}get monthShort(){return this.isValid?xS.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?xS.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?xS.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?xS.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return G_(this.year)}get daysInMonth(){return II(this.year,this.month)}get daysInYear(){return this.isValid?Q1(this.year):NaN}get weeksInWeekYear(){return this.isValid?CI(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:n,calendar:r}=cr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:n,outputCalendar:r}}toUTC(t=0,i={}){return this.setZone(ur.instance(t),i)}toLocal(){return this.setZone(Qi.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:n=!1}={}){if(t=Jd(t,Qi.defaultZone),t.equals(this.zone))return this;if(t.isValid){let r=this.ts;if(i||n){const s=t.offset(this.ts),a=this.toObject();[r]=hE(a,s,t)}return Kv(this,{ts:r,zone:t})}else return qe.invalid(SS(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:n}={}){const r=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:n});return Kv(this,{loc:r})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=TI(t,vB),n=!yt(i.weekYear)||!yt(i.weekNumber)||!yt(i.weekday),r=!yt(i.ordinal),s=!yt(i.year),a=!yt(i.month)||!yt(i.day),o=s||a,l=i.weekYear||i.weekNumber;if((o||r)&&l)throw new Jb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&r)throw new Jb("Can't mix ordinal dates with month/day");let c;n?c=hB({...qR(this.c),...i}):yt(i.ordinal)?(c={...this.toObject(),...i},yt(i.day)&&(c.day=Math.min(II(c.year,c.month),c.day))):c=pB({...eM(this.c),...i});const[h,p]=hE(c,this.o,this.zone);return Kv(this,{ts:h,o:p})}plus(t){if(!this.isValid)return this;const i=_t.fromDurationLike(t);return Kv(this,gB(this,i))}minus(t){if(!this.isValid)return this;const i=_t.fromDurationLike(t).negate();return Kv(this,gB(this,i))}startOf(t){if(!this.isValid)return this;const i={},n=_t.normalizeUnit(t);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(n==="weeks"&&(i.weekday=1),n==="quarters"){const r=Math.ceil(this.month/3);i.month=(r-1)*3+1}return this.set(i)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,i={}){return this.isValid?cr.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):tM}toLocaleString(t=kI,i={}){return this.isValid?cr.create(this.loc.clone(i),t).formatDateTime(this):tM}toLocaleParts(t={}){return this.isValid?cr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=t==="extended";let o=nM(this,a);return o+="T",o+=yB(this,a,i,n,r,s),o}toISODate({format:t="extended"}={}){return this.isValid?nM(this,t==="extended"):null}toISOWeekDate(){return ES(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(r?"T":"")+yB(this,a==="extended",i,t,n,s):null}toRFC2822(){return ES(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ES(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?nM(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(i||t)&&(n&&(r+=" "),i?r+="z":t&&(r+="ZZ")),ES(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():tM}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",n={}){if(!this.isValid||!t.isValid)return _t.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=$Le(i).map(_t.normalizeUnit),a=t.valueOf()>this.valueOf(),o=a?this:t,l=a?t:this,c=LFe(o,l,s,r);return a?c.negate():c}diffNow(t="milliseconds",i={}){return this.diff(qe.now(),t,i)}until(t){return this.isValid?Fi.fromDateTimes(this,t):this}hasSame(t,i){if(!this.isValid)return!1;const n=t.valueOf(),r=this.setZone(t.zone,{keepLocalTime:!0});return r.startOf(i)<=n&&n<=r.endOf(i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||qe.fromObject({},{zone:this.zone}),n=t.padding?this<i?-t.padding:t.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(r=t.unit,s=void 0),wB(i,this.plus(n),{...t,numeric:"always",units:r,unit:s})}toRelativeCalendar(t={}){return this.isValid?wB(t.base||qe.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(qe.isDateTime))throw new Pa("min requires all arguments be DateTimes");return sB(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(qe.isDateTime))throw new Pa("max requires all arguments be DateTimes");return sB(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,n={}){const{locale:r=null,numberingSystem:s=null}=n,a=oi.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return fse(a,t,i)}static fromStringExplain(t,i,n={}){return qe.fromFormatExplain(t,i,n)}static get DATE_SHORT(){return kI}static get DATE_MED(){return Tre}static get DATE_MED_WITH_WEEKDAY(){return lLe}static get DATE_FULL(){return $re}static get DATE_HUGE(){return Are}static get TIME_SIMPLE(){return Mre}static get TIME_WITH_SECONDS(){return Dre}static get TIME_WITH_SHORT_OFFSET(){return Ore}static get TIME_WITH_LONG_OFFSET(){return Rre}static get TIME_24_SIMPLE(){return Pre}static get TIME_24_WITH_SECONDS(){return Lre}static get TIME_24_WITH_SHORT_OFFSET(){return Fre}static get TIME_24_WITH_LONG_OFFSET(){return Nre}static get DATETIME_SHORT(){return zre}static get DATETIME_SHORT_WITH_SECONDS(){return Vre}static get DATETIME_MED(){return jre}static get DATETIME_MED_WITH_SECONDS(){return Ure}static get DATETIME_MED_WITH_WEEKDAY(){return cLe}static get DATETIME_FULL(){return Bre}static get DATETIME_FULL_WITH_SECONDS(){return Hre}static get DATETIME_HUGE(){return Gre}static get DATETIME_HUGE_WITH_SECONDS(){return qre}}function Jv(e){if(qe.isDateTime(e))return e;if(e&&e.valueOf&&qf(e.valueOf()))return qe.fromJSDate(e);if(e&&typeof e=="object")return qe.fromObject(e);throw new Pa(`Unknown datetime argument: ${e}, of type ${typeof e}`)}function rNe(e,t="system"){if(!e||!J9.has(e.timeZone))return t;const i=J9.get(e.timeZone);return aNe(e.timeZone)||e.respectsDaylightSaving?i:sNe(i)}function sNe(e){const t=qe.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${ur.instance(-i).formatOffset(0,"narrow")}`}function aNe(e){return e.startsWith("UTC")}let _d=class extends Wt(W){constructor(t){super(t),this.legacy=null,this.timeZone="system"}readLegacy(t,i){const{timeZone:n,respectsDaylightSaving:r}=i;return{timeZone:n,respectsDaylightSaving:r}}readTimeZone(t,i){return"timeZoneIANA"in i?i.timeZoneIANA:rNe(i)}writeTimeZone(t,i){i.timeZoneIANA=t}equals(t){return!(j(t)||j(this.timeZone)||j(t.timeZone))&&this.timeZone===t.timeZone}};u([d()],_d.prototype,"legacy",void 0),u([ee("legacy",["timeZone"])],_d.prototype,"readLegacy",null),u([d({type:String,nonNullable:!0})],_d.prototype,"timeZone",void 0),u([ee("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],_d.prototype,"readTimeZone",null),u([ue("timeZone")],_d.prototype,"writeTimeZone",null),_d=u([I("esri.time.TimeReference")],_d);const $0=_d;let Dc=class extends Wt(W){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.dateFieldsTimeReference=null}};u([d()],Dc.prototype,"creatorField",void 0),u([d()],Dc.prototype,"creationDateField",void 0),u([d()],Dc.prototype,"editorField",void 0),u([d()],Dc.prototype,"editDateField",void 0),u([d()],Dc.prototype,"realm",void 0),u([d({type:$0})],Dc.prototype,"dateFieldsTimeReference",void 0),Dc=u([I("esri.layers.support.EditFieldsInfo")],Dc);const oNe=Dc;let Pl=class extends Wt(W){constructor(t){super(t)}};u([d({constructOnly:!0,json:{write:!0}})],Pl.prototype,"name",void 0),u([d({constructOnly:!0,json:{write:!0}})],Pl.prototype,"fields",void 0),u([d({constructOnly:!0,json:{write:!0}})],Pl.prototype,"isAscending",void 0),u([d({constructOnly:!0,json:{write:!0}})],Pl.prototype,"indexType",void 0),u([d({constructOnly:!0,json:{write:!0}})],Pl.prototype,"isUnique",void 0),u([d({constructOnly:!0,json:{write:!0}})],Pl.prototype,"description",void 0),Pl=u([I("esri.layers.support.FeatureIndex")],Pl);const WR=new nt({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function lNe(e,t,i,n){const r=await Jh(e);if(await G4(e,t,n),!r.addAttachment)throw new N(n,"Layer source does not support addAttachment capability");return r.addAttachment(t,i)}function G4(e,t,i){const{attributes:n}=t,{objectIdField:r}=e;return e.get("capabilities.data.supportsAttachment")?t?n?r&&n[r]?Promise.resolve():Promise.reject(new N(i,`feature is missing the identifying attribute ${r}`)):Promise.reject(new N(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new N(i,"A feature is required to add/delete/update attachments")):Promise.reject(new N(i,"this layer doesn't support attachments"))}async function cNe(e,t,i,n,r){const s=await Jh(e);if(await G4(e,t,r),!s.updateAttachment)throw new N(r,"Layer source does not support updateAttachment capability");return s.updateAttachment(t,i,n)}async function uNe(e,t,i){const n=await H(()=>import("./editingSupport.js"),["editingSupport.js","assetEditingSupport.js"]),r=await e.load();return n.applyEdits(r,r.source,t,i)}async function dNe(e,t,i,n){const r=await Jh(e);if(await G4(e,t,n),!r.deleteAttachments)throw new N(n,"Layer source does not support deleteAttachments capability");return r.deleteAttachments(t,i)}async function hNe(e,t,i){const n=(await e.load({signal:t==null?void 0:t.signal})).source;if(!n.fetchRecomputedExtents)throw new N(i,"Layer source does not support fetchUpdates capability");return n.fetchRecomputedExtents(t)}async function pNe(e,t,i,n){var g,y;t=b5.from(t),await e.load();const r=e.source,s=e.capabilities;if(!((g=s==null?void 0:s.data)!=null&&g.supportsAttachment))throw new N(n,"this layer doesn't support attachments");const{attachmentTypes:a,objectIds:o,globalIds:l,num:c,size:h,start:p,where:m}=t;if(!((y=s==null?void 0:s.operations)!=null&&y.supportsQueryAttachments)&&((a==null?void 0:a.length)>0||(l==null?void 0:l.length)>0||(h==null?void 0:h.length)>0||c||p||m))throw new N(n,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(o!=null&&o.length||l!=null&&l.length||m))throw new N(n,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!r.queryAttachments)throw new N(n,"Layer source does not support queryAttachments capability",t);return r.queryAttachments(t)}async function fNe(e,t,i,n){const r=await Jh(e);if(!r.queryObjectIds)throw new N(n,"Layer source does not support queryObjectIds capability");return r.queryObjectIds(Kl.from(t)??e.createQuery(),i)}async function mNe(e,t,i,n){const r=await Jh(e);if(!r.queryFeatureCount)throw new N(n,"Layer source does not support queryFeatureCount capability");return r.queryFeatureCount(Kl.from(t)??e.createQuery(),i)}async function gNe(e,t,i,n){const r=await Jh(e);if(!r.queryExtent)throw new N(n,"Layer source does not support queryExtent capability");return r.queryExtent(Kl.from(t)??e.createQuery(),i)}async function yNe(e,t,i,n){const r=await Jh(e);if(!r.queryRelatedFeatures)throw new N(n,"Layer source does not support queryRelatedFeatures capability");return r.queryRelatedFeatures(k0.from(t),i)}async function vNe(e,t,i,n){const r=await Jh(e);if(!r.queryRelatedFeaturesCount)throw new N(n,"Layer source does not support queryRelatedFeaturesCount capability");return r.queryRelatedFeaturesCount(k0.from(t),i)}async function bNe(e){const t=e.source;if(t!=null&&t.refresh)try{const{dataChanged:i,updates:n}=await t.refresh();if($(n)&&(e.sourceJSON={...e.sourceJSON,...n},e.read(n,{origin:"service",url:e.parsedUrl})),i)return!0}catch{}if(e.definitionExpression)try{return(await gPe(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function wNe(e){const t=new Kl,i=e.get("capabilities.data"),n=e.get("capabilities.query");t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,n&&(t.compactGeometryEnabled=n.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=n.supportsDefaultSpatialReference),i&&(i.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),i.supportsM&&e.returnM!=null&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:r,timeExtent:s}=e;return t.timeExtent=r!=null&&s!=null?s.offset(-r.value,r.unit):s||null,t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null,t}function Ise(e){const{globalIdField:t,fields:i}=e;if(t)return t;if(i){for(const n of i)if(n.type==="esriFieldTypeGlobalID")return n.name}}function Cse(e){const{objectIdField:t,fields:i}=e;if(t)return t;if(i){for(const n of i)if(n.type==="esriFieldTypeOID")return n.name}}function _Ne(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}async function Jh(e){return(await e.load()).source}async function xNe(e,t){if(!xt||xt.findCredential(e))return;let i;try{const n=await _ie(e,t);n&&(i=await xt.checkSignInStatus(`${n}/sharing`))}catch{}if(i)try{const n=$(t)?t.signal:null;await xt.getCredential(e,{signal:n})}catch{}}async function SNe(e,t){var r;const i=(r=e.parsedUrl)==null?void 0:r.path;if(!i)return;const n=e.editFieldsInfo;(e.userHasUpdateItemPrivileges||e.userHasFullEditingPrivileges&&e.capabilities.operations.supportsEditing||n!=null&&n.creatorField||n!=null&&n.editorField)&&await xNe(i,t)}function ENe(e){var t;return!((t=e.sourceJSON)!=null&&t.isMultiServicesView)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}let jg=class extends Wt(W){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};u([d({type:String,json:{read:{source:"shapeAreaFieldName"}}})],jg.prototype,"shapeAreaField",void 0),u([d({type:String,json:{read:{source:"shapeLengthFieldName"}}})],jg.prototype,"shapeLengthField",void 0),u([d({type:String,json:{read:e=>GSe.read(e)||qSe.read(e)}})],jg.prototype,"units",void 0),jg=u([I("esri.layers.support.GeometryFieldsInfo")],jg);const kNe=jg;var KR;let Ug=KR=class extends W{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new Ie}clone(){return new KR({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};u([d({type:String,json:{write:!0}})],Ug.prototype,"floorField",void 0),u([d({json:{read:!1,write:!1}})],Ug.prototype,"viewAllMode",void 0),u([d({json:{read:!1,write:!1}})],Ug.prototype,"viewAllLevelIds",void 0),Ug=KR=u([I("esri.layers.support.LayerFloorInfo")],Ug);const INe=Ug,xB=new nt({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),SB=new nt({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let xa=class extends Wt(W){constructor(t){super(t),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};u([d({json:{read:xB.read,write:xB.write}})],xa.prototype,"cardinality",void 0),u([d({json:{read:!0,write:!0}})],xa.prototype,"composite",void 0),u([d({json:{read:!0,write:!0}})],xa.prototype,"id",void 0),u([d({json:{read:!0,write:!0}})],xa.prototype,"keyField",void 0),u([d({json:{read:!0,write:!0}})],xa.prototype,"keyFieldInRelationshipTable",void 0),u([d({json:{read:!0,write:!0}})],xa.prototype,"name",void 0),u([d({json:{read:!0,write:!0}})],xa.prototype,"relatedTableId",void 0),u([d({json:{read:!0,write:!0}})],xa.prototype,"relationshipTableId",void 0),u([d({json:{read:SB.read,write:SB.write}})],xa.prototype,"role",void 0),xa=u([I("esri.layers.support.Relationship")],xa);const CNe=xa,TNe={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function Ae(e,t,i){return!!(e&&e.hasOwnProperty(t)?e[t]:i)}function kS(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i}function $Ne(e){var i;const t=(i=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:i.map(n=>n.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function K_(e,t){var n;const i=(n=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:n.map(r=>r.toLowerCase());return!!(i!=null&&i.includes(t.toLowerCase()))}function Tse(e,t){return{analytics:ANe(e),attachment:MNe(e),data:DNe(e),metadata:ONe(e),operations:RNe(e.capabilities,e,t),query:PNe(e,t),queryRelated:LNe(e),queryTopFeatures:FNe(e),editing:NNe(e)}}function ANe(e){return{supportsCacheHint:K_(e.advancedQueryCapabilities,"queryAnalytics")}}function MNe(e){const t=e.attachmentProperties,i={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:K_(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:Ae(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(n=>{const r=TNe[n.name];r&&(i[r]=!!n.isEnabled)}),i}function DNe(e){return{isVersioned:Ae(e,"isDataVersioned",!1),supportsAttachment:Ae(e,"hasAttachments",!1),supportsM:Ae(e,"hasM",!1),supportsZ:Ae(e,"hasZ",!1)}}function ONe(e){return{supportsAdvancedFieldProperties:Ae(e,"supportsFieldDescriptionProperty",!1)}}function RNe(e,t,i){const n=e?e.toLowerCase().split(",").map(m=>m.trim()):[],r=i?rv(i):null,s=n.includes($(r)&&r.serverType==="MapServer"?"data":"query"),a=n.includes("editing")&&!t.datesInUnknownTimezone;let o=a&&n.includes("create"),l=a&&n.includes("delete"),c=a&&n.includes("update");const h=n.includes("changetracking"),p=t.advancedQueryCapabilities;return a&&!(o||l||c)&&(o=l=c=!0),{supportsCalculate:Ae(t,"supportsCalculate",!1),supportsTruncate:Ae(t,"supportsTruncate",!1),supportsValidateSql:Ae(t,"supportsValidateSql",!1),supportsAdd:o,supportsDelete:l,supportsEditing:a,supportsChangeTracking:h,supportsQuery:s,supportsQueryAnalytics:Ae(p,"supportsQueryAnalytic",!1),supportsQueryAttachments:Ae(p,"supportsQueryAttachments",!1),supportsQueryTopFeatures:Ae(p,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:Ae(t,"supportsAttachmentsResizing",!1),supportsSync:n.includes("sync"),supportsUpdate:c,supportsExceedsLimitStatistics:Ae(t,"supportsExceedsLimitStatistics",!1)}}function PNe(e,t){const i=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,r=e.archivingInfo,s=e.currentVersion,a=t==null?void 0:t.includes("MapServer"),o=!a||s>=G("mapserver-pbf-version-support"),l=vre(t),c=new Set((e.supportedQueryFormats??"").split(",").map(h=>h.toLowerCase().trim()));return{supportsStatistics:Ae(i,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:Ae(i,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:Ae(i,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:$Ne(i),supportsCentroid:Ae(i,"supportsReturningGeometryCentroid",!1),supportsDistance:Ae(i,"supportsQueryWithDistance",!1),supportsDistinct:Ae(i,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:Ae(i,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Ae(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:Ae(i,"supportsHavingClause",!1),supportsOrderBy:Ae(i,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:Ae(i,"supportsPagination",!1),supportsQuantization:Ae(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Ae(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Ae(e,"supportsReturningQueryGeometry",!1),supportsResultType:Ae(i,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Ae(i,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Ae(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Ae(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Ae(i,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Ae(n,"allowOthersToQuery",!0),supportsHistoricMoment:Ae(r,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:o&&c.has("pbf"),supportsDisjointSpatialRelationship:Ae(i,"supportsDisjointSpatialRel",!1),supportsCacheHint:Ae(i,"supportsQueryWithCacheHint",!1)||K_(i,"query"),supportsDefaultSpatialReference:Ae(i,"supportsDefaultSR",!1),supportsCompactGeometry:l,supportsFullTextSearch:Ae(i,"supportsFullTextSearch",!1),maxRecordCountFactor:kS(e,"maxRecordCountFactor",void 0),maxRecordCount:kS(e,"maxRecordCount",void 0),standardMaxRecordCount:kS(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:kS(e,"tileMaxRecordCount",void 0)}}function LNe(e){const t=e.advancedQueryCapabilities,i=Ae(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Ae(t,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i,supportsCacheHint:K_(t,"queryRelated")}}function FNe(e){return{supportsCacheHint:K_(e.advancedQueryCapabilities,"queryTopFilter")}}function NNe(e){const t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Ae(e,"allowGeometryUpdates",!0),supportsGlobalId:Ae(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Ae(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Ae(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Ae(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Ae(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Ae(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Ae(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Ae(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Ae(t,"allowOthersToUpdate",!0)}}const zNe=e=>{let t=class extends e{constructor(){super(...arguments),this.capabilities=null,this.copyright=null,this.dateFieldsTimeReference=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.isTable=!1,this.layerId=void 0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.preferredTimeReference=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.spatialReference=je.WGS84,this.subtypeField=null,this.trackIdField=null,this.indexes=new(Ie.ofType(Pl)),this.version=void 0}readCapabilitiesFromService(i,n){return Tse(n,this.url)}get effectiveCapabilities(){var a;const i=this.capabilities;if(!i)return null;const n=z(i),{operations:r,editing:s}=n;return(a=this.sourceJSON)!=null&&a.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(r.supportsQuery=!0),n):this.userHasUpdateItemPrivileges?(r.supportsAdd=r.supportsDelete=r.supportsEditing=r.supportsQuery=r.supportsUpdate=s.supportsDeleteByOthers=s.supportsGeometryUpdate=s.supportsUpdateByOthers=!0,n):(this.userHasFullEditingPrivileges&&r.supportsEditing&&(r.supportsAdd=r.supportsDelete=r.supportsUpdate=s.supportsGeometryUpdate=!0),n)}readEditingInfo(i,n){const{editingInfo:r}=n;return r?{lastEditDate:r.lastEditDate!=null?new Date(r.lastEditDate):null}:null}readIsTableFromService(i,n){return n.type==="Table"}readMinScale(i,n){return n.effectiveMinScale||i||0}readMaxScale(i,n){return n.effectiveMaxScale||i||0}readGlobalIdFieldFromService(i,n){return Ise(n)}readObjectIdFieldFromService(i,n){return Cse(n)}readServiceDefinitionExpression(i,n){return n.definitionQuery||n.definitionExpression}set url(i){const n=jPe({layer:this,url:i,nonStandardUrlAllowed:!0,logger:Y.getLogger(this.declaredClass)});this._set("url",n.url),n.layerId!=null&&this._set("layerId",n.layerId)}writeUrl(i,n,r,s){UPe(this,i,null,n,s)}readVersion(i,n){return _Ne(n)}};return u([d({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),u([ee("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),u([d({readOnly:!0})],t.prototype,"effectiveCapabilities",null),u([d({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),u([d({type:$0})],t.prototype,"dateFieldsTimeReference",void 0),u([d({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),u([d({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),u([d({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),u([d({readOnly:!0,type:oNe})],t.prototype,"editFieldsInfo",void 0),u([d({readOnly:!0})],t.prototype,"editingInfo",void 0),u([ee("editingInfo")],t.prototype,"readEditingInfo",null),u([d((()=>{const i=z(eLe),n=i.json.origins;return n["web-map"]={read:!1,write:!1},n["portal-item"]={read:!1,write:!1},i})())],t.prototype,"elevationInfo",void 0),u([d({type:INe,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],t.prototype,"floorInfo",void 0),u([d({type:Gt,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),u([d()],t.prototype,"gdbVersion",void 0),u([d({readOnly:!0,type:kNe,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),u([d({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:WR.read}}}})],t.prototype,"geometryType",void 0),u([d({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),u([d({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),u([d({readOnly:!0,type:gT})],t.prototype,"heightModelInfo",void 0),u([d({type:Date})],t.prototype,"historicMoment",void 0),u([d({readOnly:!0})],t.prototype,"isTable",void 0),u([ee("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),u([d({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),u([d(nLe)],t.prototype,"minScale",void 0),u([ee("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),u([d(rLe)],t.prototype,"maxScale",void 0),u([ee("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),u([d({type:String})],t.prototype,"globalIdField",void 0),u([ee("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),u([d({type:String})],t.prototype,"objectIdField",void 0),u([ee("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),u([d({type:$0})],t.prototype,"preferredTimeReference",void 0),u([d({type:[CNe],readOnly:!0})],t.prototype,"relationships",void 0),u([d()],t.prototype,"sourceJSON",void 0),u([d({type:Boolean})],t.prototype,"returnM",void 0),u([d({type:Boolean})],t.prototype,"returnZ",void 0),u([d({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),u([ee("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),u([d({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),u([d({type:je,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),u([d({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),u([d({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),u([d({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),u([d({type:Ie.ofType(Pl),readOnly:!0})],t.prototype,"indexes",void 0),u([d(QPe)],t.prototype,"url",null),u([ue("url")],t.prototype,"writeUrl",null),u([d({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),u([ee("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=u([I("esri.layers.mixins.FeatureLayerBase")],t),t};let Bg=class extends Wt(W){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};u([d({type:String,json:{write:!0}})],Bg.prototype,"expression",void 0),u([d({type:String,json:{write:!0}})],Bg.prototype,"title",void 0),u([d({type:String,json:{write:!0}})],Bg.prototype,"returnType",void 0),Bg=u([I("esri.layers.support.ExpressionInfo")],Bg);const q4=Bg;var YR;let Oc=YR=class extends W{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new YR({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:z(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};u([d({type:Boolean,json:{write:!0}})],Oc.prototype,"isAutoGenerated",void 0),u([d({type:String,json:{write:!0}})],Oc.prototype,"name",void 0),u([d({type:String,json:{write:!0}})],Oc.prototype,"alias",void 0),u([d({type:String,json:{write:!0}})],Oc.prototype,"onStatisticField",void 0),u([d({type:q4,json:{write:!0}})],Oc.prototype,"onStatisticExpression",void 0),u([d({type:String,json:{write:!0}})],Oc.prototype,"statisticType",void 0),Oc=YR=u([I("esri.layers.support.AggregateField")],Oc);const _m=Oc;let _h=class extends W{constructor(){super(...arguments),this.type=null}};u([d({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],_h.prototype,"type",void 0),_h=u([I("esri.layers.support.FeatureReduction")],_h);const W4="__begin__",K4="__end__",VNe=new RegExp(W4,"ig"),jNe=new RegExp(K4,"ig"),EB=new RegExp("^"+W4,"i"),kB=new RegExp(K4+"$","i"),$I='"',UNe=$I+" + ",BNe=" + "+$I;function HNe(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}function GNe(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function Y4(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=HNe(e.labelExpression),t.type="conventional"),t}function qNe(e){const t=Y4(e);if(!t)return null;switch(t.type){case"conventional":return JR(t.expression);case"arcade":return t.expression}return null}function WNe(e){const t=Y4(e);if(!t)return null;switch(t.type){case"conventional":return YNe(t.expression);case"arcade":return $se(t.expression)}return null}function JR(e){let t;return e?(t=ec(e,i=>W4+'$feature["'+i+'"]'+K4),t=EB.test(t)?t.replace(EB,""):$I+t,t=kB.test(t)?t.replace(kB,""):t+$I,t=t.replace(VNe,UNe).replace(jNe,BNe)):t='""',t}const KNe=/^\s*\{([^}]+)\}\s*$/i;function YNe(e){const t=e==null?void 0:e.match(KNe);return t&&t[1].trim()||null}const JNe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,ZNe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,QNe=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function $se(e){if(!e)return null;let t=JNe.exec(e)||ZNe.exec(e);return t?t[1]||t[3]:(t=QNe.exec(e),t?t[2]:null)}var ZR;let xd=ZR=class extends W{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?JR(t.value):e}writeExpression(e,t,i){this.value!=null&&(e=JR(this.value)),e!=null&&(t[i]=e)}clone(){return new ZR({expression:this.expression,title:this.title,value:this.value})}};u([d({type:String,json:{write:{writerEnsuresNonNull:!0}}})],xd.prototype,"expression",void 0),u([ee("expression",["expression","value"])],xd.prototype,"readExpression",null),u([ue("expression")],xd.prototype,"writeExpression",null),u([d({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],xd.prototype,"title",void 0),u([d({json:{read:!1,write:!1}})],xd.prototype,"value",void 0),xd=ZR=u([I("esri.layers.support.LabelExpressionInfo")],xd);const Ase=xd,Mse=[252,146,31,255],XNe={type:"esriSMS",style:"esriSMSCircle",size:6,color:Mse,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},e4e={type:"esriSLS",style:"esriSLSSolid",width:.75,color:Mse},t4e={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},i4e={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},n4e={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},r4e={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},s4e={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},lYe=Pu.fromJSON(XNe),cYe=ms.fromJSON(e4e),uYe=Wh.fromJSON(t4e),a4e=J0.fromJSON(i4e),dYe=Pu.fromJSON(n4e),hYe=ms.fromJSON(r4e),pYe=Wh.fromJSON(s4e);var QR;const IS=new nt({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function CS(e,t,i){return{enabled:!wie(i==null?void 0:i.layer)}}function Dse(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function o4e(e){return(e==null?void 0:e.type)==="map-image"}function Ose(e){var t,i;return!!o4e(e)&&!!((i=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&i.supportsArcadeExpressionForLabeling)}function l4e(e){return Dse(e)||Ose(e==null?void 0:e.layer)}let Ri=QR=class extends W{static evaluateWhere(e,t){const i=(n,r,s)=>{switch(r){case"=":return n==s;case"<>":return n!=s;case">":return n>s;case">=":return n>=s;case"<":return n<s;case"<=":return n<=s}return!1};try{if(e==null)return!0;const n=e.split(" ");if(n.length===3)return i(t[n[0]],n[1],n[2]);if(n.length===7){const r=i(t[n[0]],n[1],n[2]),s=n[3],a=i(t[n[4]],n[5],n[6]);switch(s){case"AND":return r&&a;case"OR":return r||a}}return!1}catch{console.log("Error.: can't parse = "+e)}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=a4e,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const i=t.labelExpressionInfo;if(!i||!i.value&&!i.expression)return e}writeLabelExpression(e,t,i){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=GNe(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const n=$se(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}}e!=null&&(t[i]=e)}writeLabelExpressionInfo(e,t,i,n){if(e==null&&this.labelExpression!=null&&Dse(n))e=new Ase({expression:this.getLabelExpressionArcade()});else if(!e)return;const r=e.toJSON(n);r.expression&&(t[i]=r)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return Y4(this)}getLabelExpressionArcade(){return qNe(this)}getLabelExpressionSingleField(){return WNe(this)}hash(){return JSON.stringify(this)}clone(){return new QR({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:z(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:z(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};u([d({type:String,json:{write:!0}})],Ri.prototype,"name",void 0),u([d({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:CS}}}}})],Ri.prototype,"allowOverrun",void 0),u([d({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:CS}}}}})],Ri.prototype,"deconflictionStrategy",void 0),u([d({type:String,json:{write:{overridePolicy(e,t,i){return this.labelExpressionInfo&&(i==null?void 0:i.origin)==="service"&&Ose(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],Ri.prototype,"labelExpression",void 0),u([ee("labelExpression")],Ri.prototype,"readLabelExpression",null),u([ue("labelExpression")],Ri.prototype,"writeLabelExpression",null),u([d({type:Ase,json:{write:{overridePolicy:(e,t,i)=>l4e(i)?{allowNull:!0}:{enabled:!1}}}})],Ri.prototype,"labelExpressionInfo",void 0),u([ue("labelExpressionInfo")],Ri.prototype,"writeLabelExpressionInfo",null),u([d({type:IS.apiValues,json:{type:IS.jsonValues,read:IS.read,write:IS.write}})],Ri.prototype,"labelPlacement",void 0),u([d({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Ri.prototype,"labelPosition",void 0),u([d({type:Number})],Ri.prototype,"maxScale",void 0),u([ue("maxScale")],Ri.prototype,"writeMaxScale",null),u([d({type:Number})],Ri.prototype,"minScale",void 0),u([ue("minScale")],Ri.prototype,"writeMinScale",null),u([d({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:CS}}}}})],Ri.prototype,"repeatLabel",void 0),u([d({type:Number,cast:mt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:CS}}}}})],Ri.prototype,"repeatLabelDistance",void 0),u([d({types:hTe,json:{origins:{"web-scene":{types:pTe,write:S9,default:null}},write:S9,default:null}})],Ri.prototype,"symbol",void 0),u([d({type:Boolean,json:{write:!0}})],Ri.prototype,"useCodedValues",void 0),u([d({type:String,json:{write:!0}})],Ri.prototype,"where",void 0),Ri=QR=u([I("esri.layers.support.LabelClass")],Ri);const _T=Ri;var XR;const rM=Uh({types:tT}),c4e="esri.layers.support.FeatureReductionBinning";let Cr=XR=class extends _h{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}writeFields(e,t,i){const n=e.filter(r=>r.statisticType!=="avg_angle").map(r=>r.toJSON());fr(i,n,t)}readRenderer(e,t,i){var r;const n=(r=t.drawingInfo)==null?void 0:r.renderer;return n?e_(n,t,i)??void 0:t.defaultSymbol?t.types&&t.types.length?new iv({defaultSymbol:rM(t.defaultSymbol,t,i),field:t.typeIdField,uniqueValueInfos:t.types.map(s=>({id:s.id,symbol:rM(s.symbol,s,i)}))}):new Eu({symbol:rM(t.defaultSymbol,t,i)}):null}clone(){return new XR({fields:z(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:z(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:z(this.popupTemplate),renderer:z(this.renderer)})}};u([xe({binning:"binning"})],Cr.prototype,"type",void 0),u([xe({geohash:"geohash"})],Cr.prototype,"binType",void 0),u([d({type:Number,range:{min:1,max:9},json:{write:!0}})],Cr.prototype,"fixedBinLevel",void 0),u([d({type:[_T],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Cr.prototype,"labelingInfo",void 0),u([d(F4)],Cr.prototype,"labelsVisible",void 0),u([d({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Cr.prototype,"maxScale",void 0),u([d(L4)],Cr.prototype,"popupEnabled",void 0),u([d({type:M_,json:{name:"popupInfo",write:!0}})],Cr.prototype,"popupTemplate",void 0),u([d({type:[_m],json:{write:!0}})],Cr.prototype,"fields",void 0),u([ue("fields")],Cr.prototype,"writeFields",null),u([d({types:mT,json:{write:{target:"drawingInfo.renderer"}}})],Cr.prototype,"renderer",void 0),u([ee("renderer",["drawingInfo.renderer"])],Cr.prototype,"readRenderer",null),Cr=XR=u([I(c4e)],Cr);const Rse=Cr;var eP;const sM=Uh({types:tT}),u4e="esri.layers.support.FeatureReductionCluster";function IB(e){var t;return e.type==="simple"&&!((t=e.visualVariables)!=null&&t.length)}let Ki=eP=class extends W{constructor(e){super(e),this.type="cluster",this.clusterRadius=mt("80px"),this.clusterMinSize=mt("12px"),this.clusterMaxSize=mt("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}readRenderer(e,t,i){var r,s;const n=(r=t.drawingInfo)==null?void 0:r.renderer;return(s=n==null?void 0:n.authoringInfo)!=null&&s.isAutoGenerated?null:n?IB(n)?null:e_(n,t,i)??void 0:t.defaultSymbol?t.types&&t.types.length?new iv({defaultSymbol:sM(t.defaultSymbol,t,i),field:t.typeIdField,uniqueValueInfos:t.types.map(a=>({id:a.id,symbol:sM(a.symbol,a,i)}))}):new Eu({symbol:sM(t.defaultSymbol,t,i)}):null}readSymbol(e,t,i){var r,s,a;const n=(r=t.drawingInfo)==null?void 0:r.renderer;return(s=n==null?void 0:n.authoringInfo)!=null&&s.isAutoGenerated?null:n&&IB(n)?(a=e_(n,t,i))==null?void 0:a.symbol:null}writeSymbol(e,t,i,n){var s,a;const r=(a=(s=this.renderer)==null?void 0:s.authoringInfo)==null?void 0:a.isAutoGenerated;if(!this.renderer||r){const o=new Eu({symbol:e});t.drawingInfo={renderer:o.write({},n)}}}writeFields(e,t,i){const n=e.filter(r=>r.statisticType!=="avg_angle").map(r=>r.toJSON());fr(i,n,t)}readFields(e,t,i){return e.filter(n=>!n.isAutoGenerated).map(n=>_m.fromJSON(n))}clone(){return new eP({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:z(this.labelingInfo),labelsVisible:this.labelsVisible,fields:z(this.fields),maxScale:this.maxScale,renderer:z(this.renderer),symbol:z(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:z(this.popupTemplate)})}};u([d({type:["cluster"],readOnly:!0,json:{write:!0}})],Ki.prototype,"type",void 0),u([d({type:Number,cast:e=>e==="auto"?e:mt(e),json:{write:!0}})],Ki.prototype,"clusterRadius",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],Ki.prototype,"clusterMinSize",void 0),u([d({type:Number,cast:mt,json:{write:!0}})],Ki.prototype,"clusterMaxSize",void 0),u([d({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Ki.prototype,"maxScale",void 0),u([d(L4)],Ki.prototype,"popupEnabled",void 0),u([d({type:M_,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Ki.prototype,"popupTemplate",void 0),u([d({types:mT,json:{write:{target:"drawingInfo.renderer"}}})],Ki.prototype,"renderer",void 0),u([ee("renderer",["drawingInfo.renderer"])],Ki.prototype,"readRenderer",null),u([d({types:uTe})],Ki.prototype,"symbol",void 0),u([ee("symbol",["drawingInfo.renderer"])],Ki.prototype,"readSymbol",null),u([ue("symbol")],Ki.prototype,"writeSymbol",null),u([d({type:[_T],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Ki.prototype,"labelingInfo",void 0),u([d(F4)],Ki.prototype,"labelsVisible",void 0),u([d({type:[_m],json:{write:!0}})],Ki.prototype,"fields",void 0),u([ue("fields")],Ki.prototype,"writeFields",null),u([ee("fields")],Ki.prototype,"readFields",null),Ki=eP=u([I(u4e)],Ki);const Pse=Ki;var tP;let pE=tP=class extends _h{constructor(e){super(e),this.type="selection"}clone(){return new tP}};u([d({type:["selection"]})],pE.prototype,"type",void 0),pE=tP=u([I("esri.layers.support.FeatureReductionSelection")],pE);const CB=pE,TB={key:"type",base:_h,typeMap:{cluster:Pse,binning:Rse}},d4e={types:{key:"type",base:_h,typeMap:{selection:CB,cluster:Pse,binning:Rse}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:TB},"portal-item":{types:TB},"web-scene":{types:{key:"type",base:_h,typeMap:{selection:CB}}}}}},ig={Base64:0,Hex:1,String:2,Raw:3},Ky=8,Lse=(1<<Ky)-1;function ch(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function h4e(e){const t=[];for(let i=0,n=e.length*Ky;i<n;i+=Ky)t[i>>5]|=(e.charCodeAt(i/Ky)&Lse)<<i%32;return t}function p4e(e){const t=[];for(let i=0,n=32*e.length;i<n;i+=Ky)t.push(String.fromCharCode(e[i>>5]>>>i%32&Lse));return t.join("")}function f4e(e){const t="0123456789abcdef",i=[];for(let n=0,r=4*e.length;n<r;n++)i.push(t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15));return i.join("")}function m4e(e){const t="=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[];for(let r=0,s=4*e.length;r<s;r+=3){const a=(e[r>>2]>>r%4*8&255)<<16|(e[r+1>>2]>>(r+1)%4*8&255)<<8|e[r+2>>2]>>(r+2)%4*8&255;for(let o=0;o<4;o++)8*r+6*o>32*e.length?n.push(t):n.push(i.charAt(a>>6*(3-o)&63))}return n.join("")}function g4e(e,t){return e<<t|e>>>32-t}function xT(e,t,i,n,r,s){return ch(g4e(ch(ch(t,e),ch(n,s)),r),i)}function Qn(e,t,i,n,r,s,a){return xT(t&i|~t&n,e,t,r,s,a)}function Xn(e,t,i,n,r,s,a){return xT(t&n|i&~n,e,t,r,s,a)}function er(e,t,i,n,r,s,a){return xT(t^i^n,e,t,r,s,a)}function tr(e,t,i,n,r,s,a){return xT(i^(t|~n),e,t,r,s,a)}function y4e(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let i=1732584193,n=-271733879,r=-1732584194,s=271733878;for(let a=0;a<e.length;a+=16){const o=i,l=n,c=r,h=s;i=Qn(i,n,r,s,e[a+0],7,-680876936),s=Qn(s,i,n,r,e[a+1],12,-389564586),r=Qn(r,s,i,n,e[a+2],17,606105819),n=Qn(n,r,s,i,e[a+3],22,-1044525330),i=Qn(i,n,r,s,e[a+4],7,-176418897),s=Qn(s,i,n,r,e[a+5],12,1200080426),r=Qn(r,s,i,n,e[a+6],17,-1473231341),n=Qn(n,r,s,i,e[a+7],22,-45705983),i=Qn(i,n,r,s,e[a+8],7,1770035416),s=Qn(s,i,n,r,e[a+9],12,-1958414417),r=Qn(r,s,i,n,e[a+10],17,-42063),n=Qn(n,r,s,i,e[a+11],22,-1990404162),i=Qn(i,n,r,s,e[a+12],7,1804603682),s=Qn(s,i,n,r,e[a+13],12,-40341101),r=Qn(r,s,i,n,e[a+14],17,-1502002290),n=Qn(n,r,s,i,e[a+15],22,1236535329),i=Xn(i,n,r,s,e[a+1],5,-165796510),s=Xn(s,i,n,r,e[a+6],9,-1069501632),r=Xn(r,s,i,n,e[a+11],14,643717713),n=Xn(n,r,s,i,e[a+0],20,-373897302),i=Xn(i,n,r,s,e[a+5],5,-701558691),s=Xn(s,i,n,r,e[a+10],9,38016083),r=Xn(r,s,i,n,e[a+15],14,-660478335),n=Xn(n,r,s,i,e[a+4],20,-405537848),i=Xn(i,n,r,s,e[a+9],5,568446438),s=Xn(s,i,n,r,e[a+14],9,-1019803690),r=Xn(r,s,i,n,e[a+3],14,-187363961),n=Xn(n,r,s,i,e[a+8],20,1163531501),i=Xn(i,n,r,s,e[a+13],5,-1444681467),s=Xn(s,i,n,r,e[a+2],9,-51403784),r=Xn(r,s,i,n,e[a+7],14,1735328473),n=Xn(n,r,s,i,e[a+12],20,-1926607734),i=er(i,n,r,s,e[a+5],4,-378558),s=er(s,i,n,r,e[a+8],11,-2022574463),r=er(r,s,i,n,e[a+11],16,1839030562),n=er(n,r,s,i,e[a+14],23,-35309556),i=er(i,n,r,s,e[a+1],4,-1530992060),s=er(s,i,n,r,e[a+4],11,1272893353),r=er(r,s,i,n,e[a+7],16,-155497632),n=er(n,r,s,i,e[a+10],23,-1094730640),i=er(i,n,r,s,e[a+13],4,681279174),s=er(s,i,n,r,e[a+0],11,-358537222),r=er(r,s,i,n,e[a+3],16,-722521979),n=er(n,r,s,i,e[a+6],23,76029189),i=er(i,n,r,s,e[a+9],4,-640364487),s=er(s,i,n,r,e[a+12],11,-421815835),r=er(r,s,i,n,e[a+15],16,530742520),n=er(n,r,s,i,e[a+2],23,-995338651),i=tr(i,n,r,s,e[a+0],6,-198630844),s=tr(s,i,n,r,e[a+7],10,1126891415),r=tr(r,s,i,n,e[a+14],15,-1416354905),n=tr(n,r,s,i,e[a+5],21,-57434055),i=tr(i,n,r,s,e[a+12],6,1700485571),s=tr(s,i,n,r,e[a+3],10,-1894986606),r=tr(r,s,i,n,e[a+10],15,-1051523),n=tr(n,r,s,i,e[a+1],21,-2054922799),i=tr(i,n,r,s,e[a+8],6,1873313359),s=tr(s,i,n,r,e[a+15],10,-30611744),r=tr(r,s,i,n,e[a+6],15,-1560198380),n=tr(n,r,s,i,e[a+13],21,1309151649),i=tr(i,n,r,s,e[a+4],6,-145523070),s=tr(s,i,n,r,e[a+11],10,-1120210379),r=tr(r,s,i,n,e[a+2],15,718787259),n=tr(n,r,s,i,e[a+9],21,-343485551),i=ch(i,o),n=ch(n,l),r=ch(r,c),s=ch(s,h)}return[i,n,r,s]}function Fse(e,t=ig.Hex){const i=t||ig.Base64,n=y4e(h4e(e),e.length*Ky);switch(i){case ig.Raw:return n;case ig.Hex:return f4e(n);case ig.String:return p4e(n);case ig.Base64:return m4e(n)}}var iP;let Qb=iP=class extends pT{writeLevels(e,t,i){for(const n in e){const r=this.levels[n];return void(t.stops=r)}}clone(){return new iP({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:lh(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:lh(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:z(this.levels)})}};u([d()],Qb.prototype,"levels",void 0),u([ue("levels")],Qb.prototype,"writeLevels",null),Qb=iP=u([I("esri.views.2d.engine.LevelDependentSizeVariable")],Qb);const v4e=Y.getLogger("esri.views.2d.layers.support.clusterUtils");G.add("esri-cluster-arcade-enabled",!0);const b4e=G("esri-cluster-arcade-enabled"),w4e=(e,t,i,n,r)=>{const s=t.clone();if(!x4e(s))return s;if(s.authoringInfo||(s.authoringInfo=new E4),s.authoringInfo.isAutoGenerated=!0,"visualVariables"in s){const a=(s.visualVariables||[]).filter(l=>l.valueExpression!=="$view.scale"),o=Nse(a);a.forEach(l=>{l.type==="rotation"?l.field?l.field=lp(e,l.field,"avg_angle","number"):l.valueExpression&&(l.field=Zv(e,l.valueExpression,"avg_angle","number"),l.valueExpression=null):l.normalizationField?(l.field=lp(e,l.field,"avg_norm","number",l.normalizationField),l.normalizationField=null):l.field?l.field=lp(e,l.field,"avg","number"):l.valueExpression&&(l.field=Zv(e,l.valueExpression,"avg","number"),l.valueExpression=null)}),j(o)&&!_4e(a)&&r&&(a.push(zse(i,n)),s.dynamicClusterSize=!0),s.visualVariables=a}switch(s.type){case"simple":break;case"pie-chart":for(const a of s.attributes)a.field?a.field=lp(e,a.field,"sum","number"):a.valueExpression&&(a.field=Zv(e,a.valueExpression,"sum","number"),a.valueExpression=null);break;case"unique-value":s.field?s.field=lp(e,s.field,"mode","string"):s.valueExpression&&(s.field=Zv(e,s.valueExpression,"mode","string"),s.valueExpression=null);break;case"class-breaks":s.normalizationField?(s.field=lp(e,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=lp(e,s.field,"avg","number"):s.valueExpression&&(s.field=Zv(e,s.valueExpression,"avg","number"),s.valueExpression=null)}return s},Nse=e=>{for(const t of e)if(t.type==="size")return t;return null};function fYe(e,t,i){const n=e.clone();let r=!1;if("visualVariables"in n){const s=(n.visualVariables||[]).filter(o=>o.valueExpression!=="$view.scale"),a=Nse(s);j(a)&&(n.visualVariables||(n.visualVariables=[]),n.visualVariables.push(zse(t,i)),n.dynamicClusterSize=!0,r=!0)}return{renderer:n,didInject:r}}const _4e=e=>{for(const t of e)if(t.field==="cluster_count")return!0;return!1},zse=(e,t)=>{const i=[new Pg({value:0,size:0}),new Pg({value:1})];if(j(t))return new pT({field:"cluster_count",stops:[...i,new Pg({value:2,size:0})]});const n=Object.keys(t).reduce((r,s)=>({...r,[s]:[...i,new Pg({value:Math.max(2,t[s].minValue),size:e.clusterMinSize}),new Pg({value:Math.max(3,t[s].maxValue),size:e.clusterMaxSize})]}),{});return new Qb({field:"cluster_count",levels:n})},x4e=e=>{const t=i=>v4e.error(new N("Unsupported-renderer",i,{renderer:e}));switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const i=e.normalizationType;if(i!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!b4e){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(i=>!(!("valueExpression"in i)||!i.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function S4e(e,t,i){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const n=i,r="field",s=t.toLowerCase()+",norm:"+r+","+n.toLowerCase();return"cluster_avg_"+Fse(s)}}}function Zv(e,t,i,n){const r=Fse(t),s=i==="mode"?`cluster_type_${r}`:i==="sum"?`cluster_sum_${r}`:`cluster_avg_${r}`;return e.some(a=>a.name===s)||e.push(new _m({name:s,isAutoGenerated:!0,onStatisticExpression:new q4({expression:t,returnType:n}),statisticType:i})),s}function lp(e,t,i,n,r){if(t==="cluster_count"||e.some(a=>a.name===t))return t;const s=S4e(i,t,r);return e.some(a=>a.name===s)||(i==="avg_norm"?e.push(new _m({name:s,isAutoGenerated:!0,onStatisticExpression:new q4({expression:`$feature.${t} / $feature.${r}`,returnType:n}),statisticType:"avg"})):e.push(new _m({name:s,isAutoGenerated:!0,onStatisticField:t,statisticType:i}))),s}const E4e=e=>{let t=class extends e{constructor(...i){super(...i),this.own(this.watch("renderer",()=>{if(this.featureReduction){const n=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",n)}},!0))}set featureReduction(i){const n=this._normalizeFeatureReduction(i);this._set("featureReduction",n)}set renderer(i){}_normalizeFeatureReduction(i){var o;if((i==null?void 0:i.type)!=="cluster")return i;const n=i.clone(),r=[new _m({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],s=(n.fields??[]).filter(l=>!l.isAutoGenerated);if(i.renderer&&!((o=i.renderer.authoringInfo)!=null&&o.isAutoGenerated))return n.fields=[...r,...s],n;if(i.symbol)return n.fields=[...r,...s],n.renderer=null,n;if(!this.renderer)return i;const a=w4e(r,this.renderer,i,null,!1);return n.fields=[...r,...s],n.renderer=a,n}};return u([d(d4e)],t.prototype,"featureReduction",null),t=u([I("esri.layers.mixins.FeatureReductionLayer")],t),t},k4e={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0}},Vse=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(i,n,r,s){(s&&s.layerContainerType==="ground"||i&&vSe(this,r,{},s))&&(n[r]=i)}writeOperationalLayerType(i,n,r,s){!i||s&&s.layerContainerType==="tables"||(n.layerType=i)}writeTitle(i,n){n.title=i??"Layer"}read(i,n){n&&(n.layer=this),mSe(this,i,r=>super.read(i,r),n)}write(i,n){var a,o;if(n!=null&&n.origin){const l=`${n.origin}/${n.layerContainerType||"operational-layers"}`,c=k4e[l];let h=c&&c[this.operationalLayerType];if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&l==="web-scene/operational-layers"&&(h=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&l==="web-map/operational-layers"&&(h=!1),!h)return(a=n.messages)==null||a.push(new N("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${l}'`,{layer:this})),null}const r=super.write(i,{...n,layer:this}),s=!!n&&!!n.messages&&!!n.messages.filter(l=>l instanceof N&&l.name==="web-document-write:property-required").length;return KC(r==null?void 0:r.url)?((o=n==null?void 0:n.messages)==null||o.push(new N("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:r}beforeSave(){}};return u([d({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),u([d(Ire)],t.prototype,"listMode",void 0),u([ue("listMode")],t.prototype,"writeListMode",null),u([d({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),u([ue("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),u([d(VR)],t.prototype,"opacity",void 0),u([d({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),u([ue("title"),ue(["web-scene"],"title")],t.prototype,"writeTitle",null),u([d({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=u([I("esri.layers.mixins.OperationalLayer")],t),t};var nP;const aM=new nt({asc:"ascending",desc:"descending"});let Hg=nP=class extends W{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new nP({field:this.field,valueExpression:this.valueExpression,order:this.order})}};u([d({type:String,json:{write:!0}})],Hg.prototype,"field",void 0),u([d({type:String,json:{write:!0}})],Hg.prototype,"valueExpression",void 0),u([d({type:aM.apiValues,json:{read:aM.read,write:aM.write}})],Hg.prototype,"order",void 0),Hg=nP=u([I("esri.layers.support.OrderByInfo")],Hg);const jse=Hg;function I4e(e,t,i){if(!e)return null;const n=e.find(s=>!!s.field);if(!n)return null;const r=new jse;return r.read(n,i),[r]}function C4e(e,t,i,n){const r=e.find(s=>!!s.field);r&&fr(i,[r.toJSON()],t)}const T4e=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return u([d({type:[jse],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:I4e},write:{target:"layerDefinition.orderBy",writer:C4e}}})],t.prototype,"orderBy",void 0),t=u([I("esri.layers.mixins.OrderedLayer")],t),t};let Sd=class extends ve{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t&&t.portalItem&&t.path?{...t,path:this._normalizePath(t.path,t.portalItem)}:t}set path(t){$(t)&&Lr(t)?Y.getLogger(this.declaredClass).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return this._normalizePath(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",i){const n=this.url;if(j(n))throw new N("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:t,query:{token:this.portalItem.apiKey},signal:EZ(i,"signal")})}async update(t,i){return(await H(()=>import("./resourceUtils.js"),[])).addOrUpdateResource(this,"update",t,i)}hasPath(){return $(this.path)}_normalizePath(t,i){return j(t)?t:(t=t.replace(/^\/+/,""),$(i)&&Lr(t)&&(t=IN(t,i.itemUrl)),t==null?void 0:t.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};u([d()],Sd.prototype,"portalItem",void 0),u([d({type:String,value:null})],Sd.prototype,"path",null),u([ct("path")],Sd.prototype,"_castPath",null),u([d({type:String,readOnly:!0})],Sd.prototype,"url",null),u([d({type:String,readOnly:!0})],Sd.prototype,"itemRelativeUrl",null),Sd=u([I("esri.portal.PortalItemResource")],Sd);const $4e=Sd;let Xb=class extends ve{constructor(t){super(t),this.created=null,this.rating=null}};u([d()],Xb.prototype,"created",void 0),u([d()],Xb.prototype,"rating",void 0),Xb=u([I("esri.portal.PortalRating")],Xb);const oM=Xb;var Yp;const A4e=new Set(["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","GeoJson","CSV","KML","WFS","WMTS","WMS","Feed"]),M4e=new Set(["KML","GeoJson","CSV"]);let Ne=Yp=class extends T_(Su){static from(e){return FF(Yp,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return e==="Feature Service"||e==="Feature Collection"?i=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?i=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?i="Scene Layer":e==="Video Service"?i="Video Layer":e==="Scene Package"?i="Scene Layer Package":e==="Stream Service"?i="Feature Layer":e==="Geoprocessing Service"&&this.portal&&this.portal.isPortal?i=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geocoding Service"?i="Locator":e==="Geoenrichment Service"?i="GeoEnrichment Service":e==="Microsoft Powerpoint"?i="Microsoft PowerPoint":e==="GeoJson"?i="GeoJSON":e==="Globe Service"?i="Globe Layer":e==="Vector Tile Service"?i="Tile Layer":e==="netCDF"?i="NetCDF":e==="Map Service"?i=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e&&e.toLowerCase().includes("add in")?i=e.replace(/(add in)/gi,"Add-In"):e==="datastore catalog service"?i="Big Data File Share":e==="Compact Tile Package"?i="Tile Package (tpkx)":e==="OGCFeatureServer"?i="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?i="Instant App":e==="Insights Page"&&(i="Insights Report"),i}readExtent(e){return e&&e.length?new Gt(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[],i="esri/images/portal/",n="16";let r,s=!1,a=!1,o=!1,l=!1,c=!1,h=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(s=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(a=t.includes("Table"),o=t.includes("Route Layer"),l=t.includes("Markup"),c=t.includes("Spatiotemporal"),h=t.includes("UtilityNetwork"),r=c&&a?"spatiotemporaltable":a?"table":o?"routelayer":l?"markup":c?"spatiotemporal":s?"featureshosted":h?"utilitynetwork":"features"):r=e==="map service"||e==="wms"||e==="wmts"?s||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages":e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="video service"?"mediaservice":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="geoprocessing service"?t.includes("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":e==="geodata service"?"geodataservice":"layers"):r=e==="web map"||e==="cityengine web scene"?"maps":e==="web scene"?t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?"instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?"apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?"mapsgray":e==="service definition"||e==="csv"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="360 vr experience"||e==="netcdf"||e==="administrative report"?"datafiles":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?"appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?"addindesktop":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="form"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="image"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?"datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?"toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?"layersgray":e==="scene package"?"scenepackage":e==="mobile scene package"?"mobilescenepackage":e==="tile package"||e==="compact tile package"?"tilepackage":e==="task file"?"taskfile":e==="report template"?"report-template":e==="statistical data collection"?"statisticaldatacollection":e==="insights workbook"?"workbook":e==="insights model"?"insightsmodel":e==="insights page"?"insightspage":e==="insights theme"?"insightstheme":e==="hub initiative"?"hubinitiative":e==="hubpage"?"hubpage":e==="hub event"?"hubevent":e==="hub site application"?"hubsite":e==="hub project"?"hubproject":e==="relational database connection"?"relationaldatabaseconnection":e==="big data file share"?"datastorecollection":e==="image collection"?"imagecollection":e==="style"?"style":e==="desktop style"?"desktopstyle":e==="dashboard"?"dashboard":e==="raster function template"?"rasterprocessingtemplate":e==="vector tile package"?"vectortilepackage":e==="ortho mapping project"?"orthomappingproject":e==="ortho mapping template"?"orthomappingtemplate":e==="solution"?"solutions":e==="geopackage"?"geopackage":e==="deep learning package"?"deeplearningpackage":e==="real time analytic"?"realtimeanalytics":e==="big data analytic"?"bigdataanalytics":e==="feed"?"feed":e==="excalibur imagery project"?"excaliburimageryproject":e==="notebook"?"notebook":e==="storymap"?"storymap":e==="survey123 add in"?"survey123addin":e==="mission"?"mission":e==="mission report"?"missionreport":e==="quickcapture project"?"quickcaptureproject":e==="pro report"?"proreport":e==="pro report template"?"proreporttemplate":e==="urban model"?"urbanmodel":e==="web experience"?"experiencebuilder":e==="web experience template"?"webexperiencetemplate":e==="experience builder widget"?"experiencebuilderwidget":e==="experience builder widget package"?"experiencebuilderwidgetpackage":e==="workflow"?"workflow":e==="insights script"?"insightsscript":e==="kernel gateway connection"?"kernelgatewayconnection":e==="hub initiative template"?"hubinitiativetemplate":e==="storymap theme"?"storymaptheme":e==="knowledge graph"?"knowledgegraph":e==="native application"?"nativeapp":e==="native application installer"?"nativeappinstaller":e==="link chart"?"linkchart":e==="investigation"?"investigation":e==="ogcfeatureserver"?"features":e==="pro project"?"proproject":e==="insights workbook package"?"insightsworkbookpackage":e==="apache parquet"?"apacheparquet":e==="notebook code snippets"||e==="notebook code snippet library"?"notebookcodesnippets":e==="suitability model"?"suitabilitymodel":e==="esri classifier definition"?"classifierdefinition":e==="esri classification schema"?"classificationschema":e==="insights data engineering workbook"?"dataengineeringworkbook":e==="insights data engineering model"?"dataengineeringmodel":e==="deep learning studio project"?"deeplearningproject":e==="discussion"?"discussion":e==="allsource project"?"allsourceproject":e==="api key"?"apikey":"maps",r?wt(i+r+n+".png"):null}get isLayer(){return this.type!=null&&A4e.has(this.type)}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var i;const e=this.itemUrl,t=this.thumbnail;return e&&t?((i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=gr.getDefault()),i=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:$(e)?e.signal:null,query:{token:this.apiKey}}):{}).then(n=>{this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof oM&&(e=e.rating),e==null||isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new oM({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:z(this.applicationProxies),avgRating:this.avgRating,categories:z(this.categories),created:z(this.created),culture:this.culture,description:this.description,extent:z(this.extent),groupCategories:z(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:z(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:z(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:z(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:z(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new Yp({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const i of["tags","typeKeywords","categories"])e[i]&&(e[i]=e[i].join(", "));const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}async deleteRating(){await Ns(this.portal).request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return Ns(this.portal).request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await Ns(this.portal).request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new oM(t)):null}fetchRelatedItems(e,t){return Ns(this.portal).requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Yp)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return Ns(this.portal).request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>Ns(this.portal).signIn()).then(()=>{const t=e&&e.data,i={method:"post"};i.query=this.createPostQuery();for(const n in i.query)i.query[n]===null&&(i.query[n]="");return i.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?i.query.text=t:typeof t=="object"&&(i.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new N("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new N("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:i}=this;await Ns(t).signIn();const{copyResources:n,folder:r,tags:s,title:a}=e||{},o={method:"post",query:{copyPrivateResources:n==="all",folder:typeof r=="string"?r:r==null?void 0:r.id,includeResources:!!n,tags:s==null?void 0:s.join(","),title:a}},{itemId:l}=await t.request(`${i}/copy`,o);return new Yp({id:l,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,i=e.filename,n={method:"post"};if(typeof t=="string")Om(t)?n.query={data:t}:n.query={url:Fa(t)},$(i)&&(n.query.filename=i);else{const r=new FormData;$(i)?r.append("file",t,i):r.append("file",t),n.body=r}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new N("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await H(()=>import("./resourceUtils.js"),[])).fetchResources(this,e,t)}async addResource(e,t,i){const n=await H(()=>import("./resourceUtils.js"),[]);return e.portalItem=this,n.addOrUpdateResource(e,"add",t,i)}async removeResource(e,t){const i=await H(()=>import("./resourceUtils.js"),[]);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new N("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i.removeResource(this,e,t)}async removeAllResources(e){return(await H(()=>import("./resourceUtils.js"),[])).removeAllResources(this,e)}resourceFromPath(e){return new $4e({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:z(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:z(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:z(this.typeKeywords),url:this.url};return TZ(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Yp({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};u([d({type:["private","shared","org","public"]})],Ne.prototype,"access",void 0),u([d()],Ne.prototype,"accessInformation",void 0),u([d({type:String})],Ne.prototype,"apiKey",void 0),u([d({json:{read:{source:"appProxies"}}})],Ne.prototype,"applicationProxies",void 0),u([d()],Ne.prototype,"avgRating",void 0),u([d()],Ne.prototype,"categories",void 0),u([d({type:Date})],Ne.prototype,"created",void 0),u([d()],Ne.prototype,"culture",void 0),u([d()],Ne.prototype,"description",void 0),u([d({readOnly:!0})],Ne.prototype,"displayName",null),u([d({type:Gt})],Ne.prototype,"extent",void 0),u([ee("extent")],Ne.prototype,"readExtent",null),u([d()],Ne.prototype,"groupCategories",void 0),u([d({readOnly:!0})],Ne.prototype,"iconUrl",null),u([d()],Ne.prototype,"id",void 0),u([d({readOnly:!0})],Ne.prototype,"isLayer",null),u([d({type:Boolean,readOnly:!0})],Ne.prototype,"isOrgItem",void 0),u([d()],Ne.prototype,"itemControl",void 0),u([d({readOnly:!0})],Ne.prototype,"itemPageUrl",null),u([d({readOnly:!0})],Ne.prototype,"itemUrl",null),u([d()],Ne.prototype,"licenseInfo",void 0),u([d({type:Date})],Ne.prototype,"modified",void 0),u([d()],Ne.prototype,"name",void 0),u([d()],Ne.prototype,"numComments",void 0),u([d()],Ne.prototype,"numRatings",void 0),u([d()],Ne.prototype,"numViews",void 0),u([d()],Ne.prototype,"owner",void 0),u([d()],Ne.prototype,"ownerFolder",void 0),u([d({type:gr})],Ne.prototype,"portal",void 0),u([d()],Ne.prototype,"screenshots",void 0),u([d()],Ne.prototype,"size",void 0),u([d()],Ne.prototype,"snippet",void 0),u([d()],Ne.prototype,"sourceJSON",void 0),u([d({type:String})],Ne.prototype,"sourceUrl",void 0),u([d({type:String})],Ne.prototype,"spatialReference",void 0),u([d()],Ne.prototype,"tags",void 0),u([d()],Ne.prototype,"thumbnail",void 0),u([d({readOnly:!0})],Ne.prototype,"thumbnailUrl",null),u([d()],Ne.prototype,"title",void 0),u([d()],Ne.prototype,"type",void 0),u([d()],Ne.prototype,"typeKeywords",void 0),u([d({type:String,json:{read(e,t){var i;if(M4e.has(t.type)){const n=(i=this.portal)==null?void 0:i.restUrl;e||(e=n&&this.id?`${n}/content/items/${this.id}/data`:null)}return e}}})],Ne.prototype,"url",void 0),u([d({readOnly:!0})],Ne.prototype,"userItemUrl",null),Ne=Yp=u([I("esri.portal.PortalItem")],Ne);const ew=Ne,Use=Object.freeze(Object.defineProperty({__proto__:null,default:ew},Symbol.toStringTag,{value:"Module"}));async function D4e(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return py(e);const i=je.WGS84;return await J$e(t,i),Pm(e,i)}function yYe(e,t){if(!O4e(e,t)){const i=e.typeKeywords;i?i.push(t):e.typeKeywords=[t]}}function O4e(e,t){var i;return!!((i=e.typeKeywords)!=null&&i.includes(t))}function vYe(e,t){const i=e.typeKeywords;if(i){const n=i.indexOf(t);n>-1&&i.splice(n,1)}}async function bYe(e){const t=e.clone().normalize();let i;if(t.length>1)for(const n of t)i?n.width>i.width&&(i=n):i=n;else i=t[0];return D4e(i)}const wYe={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"};function $B(e){var l;const{portal:t,isOrgItem:i,itemControl:n}=e,r=(l=t.user)==null?void 0:l.privileges;let s=!r||r.includes("features:user:edit"),a=!!i&&!!(r!=null&&r.includes("features:user:fullEdit"));const o=n==="update"||n==="admin";return o?a=s=!0:a&&(s=!0),{features:{edit:s,fullEdit:a},content:{updateItem:o}}}const Bse=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=Si(this.portalItem)}set portalItem(i){i!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",i))}readPortalItem(i,n,r){if(n.itemId)return new ew({id:n.itemId,portal:r&&r.portal})}writePortalItem(i,n){i&&i.id&&(n.itemId=i.id)}async loadFromPortal(i,n){if(this.portalItem&&this.portalItem.id)try{const r=await H(()=>import("./layersLoader.js"),["layersLoader.js","fetchService.js"]);return gi(n),await r.load({instance:this,supportedTypes:i.supportedTypes,validateItem:i.validateItem,supportsData:i.supportsData,layerModuleTypeMap:i.layerModuleTypeMap},n)}catch(r){throw Vr(r)||Y.getLogger(this.declaredClass).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${r}`),r}}async finishLoadEditablePortalLayer(i){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(i).catch(n=>(Vs(n),!0)))}async _setUserPrivileges(i,n){if(!ut.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(n);if(this.url)try{const{features:{edit:r,fullEdit:s},content:{updateItem:a}}=await this._fetchUserPrivileges(i,n);this._set("userHasEditingPrivileges",r),this._set("userHasFullEditingPrivileges",s),this._set("userHasUpdateItemPrivileges",a)}catch(r){Vs(r)}}async _fetchUserPrivileges(i,n){let r=this.portalItem;if(!i||!r||!r.loaded||r.sourceUrl)return this._fetchFallbackUserPrivileges(n);const s=i===r.id;if(s&&r.portal.user)return $B(r);let a,o;if(s)a=r.portal.url;else try{a=await _ie(this.url,n)}catch(p){Vs(p)}if(!a||!sCe(a,r.portal.url))return this._fetchFallbackUserPrivileges(n);try{const p=$(n)?n.signal:null;o=await(xt==null?void 0:xt.getCredential(`${a}/sharing`,{prompt:!1,signal:p}))}catch(p){Vs(p)}const l=!0,c=!1,h=!1;if(!o)return{features:{edit:l,fullEdit:c},content:{updateItem:h}};try{if(s?await r.reload():(r=new ew({id:i,portal:{url:a}}),await r.load(n)),r.portal.user)return $B(r)}catch(p){Vs(p)}return{features:{edit:l,fullEdit:c},content:{updateItem:h}}}async _fetchFallbackUserPrivileges(i){let n=!0;try{n=await this._fetchUserHasEditingPrivileges(i)}catch(r){Vs(r)}return{features:{edit:n,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(i){const n=this.url?xt==null?void 0:xt.findCredential(this.url):null;if(!n)return!0;const r=TS.credential===n?TS.user:await this._fetchEditingUser(i);return TS.credential=n,TS.user=r,j(r)||r.privileges==null||r.privileges.includes("features:user:edit")}async _fetchEditingUser(i){var h,p;const n=(p=(h=this.portalItem)==null?void 0:h.portal)==null?void 0:p.user;if(n)return n;const r=xt.findServerInfo(this.url??"");if(!(r!=null&&r.owningSystemUrl))return null;const s=`${r.owningSystemUrl}/sharing/rest`,a=gr.getDefault();if(a&&a.loaded&&Ys(a.restUrl)===Ys(s))return a.user;const o=`${s}/community/self`,l=$(i)?i.signal:null,c=await oT(Tt(o,{authMode:"no-prompt",query:{f:"json"},signal:l}));return c.ok?ON.fromJSON(c.value.data):null}read(i,n){n&&(n.layer=this),super.read(i,n)}write(i,n){const r=n&&n.portal,s=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||gr.getDefault());return r&&s&&!Mee(s.restUrl,r.restUrl)?(n.messages&&n.messages.push(new N("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(i,{...n,layer:this})}};return u([d({type:ew})],t.prototype,"portalItem",null),u([ee("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),u([ue("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),u([d({clonable:!1})],t.prototype,"resourceReferences",void 0),u([d({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),u([d({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),u([d({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=u([I("esri.layers.mixins.PortalLayer")],t),t},TS={credential:null,user:null};let e1=class extends ve{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};u([d()],e1.prototype,"updating",void 0),u([d()],e1.prototype,"status",void 0),e1=u([I("esri.layers.support.PublishingInfo")],e1);const R4e=e1,Hse="esri.layers.mixins.PublishableLayer",P4e=Symbol(Hse),L4e=e=>{var t;let i=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const n=this._get("publishingInfo");if(n)return n;const r=new R4e;return this._checkPublishingStatus(r),r}_checkPublishingStatus(n){let a=0;const o=async c=>{let h;n.updating=!0;try{h=await this.fetchPublishingStatus()}catch{h="unavailable"}h!=="published"&&h!=="unavailable"||(n.status==="publishing"&&this.refresh(),l.remove()),n.status=h,n.updating=!1,l.removed||(a=setTimeout(o,c,c+125))},l={removed:!1,remove(){this.removed=!0,clearTimeout(a)}};this.when().catch(()=>l.remove()),o(250),this.own(l)}};return t=P4e,u([d({readOnly:!0,clonable:!1})],i.prototype,"publishingInfo",null),i=u([I(Hse)],i),i},t_=new Ie,tw=new WeakMap;function F4e(e){Gse(e)&&t_.push(e)}function N4e(e){Gse(e)&&t_.includes(e)&&t_.remove(e)}function Gse(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function qse(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:qse(t,e%t):0}let lM=0,$S=0;function z4e(){const e=Date.now();for(const t of t_)t.refreshInterval&&e-(tw.get(t)??0)+5>=6e4*t.refreshInterval&&(tw.set(t,e),t.refresh(e))}wQ(()=>{const e=Date.now();let t=0;for(const i of t_)t=qse(Math.round(6e4*i.refreshInterval),t),i.refreshInterval?tw.get(i)||tw.set(i,e):tw.delete(i);if(t!==$S){if($S=t,clearInterval(lM),$S===0)return void(lM=0);lM=setInterval(z4e,$S)}});const V4e=e=>{let t=class extends e{constructor(...i){super(...i),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=fQ(()=>this.hasDataChanged()),this.when().then(()=>{F4e(this)},()=>{})}destroy(){N4e(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(i=Date.now()){Ly(this._debounceHasDataChanged()).then(n=>{n&&this._set("refreshTimestamp",i),this.emit("refresh",{dataChanged:n})},n=>{Y.getLogger(this.declaredClass).error(n),this.emit("refresh",{dataChanged:!1,error:n})})}async hasDataChanged(){return!0}};return u([d({type:Number,cast:i=>i>=.1?i:i<=0?0:.1,json:{write:!0}})],t.prototype,"refreshInterval",void 0),u([d({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),u([d()],t.prototype,"refreshParameters",null),t=u([I("esri.layers.mixins.RefreshableLayer")],t),t},J4=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const i={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&j4e(i,n.effectiveScaleRange);const r=this._get("effectiveScaleRange");return r&&r.minScale===i.minScale&&r.maxScale===i.maxScale?r:i}};return u([d({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),u([d({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),u([d({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=u([I("esri.layers.mixins.ScaleRangeLayer")],t),t};function j4e(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const Wse=qn()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let t1=class extends Wt(W){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return d5e(this.value,this.unit,"milliseconds")}};u([xe(Wse,{nonNullable:!0})],t1.prototype,"unit",void 0),u([d({type:Number,json:{write:!0},nonNullable:!0})],t1.prototype,"value",void 0),t1=u([I("esri.TimeInterval")],t1);const AI=t1;function AB(e,t){return AI.fromJSON({value:e,unit:t})}let ar=class extends Wt(W){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(t,i){if(!i.timeExtent||!Array.isArray(i.timeExtent)||i.timeExtent.length!==2)return null;const n=new Date(i.timeExtent[0]),r=new Date(i.timeExtent[1]);return new oc({start:n,end:r})}writeFullTimeExtent(t,i){t&&$(t.start)&&$(t.end)?i.timeExtent=[t.start.getTime(),t.end.getTime()]:i.timeExtent=null}readInterval(t,i){return i.timeInterval&&i.timeIntervalUnits?AB(i.timeInterval,i.timeIntervalUnits):i.defaultTimeInterval&&i.defaultTimeIntervalUnits?AB(i.defaultTimeInterval,i.defaultTimeIntervalUnits):null}writeInterval(t,i){i.timeInterval=(t==null?void 0:t.toJSON().value)??null,i.timeIntervalUnits=(t==null?void 0:t.toJSON().unit)??null}};u([d({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],ar.prototype,"cumulative",void 0),u([d({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],ar.prototype,"endField",void 0),u([d({type:oc,json:{write:{enabled:!0,allowNull:!0}}})],ar.prototype,"fullTimeExtent",void 0),u([ee("fullTimeExtent",["timeExtent"])],ar.prototype,"readFullTimeExtent",null),u([ue("fullTimeExtent")],ar.prototype,"writeFullTimeExtent",null),u([d({type:Boolean,json:{write:!0}})],ar.prototype,"hasLiveData",void 0),u([d({type:AI,json:{write:{enabled:!0,allowNull:!0}}})],ar.prototype,"interval",void 0),u([ee("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],ar.prototype,"readInterval",null),u([ue("interval")],ar.prototype,"writeInterval",null),u([d({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],ar.prototype,"startField",void 0),u([d({type:$0,json:{write:{enabled:!0,allowNull:!0}}})],ar.prototype,"timeReference",void 0),u([d({type:String,json:{write:{enabled:!0,allowNull:!0}}})],ar.prototype,"trackIdField",void 0),u([d({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],ar.prototype,"useTime",void 0),ar=u([I("esri.layers.support.TimeInfo")],ar);const Kse=ar,U4e=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(i,n){const r=n.timeInfo.exportOptions;if(!r)return null;const s=r.timeOffset,a=Wse.fromJSON(r.timeOffsetUnits);return s&&a?new AI({value:s,unit:a}):null}set timeInfo(i){pX(i,this.fieldsIndex),this._set("timeInfo",i)}};return u([d({type:oc,json:{write:!1}})],t.prototype,"timeExtent",void 0),u([d({type:AI})],t.prototype,"timeOffset",void 0),u([ee("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),u([d({value:null,type:Kse,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),u([d({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=u([I("esri.layers.mixins.TemporalLayer")],t),t},MB=new nt({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Ed=class extends Wt(W){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};u([d({json:{write:!0}})],Ed.prototype,"name",void 0),u([d({json:{write:!0}})],Ed.prototype,"description",void 0),u([d({json:{read:MB.read,write:MB.write}})],Ed.prototype,"drawingTool",void 0),u([d({json:{write:!0}})],Ed.prototype,"prototype",void 0),u([d({json:{write:!0}})],Ed.prototype,"thumbnail",void 0),Ed=u([I("esri.layers.support.FeatureTemplate")],Ed);const Z4=Ed;let Rc=class extends Wt(W){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const i={};for(const n of Object.keys(t))i[n]=p4(t[n]);return i}writeDomains(t,i){var r;const n={};for(const s of Object.keys(t))t[s]&&(n[s]=(r=t[s])==null?void 0:r.toJSON());i.domains=n}};u([d({json:{write:!0}})],Rc.prototype,"id",void 0),u([d({json:{write:!0}})],Rc.prototype,"name",void 0),u([d({json:{write:!0}})],Rc.prototype,"domains",void 0),u([ee("domains")],Rc.prototype,"readDomains",null),u([ue("domains")],Rc.prototype,"writeDomains",null),u([d({type:[Z4],json:{write:!0}})],Rc.prototype,"templates",void 0),Rc=u([I("esri.layers.support.FeatureType")],Rc);const Yse=Rc;function B4e(e){return e.type==="date"||e.type==="esriFieldTypeDate"}function DB(e){return e.type==="oid"||e.type==="esriFieldTypeOID"}function OB(e){return e.type==="global-id"||e.type==="esriFieldTypeGlobalID"}let H4e=class{constructor(t=[]){if(this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!t)return;this.fields=t;const i=[];for(const n of t){const r=n==null?void 0:n.name,s=PB(n==null?void 0:n.name);if(r&&s){const a=RB(r);this._fieldsMap.set(r,n),this._fieldsMap.set(a,n),this._normalizedFieldsMap.set(s,n),i.push(a),B4e(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):sN(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),DB(n)||OB(n)||(n.editable=n.editable==null||!!n.editable,n.nullable=n.nullable==null||!!n.nullable)}}i.sort(),this.uid=i.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)DB(t)||OB(t)||t.nullable||aEe(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}has(t){return this.get(t)!=null}get(t){if(!t)return;let i=this._fieldsMap.get(t);return i||(i=this._fieldsMap.get(RB(t))??this._normalizedFieldsMap.get(PB(t)),i&&this._fieldsMap.set(t,i),i)}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const i=this.get(t);if(i)return i.name??void 0}};function RB(e){return e.trim().toLowerCase()}function PB(e){var t;return((t=Z2e(e))==null?void 0:t.toLowerCase())??""}function G4e(){return{fields:{type:[f4],value:null},fieldsIndex:{readOnly:!0,get(){return new H4e(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var t;const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const i of e)((t=this.fieldsIndex)==null?void 0:t.has(i))||Y.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${i} found in outFields`,{layer:this,outFields:e});return fX(this.fieldsIndex,e)}}}}const cM=Y.getLogger("esri.layers.support.labelingInfo"),q4e=/\[([^\[\]]+)\]/gi;function LB(e,t,i){return e?e.map(n=>{const r=new _T;if(r.read(n,i),r.labelExpression){const s=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;r.labelExpression=r.labelExpression.replace(q4e,(a,o)=>`[${W4e(o,s)}]`)}return r}):null}function W4e(e,t){if(!t)return e;const i=e.toLowerCase();for(let n=0;n<t.length;n++){const r=t[n].name;if(r.toLowerCase()===i)return r}return e}const K4e={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};function CYe(e,t){const i=z(e);return i.some(n=>Y4e(n,t))?[]:i}function Y4e(e,t){const i=e.labelPlacement,n=K4e[t];if(!e.symbol)return cM.warn("No ILabelClass symbol specified."),!0;if(!n)return cM.error(new N("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),!0;if(!n.includes(i)){const r=n[0];i&&cM.warn(`Found invalid label placement type ${i} for ${t}. Defaulting to ${r}`),e.labelPlacement=r}return!1}const Ro=[];function J4e(e,t){if(vre(e.url??""))return!0;const{wkid:i}=t;for(const n of Ro){if((e.version??0)>=n[0])return!0;if(typeof n[1]=="function"&&(n[1]=n[1]()),n[1].has(i))return!1}return!0}Ro.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102901;t<=102955;t++)e.add(t);return e}]),Ro.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),Ro.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),Ro.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),Ro.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]),Ro.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let t=8065;t<=8068;t++)e.add(t);for(let t=8082;t<=8083;t++)e.add(t);for(let t=8379;t<=8385;t++)e.add(t);for(let t=8836;t<=8840;t++)e.add(t);for(let t=8857;t<=8860;t++)e.add(t);for(let t=53035;t<=53037;t++)e.add(t);for(let t=54090;t<=54091;t++)e.add(t);for(let t=102498;t<=102499;t++)e.add(t);return e}]),Ro.push([10.61,()=>new Set([102497])]),Ro.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let t=7755;t<=7787;t++)e.add(t);for(let t=7791;t<=7795;t++)e.add(t);for(let t=7799;t<=7801;t++)e.add(t);for(let t=7825;t<=7831;t++)e.add(t);for(let t=7877;t<=7878;t++)e.add(t);for(let t=7882;t<=7883;t++)e.add(t);for(let t=7991;t<=7992;t++)e.add(t);for(let t=8042;t<=8043;t++)e.add(t);for(let t=8058;t<=8059;t++)e.add(t);for(let t=8311;t<=8348;t++)e.add(t);for(let t=9060;t<=9067;t++)e.add(t);for(let t=102562;t<=102568;t++)e.add(t);for(let t=102799;t<=102900;t++)e.add(t);return e}]),Ro.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9e3]);for(let t=8013;t<=8032;t++)e.add(t);for(let t=9053;t<=9057;t++)e.add(t);for(let t=104017;t<=104018;t++)e.add(t);for(let t=104971;t<=104974;t++)e.add(t);return e}]),Ro.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let t=4087;t<=4088;t++)e.add(t);for(let t=5896;t<=5899;t++)e.add(t);for(let t=7005;t<=7007;t++)e.add(t);for(let t=7057;t<=7070;t++)e.add(t);for(let t=7073;t<=7082;t++)e.add(t);for(let t=7109;t<=7128;t++)e.add(t);for(let t=7844;t<=7859;t++)e.add(t);return e}]);async function Z4e(e,t,i){const n=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(n&&n.type==="unique-value"&&n.styleOrigin){const r=await oT(n.populateFromStyle());if(gi(i),r.ok===!1){const s=r.error;t&&t.messages&&t.messages.push(new eo("renderer:style-reference",`Failed to create unique value renderer from style reference: ${s.message}`,{error:s,context:t})),e.clear("renderer",t==null?void 0:t.origin)}}}const Q4e=["oid","global-id"],X4e=["oid","global-id","guid"];function eze({displayField:e,editFieldsInfo:t,fields:i,objectIdField:n,title:r},s){if(!i)return null;const a=aze({editFieldsInfo:t,fields:i,objectIdField:n},s);if(!a.length)return null;const o=cze({titleBase:r,fields:i,displayField:e}),l=lze();return new M_({title:o,content:l,fieldInfos:a})}const tze=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],ize=(e,{editFieldsInfo:t,objectIdField:i,visibleFieldNames:n})=>n?n.has(e.name):!Jse(e.name,t)&&(!i||e.name!==i)&&!Q4e.includes(e.type)&&!tze.some(r=>r.test(e.name));function nze(e,t){const i=e;return t&&(e=e.filter(n=>!t.includes(n.type))),e===i&&(e=e.slice()),e.sort(rze),e}function rze(e,t){return e.type==="oid"?-1:t.type==="oid"?1:FB(e)?-1:FB(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function Jse(e,t){if(!e||!t)return!1;const{creationDateField:i,creatorField:n,editDateField:r,editorField:s}=t;return[i&&i.toLowerCase(),n&&n.toLowerCase(),r&&r.toLowerCase(),s&&s.toLowerCase()].includes(e.toLowerCase())}function sze(e,t){return e.editable&&!X4e.includes(e.type)&&!Jse(e.name,t)}function aze({editFieldsInfo:e,fields:t,objectIdField:i},n){return nze(t??[],(n==null?void 0:n.ignoreFieldTypes)||uze).map(r=>new $_({fieldName:r.name,isEditable:sze(r,e),label:r.alias,format:oze(r),visible:ize(r,{editFieldsInfo:e,objectIdField:i,visibleFieldNames:n==null?void 0:n.visibleFieldNames})}))}function oze(e){switch(e.type){case"small-integer":case"integer":case"single":return new fy({digitSeparator:!0,places:0});case"double":return new fy({digitSeparator:!0,places:2});case"date":return new fy({dateFormat:"long-month-day-year"});default:return e.type==="string"&&wX(e.name)?new fy({digitSeparator:!0,places:0}):null}}function lze(){return[new v0,new Nw]}function cze(e){const t=eEe(e),{titleBase:i}=e;return t?`${i}: {${t.trim()}}`:i??""}function FB(e){return(e.name&&e.name.toLowerCase())==="name"?!0:(e.alias&&e.alias.toLowerCase())==="name"}const uze=["geometry","blob","raster","guid","xml"],xr="FeatureLayer",Zse="esri.layers.FeatureLayer",dze=Y.getLogger(Zse);function AS(e,t){return new N("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function NB(e){return e&&e instanceof Ie}const uM=G4e();function dM(e,t,i){const n=!!(i!=null&&i.writeLayerSchema);return{enabled:n,ignoreOrigin:n}}let fe=class extends zNe(E4e(GPe(L4e(HPe(O4(T4e(U4e(J4(V4e(bre(Vse(Bse(A4(wre(fre(Wt(C0))))))))))))))))){constructor(...e){super(...e),this._handles=new vs,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=je.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0}destroy(){var e;(e=this.source)==null||e.destroy(),this._handles=Si(this._handles)}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}load(e){var n;const t=$(e)?e.signal:null;if((n=this.portalItem)!=null&&n.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then(r=>this.initLayerProperties(r))),Promise.resolve(this);const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(Vs).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const r=await this._fetchFirstLayerId(t);r!=null&&(this.layerId=r)}if(!this.url&&!this._hasMemorySource())throw new N("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(t))}).then(()=>this._setUserPrivileges(this.serviceItemId,e)).then(()=>SNe(this,e));return this.addResolvingPromise(i),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,Tse(t,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){var e;return!(this.loaded&&!((e=this.capabilities)!=null&&e.operations.supportsEditing))&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,i){return this._readEditingEnabled(t,!0,i)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,i,n){this._writeEditingEnabled(e,t,!0,n)}get effectiveEditingEnabled(){return ENe(this)}readIsTable(e,t){return(t=(t==null?void 0:t.layerDefinition)??t).type==="Table"||!t.geometryType}writeIsTable(e,t,i,n){n!=null&&n.writeLayerSchema&&fr(i,e?"Table":"Feature Layer",t)}readGlobalIdField(e,t){return Ise(t.layerDefinition||t)}readObjectIdField(e,t){return Cse(t.layerDefinition||t)}get parsedUrl(){const e=Ti(this.url);return e!=null&&(this.dynamicDataSource!=null?e.path=nc(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=nc(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){_j(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,i){var r;const n=(r=(t=t.layerDefinition||t).drawingInfo)==null?void 0:r.renderer;if(n){const s=e_(n,t,i)??void 0;return s||dze.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:i}),s}if(t.defaultSymbol)return t.types&&t.types.length?new iv({defaultSymbol:hM(t.defaultSymbol,t,i),field:t.typeIdField,uniqueValueInfos:t.types.map(s=>({id:s.id,symbol:hM(s.symbol,s,i)}))}):new Eu({symbol:hM(t.defaultSymbol,t,i)})}set source(e){const t=this._get("source");t!==e&&(NB(t)&&this._resetMemorySource(t),NB(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof Ie?new Uc({layer:this,items:e}):e:null}readSource(e,t){const i=m4.fromJSON(t.featureSet);return new Uc({layer:this,items:(i==null?void 0:i.features)??[]})}readTemplates(e,t){const i=t.editFieldsInfo,n=i&&i.creatorField,r=i&&i.editorField;return e=e&&e.map(s=>Z4.fromJSON(s)),this._fixTemplates(e,n),this._fixTemplates(e,r),e}readTitle(e,t){var r;const i=((r=t.layerDefinition)==null?void 0:r.name)??t.name,n=t.title||t.layerDefinition&&t.layerDefinition.title;if(i){const s=this.portalItem&&this.portalItem.title;if(this.sublayerTitleMode==="item-title")return this.url?zPe(this.url,i):i;let a=i;if(!a&&this.url){const o=rv(this.url);$(o)&&(a=o.title)}return a?(this.sublayerTitleMode==="item-title-and-service-name"&&s&&s!==a&&(a=s+" - "+a),D4(a)):void 0}if(this.sublayerTitleMode==="item-title"&&n)return n}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let i=(t=t.layerDefinition||t).typeIdField;if(i&&t.fields){i=i.toLowerCase();const n=t.fields.find(r=>r.name.toLowerCase()===i);n&&(i=n.name)}return i}readTypes(e,t){e=(t=t.layerDefinition||t).types;const i=t.editFieldsInfo,n=i&&i.creatorField,r=i&&i.editorField;return e&&e.map(s=>(s=Yse.fromJSON(s),this._fixTemplates(s.templates,n),this._fixTemplates(s.templates,r),s))}readVisible(e,t){return t.layerDefinition&&t.layerDefinition.defaultVisibility!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}async addAttachment(e,t){return lNe(this,e,t,xr)}async updateAttachment(e,t,i){return cNe(this,e,t,i,xr)}async applyEdits(e,t){return uNe(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return eze(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:t}=await pQ(H(()=>import("./FeatureLayerSource.js"),["FeatureLayerSource.js","assetEditingSupport.js","clientSideDefaults.js","QueryEngineCapabilities.js","QueryTask.js","executeForIds.js"]),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=wNe(this);e.dynamicDataSource=this.dynamicDataSource;const t=$(this.subtypeCode)?`${this.subtypeField} = ${this.subtypeCode}`:null,i=yPe(this.definitionExpression,t);return e.where=i||"1=1",e}async deleteAttachments(e,t){return dNe(this,e,t,xr)}async fetchRecomputedExtents(e){return hNe(this,e,xr)}getFeatureType(e){const{typeIdField:t,types:i}=this;if(!t||!e)return null;const n=e.attributes?e.attributes[t]:void 0;if(n==null)return null;let r=null;return i==null||i.some(s=>{const{id:a}=s;return a!=null&&(a.toString()===n.toString()&&(r=s),!!r)}),r}getFieldDomain(e,t){const i=t&&t.feature,n=this.getFeatureType(i);if(n){const r=n.domains&&n.domains[e];if(r&&r.type!=="inherited")return r}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}async queryAttachments(e,t){return pNe(this,e,t,xr)}async queryFeatures(e,t){const i=await this.load(),n=await i.source.queryFeatures(Kl.from(e)??i.createQuery(),t);if(n!=null&&n.features)for(const r of n.features)r.layer=r.sourceLayer=i;return n}async queryObjectIds(e,t){return fNe(this,e,t,xr)}async queryFeatureCount(e,t){return mNe(this,e,t,xr)}async queryExtent(e,t){return gNe(this,e,t,xr)}async queryRelatedFeatures(e,t){return yNe(this,e,t,xr)}async queryRelatedFeaturesCount(e,t){return vNe(this,e,t,xr)}async queryTopFeatures(e,t){var s;const{source:i,capabilities:n}=await this.load();if(!i.queryTopFeatures||!((s=n==null?void 0:n.query)!=null&&s.supportsTopFeaturesQuery))throw new N(xr,"Layer source does not support queryTopFeatures capability");const r=await i.queryTopFeatures(hS.from(e),t);if(r!=null&&r.features)for(const a of r.features)a.layer=a.sourceLayer=this;return r}async queryTopObjectIds(e,t){const{source:i,capabilities:n}=await this.load();if(!i.queryTopObjectIds||!(n!=null&&n.query.supportsTopFeaturesQuery))throw new N(xr,"Layer source does not support queryTopObjectIds capability");return i.queryTopObjectIds(hS.from(e),t)}async queryTopFeaturesExtent(e,t){var r;const{source:i,capabilities:n}=await this.load();if(!i.queryTopExtents||!((r=n==null?void 0:n.query)!=null&&r.supportsTopFeaturesQuery))throw new N(xr,"Layer source does not support queryTopExtents capability");return i.queryTopExtents(hS.from(e),t)}async queryTopFeatureCount(e,t){var r;const{source:i,capabilities:n}=await this.load();if(!i.queryTopCount||!((r=n==null?void 0:n.query)!=null&&r.supportsTopFeaturesQuery))throw new N(xr,"Layer source does not support queryFeatureCount capability");return i.queryTopCount(hS.from(e),t)}read(e,t){const i=e.featureCollection;if(i){const n=i.layers;n&&n.length===1&&(super.read(n[0],t),i.showLegend!=null&&super.read({showLegend:i.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,t){t={...t,origin:(t==null?void 0:t.origin)??void 0,writeLayerSchema:(t==null?void 0:t.writeLayerSchema)??this._hasMemorySource()};const{origin:i,layerContainerType:n,messages:r}=t;if(this.dynamicDataSource)return r==null||r.push(AS(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(i==="web-scene"||i==="web-map"&&n!=="tables")return r==null||r.push(AS(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return r==null||r.push(AS(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&i==="web-map"&&n==="tables")return r==null||r.push(AS(this,"using a non-table source cannot be written to tables in web maps")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new N(xr,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){var t;return!!this.loaded&&(((t=this.source)==null?void 0:t.type)==="memory"||J4e(this,e))}async save(e){return(await H(()=>import("./featureLayerUtils.js"),["featureLayerUtils.js","originUtils.js","multiOriginJSONSupportUtils.js","fetchService.js"])).save(this,e)}async saveAs(e,t){return(await H(()=>import("./featureLayerUtils.js"),["featureLayerUtils.js","originUtils.js","multiOriginJSONSupportUtils.js","fetchService.js"])).saveAs(this,e,t)}_readEditingEnabled(e,t,i){var r;let n=(r=e.layerDefinition)==null?void 0:r.capabilities;return n?this._hasEditingCapability(n):(n=e.capabilities,t&&(i==null?void 0:i.origin)==="web-map"&&!this._hasMemorySource()&&n?this._hasEditingCapability(n):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,i,n){var r,s;if(!e){const a=(s=(r=this.capabilities)==null?void 0:r.operations)!=null&&s.supportsSync?"Query,Sync":"Query";fr("layerDefinition.capabilities",a,t),i&&!(n!=null&&n.writeLayerSchema)&&(t.capabilities=a)}}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstLayerId(e){return Tt(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t=>{const i=t.data;if(i)return Array.isArray(i.layers)&&i.layers.length>0?i.layers[0].id:Array.isArray(i.tables)&&i.tables.length>0?i.tables[0].id:void 0})}async initLayerProperties(e){var t;return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:(t=this.portalItem)==null?void 0:t.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),_j(this.renderer,this.fieldsIndex),pX(this.timeInfo,this.fieldsIndex),Z4e(this,{origin:"service"})}async hasDataChanged(){return bNe(this)}async fetchPublishingStatus(){const e=this.source;return e!=null&&e.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){var t,i;const e=((t=this.parsedUrl)==null?void 0:t.path)??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||(i=this.fields)!=null&&i.some(n=>n.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(i=>{const n=i.prototype&&i.prototype.attributes;n&&t&&delete n[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new N("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new N("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this._handles.add([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}};u([ee("service","capabilities")],fe.prototype,"readCapabilities",null),u([d({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],fe.prototype,"charts",void 0),u([d({readOnly:!0})],fe.prototype,"createQueryVersion",null),u([d({json:{read:{source:"layerDefinition.copyrightText"}}})],fe.prototype,"copyright",void 0),u([d({json:{read:{source:"layerDefinition.displayField"}}})],fe.prototype,"displayField",void 0),u([d({types:Hf,readOnly:!0})],fe.prototype,"defaultSymbol",void 0),u([d({type:jo})],fe.prototype,"dynamicDataSource",void 0),u([d({type:Boolean})],fe.prototype,"editingEnabled",null),u([ee(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],fe.prototype,"readEditingEnabled",null),u([ee("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],fe.prototype,"readEditingEnabledFromWebMap",null),u([ue(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],fe.prototype,"writeEditingEnabled",null),u([ue("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],fe.prototype,"writeEditingEnabledToWebMap",null),u([d({readOnly:!0})],fe.prototype,"effectiveEditingEnabled",null),u([d({...uM.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:dM}}}}})],fe.prototype,"fields",void 0),u([d(uM.fieldsIndex)],fe.prototype,"fieldsIndex",void 0),u([d({type:$Pe,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],fe.prototype,"formTemplate",void 0),u([d({json:{read:{source:"layerDefinition.extent"}}})],fe.prototype,"fullExtent",void 0),u([d({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:dM,writer(e,t,i){const n=e?WR.toJSON(e):null;n&&fr(i,n,t)}}}},read:{source:"layerDefinition.geometryType",reader:WR.read}}})],fe.prototype,"geometryType",void 0),u([d({json:{read:{source:"layerDefinition.hasM"}}})],fe.prototype,"hasM",void 0),u([d({json:{read:{source:"layerDefinition.hasZ"}}})],fe.prototype,"hasZ",void 0),u([d(iLe)],fe.prototype,"id",void 0),u([d({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],fe.prototype,"infoFor3D",void 0),u([d({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],fe.prototype,"isTable",void 0),u([ee("service","isTable",["type","geometryType"]),ee("isTable",["layerDefinition.type","layerDefinition.geometryType"])],fe.prototype,"readIsTable",null),u([ue("web-map","isTable")],fe.prototype,"writeIsTable",null),u([d(F4)],fe.prototype,"labelsVisible",void 0),u([d({type:[_T],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:LB},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:LB},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],fe.prototype,"labelingInfo",void 0),u([d((()=>{const e=z(tLe);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,i,n){fr(n,GC(t),i)}}},e})())],fe.prototype,"opacity",void 0),u([d(XPe)],fe.prototype,"legendEnabled",void 0),u([d({type:["show","hide"],json:(()=>{const e=z(Ire.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],fe.prototype,"listMode",void 0),u([ee("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],fe.prototype,"readGlobalIdField",null),u([d({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:dM}}}}})],fe.prototype,"objectIdField",void 0),u([ee("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],fe.prototype,"readObjectIdField",null),u([d({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],fe.prototype,"operationalLayerType",void 0),u([d(uM.outFields)],fe.prototype,"outFields",void 0),u([d({readOnly:!0})],fe.prototype,"parsedUrl",null),u([d({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],fe.prototype,"path",void 0),u([d(L4)],fe.prototype,"popupEnabled",void 0),u([d({type:M_,json:{name:"popupInfo",write:!0}})],fe.prototype,"popupTemplate",void 0),u([d({readOnly:!0})],fe.prototype,"defaultPopupTemplate",null),u([d({types:mT,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:hPe,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}})],fe.prototype,"renderer",null),u([ee("service","renderer",["drawingInfo.renderer","defaultSymbol"]),ee("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],fe.prototype,"readRenderer",null),u([d((()=>{const e=z(ZPe);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],fe.prototype,"screenSizePerspectiveEnabled",void 0),u([d({clonable:!1})],fe.prototype,"source",null),u([ct("source")],fe.prototype,"castSource",null),u([ee("portal-item","source",["featureSet"]),ee("web-map","source",["featureSet"])],fe.prototype,"readSource",null),u([d({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],fe.prototype,"spatialReference",void 0),u([d({type:Number})],fe.prototype,"subtypeCode",void 0),u([d({type:[Z4]})],fe.prototype,"templates",void 0),u([ee("templates",["editFieldsInfo","creatorField","editorField","templates"])],fe.prototype,"readTemplates",null),u([d({type:Kse})],fe.prototype,"timeInfo",void 0),u([d()],fe.prototype,"title",void 0),u([ee("service","title",["name"]),ee("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],fe.prototype,"readTitle",null),u([ee("web-map","title",["layerDefinition.name","title"])],fe.prototype,"readTitleFromWebMap",null),u([d({type:String})],fe.prototype,"sublayerTitleMode",void 0),u([d({json:{read:!1}})],fe.prototype,"type",void 0),u([d({type:String})],fe.prototype,"typeIdField",void 0),u([ee("service","typeIdField"),ee("typeIdField",["layerDefinition.typeIdField"])],fe.prototype,"readTypeIdField",null),u([d({type:[Yse]})],fe.prototype,"types",void 0),u([ee("service","types",["types"]),ee("types",["layerDefinition.types"])],fe.prototype,"readTypes",null),u([d({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],fe.prototype,"visible",void 0),u([ee("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],fe.prototype,"readVisible",null),fe=u([I(Zse)],fe);const hM=Uh({types:tT}),Q4=fe,TYe=Object.freeze(Object.defineProperty({__proto__:null,default:Q4},Symbol.toStringTag,{value:"Module"})),hze=["$datastore","$map","$layer","$aggregatedfeatures"],pze="esri.widgets.Feature.support.arcadeFeatureUtils",fze=Y.getLogger(pze);function mze(e){return typeof e=="string"?V_(t4(e)):Array.isArray(e)?gze(e):(e==null?void 0:e.declaredClass)==="esri.arcade.Dictionary"?yze(e):e}function gze(e){return`<ul class="esri-widget__list">${e.map(t=>`<li>${typeof t=="string"?V_(t4(t)):t}</li>`).join("")}</ul>`}function yze(e){return`<table class="esri-widget__table">${e.keys().map(t=>{const i=e.field(t);return`<tr><th>${t}</th><td>${typeof i=="string"?V_(t4(i)):i}</td></tr>`}).join("")}</table>`}function vze({aggregatedFeatures:e,arcadeUtils:t,featureSetVars:i,context:n,viewInfo:r,map:s,graphic:a,interceptor:o}){i.forEach(l=>{const c=l.toLowerCase(),h=r.sr,p={map:s,spatialReference:h,interceptor:o};if(c==="$map"&&(n.vars[c]=t.convertMapToFeatureSetCollection(p)),c==="$layer"&&(n.vars[c]=t.convertFeatureLayerToFeatureSet({layer:a.sourceLayer,spatialReference:h,interceptor:o})),c==="$datastore"&&(n.vars[c]=t.convertServiceUrlToWorkspace({url:a.sourceLayer.url,spatialReference:h,interceptor:o})),c==="$aggregatedfeatures"){const m=a.layer,{fields:g,objectIdField:y,geometryType:b,spatialReference:w,displayField:_}=m,x=new Q4({fields:g,objectIdField:y,geometryType:b,spatialReference:w,displayField:_,...m.type==="feature"?{templates:m.templates,typeIdField:m.typeIdField,types:m.types}:null,source:e});n.vars[c]=t.convertFeatureLayerToFeatureSet({layer:x,spatialReference:w,interceptor:o})}})}function Qse(){return H(()=>import("./arcadeUtils.js").then(e=>e.ax),["arcadeUtils.js","arcadeTimeUtils.js","executionError.js","number.js"])}function bze(e){return"createQuery"in e&&"queryFeatures"in e}async function wze({graphic:e,view:t}){const{isAggregate:i,layer:n}=e;if(!i||!n||(t==null?void 0:t.type)!=="2d")return[];const r=await t.whenLayerView(n);if(!bze(r))return[];const s=r.createQuery(),a=e.getObjectId();s.aggregateIds=a!=null?[a]:[];const{features:o}=await r.queryFeatures(s);return o}async function Xse({expressionInfo:e,arcadeUtils:t,interceptor:i,spatialReference:n,map:r,graphic:s,view:a}){if(!e||!e.expression)return null;const o=t.createSyntaxTree(e.expression),l=hze.filter(g=>t.hasVariable(o,g)),[c]=await Promise.all([wze({graphic:s,view:a}),t.loadScriptDependencies(o,!0,l)]),h=t.getViewInfo({spatialReference:n}),p=t.createExecContext(s,h);p.interceptor=i,p.useAsync=!0,vze({aggregatedFeatures:c,arcadeUtils:t,featureSetVars:l,context:p,viewInfo:h,map:r,graphic:s,interceptor:i});const m=t.createFunction(o,p);return t.executeAsyncFunction(m,p).catch(g=>fze.error("arcade-execution-error",{error:g,graphic:s,expressionInfo:e}))}async function _ze({expressionInfos:e,spatialReference:t,graphic:i,interceptor:n,map:r,view:s}){if(!e||!e.length)return{};const a=await Qse(),o={};for(const h of e)o[`expression/${h.name}`]=Xse({expressionInfo:h,arcadeUtils:a,interceptor:n,spatialReference:t,map:r,graphic:i,view:s});const l=await ps(o),c={};for(const h in l)c[h]=mze(l[h].value);return c}const xze=1;let $s=class extends Yh(ve){constructor(t){super(t),this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:i}=this;i&&i.abort(),this._abortController=null},this._createVM=()=>{var r,s;const i=(r=this.contentElement)==null?void 0:r.type;(s=this.contentElementViewModel)==null||s.destroy();const n=i==="fields"?new aT:i==="media"?new Pf:i==="text"?new wI:null;this._set("contentElementViewModel",n)},this._compile=async()=>{this._cancelQuery();const i=new AbortController;this._abortController=i,await this._compileExpression(),this._abortController===i&&(this._abortController=null)},this._compileThrottled=Uy(this._compile,xze,this),this._compileExpression=async()=>{const{expressionInfo:i,graphic:n,interceptor:r,spatialReference:s,map:a,view:o,_abortController:l}=this;if(!(i&&n&&s&&a))return void this._set("contentElement",null);const c=await Qse();if(l!==this._abortController)return;const h=await Xse({arcadeUtils:c,expressionInfo:i,graphic:n,interceptor:r,map:a,spatialReference:s,view:o});if(!h||h.declaredClass!=="esri.arcade.Dictionary")return void this._set("contentElement",null);const p=await h.castAsJsonAsync(l==null?void 0:l.signal),m=p==null?void 0:p.type,g=m==="media"?jw.fromJSON(p):m==="text"?b0.fromJSON(p):m==="fields"?v0.fromJSON(p):null;this._set("contentElement",g)},this.handles.add([X(()=>[this.expressionInfo,this.graphic,this.map,this.spatialReference,this.view],()=>this._compileThrottled(),gt),X(()=>[this.contentElement],()=>this._createVM(),gt)])}destroy(){var t;this._cancelQuery(),(t=this.contentElementViewModel)==null||t.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var t;return((t=this.view)==null?void 0:t.spatialReference)??null}set spatialReference(t){this._override("spatialReference",t)}get state(){const{_abortController:t,contentElement:i,contentElementViewModel:n}=this;return t?"loading":i||n?"ready":"disabled"}get map(){var t;return((t=this.view)==null?void 0:t.map)??null}set map(t){this._override("map",t)}};u([d()],$s.prototype,"_abortController",void 0),u([d({type:_X})],$s.prototype,"expressionInfo",void 0),u([d({type:yr})],$s.prototype,"graphic",void 0),u([d({readOnly:!0})],$s.prototype,"contentElement",void 0),u([d({readOnly:!0})],$s.prototype,"contentElementViewModel",void 0),u([d()],$s.prototype,"interceptor",void 0),u([d()],$s.prototype,"spatialReference",null),u([d({readOnly:!0})],$s.prototype,"state",null),u([d()],$s.prototype,"map",null),u([d()],$s.prototype,"view",void 0),$s=u([I("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],$s);const X4=$s,MS={iconLoading:"esri-icon-loading-indicator esri-rotating",base:"esri-feature-expression",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"};let fE=class extends br{constructor(t,i){super(t,i),this._contentWidget=null,this.viewModel=new X4}initialize(){this.addHandles(X(()=>{var t;return(t=this.viewModel)==null?void 0:t.contentElementViewModel},()=>this._setupExpressionWidget(),gt))}destroy(){this._destroyContentWidget()}renderLoading(){return R("div",{key:"loading-container",class:MS.loadingSpinnerContainer},R("span",{class:this.classes(MS.iconLoading,MS.spinner)}))}render(){var i;const{state:t}=this.viewModel;return R("div",{class:MS.base},t==="loading"?this.renderLoading():t==="disabled"?null:(i=this._contentWidget)==null?void 0:i.render())}_destroyContentWidget(){const{_contentWidget:t}=this;t&&(t.viewModel=null,t.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:t,contentElement:i}=this.viewModel,n=i==null?void 0:i.type;this._destroyContentWidget();const r=t?n==="fields"?new Fie({viewModel:t}):n==="media"?new $ne({viewModel:t}):n==="text"?new G2({viewModel:t}):null:null;this._contentWidget=r,this.scheduleRender()}};u([d({type:X4})],fE.prototype,"viewModel",void 0),fE=u([I("esri.widgets.Feature.FeatureExpression")],fE);const Sze=fE,pM=100;let jt=class extends Wt(A_(Yh(ve))){constructor(t){super(t),this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.featuresPerPage=10,this.description=null,this.graphic=null,this.layer=null,this.map=null,this.orderByFields=null,this.featureCount=0,this.relationshipId=null,this.showAllEnabled=!1,this.title=null,this._cancelQuery=()=>{const{_queryAbortController:i}=this;i&&i.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{const{_queryFeatureCountAbortController:i}=this;i&&i.abort(),this._queryFeatureCountAbortController=null},this._cancelQueryPage=()=>{const{_queryPageAbortController:i}=this;i&&i.abort(),this._queryPageAbortController=null},this._queryController=async()=>{this._cancelQuery();const i=new AbortController;this._queryAbortController=i,await Ly(this._query()),this._queryAbortController===i&&(this._queryAbortController=null)},this._queryFeatureCountController=async()=>{this._cancelQueryFeatureCount();const i=new AbortController;this._queryFeatureCountAbortController=i,await Ly(this._queryFeatureCount()),this._queryFeatureCountAbortController===i&&(this._queryFeatureCountAbortController=null)},this._queryPageController=async()=>{const i=new AbortController;this._queryPageAbortController=i,await Ly(this._queryPage()),this._queryPageAbortController===i&&(this._queryPageAbortController=null)},this._queryThrottled=Uy(this._queryController,pM,this),this._queryFeatureCountThrottled=Uy(this._queryFeatureCountController,pM,this),this._queryPageThrottled=Uy(this._queryPageController,pM,this),this._query=async()=>{const{_queryAbortController:i,relatedFeatures:n}=this;this._destroyRelatedFeatureViewModels(),this.featurePage=1,n.removeAll(),n.addMany(this._sliceFeatures(await this._queryRelatedFeatures({signal:i==null?void 0:i.signal})))},this.handles.add([X(()=>[this.displayCount,this.graphic,this.layer,this.map,this.orderByFieldsFixedCasing,this.relationshipId,this.featuresPerPage,this.showAllEnabled,this.canQuery,this.featureCount],()=>this._queryThrottled(),gt),X(()=>[this.featurePage,this.showAllEnabled],()=>this._queryPageThrottled()),X(()=>[this.layer,this.relationshipId,this.objectId,this.canQuery],()=>this._queryFeatureCountThrottled())])}destroy(){this._destroyRelatedFeatureViewModels(),this.relatedFeatures.removeAll(),this._cancelQuery(),this._cancelQueryFeatureCount(),this._cancelQueryPage()}set featurePage(t){const{featuresPerPage:i,featureCount:n}=this,r=1,s=Math.ceil(n/i)||1;this._set("featurePage",Math.min(Math.max(t,r),s))}get featurePage(){return this._get("featurePage")}get orderByFieldsFixedCasing(){const{orderByFields:t,relatedLayer:i}=this;return t&&(i!=null&&i.loaded)?t.map(n=>{const r=n.clone(),s=Zw(n.field,i);return r.field=s,r}):t??[]}get supportsCacheHint(){var t,i,n;return!!((n=(i=(t=this.layer)==null?void 0:t.capabilities)==null?void 0:i.queryRelated)!=null&&n.supportsCacheHint)}get canQuery(){var i,n;const t=(n=(i=this.layer)==null?void 0:i.capabilities)==null?void 0:n.queryRelated;return!!(this.relatedLayer&&this.relationship&&typeof this.relationshipId=="number"&&typeof this.objectId=="number"&&(t!=null&&t.supportsCount)&&(t!=null&&t.supportsPagination))}get itemDescriptionFieldName(){var t,i;return((i=(t=this.orderByFieldsFixedCasing)==null?void 0:t[0])==null?void 0:i.field)||null}set displayCount(t){this._set("displayCount",Math.min(Math.max(t,0),10))}get displayCount(){return this._get("displayCount")}get objectId(){var t,i;return(this.objectIdField&&((i=(t=this.graphic)==null?void 0:t.attributes)==null?void 0:i[this.objectIdField]))??null}get objectIdField(){var t;return((t=this.layer)==null?void 0:t.objectIdField)||null}get relatedFeatures(){return this._get("relatedFeatures")||new Ie}get relatedLayer(){const{layer:t,map:i,relationship:n}=this;return t!=null&&t.loaded&&i&&n?U3e(i,t,n)??null:null}get relationship(){var n;const{relationshipId:t,layer:i}=this;return typeof t=="number"?((n=i==null?void 0:i.relationships)==null?void 0:n.find(({id:r})=>r===t))??null:null}get relatedFeatureViewModels(){return this._get("relatedFeatureViewModels")||new Ie}get state(){const{_queryAbortController:t,_queryFeatureCountAbortController:i,_queryPageAbortController:n,canQuery:r}=this;return i?"loading":t||n?"querying":r?"ready":"disabled"}_destroyRelatedFeatureViewModels(){var t;(t=this.relatedFeatureViewModels)==null||t.forEach(i=>!i.destroyed&&i.destroy()),this.relatedFeatureViewModels.removeAll()}async _queryFeatureCount(){const{layer:t,relatedLayer:i,relationshipId:n,objectId:r,_queryFeatureCountAbortController:s,canQuery:a,supportsCacheHint:o}=this;if(await(t==null?void 0:t.load()),await(i==null?void 0:i.load()),!a||!t||!i)return void this._set("featureCount",0);const l=i.createQuery(),c=new k0({cacheHint:o,relationshipId:n,returnGeometry:!1,objectIds:[r],where:jV(l.where,void 0)}),h=await t.queryRelatedFeaturesCount(c,{signal:s==null?void 0:s.signal});this._set("featureCount",h[r]||0)}_sliceFeatures(t){const{showAllEnabled:i,displayCount:n}=this;return i?t:n?t.slice(0,n):[]}async _queryPage(){const{relatedFeatures:t,featurePage:i,showAllEnabled:n,_queryPageAbortController:r}=this;!n||i<2||t.addMany(await this._queryRelatedFeatures({signal:r==null?void 0:r.signal}))}async _queryRelatedFeatures(t){var T;const{orderByFieldsFixedCasing:i,showAllEnabled:n,featuresPerPage:r,displayCount:s,layer:a,relationshipId:o,featurePage:l,featureCount:c,relatedLayer:h,supportsCacheHint:p}=this,{canQuery:m,objectId:g}=this;if(!m||!a||!h)return[];const y=n?((l-1)*r+c)%c:0,b=n?r:s,w=h.objectIdField,_=[...i==null?void 0:i.map(C=>C.field),w].filter($),x=i==null?void 0:i.map(C=>`${C.field} ${C.order}`),S=h.createQuery(),k=new k0({orderByFields:x,start:y,num:b,outFields:_,cacheHint:p,relationshipId:o,returnGeometry:!1,objectIds:[g],where:jV(S.where,void 0)}),A=((T=(await a.queryRelatedFeatures(k,{signal:t==null?void 0:t.signal}))[g])==null?void 0:T.features)||[];return A.forEach(C=>{C.sourceLayer=h,C.layer=h}),A}};u([d()],jt.prototype,"_queryAbortController",void 0),u([d()],jt.prototype,"_queryPageAbortController",void 0),u([d()],jt.prototype,"_queryFeatureCountAbortController",void 0),u([d({value:1})],jt.prototype,"featurePage",null),u([d()],jt.prototype,"featuresPerPage",void 0),u([d({readOnly:!0})],jt.prototype,"orderByFieldsFixedCasing",null),u([d({readOnly:!0})],jt.prototype,"supportsCacheHint",null),u([d({readOnly:!0})],jt.prototype,"canQuery",null),u([d()],jt.prototype,"description",void 0),u([d({readOnly:!0})],jt.prototype,"itemDescriptionFieldName",null),u([d({value:3})],jt.prototype,"displayCount",null),u([d({type:yr})],jt.prototype,"graphic",void 0),u([d()],jt.prototype,"layer",void 0),u([d()],jt.prototype,"map",void 0),u([d({readOnly:!0})],jt.prototype,"objectId",null),u([d({readOnly:!0})],jt.prototype,"objectIdField",null),u([d()],jt.prototype,"orderByFields",void 0),u([d({readOnly:!0})],jt.prototype,"relatedFeatures",null),u([d({readOnly:!0})],jt.prototype,"relatedLayer",null),u([d({readOnly:!0})],jt.prototype,"relationship",null),u([d()],jt.prototype,"featureCount",void 0),u([d({readOnly:!0})],jt.prototype,"relatedFeatureViewModels",null),u([d()],jt.prototype,"relationshipId",void 0),u([d()],jt.prototype,"showAllEnabled",void 0),u([d()],jt.prototype,"state",null),u([d()],jt.prototype,"title",void 0),jt=u([I("esri.widgets.Feature.FeatureRelationship.FeatureRelationshipViewModel")],jt);const ez=jt,i1="esri-feature",fM=`${i1}-relationship`,gc={base:fM,esriWidget:"esri-widget",listContainer:`${fM}__list`,listContainerQuerying:`${fM}__list--querying`,featureObserver:`${i1}__feature-observer`,stickySpinnerContainer:`${i1}__sticky-loading-container`,loadingSpinnerContainer:`${i1}__loading-container`,spinner:`${i1}__loading-spinner`,iconLoading:"esri-icon-loading-indicator esri-rotating"},zB={title:!0,description:!0};let Tr=class extends br{constructor(t,i){super(t,i),this._featureElementInfo=null,this._relatedFeatureIntersectionObserverNode=null,this._relatedFeatureIntersectionObserver=new IntersectionObserver(([n])=>{n!=null&&n.isIntersecting&&this._increaseFeaturePage()},{root:window.document}),this.headingLevel=2,this.viewModel=new ez,this.messages=null,this.messagesCommon=null,this.visibleElements={...zB},this._increaseFeaturePage=()=>{const{state:n,showAllEnabled:r,relatedFeatures:s,featuresPerPage:a,featurePage:o}=this.viewModel;n==="ready"&&r&&s.length>=a*o&&this.viewModel.featurePage++}}initialize(){this._featureElementInfo=new sT,this.addHandles([X(()=>[this.viewModel.description,this.viewModel.title,this.headingLevel],()=>this._setupFeatureElementInfo(),gt),X(()=>[this.viewModel.state,this.viewModel.showAllEnabled,this._relatedFeatureIntersectionObserverNode],()=>this._handleRelatedFeatureObserverChange()),gs(()=>this.viewModel.relatedFeatureViewModels,"change",()=>this._setupRelatedFeatureViewModels())])}loadDependencies(){return Promise.all([H(()=>Promise.resolve().then(()=>$be),void 0),H(()=>Promise.resolve().then(()=>Rbe),void 0),H(()=>import("./calcite-icon.js"),[]),H(()=>Promise.resolve().then(()=>UJ),void 0)])}destroy(){this._unobserveRelatedFeatureObserver(),this._featureElementInfo=Si(this._featureElementInfo)}get displayShowAllButton(){const{showAllEnabled:t,featureCount:i,displayCount:n}=this.viewModel;return!t&&!!i&&(i>n||n===0)}get displayListItems(){return this.displayShowAllButton||this.viewModel.relatedFeatureViewModels.length>0}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get featureCountDescription(){const{messages:t}=this,{featureCount:i}=this.viewModel;return Ol(i===1?t==null?void 0:t.numberRecord:t==null?void 0:t.numberRecords,{number:i})}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}castVisibleElements(t){return{...zB,...t}}renderStickyLoading(){return this.viewModel.state==="querying"?R("div",{key:"sticky-loader",class:gc.stickySpinnerContainer},this.renderLoadingIcon()):null}renderLoadingIcon(){return R("span",{class:this.classes(gc.iconLoading,gc.spinner)})}renderLoading(){return R("div",{key:"loading-container",class:gc.loadingSpinnerContainer},this.renderLoadingIcon())}renderShowAllIconNode(){return R("calcite-icon",{scale:"s",icon:"list",slot:"content-end"})}renderChevronIconNode(){const t=Ul(this.container)?"chevron-left":"chevron-right";return R("calcite-icon",{scale:"s",icon:t,slot:"content-end"})}renderRelatedFeature(t){var s,a;const{itemDescriptionFieldName:i}=this.viewModel,n=t.title;t.description=i&&((s=t.formattedAttributes)==null?void 0:s.global[i]);const r=t.state==="loading";return R("calcite-list-item",{key:t.uid,label:r?`${(a=this.messagesCommon)==null?void 0:a.loading}…`:n,description:r?"…":t.description??"",onCalciteListItemSelect:()=>this.emit("select-record",{featureViewModel:t})},this.renderChevronIconNode())}renderShowAllListItem(){var t;return this.displayShowAllButton?R("calcite-list-item",{key:"show-all-item",label:(t=this.messages)==null?void 0:t.showAll,description:this.featureCountDescription,onCalciteListItemSelect:()=>this.emit("show-all-records")},this.renderShowAllIconNode()):null}renderNoRelatedFeaturesMessage(){var t;return R("calcite-notice",{key:"no-related-features-message",icon:"information",open:!0,kind:"brand",scale:"s",width:"full"},R("div",{slot:"message"},(t=this.messages)==null?void 0:t.noRelatedFeatures))}renderFeatureObserver(){return R("div",{key:"feature-observer",class:gc.featureObserver,bind:this,afterCreate:this._relatedFeatureIntersectionObserverCreated})}renderList(){const{relatedFeatureViewModels:t}=this.viewModel;return R("calcite-list",null,t.toArray().map(i=>this.renderRelatedFeature(i)),this.renderShowAllListItem())}renderRelatedFeatures(){const{displayListItems:t}=this,{state:i}=this.viewModel;return R("div",{key:"list-container",class:this.classes(gc.listContainer,{[gc.listContainerQuerying]:i==="querying"})},t?this.renderList():i==="ready"?this.renderNoRelatedFeaturesMessage():null,this.renderStickyLoading(),this.renderFeatureObserver())}renderRelationshipNotFound(){var t;return R("calcite-notice",{key:"relationship-not-found",icon:"exclamation-mark-triangle",open:!0,kind:"danger",scale:"s",width:"full"},R("div",{slot:"message"},(t=this.messages)==null?void 0:t.relationshipNotFound))}render(){var i;const{state:t}=this.viewModel;return R("div",{class:this.classes(gc.base,gc.esriWidget)},(i=this._featureElementInfo)==null?void 0:i.render(),t==="loading"?this.renderLoading():t==="disabled"?this.renderRelationshipNotFound():this.renderRelatedFeatures())}_setupRelatedFeatureViewModels(){const{relatedFeatureViewModels:t}=this.viewModel,i="related-feature-viewmodels";this.removeHandles(i),t==null||t.forEach(n=>{this.addHandles(X(()=>[n.title,n.state],()=>this.scheduleRender(),gt),i)}),this.scheduleRender()}_setupFeatureElementInfo(){var s;const{headingLevel:t,visibleElements:i}=this,n=i.description&&this.description,r=i.title&&this.title;(s=this._featureElementInfo)==null||s.set({description:n,title:r,headingLevel:t})}async _handleRelatedFeatureObserverChange(){this._unobserveRelatedFeatureObserver();const{state:t,showAllEnabled:i}=this.viewModel;await PC(0),this._relatedFeatureIntersectionObserverNode&&t==="ready"&&i&&this._relatedFeatureIntersectionObserver.observe(this._relatedFeatureIntersectionObserverNode)}_relatedFeatureIntersectionObserverCreated(t){this._relatedFeatureIntersectionObserverNode=t}_unobserveRelatedFeatureObserver(){this._relatedFeatureIntersectionObserverNode&&this._relatedFeatureIntersectionObserver.unobserve(this._relatedFeatureIntersectionObserverNode)}};u([d()],Tr.prototype,"_relatedFeatureIntersectionObserverNode",void 0),u([d({readOnly:!0})],Tr.prototype,"displayShowAllButton",null),u([d({readOnly:!0})],Tr.prototype,"displayListItems",null),u([d()],Tr.prototype,"description",null),u([d({readOnly:!0})],Tr.prototype,"featureCountDescription",null),u([d()],Tr.prototype,"headingLevel",void 0),u([d()],Tr.prototype,"title",null),u([d({type:ez})],Tr.prototype,"viewModel",void 0),u([d(),hr("esri/widgets/Feature/t9n/Feature")],Tr.prototype,"messages",void 0),u([d(),hr("esri/t9n/common")],Tr.prototype,"messagesCommon",void 0),u([d()],Tr.prototype,"visibleElements",void 0),u([ct("visibleElements")],Tr.prototype,"castVisibleElements",null),Tr=u([I("esri.widgets.Feature.FeatureRelationship")],Tr);const VB=Tr;let Eze=class{constructor(t,i){this.preLayerQueryCallback=t,this.preRequestCallback=i,this.preLayerQueryCallback||(this.preLayerQueryCallback=n=>{}),this.preRequestCallback||(this.preLayerQueryCallback=n=>{})}};var n1;const kze=1,jB="content-view-models",UB="relationship-view-models",BB={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0,relationshipContent:!0};let Jt=n1=class extends A_(ve){constructor(e){super(e),this._handles=new vs,this._error=null,this._featureAbortController=null,this._graphicChangedThrottled=Uy(this._graphicChanged,kze,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...BB},this.content=null,this.contentViewModels=[],this.description=null,this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=t=>{const{abilities:i}=this;return t.type==="attachments"&&!!i.attachmentsContent||t.type==="custom"&&!!i.customContent||t.type==="fields"&&!!i.fieldsContent||t.type==="media"&&!!i.mediaContent||t.type==="text"&&!!i.textContent||t.type==="expression"&&!!i.expressionContent||t.type==="relationship"&&!!i.relationshipContent},this._handles.add(X(()=>[this.graphic,this._effectivePopupTemplate,this.abilities],()=>this._graphicChangedThrottled(),gt))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return $(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return P3e(AU(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return kie(this.graphic)}castAbilities(e){return{...BB,...e}}get isTable(){var e;return((e=this._sourceLayer)==null?void 0:e.isTable)||!1}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(e){this._set("graphic",e?e.clone():null)}get spatialReference(){var e;return((e=this.view)==null?void 0:e.spatialReference)??null}set spatialReference(e){this._override("spatialReference",e)}get map(){var e;return((e=this.view)==null?void 0:e.map)||null}set map(e){this._override("map",e)}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(e,t){const i=this.contentViewModels[e];i instanceof Pf&&i.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e];t instanceof Pf&&t.next()}previousMedia(e){const t=this.contentViewModels[e];t instanceof Pf&&t.previous()}async updateGeometry(){var a,o;const{graphic:e,spatialReference:t,_sourceLayer:i}=this;await(i==null?void 0:i.load());const n=i==null?void 0:i.objectIdField;if(!n||!e||!i)return;const r=(a=e==null?void 0:e.attributes)==null?void 0:a[n];if(r==null)return;const s=[r];if(!e.geometry){const l=(o=await Mie({layer:i,graphic:e,outFields:[],objectIds:s,returnGeometry:!0,spatialReference:t}))==null?void 0:o.geometry;l&&(e.geometry=l)}}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}async _graphicChanged(){this._cancelFeatureQuery(),this._error=null,this._clear();const{graphic:e}=this;if(!e)return;const t=new AbortController;this._featureAbortController=t;try{await this._queryFeature({signal:t.signal})}catch(i){Vr(i)||(this._error=i,Y.getLogger(this.declaredClass).error("error","The popupTemplate could not be displayed for this feature.",{error:i,graphic:e,popupTemplate:this._effectivePopupTemplate}))}this._featureAbortController===t&&(this._featureAbortController=null)}_cancelFeatureQuery(){const{_featureAbortController:e}=this;e&&e.abort(),this._featureAbortController=null}_compileContentElement(e,t){return e.type==="attachments"?this._compileAttachments(e,t):e.type==="custom"?this._compileCustom(e,t):e.type==="fields"?this._compileFields(e,t):e.type==="media"?this._compileMedia(e,t):e.type==="text"?this._compileText(e,t):e.type==="expression"?this._compileExpression(e,t):e.type==="relationship"?this._compileRelationship(e,t):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map((t,i)=>this._compileContentElement(t,i)).filter($):typeof e=="string"?this._compileText(new b0({text:e}),0).text:e}_destroyContentViewModels(){var e,t;(e=this._handles)==null||e.remove(UB),(t=this._handles)==null||t.remove(jB),this.contentViewModels.forEach(i=>i&&!i.destroyed&&i.destroy()),this._set("contentViewModels",[])}_matchesFeature(e,t){var r;const i=(r=e==null?void 0:e.graphic)==null?void 0:r.getObjectId(),n=t==null?void 0:t.getObjectId();return $(i)&&$(n)&&i===n}_setRelatedFeaturesViewModels({relatedFeatureViewModels:e,relatedFeatures:t,map:i}){const{view:n,spatialReference:r}=this;t==null||t.filter(Boolean).forEach(s=>{e.find(a=>this._matchesFeature(a,s))||e.add(new n1({abilities:{relationshipContent:!1},map:i,view:n,spatialReference:r,graphic:s}))}),e.forEach(s=>{(t==null?void 0:t.find(o=>this._matchesFeature(s,o)))||e.remove(s)})}_setExpressionContentVM(e,t){const i=this.formattedAttributes,{contentElement:n,contentElementViewModel:r}=e,s=n==null?void 0:n.type;r&&s&&(s==="fields"&&(this._createFieldsFormattedAttributes({contentElement:n,contentElementIndex:t,formattedAttributes:i}),r.set(this._createFieldsVMParams(n,t))),s==="media"&&(this._createMediaFormattedAttributes({contentElement:n,contentElementIndex:t,formattedAttributes:i}),r.set(this._createMediaVMParams(n,t))),s==="text"&&r.set(this._createTextVMParams(n)))}_compileRelationship(e,t){const{displayCount:i,orderByFields:n,relationshipId:r,title:s,description:a}=e,{_sourceLayer:o,graphic:l,map:c}=this,h=new ez({displayCount:i,graphic:l,orderByFields:n,relationshipId:r,layer:o,map:c,...this._compileTitleAndDesc({title:s,description:a})});return this.contentViewModels[t]=h,this._handles.add(gs(()=>h.relatedFeatures,"change",()=>this._setRelatedFeaturesViewModels(h)),UB),e}_compileExpression(e,t){const{expressionInfo:i}=e,{graphic:n,map:r,spatialReference:s,view:a}=this,o=new X4({expressionInfo:i,graphic:n,interceptor:n1.interceptor,map:r,spatialReference:s,view:a});return this.contentViewModels[t]=o,this._handles.add(X(()=>o.contentElementViewModel,()=>this._setExpressionContentVM(o,t),gt),jB),e}_compileAttachments(e,t){const{graphic:i}=this,{description:n,title:r}=e;return this.contentViewModels[t]=new n4({graphic:i,...this._compileTitleAndDesc({title:r,description:n})}),e}_compileCustom(e,t){const{graphic:i}=this,{creator:n,destroyer:r}=e;return this.contentViewModels[t]=new wI({graphic:i,creator:n,destroyer:r}),e}_compileTitleAndDesc({title:e,description:t}){const{_fieldInfoMap:i,_sourceLayer:n,graphic:r,formattedAttributes:s}=this,a=r==null?void 0:r.attributes,o=this._expressionAttributes,l=s.global;return{title:Of({attributes:a,fieldInfoMap:i,globalAttributes:l,expressionAttributes:o,layer:n,text:e}),description:Of({attributes:a,fieldInfoMap:i,globalAttributes:l,expressionAttributes:o,layer:n,text:t})}}_createFieldsVMParams(e,t){var c;const i=this._effectivePopupTemplate,n=this.formattedAttributes,r={...n==null?void 0:n.global,...n==null?void 0:n.content[t]},s=(c=(e==null?void 0:e.fieldInfos)||(i==null?void 0:i.fieldInfos))==null?void 0:c.filter(({fieldName:h})=>XN(h)||tu(h)||r.hasOwnProperty(h)),a=i==null?void 0:i.expressionInfos,{description:o,title:l}=e;return{attributes:r,expressionInfos:a,fieldInfos:s,...this._compileTitleAndDesc({title:l,description:o})}}_compileFields(e,t){const i=e.clone(),n=new aT(this._createFieldsVMParams(e,t));return this.contentViewModels[t]=n,i.fieldInfos=n.formattedFieldInfos.slice(0),i}_createMediaVMParams(e,t){const{abilities:i,graphic:n,_fieldInfoMap:r,_effectivePopupTemplate:s,relatedInfos:a,_sourceLayer:o,_expressionAttributes:l}=this,c=this.formattedAttributes,h=(n==null?void 0:n.attributes)??{},{description:p,mediaInfos:m,title:g}=e;return{abilities:{chartAnimation:i.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:h,isAggregate:n==null?void 0:n.isAggregate,layer:o,fieldInfoMap:r,formattedAttributes:{...c==null?void 0:c.global,...c==null?void 0:c.content[t]},expressionAttributes:l,mediaInfos:m,popupTemplate:s,relatedInfos:a,...this._compileTitleAndDesc({title:g,description:p})}}_compileMedia(e,t){const i=e.clone(),n=new Pf(this._createMediaVMParams(e,t));return i.mediaInfos=n.formattedMediaInfos.slice(0),this.contentViewModels[t]=n,i}_createTextVMParams(e){var s;const{graphic:t,_fieldInfoMap:i,_sourceLayer:n,_expressionAttributes:r}=this;if(e&&e.text){const a=(t==null?void 0:t.attributes)??{},o=((s=this.formattedAttributes)==null?void 0:s.global)??{};e.text=Of({attributes:a,fieldInfoMap:i,globalAttributes:o,expressionAttributes:r,layer:n,text:e.text})}return{graphic:t,creator:e.text}}_compileText(e,t){const i=e.clone();return this.contentViewModels[t]=new wI(this._createTextVMParams(i)),i}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:i}=this;if(!e)return;const{lastEditInfoEnabled:n}=e,r=t==null?void 0:t.editFieldsInfo;return n&&r?R3e(r,i==null?void 0:i.attributes):void 0}_compileTitle(e){var o;const{_fieldInfoMap:t,_sourceLayer:i,graphic:n,_expressionAttributes:r}=this,s=(n==null?void 0:n.attributes)??{},a=((o=this.formattedAttributes)==null?void 0:o.global)??{};return Of({attributes:s,fieldInfoMap:t,globalAttributes:a,expressionAttributes:r,layer:i,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this;if(!t)return null;const i=e==null?void 0:e.title;return vI(i,{graphic:t})}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this;if(!t)return null;const i=e==null?void 0:e.content;return vI(i,{graphic:t})}async _queryFeature(e){const{_featureAbortController:t,_sourceLayer:i,graphic:n,_effectivePopupTemplate:r}=this,s=this.map,a=this.view,o=this.spatialReference;if(t!==this._featureAbortController||!n)return;await F3e({graphic:n,popupTemplate:r,layer:i,spatialReference:o},e);const{content:{value:l},title:{value:c}}=await ps({content:this._getContent(),title:this._getTitle()}),{expressionAttributes:{value:h}}=await ps({checkForRelatedFeatures:this._checkForRelatedFeatures(e),expressionAttributes:_ze({expressionInfos:r==null?void 0:r.expressionInfos,spatialReference:o,graphic:n,map:s,interceptor:n1.interceptor,view:a})});t===this._featureAbortController&&n&&(this._expressionAttributes=h,this._graphicExpressionAttributes={...n.attributes,...h},this._set("formattedAttributes",this._createFormattedAttributes(l)),this._set("title",this._compileTitle(c)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(l)||null))}_createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:i}){const{_effectivePopupTemplate:n,graphic:r,relatedInfos:s,_sourceLayer:a,_fieldInfoMap:o,_graphicExpressionAttributes:l}=this;i.content[t]=SA({fieldInfos:n==null?void 0:n.fieldInfos,graphic:r,attributes:{...l,...e.attributes},layer:a,fieldInfoMap:o,relatedInfos:s})}_createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:i}){if(e.fieldInfos){const{graphic:n,relatedInfos:r,_sourceLayer:s,_fieldInfoMap:a,_graphicExpressionAttributes:o}=this;i.content[t]=SA({fieldInfos:e.fieldInfos,graphic:n,attributes:{...o,...e.attributes},layer:s,fieldInfoMap:a,relatedInfos:r})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:t,graphic:i,relatedInfos:n,_sourceLayer:r,_fieldInfoMap:s,_graphicExpressionAttributes:a}=this,o=t==null?void 0:t.fieldInfos,l={global:SA({fieldInfos:o,graphic:i,attributes:a,layer:r,fieldInfoMap:s,relatedInfos:n}),content:[]};return Array.isArray(e)&&e.forEach((c,h)=>{c.type==="fields"&&this._createFieldsFormattedAttributes({contentElement:c,contentElementIndex:h,formattedAttributes:l}),c.type==="media"&&this._createMediaFormattedAttributes({contentElement:c,contentElementIndex:h,formattedAttributes:l})}),l}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:i}=this;return this._queryRelatedInfos(t,AU(i),e)}async _queryRelatedInfos(e,t,i){const{relatedInfos:n,_sourceLayer:r}=this;n.clear();const s=$(r==null?void 0:r.associatedLayer)?await(r==null?void 0:r.associatedLayer.load(i)):r;if(!s||!e)return;const a=t.filter(c=>c&&tu(c.fieldName));if(!a||!a.length)return;t.forEach(c=>this._configureRelatedInfo(c,s));const o=await H5e({relatedInfos:n,layer:s},i);Object.keys(o).forEach(c=>{var m;const h=n.get(c.toString()),p=(m=o[c])==null?void 0:m.value;h&&p&&(h.layerInfo=p.data)});const l=await G5e({graphic:e,relatedInfos:n,layer:s},i);Object.keys(l).forEach(c=>{var h;z5e((h=l[c])==null?void 0:h.value,n.get(c.toString()))})}_configureRelatedInfo(e,t){const{relatedInfos:i}=this,n=Y2(e.fieldName);if(!n)return;const{layerId:r,fieldName:s}=n;if(!r)return;const a=i.get(r.toString())||N5e(r,t);a&&(q5e({relatedInfo:a,fieldName:s,fieldInfo:e}),this.relatedInfos.set(r,a))}};Jt.interceptor=new Eze(V3e,j3e),u([d()],Jt.prototype,"_error",void 0),u([d()],Jt.prototype,"_featureAbortController",void 0),u([d({readOnly:!0})],Jt.prototype,"_effectivePopupTemplate",null),u([d({readOnly:!0})],Jt.prototype,"_fieldInfoMap",null),u([d({readOnly:!0})],Jt.prototype,"_sourceLayer",null),u([d()],Jt.prototype,"abilities",void 0),u([ct("abilities")],Jt.prototype,"castAbilities",null),u([d({readOnly:!0})],Jt.prototype,"content",void 0),u([d({readOnly:!0})],Jt.prototype,"contentViewModels",void 0),u([d()],Jt.prototype,"description",void 0),u([d({type:Boolean})],Jt.prototype,"defaultPopupTemplateEnabled",void 0),u([d({readOnly:!0})],Jt.prototype,"isTable",null),u([d({readOnly:!0})],Jt.prototype,"state",null),u([d({readOnly:!0})],Jt.prototype,"formattedAttributes",void 0),u([d({type:yr,value:null})],Jt.prototype,"graphic",null),u([d({readOnly:!0})],Jt.prototype,"lastEditInfo",void 0),u([d({readOnly:!0})],Jt.prototype,"relatedInfos",void 0),u([d()],Jt.prototype,"spatialReference",null),u([d({readOnly:!0})],Jt.prototype,"title",void 0),u([d()],Jt.prototype,"map",null),u([d({readOnly:!0})],Jt.prototype,"waitingForContent",null),u([d()],Jt.prototype,"view",void 0),Jt=n1=u([I("esri.widgets.FeatureViewModel")],Jt);const tz=Jt,Ln="esri-feature",fi={iconText:"esri-icon-font-fallback-text",iconLoading:"esri-icon-loading-indicator esri-rotating",esriTable:"esri-widget__table",esriWidget:"esri-widget",base:Ln,container:`${Ln}__size-container`,title:`${Ln}__title`,main:`${Ln}__main-container`,btn:`${Ln}__button`,icon:`${Ln}__icon`,content:`${Ln}__content`,contentNode:`${Ln}__content-node`,contentElement:`${Ln}__content-element`,text:`${Ln}__text`,lastEditedInfo:`${Ln}__last-edited-info`,fields:`${Ln}__fields`,fieldHeader:`${Ln}__field-header`,fieldData:`${Ln}__field-data`,fieldDataDate:`${Ln}__field-data--date`,loadingSpinnerContainer:`${Ln}__loading-container`,spinner:`${Ln}__loading-spinner`},eae=e=>{let t=class extends e{constructor(){super(...arguments),this.renderNodeContent=i=>Lie(i)&&!i.destroyed?R("div",{class:fi.contentNode,key:i},i.render()):i instanceof HTMLElement?R("div",{class:fi.contentNode,key:i,bind:i,afterCreate:this._attachToNode}):sDe(i)?R("div",{class:fi.contentNode,key:i,bind:i.domNode,afterCreate:this._attachToNode}):null}_attachToNode(i){const n=this;i.appendChild(n)}};return t=u([I("esri.widgets.Feature.ContentMixin")],t),t};var rP;const HB={title:!0,content:!0,lastEditedInfo:!0},GB="relationship-handles";let pn=rP=class extends eae(br){constructor(e,t){super(e,t),this._contentWidgets=[],this.flowItems=null,this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.visibleElements={...HB},this.viewModel=new tz}initialize(){this.addHandles(X(()=>{var e;return(e=this.viewModel)==null?void 0:e.contentViewModels},()=>this._setupContentWidgets(),gt))}loadDependencies(){return H(()=>Promise.resolve().then(()=>UJ),void 0)}destroy(){this._destroyContentWidgets()}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(e){this.viewModel.defaultPopupTemplateEnabled=e}get isTable(){return this.viewModel.isTable}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get spatialReference(){return this.viewModel.spatialReference}set spatialReference(e){this.viewModel.spatialReference=e}get title(){return this.viewModel.title}castVisibleElements(e){return{...HB,...e}}get map(){return this.viewModel.map}set map(e){this.viewModel.map=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const{state:e}=this.viewModel,t=R("div",{class:fi.container,key:"container"},this.renderTitle(),e==="error"?this.renderError():e==="loading"?this.renderLoading():this.renderContentContainer());return R("div",{class:this.classes(fi.base,fi.esriWidget)},t)}setActiveMedia(e,t){return this.viewModel.setActiveMedia(e,t)}nextMedia(e){return this.viewModel.nextMedia(e)}previousMedia(e){return this.viewModel.previousMedia(e)}renderError(){const{messagesCommon:e,messages:t,visibleElements:i}=this;return R("calcite-notice",{open:!0,kind:"danger",icon:"exclamation-mark-circle",scale:"s"},i.title?R("div",{key:"error-title",slot:"title"},e.errorMessage):null,R("div",{key:"error-message",slot:"message"},t.loadingError))}renderLoading(){return R("div",{key:"loading-container",class:fi.loadingSpinnerContainer},R("span",{class:this.classes(fi.iconLoading,fi.spinner)}))}renderContentContainer(){const{visibleElements:e}=this;return e.content?R("div",{class:fi.main},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:e,title:t}=this;return e.title?R(r4,{level:this.headingLevel,class:fi.title,innerHTML:t}):null}renderContent(){const e=this.viewModel.content,t="content";if(!e)return null;if(Array.isArray(e))return e.length?R("div",{class:fi.contentNode,key:`${t}-content-elements`},e.map(this.renderContentElement,this)):null;if(typeof e=="string"){const i=this._contentWidgets[0];return!i||i.destroyed?null:R("div",{class:fi.contentNode,key:`${t}-content`},i.render())}return this.renderNodeContent(e)}renderContentElement(e,t){var n;const{visibleElements:i}=this;if(typeof i.content!="boolean"&&!((n=i.content)!=null&&n[e.type]))return null;switch(e.type){case"attachments":return this.renderAttachments(t);case"custom":return this.renderCustom(e,t);case"fields":return this.renderFields(t);case"media":return this.renderMedia(t);case"text":return this.renderText(e,t);case"expression":return this.renderExpression(t);case"relationship":return this.renderRelationship(t);default:return null}}renderAttachments(e){const t=this._contentWidgets[e];if(!t||t.destroyed)return null;const{state:i,attachmentInfos:n}=t.viewModel;return i==="loading"||n.length>0?R("div",{key:this._buildKey("attachments-element",e),class:this.classes(fi.contentElement)},t.render()):null}renderRelationship(e){const t=this._contentWidgets[e];return t&&!t.destroyed&&this.flowItems?R("div",{key:this._buildKey("relationship-element",e),class:fi.contentElement},t.render()):null}renderExpression(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:R("div",{key:this._buildKey("expression-element",e),class:fi.contentElement},t.render())}renderCustom(e,t){const{creator:i}=e,n=this._contentWidgets[t];return!n||n.destroyed?null:i?R("div",{key:this._buildKey("custom-element",t),class:fi.contentElement},n.render()):null}renderFields(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:R("div",{key:this._buildKey("fields-element",e),class:fi.contentElement},t.render())}renderMedia(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:R("div",{key:this._buildKey("media-element",e),class:fi.contentElement},t.render())}renderLastEditInfo(){const{visibleElements:e,messages:t}=this,{lastEditInfo:i}=this.viewModel;if(!i||!e.lastEditedInfo)return null;const{date:n,user:r}=i,s=i.type==="edit"?r?t.lastEditedByUser:t.lastEdited:r?t.lastCreatedByUser:t.lastCreated,a=Ol(s,{date:n,user:r});return R("div",{key:"edit-info-element",class:this.classes(fi.lastEditedInfo,fi.contentElement)},a)}renderText(e,t){const i=e.text,n=this._contentWidgets[t];return!n||n.destroyed?null:i?R("div",{key:this._buildKey("text-element",t),class:this.classes(fi.contentElement,fi.text)},n.render()):null}_buildKey(e,...t){return`${e}__${this.get("viewModel.graphic.uid")||"0"}-${t.join("-")}`}_destroyContentWidget(e){e&&(e.viewModel=null,!e.destroyed&&e.destroy())}_destroyContentWidgets(){this.removeHandles(GB),this._contentWidgets.forEach(e=>this._destroyContentWidget(e)),this._contentWidgets=[]}_addFeatureRelationshipHandles(e){const{flowItems:t,visibleElements:i}=this;this.addHandles([gs(()=>e,"select-record",({featureViewModel:n})=>{t&&(n.abilities={relationshipContent:!0},t.push(new rP({flowItems:t,viewModel:n,visibleElements:i})))}),gs(()=>e,"show-all-records",()=>{if(!t)return;const{viewModel:n}=e;n.showAllEnabled=!0;const r=new VB({visibleElements:{title:!1,description:!1},viewModel:n});this._addFeatureRelationshipHandles(r),t.push(r)})],GB)}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:e,visibleElements:t}=this,i=this.get("viewModel.content"),{contentViewModels:n}=this.viewModel;if(Array.isArray(i))i.forEach((r,s)=>{if(r.type==="attachments"&&(this._contentWidgets[s]=new J3e({displayType:r.displayType,headingLevel:t.title?e+1:e,viewModel:n[s]})),r.type==="fields"&&(this._contentWidgets[s]=new Fie({viewModel:n[s]})),r.type==="media"&&(this._contentWidgets[s]=new $ne({viewModel:n[s]})),r.type==="text"&&(this._contentWidgets[s]=new G2({viewModel:n[s]})),r.type==="custom"&&(this._contentWidgets[s]=new G2({viewModel:n[s]})),r.type==="expression"&&(this._contentWidgets[s]=new Sze({viewModel:n[s]})),r.type==="relationship"){const a=new VB({viewModel:n[s]});this._addFeatureRelationshipHandles(a),this._contentWidgets[s]=a}},this);else{const r=n[0];r&&!r.destroyed&&(this._contentWidgets[0]=new G2({viewModel:r}))}this.scheduleRender()}};u([d()],pn.prototype,"graphic",null),u([d()],pn.prototype,"defaultPopupTemplateEnabled",null),u([d()],pn.prototype,"flowItems",void 0),u([d()],pn.prototype,"headingLevel",void 0),u([d({readOnly:!0})],pn.prototype,"isTable",null),u([d()],pn.prototype,"label",null),u([d(),hr("esri/widgets/Feature/t9n/Feature")],pn.prototype,"messages",void 0),u([d(),hr("esri/t9n/common")],pn.prototype,"messagesCommon",void 0),u([d(),hr("esri/widgets/support/t9n/uriUtils")],pn.prototype,"messagesURIUtils",void 0),u([d()],pn.prototype,"spatialReference",null),u([d({readOnly:!0})],pn.prototype,"title",null),u([d()],pn.prototype,"visibleElements",void 0),u([ct("visibleElements")],pn.prototype,"castVisibleElements",null),u([d()],pn.prototype,"map",null),u([d()],pn.prototype,"view",null),u([d({type:tz})],pn.prototype,"viewModel",void 0),pn=rP=u([I("esri.widgets.Feature")],pn);const Ize=pn;var tae;const mE=Symbol("anchorHandles");let Jp=class extends Ru.EventedAccessor{constructor(t){super(t),this[tae]=new vs,this.location=null,this.screenLocationEnabled=!1,this.view=null,this[mE].add([io(()=>nh(this.screenLocationEnabled?this.view:null,i=>[i.size,i.type==="3d"?i.camera:i.viewpoint]),()=>this.notifyChange("screenLocation")),X(()=>this.screenLocation,(i,n)=>{$(i)&&$(n)&&this.emit("view-change")})])}destroy(){this.view=null,this[mE]=Si(this[mE])}get screenLocation(){var r;const{location:t,view:i,screenLocationEnabled:n}=this;return n&&$(t)&&$(i)&&i.ready?(r=i.toScreen)==null?void 0:r.call(i,t):null}};tae=mE,u([d()],Jp.prototype,"location",void 0),u([d()],Jp.prototype,"screenLocation",null),u([d()],Jp.prototype,"screenLocationEnabled",void 0),u([d()],Jp.prototype,"view",void 0),Jp=u([I("esri.widgets.support.AnchorElementViewModel")],Jp);const iae=Jp,Cze="esri.widgets.CompassViewModel";let gE=class extends iae{constructor(t){super(t),this.visible=!1}};u([d()],gE.prototype,"visible",void 0),gE=u([I(Cze)],gE);const nae=gE,mM="esri-spinner",gM={base:mM,spinnerStart:`${mM}--start`,spinnerFinish:`${mM}--finish`};let Zp=class extends br{constructor(t,i){super(t,i),this._animationDelay=500,this._animationPromise=null,this.viewModel=new nae}initialize(){this.addHandles(X(()=>this.visible,t=>this._visibleChange(t)))}destroy(){this._animationPromise=null}get location(){return this.viewModel.location}set location(t){this.viewModel.location=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get visible(){return this.viewModel.visible}set visible(t){this.viewModel.visible=t}show(t){const{location:i,promise:n}=t??{};i&&(this.viewModel.location=i),this.visible=!0;const r=()=>this.hide();n&&n.catch(()=>{}).then(r)}hide(){this.visible=!1}render(){const{visible:t}=this,{screenLocation:i}=this.viewModel,n=!!i,r=t&&n,s=!t&&n,a={[gM.spinnerStart]:r,[gM.spinnerFinish]:s},o=this._getPositionStyles();return R("div",{class:this.classes(gM.base,a),styles:o})}_visibleChange(t){if(t)return void(this.viewModel.screenLocationEnabled=!0);const i=PC(this._animationDelay);this._animationPromise=i,i.catch(()=>{}).then(()=>{this._animationPromise===i&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:t,view:i}=this.viewModel;if(j(i)||j(t))return{};const{padding:n}=i;return{left:t.x-n.left+"px",top:t.y-n.top+"px"}}};u([d()],Zp.prototype,"location",null),u([d()],Zp.prototype,"view",null),u([d({type:nae})],Zp.prototype,"viewModel",void 0),u([d()],Zp.prototype,"visible",null),Zp=u([I("esri.widgets.Spinner")],Zp);const Tze=Zp,ST={iconZoom:"esri-icon-zoom-in-magnifying-glass",iconTrash:"esri-icon-trash",iconBrowseClusteredFeatures:"esri-icon-table"},Lf=new H0({id:"zoom-to-feature",title:"{messages.zoom}",className:ST.iconZoom}),qB=new H0({id:"remove-selected-feature",title:"{messages.remove}",className:ST.iconTrash}),vy=new H0({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:ST.iconZoom}),by=new H0({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:ST.iconBrowseClusteredFeatures}),$ze="esri.widgets.Popup.PopupViewModel",MI=Y.getLogger($ze),Aze=e=>{const{event:t,view:i}=e,{action:n}=t,r=i&&i.popup;if(!n)return Promise.reject(new N("trigger-action:missing-arguments","Event has no action"));if(!r)return Promise.reject(new N("trigger-action:missing-arguments","view.popup is missing"));const{disabled:s,id:a}=n;if(!a)return Promise.reject(new N("trigger-action:invalid-action","action.id is missing"));if(s)return Promise.reject(new N("trigger-action:invalid-action","Action is disabled"));if(a===Lf.id)return Dze(r.viewModel).catch(SD);if(a===vy.id)return Oze(r.viewModel);if(a===by.id)return r.featureMenuOpen=!r.featureMenuOpen,r.viewModel.browseClusterEnabled=!r.viewModel.browseClusterEnabled,Promise.resolve();if(r.viewModel.browseClusterEnabled=!1,a===qB.id){r.close();const{selectedFeature:o}=r;if(!o)return Promise.reject(new N(`trigger-action:${qB.id}`,"selectedFeature is required",{selectedFeature:o}));const{sourceLayer:l}=o;return l?l.remove(o):i.graphics.remove(o),Promise.resolve()}return Promise.resolve()};function rae(e){const{selectedFeature:t,location:i,view:n}=e;return n?n.type==="3d"?t??i??null:e.get("selectedFeature.geometry")||i:null}function pf(e){var t,i;return!!e&&e.isAggregate&&((i=(t=e.sourceLayer)==null?void 0:t.featureReduction)==null?void 0:i.type)==="cluster"}async function Mze(e,t){if((t==null?void 0:t.type)!=="3d"||!e||e.declaredClass!=="esri.Graphic")return!0;const i=t.getViewForGraphic(e);if(i&&"whenGraphicBounds"in i){let n;try{n=await i.whenGraphicBounds(e,{useViewElevation:!0})}catch{}return!n||!n.boundingBox||n.boundingBox[0]===n.boundingBox[3]&&n.boundingBox[1]===n.boundingBox[4]&&n.boundingBox[2]===n.boundingBox[5]}return!0}async function Dze(e){var h;const{location:t,selectedFeature:i,view:n,zoomFactor:r}=e,s=rae(e);if(!n||!s){const p=new N("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:s,view:n});throw MI.error(p),p}const a=n.scale/r,o=(h=e.selectedFeature)==null?void 0:h.geometry,l=o??t,c=$(l)&&l.type==="point"&&await Mze(i,n);Lf.active=!0,Lf.disabled=!0;try{await e.zoomTo({target:{target:s,scale:c?a:void 0}})}catch{const m=new N("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:i});MI.error(m)}finally{Lf.active=!1,Lf.disabled=!1,e.zoomToLocation=null,c&&(e.location=l)}}async function Oze(e){const{selectedFeature:t,view:i}=e;if((i==null?void 0:i.type)!=="2d"){const a=new N("zoomToCluster:invalid-view","View must be 2d MapView.",{view:i});throw MI.error(a),a}if(!t||!pf(t)){const a=new N("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:t});throw MI.error(a),a}const[n,r]=await iz(i,t);vy.active=!0,vy.disabled=!0;const{extent:s}=await n.queryExtent(r);await e.zoomTo({target:s}),vy.active=!1,vy.disabled=!1}async function Rze(e){const{view:t,selectedFeature:i}=e;if(!t||!i)return;const[n,r]=await iz(t,i),{extent:s}=await n.queryExtent(r);e.selectedClusterBoundaryFeature.geometry=s,t.graphics.add(e.selectedClusterBoundaryFeature)}async function Pze(e){var a;const{selectedFeature:t,view:i}=e;if(!i||!t)return;const[n,r]=await iz(i,t);by.active=!0,by.disabled=!0;const{features:s}=await n.queryFeatures(r);by.active=!1,by.disabled=!1,(a=i.popup)==null||a.open({features:[t].concat(s),featureMenuOpen:!0})}async function iz(e,t){const i=await e.whenLayerView(t.sourceLayer),n=i.createQuery(),r=t.getObjectId();return n.aggregateIds=r!=null?[r]:[],[i,n]}function Lze(e){const t=e.features.filter(i=>pf(i));t.length&&(e.features=t)}function sae(e){var t;if(j(e))return null;switch(e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":case"polyline":return(t=e.extent)==null?void 0:t.center;default:return null}}const Ee="esri-popup",Qv=`${Ee}__header`,cp=`${Ee}--is-docked`,K={calciteThemeLight:"calcite-mode-light",calciteThemeDark:"calcite-mode-dark",iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow",iconDockToTop:"esri-icon-maximize",iconDockToBottom:"esri-icon-dock-bottom",iconDockToLeft:"esri-icon-dock-left",iconDockToRight:"esri-icon-dock-right",iconClose:"esri-icon-close",iconUndock:"esri-icon-minimize",iconCheckMark:"esri-icon-check-mark",iconLoading:"esri-icon-loading-indicator",iconDefaultAction:"esri-icon-default-action",iconActionsMenu:"esri-icon-handle-horizontal",rotating:"esri-rotating",base:Ee,widget:"esri-widget",main:`${Ee}__main-container`,loadingContainer:`${Ee}__loading-container`,isCollapsible:`${Ee}--is-collapsible`,isCollapsed:`${Ee}--is-collapsed`,shadow:`${Ee}--shadow`,isDocked:cp,isDockedTopLeft:`${cp}-top-left`,isDockedTopCenter:`${cp}-top-center`,isDockedTopRight:`${cp}-top-right`,isDockedBottomLeft:`${cp}-bottom-left`,isDockedBottomCenter:`${cp}-bottom-center`,isDockedBottomRight:`${cp}-bottom-right`,alignTopCenter:`${Ee}--aligned-top-center`,alignBottomCenter:`${Ee}--aligned-bottom-center`,alignTopLeft:`${Ee}--aligned-top-left`,alignBottomLeft:`${Ee}--aligned-bottom-left`,alignTopRight:`${Ee}--aligned-top-right`,alignBottomRight:`${Ee}--aligned-bottom-right`,isFeatureMenuOpen:`${Ee}--feature-menu-open`,isActionsMenuOpen:`${Ee}--actions-menu-open`,hasFeatureUpdated:`${Ee}--feature-updated`,header:Qv,headerButtons:`${Qv}-buttons`,headerContainer:`${Qv}-container`,headerContainerButton:`${Qv}-container--button`,headerTitle:`${Qv}-title`,content:`${Ee}__content`,contentHasFlows:"esri-content--has-flows",contentFlowItem:"esri-content__flow-item",footer:`${Ee}__footer`,footerHasPagination:`${Ee}__footer--has-pagination`,footerHasActions:`${Ee}__footer--has-actions`,footerHasActionsMenu:`${Ee}__footer--has-actions-menu`,button:`${Ee}__button`,buttonDisabled:`${Ee}__button--disabled`,buttonDock:`${Ee}__button--dock`,icon:`${Ee}__icon`,iconDock:`${Ee}__icon--dock-icon`,inlineActionsContainer:`${Ee}__inline-actions-container`,actionsMenuButton:`${Ee}__actions-menu-button`,actions:`${Ee}__actions`,action:`${Ee}__action`,actionImage:`${Ee}__action-image`,actionText:`${Ee}__action-text`,actionToggle:`${Ee}__action-toggle`,actionToggleOn:`${Ee}__action-toggle--on`,actionExit:`${Ee}__action--exit`,actionSelectFeature:`${Ee}__action--select-feature`,pointer:`${Ee}__pointer`,pointerDirection:`${Ee}__pointer-direction`,navigation:`${Ee}__navigation`,paginationPrevious:`${Ee}__pagination-previous`,paginationNext:`${Ee}__pagination-next`,paginationPreviousIconLTR:`${Ee}__pagination-previous-icon`,paginationPreviousIconRTL:`${Ee}__pagination-previous-icon--rtl`,paginationNextIconLTR:`${Ee}__pagination-next-icon`,paginationNextIconRTL:`${Ee}__pagination-next-icon--rtl`,featureMenu:`${Ee}__feature-menu`,featureMenuList:`${Ee}__feature-menu-list`,featureMenuItem:`${Ee}__feature-menu-item`,featureMenuViewport:`${Ee}__feature-menu-viewport`,featureMenuHeader:`${Ee}__feature-menu-header`,featureMenuNote:`${Ee}__feature-menu-note`,featureMenuSelected:`${Ee}__feature-menu-item--selected`,featureMenuButton:`${Ee}__feature-menu-button`,featureMenuTitle:`${Ee}__feature-menu-title`,featureMenuObserver:`${Ee}__feature-menu-observer`,featureMenuLoader:`${Ee}__feature-menu-loader`,collapseButton:`${Ee}__collapse-button`,collapseIcon:`${Ee}__collapse-icon`},Fze="OBJECTID";var xm;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(xm||(xm={}));function Nze(e){return"r"in e&&"g"in e&&"b"in e}function aae(e){return"h"in e&&"s"in e&&"v"in e}function oae(e){return"l"in e&&"a"in e&&"b"in e}function lae(e){return"l"in e&&"c"in e&&"h"in e}function zze(e){return"x"in e&&"y"in e&&"z"in e}const Vze=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],jze=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function cae(e,t){const i=[];let n,r;if(e[0].length!==t.length)throw new Error("dimensions do not match");const s=e.length,a=e[0].length;let o=0;for(n=0;n<s;n++){for(o=0,r=0;r<a;r++)o+=e[n][r]*t[r];i.push(o)}return i}function uae(e){const t=[e.r/255,e.g/255,e.b/255].map(n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4),i=cae(Vze,t);return{x:100*i[0],y:100*i[1],z:100*i[2]}}function nz(e){const t=cae(jze,[e.x/100,e.y/100,e.z/100]).map(i=>{const n=i<=.0031308?12.92*i:1.055*i**.4166666666666667-.055;return Math.min(1,Math.max(n,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function dae(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(i=>i>.008856451679035631?i**.3333333333333333:7.787037037037035*i+.13793103448275862);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function hae(e){const t=e.l,i=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(n=>n>6/29?n**3:3*(6/29)**2*(n-4/29));return{x:95.047*i[0],y:100*i[1],z:108.883*i[2]}}function Uze(e){const t=e.l,i=e.a,n=e.b,r=Math.sqrt(i*i+n*n);let s=Math.atan2(n,i);return s=s>0?s:s+2*Math.PI,{l:t,c:r,h:s}}function Bze(e){const t=e.l,i=e.c,n=e.h;return{l:t,a:i*Math.cos(n),b:i*Math.sin(n)}}function Hze(e){return dae(uae(e))}function Gze(e){return nz(hae(e))}function qze(e){return Uze(dae(uae(e)))}function Wze(e){return nz(hae(Bze(e)))}function Kze(e){const t=e.r,i=e.g,n=e.b,r=Math.max(t,i,n),s=r-Math.min(t,i,n);let a=r,o=s===0?0:r===t?(i-n)/s%6:r===i?(n-t)/s+2:(t-i)/s+4,l=s===0?0:s/a;return o<0&&(o+=6),o*=60,l*=100,a*=100/255,{h:o,s:l,v:a}}function Yze(e){const t=(e.h+360)%360/60,i=e.s/100,n=e.v/100*255,r=n*i,s=r*(1-Math.abs(t%2-1));let a;switch(Math.floor(t)){case 0:a={r,g:s,b:0};break;case 1:a={r:s,g:r,b:0};break;case 2:a={r:0,g:r,b:s};break;case 3:a={r:0,g:s,b:r};break;case 4:a={r:s,g:0,b:r};break;case 5:case 6:a={r,g:0,b:s};break;default:a={r:0,g:0,b:0}}return a.r=Math.round(a.r+n-r),a.g=Math.round(a.g+n-r),a.b=Math.round(a.b+n-r),a}function i_(e){return Nze(e)?e:lae(e)?Wze(e):oae(e)?Gze(e):zze(e)?nz(e):aae(e)?Yze(e):e}function FYe(e){return aae(e)?e:Kze(i_(e))}function WB(e){return oae(e)?e:Hze(i_(e))}function KB(e){return lae(e)?e:qze(i_(e))}function pae(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function Jze(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Zze(e,t,i,n,r,s){const a=new Float32Array(6);return a[0]=e,a[1]=t,a[2]=i,a[3]=n,a[4]=r,a[5]=s,a}function Qze(e,t){return new Float32Array(e,t,6)}function fae(e,t,i,n){const r=t[n],s=t[n+1];e[n]=i[0]*r+i[2]*s+i[4],e[n+1]=i[1]*r+i[3]*s+i[5]}function Xze(e,t,i,n=0,r=0,s=2){const a=r||t.length/s;for(let o=n;o<a;o++)fae(e,t,i,o*s)}Object.freeze(Object.defineProperty({__proto__:null,clone:Jze,create:pae,createView:Qze,fromValues:Zze,transform:fae,transformMany:Xze},Symbol.toStringTag,{value:"Module"}));function e6e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function t6e(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function i6e(e,t,i,n,r,s,a){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=s,e[5]=a,e}function rz(e,t){const i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5];let l=i*s-n*r;return l?(l=1/l,e[0]=s*l,e[1]=-n*l,e[2]=-r*l,e[3]=i*l,e[4]=(r*o-s*a)*l,e[5]=(n*a-i*o)*l,e):null}function n6e(e){return e[0]*e[3]-e[1]*e[2]}function mae(e,t,i){const n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=i[0],h=i[1],p=i[2],m=i[3],g=i[4],y=i[5];return e[0]=n*c+s*h,e[1]=r*c+a*h,e[2]=n*p+s*m,e[3]=r*p+a*m,e[4]=n*g+s*y+o,e[5]=r*g+a*y+l,e}function ET(e,t,i){const n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=Math.sin(i),h=Math.cos(i);return e[0]=n*h+s*c,e[1]=r*h+a*c,e[2]=n*-c+s*h,e[3]=r*-c+a*h,e[4]=o,e[5]=l,e}function sz(e,t,i){const n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=i[0],h=i[1];return e[0]=n*c,e[1]=r*c,e[2]=s*h,e[3]=a*h,e[4]=o,e[5]=l,e}function n_(e,t,i){const n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=i[0],h=i[1];return e[0]=n,e[1]=r,e[2]=s,e[3]=a,e[4]=n*c+s*h+o,e[5]=r*c+a*h+l,e}function gae(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=-i,e[3]=n,e[4]=0,e[5]=0,e}function yae(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function az(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function r6e(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function s6e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function a6e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e}function vae(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}function o6e(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e}function l6e(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e}function c6e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function u6e(e,t){const i=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=t[0],c=t[1],h=t[2],p=t[3],m=t[4],g=t[5],y=ao();return Math.abs(i-l)<=y*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(n-c)<=y*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-h)<=y*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(s-p)<=y*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(a-m)<=y*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-g)<=y*Math.max(1,Math.abs(o),Math.abs(g))}const d6e=mae,h6e=vae;Object.freeze(Object.defineProperty({__proto__:null,add:a6e,copy:e6e,determinant:n6e,equals:u6e,exactEquals:c6e,frob:s6e,fromRotation:gae,fromScaling:yae,fromTranslation:az,identity:t6e,invert:rz,mul:d6e,multiply:mae,multiplyScalar:o6e,multiplyScalarAndAdd:l6e,rotate:ET,scale:sz,set:i6e,str:r6e,sub:h6e,subtract:vae,translate:n_},Symbol.toStringTag,{value:"Module"}));const YB=G("android");G("chrome")||YB&&YB>=4;g5();xm.size;xm.maxSize;xm.maxOutlineSize;xm.lineWidth;xm.tallSymbolWidth;function bae(e){return e&&"opacity"in e?e.opacity*bae(e.parent):1}async function p6e(e,t){if(!e)return;const i=e.sourceLayer,n=($(t)&&t.useSourceLayer?i:e.layer)??i,r=bae(n);if($(e.symbol)&&(!$(t)||t.ignoreGraphicSymbol!==!0)){const w=e.symbol.type==="web-style"?await pOe(e.symbol,{...t,cache:$(t)?t.webStyleCache:null}):e.symbol.clone();return AA(w,null,r),w}const s=($(t)?t.renderer:null)??(n&&"renderer"in n?n.renderer:null);let a=s&&"getSymbolAsync"in s?await s.getSymbolAsync(e,t):null;if(!a)return;if(a=a.type==="web-style"?await a.fetchSymbol({...t,cache:$(t)?t.webStyleCache:null}):a.clone(),!(s&&"visualVariables"in s&&s.visualVariables&&s.visualVariables.length))return AA(a,null,r),a;if("arcadeRequiredForVisualVariables"in s&&s.arcadeRequiredForVisualVariables&&(j(t)||j(t.arcade))){const w={...t};w.arcade=await wu(),t=w}const o=await H(()=>Promise.resolve().then(()=>C4),void 0),l=[],c=[],h=[],p=[];for(const w of s.visualVariables)switch(w.type){case"color":l.push(w);break;case"opacity":c.push(w);break;case"rotation":p.push(w);break;case"size":w.target||h.push(w)}const m=!!l.length&&l[l.length-1],g=m?o.getColor(m,e,t):null,y=!!c.length&&c[c.length-1];let b=y?o.getOpacity(y,e,t):null;if(r!=null&&(b=b!=null?b*r:r),AA(a,g,b),h.length){const w=o.getAllSizes(h,e,t);await dOe(a,w)}for(const w of p)hOe(a,o.getRotationAngle(w,e,t),w.axis);return a}let f6e=class{constructor(t,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const n in t){const r=t[n],s=new uQ(r,void 0,void 0,2,2);this._properties[n]={pool:s,acquired:[]}}this._afterDispatchHandle=tSe(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const i=this._properties[t];for(const n of i.acquired)cj(n)||i.pool.release(n);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(t){const i=this._owner._get(t),n=this._properties[t];let r=n.pool.acquire();for(n.acquired.push(r);r===i;)n.acquired.push(r),r=n.pool.acquire();return r}_release(){for(const t in this._properties){const i=this._properties[t];let n=0;for(const r of i.acquired)cj(r)?i.acquired[n++]=r:i.pool.release(r);i.acquired.length=n}}};const m6e=G("mac")?"Meta":"Ctrl",kT={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let e=48;e<58;e++)kT[e]=String.fromCharCode(e);for(let e=1;e<25;e++)kT[111+e]=`F${e}`;for(let e=65;e<91;e++)kT[e]=[String.fromCharCode(e+32),String.fromCharCode(e)];function g6e(e){if(e.key!==void 0)return of(e);const t=kT[e.keyCode];return Array.isArray(t)?e.shiftKey?t[1]:t[0]:t}function y6e(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}let v6e=class{constructor(t,i=[]){this.eventType=t,this.keyModifiers=i}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=t.modifiers;for(const n of this.keyModifiers)if(!i.has(n))return!1;return!0}};const JB=Y.getLogger("esri.views.input.InputHandler");let _n=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const i=this._incoming[t];for(const n of i)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager?JB.error("This InputHandler has already been registered with an InputManager"):(t.setEventCallback(i=>this._handleEvent(i)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,i,n){let r;typeof i=="function"?(n=i,r=[]):r=i||[];const s=typeof t=="string"?new v6e(t,r):t,a=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},o=h=>{const p=this._incoming[h.match.eventType];if(p){const m=p.indexOf(h);p.splice(m,1),a(),this._manager&&this._manager.updateDependencies()}},l=new b6e(s,n,{onPause:o,onRemove:o,onResume:h=>{const p=this._incoming[h.match.eventType];p&&!p.includes(h)&&(p.push(h),a(),this._manager&&this._manager.updateDependencies())}});let c=this._incoming[s.eventType];return c||(c=[],this._incoming[s.eventType]=c),c.push(l),a(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const i=new w6e(t,{onEmit:(n,r,s,a)=>{var o;(o=this._manager)==null||o.emit(n.eventType,r,s,a)},onRemove:n=>{var r;delete this._outgoing[n.eventType],(r=this._manager)==null||r.updateDependencies()}});return this._outgoing[t]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!0)}stopCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):JB.error("This InputHandler is not registered with an InputManager")}_handleEvent(t){var n;const i=this._incoming[t.type];if(i){for(const r of i)if(r.match.matches(t)&&((n=r.callback)==null||n.call(r,t),t.shouldStopPropagation()))break}}},b6e=class{constructor(t,i,n){this.match=t,this._callback=i,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},w6e=class{constructor(t,i){this.eventType=t,this._removed=!1,this._handler=i}emit(t,i,n){this._removed||this._handler.onEmit(this,t,i,n)}remove(){this._removed=!0,this._handler.onRemove(this)}},_6e=class extends _n{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",i=>{this._update(i.data)})}_update(t){const i=t.native.pointerType==="touch"?"touch":"mouse",{x:n,y:r}=t;i===this._value&&this._x===n&&this._y===r||(this._value=i,this._x=n,this._y=r,this._onChange(i,n,r))}},DI=class{constructor(t){this._observable=new iN,this._value=t}get(){return ze(this._observable),this._value}set(t){t!==this._value&&(this._value=t,this._observable.notify())}},x6e=class extends _n{get multiTouchActive(){return this._multiTouchActive.get()}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=new DI(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.set(this._activeTouchPointerIds.size>1)}},kl=class extends ve{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=m6e,this._latestPointerType="mouse",this._propertiesPool=new f6e({latestPointerLocation:k6e},this),this.latestPointerLocation=null,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const i of t)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}installHandlers(t,i,n=xh.INTERNAL){if(this._nameToGroup[t])return void Y.getLogger(this.declaredClass).error("There is already an InputHandler group registered under the name `"+t+"`");if(i.length===0)return void Y.getLogger(this.declaredClass).error("Can't register a group of zero handlers");const r={name:t,handlers:i.map(s=>({handler:s,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=r;for(let s=r.handlers.length-1;s>=0;s--){const a=r.handlers[s];this._handlers.push(a),a.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(o,l,c,h,p)=>{this._emitInputEvent(a.priorityIndex+1,o,l,c,p,h)},setPointerCapture:(o,l)=>{this._setPointerCapture(r,a,o,l)},setEventCallback:o=>{a.eventCallback=o},setUninstallCallback:o=>{a.uninstallCallback=o},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const i=this._nameToGroup[t];i?(i.handlers.forEach(n=>{var r;n.removed=!0,(r=n.uninstallCallback)==null||r.call(n)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):Y.getLogger(this.declaredClass).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,i=new Set;this._handlersPriority=[];for(let n=this._handlers.length-1;n>=0;n--){const r=this._handlers[n];r.priorityIndex=n,this._handlersPriority.push(r)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let n=this._handlersPriority.length-1;n>=0;n--){const r=this._handlersPriority[n];r.priorityIndex=n;let s=r.handler.hasSideEffects;if(!s){for(const a of r.handler.outgoingEventTypes)if(t.has(a)){s=!0;break}}if(s)for(const a of r.handler.incomingEventMatches){t.add(a.eventType);for(const o of a.keyModifiers)y6e(o)||i.add(o)}r.active=s}this._sourceEvents=t,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,i,n){this._latestPointerType=t;const r=this._get("latestPointerLocation");if(j(r)||r.x!==i||r.y!==n){const s=this._propertiesPool.get("latestPointerLocation");s.x=i,s.y=n,this._set("latestPointerLocation",s)}}_onEventReceived(t,i){if(t==="pointer-capture-lost"){const s=i;this._pointerCaptures.delete(s.native.pointerId)}this._updateKeyModifiers(t,i);const n=this.test.timestamp!=null?this.test.timestamp:i.native?i.native.timestamp:void 0,r=i.native?i.native.cancelable:void 0;this._emitInputEventFromSource(t,i,n,r)}_updateKeyModifiers(t,i){if(!i)return;let n=!1;const r=()=>{if(!n){const o=new Set;this._activeKeyModifiers.forEach(l=>{o.add(l)}),this._activeKeyModifiers=o,n=!0}},s=(o,l)=>{l&&!this._activeKeyModifiers.has(o)?(r(),this._activeKeyModifiers.add(o)):!l&&this._activeKeyModifiers.has(o)&&(r(),this._activeKeyModifiers.delete(o))};if(t==="key-down"||t==="key-up"){const o=i.key;this._keyModifiers.has(o)&&s(o,t==="key-down")}const a=i.native;s("Alt",!(!a||!a.altKey)),s("Ctrl",!(!a||!a.ctrlKey)),s("Shift",!(!a||!a.shiftKey)),s("Meta",!(!a||!a.metaKey)),s("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new _6e((t,i,n)=>this._setLatestPointer(t,i,n)),this._multiTouchHandler=new x6e,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],xh.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,xh.INTERNAL)}_setPointerCapture(t,i,n,r){const s=t.name+"-"+i.priorityIndex,a=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,a),r?(a.add(s),a.size===1&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):a.has(s)&&(a.delete(s),a.size===0&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,i,n,r){this._emitInputEvent(0,t,i,n,r)}_emitInputEvent(t,i,n,r,s,a){const o=r!==void 0?r:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),l=s!==void 0&&s,c={event:new S6e(i,n,o,a||this._activeKeyModifiers,l),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(c):this._doNewPropagation(c)}_doNewPropagation(t){this._currentPropagation={events:new lI,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var i,n;const t=Ns(this._currentPropagation);for(;t.events.length>0;){const{event:r,priorityIndex:s}=t.events.pop(),a=r.data&&r.data.eventId;if(!(a!=null&&this._stoppedPropagationEventIds.has(a)))for(t.currentHandler=this._handlersPriority[s];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!r.shouldStopPropagation()&&((n=(i=t.currentHandler).eventCallback)==null||n.call(i,r)),r.shouldStopPropagation()){a!=null&&this._stoppedPropagationEventIds.add(a);break}if(r.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:r,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}_pausePropagation(t){const i=new lI;i.push(t);const n=this._currentPropagation;if(n){for(;n.events.length;)i.push(n.events.pop());n.events=i,n.currentHandler=null}}_compareHandlerPriority(t,i){if(t.handler.hasSideEffects!==i.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==i.groupPriority)return t.groupPriority>i.groupPriority?-1:1;for(const n of t.handler.incomingEventMatches)for(const r of i.handler.incomingEventMatches){if(n.eventType!==r.eventType)continue;const s=n.keyModifiers.filter(a=>r.keyModifiers.includes(a));if(s.length===n.keyModifiers.length!=(s.length===r.keyModifiers.length))return n.keyModifiers.length>r.keyModifiers.length?-1:1}return t.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(t){const i=[];for(const n of t){let r=0;for(;r<i.length&&this._compareHandlerPriority(n,i[r])>=0;)r++;i.splice(r,0,n)}return i}get debug(){const t=i=>{const n=this._setPointerCapture;this._setPointerCapture=()=>{},i(),this._setPointerCapture=n};return{injectEvent:(i,n)=>{t(()=>{this._onEventReceived(i,n)})},disablePointerCapture:t}}};u([d({readOnly:!0})],kl.prototype,"hasPendingInputs",null),u([d({constructOnly:!0})],kl.prototype,"eventSource",void 0),u([d({constructOnly:!0})],kl.prototype,"recognizers",void 0),u([d()],kl.prototype,"_latestPointerType",void 0),u([d()],kl.prototype,"latestPointerType",null),u([d()],kl.prototype,"multiTouchActive",null),u([d({readOnly:!0})],kl.prototype,"latestPointerLocation",void 0),kl=u([I("esri.views.input.InputManager")],kl);let S6e=class{constructor(t,i,n,r,s){this.type=t,this.data=i,this.timestamp=n,this.modifiers=r,this.cancelable=s,this._propagationState=Bd.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Bd.STOPPED}shouldStopPropagation(){return(this._propagationState&Bd.STOPPED)!=0}async(t){this._propagationState|=Bd.PAUSED;const i=(n,r)=>{this._propagationState&=~Bd.PAUSED;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),r)throw n;return n};return(typeof t=="function"?t():t).then(n=>i(n,!1),n=>i(n,!0))}shouldPausePropagation(t){return!!(this._propagationState&Bd.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var Bd;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Bd||(Bd={}));const xh={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let E6e=class{};const k6e=E6e;function ZB(e){return e&&typeof e.highlight=="function"}const wae=e=>{let t=class extends e{constructor(...i){super(...i),this.goToOverride=null,this.view=null}callGoTo(i){const{view:n}=this;return MF(n),this.goToOverride?this.goToOverride(n,i):n.goTo(i.target,i.options)}};return u([d()],t.prototype,"goToOverride",void 0),u([d()],t.prototype,"view",void 0),t=u([I("esri.widgets.support.GoTo")],t),t},iw=Ie.ofType({key:"type",defaultKeyValue:"button",base:BC,typeMap:{button:H0,toggle:LX}}),I6e=()=>[Lf.clone()],C6e=()=>[vy.clone(),by.clone()];let st=class extends wae(iae){get isLoadingFeature(){return this.featureViewModels.some(t=>t.waitingForContent)}constructor(t){super(t),this._handles=new vs,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._highlightSelectedFeaturePromise=null,this._highlightActiveFeaturePromise=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new iw,this.activeFeature=null,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new yr({symbol:new Wh({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}initialize(){this._handles.add([X(()=>[this.autoOpenEnabled,this.view],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),X(()=>[this.highlightEnabled,this.selectedFeature,this.visible,this.view],()=>this._highlightSelectedFeature()),X(()=>[this.highlightEnabled,this.activeFeature,this.visible,this.view],()=>this._highlightActiveFeature()),X(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.animation)==null?void 0:i.state},t=>this._animationStateChange(t)),X(()=>this.location,t=>this._locationChange(t)),X(()=>this.selectedFeature,t=>this._selectedFeatureChange(t)),X(()=>[this.selectedFeatureIndex,this.featureCount,this.featuresPerPage],()=>this._selectedFeatureIndexChange()),X(()=>[this.featurePage,this.selectedFeatureIndex,this.featureCount,this.featuresPerPage,this.featureViewModels],()=>this._setGraphicOnFeatureViewModels()),X(()=>this.featureViewModels,()=>this._featureViewModelsChange()),this.on("trigger-action",t=>Aze({event:t,view:this.view})),io(()=>!this.waitingForResult,()=>this._waitingForResultChange(),x0),X(()=>{var t,i;return[this.features,(t=this.view)==null?void 0:t.map,(i=this.view)==null?void 0:i.spatialReference]},()=>this._updateFeatureVMs()),X(()=>{var t;return(t=this.view)==null?void 0:t.scale},()=>this._viewScaleChange()),io(()=>!this.visible,()=>this.browseClusterEnabled=!1),X(()=>this.browseClusterEnabled,t=>t?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const t=this._get("allActions")||new iw;t.removeAll();const{actions:i,defaultActions:n,defaultPopupTemplateEnabled:r,includeDefaultActions:s,selectedFeature:a}=this,o=s?n.concat(i):i,l=a&&(typeof a.getEffectivePopupTemplate=="function"&&a.getEffectivePopupTemplate(r)||a.popupTemplate),c=l&&l.actions,h=l&&l.overwriteActions?c:c?c.concat(o):o;return h&&h.filter(Boolean).forEach(p=>t.add(p)),t}get defaultActions(){const t=this._get("defaultActions")||new iw;return t.removeAll(),t.addMany(pf(this.selectedFeature)?C6e():I6e()),t}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(t){const i=t||[];this._set("features",i);const{pendingPromisesCount:n,promiseCount:r,selectedFeatureIndex:s}=this,a=r&&i.length;a&&n&&s===-1?this.selectedFeatureIndex=0:a&&s!==-1||(this.selectedFeatureIndex=i.length?0:-1)}get location(){return this._get("location")||null}set location(t){var r,s,a;let i=t;const n=(s=(r=this.view)==null?void 0:r.spatialReference)==null?void 0:s.isWebMercator;t&&((a=t==null?void 0:t.spatialReference)!=null&&a.isWGS84)&&n&&(i=bh(t)),this._set("location",i)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||this.featureCount!==0)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(t){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(t)||!t.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",t),(t=t.slice(0)).forEach(i=>{this._pendingPromises.add(i);const n=s=>{this._pendingPromises.has(i)&&this._updateFeatures(s),this._updatePendingPromises(i)},r=()=>this._updatePendingPromises(i);i.then(n,r)}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:t,selectedFeatureIndex:i}=this;return i===-1?null:t[i]||null}get selectedFeatureIndex(){const t=this._get("selectedFeatureIndex");return typeof t=="number"?t:-1}set selectedFeatureIndex(t){const{featureCount:i}=this;t=isNaN(t)||t<-1||!i?-1:(t+i)%i,this.activeFeature=null,this._set("selectedFeatureIndex",t)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:t}=this,i=rae(this);return i&&t?this.callGoTo({target:{target:i,scale:t.scale}}):Promise.reject(new N("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:i,view:t}))}zoomTo(t){return this.callGoTo(t)}clear(){this.set({promises:[],features:[],content:null,title:null,location:null,activeFeature:null})}fetchFeatures(t,i){const{view:n}=this;if(!n||!t)throw new N("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:t,view:n});return n.fetchPopupFeatures(t,{event:i&&i.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:i&&i.signal})}open(t){const i={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...t,visible:!0},{fetchFeatures:n}=i;delete i.fetchFeatures,n&&this._setFetchFeaturesPromises(i.location);const r=["actionsMenuOpen","collapsed","featureMenuOpen"];for(const s of r)delete i[s];this.set(i)}triggerAction(t){const i=this.allActions.getItemAt(t);i&&!i.disabled&&this.emit("trigger-action",{action:i})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){Lze(this),this._clearBrowsedClusterGraphics()}async enableClusterBrowsing(){const{view:t,selectedFeature:i}=this;(t==null?void 0:t.type)==="2d"?pf(i)?(await Rze(this),await Pze(this)):Y.getLogger(this.declaredClass).warn("enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.",i):Y.getLogger(this.declaredClass).warn("enableClusterBrowsing:invalid-view: View must be 2d MapView.",i)}_animationStateChange(t){this.zoomToLocation||(Lf.disabled=t==="waiting-for-target")}_clearBrowsedClusterGraphics(){var i;const t=(i=this.view)==null?void 0:i.graphics;t&&(t.remove(this.selectedClusterBoundaryFeature),this._selectedClusterFeature&&t.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){if(pf(this.selectedFeature))return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.features=this.selectedFeature?[this.selectedFeature]:[])}_locationChange(t){const{selectedFeature:i,updateLocationEnabled:n}=this;n&&t&&(!i||i.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:t,featureCount:i,featurePage:n,featuresPerPage:r,featureViewModels:s}=this;if(n===null)return;const a=((n-1)*r+i)%i,o=a+r;s.slice(a,o).forEach((l,c)=>{l&&!l.graphic&&(l.graphic=t[a+c])})}async _selectedFeatureChange(t){const{location:i,updateLocationEnabled:n,view:r}=this;if(t&&r){if(this.browseClusterEnabled)return this._selectedClusterFeature&&(r.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),pf(t)?void 0:(t.symbol=await p6e(t),this._selectedClusterFeature=t,void r.graphics.add(this._selectedClusterFeature));!n&&i||!t.geometry?n&&!t.geometry&&this.centerAtLocation().then(()=>{var a;const s=(a=r.center)==null?void 0:a.clone();s&&(this.location=s)}):this.location=sae(t.geometry)}}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(t){return this._fetchFeaturesWithController(this._getScreenPoint(t||this.location)).then(i=>{const{clientOnlyGraphics:n,promisesPerLayerView:r}=i,s=Promise.resolve(n),a=r.map(o=>o.promise);this.promises=[s,...a]})}_destroyFeatureVMs(){this.featureViewModels.forEach(t=>t&&!t.destroyed&&t.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:t,features:i,featureViewModels:n}=this;if(pf(t)||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!i||!i.length)return;const r=n.slice(0),s=[];i.forEach((a,o)=>{var c,h;if(!a)return;let l=null;if(r.some((p,m)=>(p&&p.graphic===a&&(l=p,r.splice(m,1)),!!l)),l)s[o]=l;else{const p=new tz({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:(c=this.view)==null?void 0:c.spatialReference,graphic:a===t?a:null,map:(h=this.view)==null?void 0:h.map,view:this.view});s[o]=p}}),r.forEach(a=>a&&!a.destroyed&&a.destroy()),this._set("featureViewModels",s)}_getScreenPoint(t){const{view:i}=this;return i&&t&&typeof i.toScreen=="function"?i.toScreen(t):null}_autoOpenEnabledChange(){const t="auto-fetch-features",{_handles:i,autoOpenEnabled:n}=this;if(i.remove(t),n&&this.view){const r=this.view.on("click",s=>{s.pointerType==="mouse"&&s.button!==0||this._fetchFeaturesAndOpen(s)},xh.WIDGET);i.add(r,t)}}_cancelFetchingFeatures(){const t=this._fetchFeaturesController;t&&t.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(t,i){this._cancelFetchingFeatures();const n=new AbortController,{signal:r}=n;this._fetchFeaturesController=n,this.notifyChange("waitingForResult");const s=this.fetchFeatures(t,{signal:r,event:i});return s.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),s}_fetchFeaturesAndOpen(t){const{screenPoint:i,mapPoint:n}=t,{view:r}=this;this._fetchFeaturesWithController(i,t).then(s=>{var h;const{clientOnlyGraphics:a,promisesPerLayerView:o,location:l}=s,c=[Promise.resolve(a),...o.map(p=>p.promise)];return(h=r==null?void 0:r.popup)==null||h.open({location:l||n,promises:c}),s})}_updatePendingPromises(t){t&&this._pendingPromises.has(t)&&(this._pendingPromises.delete(t),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}async _getLayerView(t,i){return await t.when(),t.whenLayerView(i)}_getHighlightLayer(t){const{layer:i,sourceLayer:n}=t;return n&&"layer"in n&&n.layer?n.layer:(n==null?void 0:n.type)==="map-notes"||(n==null?void 0:n.type)==="subtype-group"?n:i}_getHighlightTarget(t,i){const n=i.type==="imagery"?void 0:"objectIdField"in i?i.objectIdField||Fze:null,r=t.attributes;return r&&n&&r[n]||t}async _highlightActiveFeature(){const t="highlight-active-feature";this._handles.remove(t);const{highlightEnabled:i,view:n,activeFeature:r,visible:s}=this;if(!(r&&n&&i&&s))return;const a=this._getHighlightLayer(r);if(!(a&&a instanceof C0))return;const o=this._getLayerView(n,a);this._highlightActiveFeaturePromise=o;const l=await o;if(!(l&&ZB(l)&&this._highlightActiveFeaturePromise===o&&this.activeFeature&&this.highlightEnabled))return;const c=l.highlight(this._getHighlightTarget(r,a));this._handles.add(c,t)}async _highlightSelectedFeature(){const t="highlight-selected-feature";this._handles.remove(t);const{selectedFeature:i,highlightEnabled:n,view:r,visible:s}=this;if(!(i&&r&&n&&s))return;const a=this._getHighlightLayer(i);if(!(a&&a instanceof C0))return;const o=this._getLayerView(r,a);this._highlightSelectedFeaturePromise=o;const l=await o;if(!(l&&ZB(l)&&this._highlightSelectedFeaturePromise===o&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const c=l.highlight(this._getHighlightTarget(i,a));this._handles.add(c,t)}_updateFeatures(t){const{features:i}=this;if(!t||!t.length)return;if(!i.length)return void(this.features=t);const n=t.filter(r=>!i.includes(r));this.features=i.concat(n)}};u([d()],st.prototype,"featurePage",void 0),u([d()],st.prototype,"isLoadingFeature",null),u([d({type:iw})],st.prototype,"actions",void 0),u([d({readOnly:!0})],st.prototype,"active",null),u([d()],st.prototype,"activeFeature",void 0),u([d({readOnly:!0})],st.prototype,"allActions",null),u([d({type:Boolean})],st.prototype,"defaultPopupTemplateEnabled",void 0),u([d()],st.prototype,"autoCloseEnabled",void 0),u([d()],st.prototype,"autoOpenEnabled",void 0),u([d()],st.prototype,"browseClusterEnabled",void 0),u([d()],st.prototype,"content",void 0),u([d({type:iw,readOnly:!0})],st.prototype,"defaultActions",null),u([d({readOnly:!0})],st.prototype,"featureCount",null),u([d()],st.prototype,"features",null),u([d()],st.prototype,"featuresPerPage",void 0),u([d()],st.prototype,"featureViewModelAbilities",void 0),u([d({readOnly:!0})],st.prototype,"featureViewModels",void 0),u([d()],st.prototype,"highlightEnabled",void 0),u([d()],st.prototype,"includeDefaultActions",void 0),u([d({type:Le})],st.prototype,"location",null),u([d({readOnly:!0})],st.prototype,"pendingPromisesCount",null),u([d({readOnly:!0})],st.prototype,"selectedClusterBoundaryFeature",void 0),u([d({readOnly:!0})],st.prototype,"waitingForResult",null),u([d({readOnly:!0})],st.prototype,"promiseCount",null),u([d()],st.prototype,"promises",null),u([d({value:null,readOnly:!0})],st.prototype,"selectedFeature",null),u([d({value:-1})],st.prototype,"selectedFeatureIndex",null),u([d({readOnly:!0})],st.prototype,"selectedFeatureViewModel",null),u([d({readOnly:!0})],st.prototype,"state",null),u([d()],st.prototype,"title",void 0),u([d()],st.prototype,"updateLocationEnabled",void 0),u([d()],st.prototype,"view",void 0),u([d()],st.prototype,"visible",void 0),u([d()],st.prototype,"zoomFactor",void 0),u([d()],st.prototype,"zoomToLocation",void 0),u([d()],st.prototype,"centerAtLocation",null),st=u([I("esri.widgets.Popup.PopupViewModel")],st);const _ae=st,QB="selected-index",T6e=0,XB="popup-spinner",e7={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},t7="esri-popup";function yc(e,t){return t===void 0?`${t7}__${e}`:`${t7}__${e}-${t}`}const i7={closeButton:!0,featureNavigation:!0};let Se=class extends eae(br){constructor(t,i){super(t,i),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new vs,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverNode=null,this._featureMenuViewportNode=null,this._rootFlowItemNode=null,this._featureMenuIntersectionObserverCallback=([n])=>{n!=null&&n.isIntersecting&&this.viewModel.featurePage!=null&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=Uy(()=>this._displaySpinner(),T6e),this._exitRelatedRecordsActions=new WeakMap,this._featureSelectionActions=new WeakMap,this._flowItems=new Ie,this.alignment="auto",this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureMenuOpen=!1,this.headingLevel=2,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.spinnerEnabled=!0,this.viewModel=new _ae,this.visibleElements={...i7},this._handleOpenRelatedFeature=n=>{this._openRelatedFeature(n)},this._addSelectedFeatureIndexHandle(),this.addHandles([X(()=>{var n;return(n=this.viewModel)==null?void 0:n.screenLocation},()=>this._positionContainer()),X(()=>{var n;return[(n=this.viewModel)==null?void 0:n.active,this.dockEnabled]},()=>this._toggleScreenLocationEnabled()),X(()=>{var n;return(n=this.viewModel)==null?void 0:n.screenLocation},(n,r)=>{!!n!=!!r&&this.reposition()}),X(()=>{var n,r,s,a,o,l;return[(r=(n=this.viewModel)==null?void 0:n.view)==null?void 0:r.padding,(a=(s=this.viewModel)==null?void 0:s.view)==null?void 0:a.size,(o=this.viewModel)==null?void 0:o.active,(l=this.viewModel)==null?void 0:l.location,this.alignment]},()=>this.reposition()),X(()=>this.spinnerEnabled,n=>this._spinnerEnabledChange(n)),X(()=>{var n,r;return(r=(n=this.viewModel)==null?void 0:n.view)==null?void 0:r.size},(n,r)=>this._updateDockEnabledForViewSize(n,r)),X(()=>{var n;return(n=this.viewModel)==null?void 0:n.view},(n,r)=>this._viewChange(n,r)),X(()=>{var n,r;return(r=(n=this.viewModel)==null?void 0:n.view)==null?void 0:r.ready},(n,r)=>this._viewReadyChange(n??!1,r??!1)),X(()=>{var n,r;return[(n=this.viewModel)==null?void 0:n.waitingForResult,(r=this.viewModel)==null?void 0:r.location]},()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),X(()=>this.selectedFeatureWidget,()=>this._destroyFlowItemWidgets()),X(()=>{var n,r,s,a;return[(r=(n=this.selectedFeatureWidget)==null?void 0:n.viewModel)==null?void 0:r.title,(a=(s=this.selectedFeatureWidget)==null?void 0:s.viewModel)==null?void 0:a.state]},()=>this._setTitleFromFeatureWidget()),X(()=>{var n,r,s,a;return[(r=(n=this.selectedFeatureWidget)==null?void 0:n.viewModel)==null?void 0:r.content,(a=(s=this.selectedFeatureWidget)==null?void 0:s.viewModel)==null?void 0:a.state]},()=>this._setContentFromFeatureWidget()),io(()=>!this.collapsed,()=>{var n,r;((r=(n=this.viewModel)==null?void 0:n.view)==null?void 0:r.widthBreakpoint)==="xsmall"&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),gs(()=>{var n;return(n=this.viewModel)==null?void 0:n.allActions},"change",()=>this._watchActions()),X(()=>{var n;return(n=this.viewModel)==null?void 0:n.allActions},()=>this._watchActions(),gt),X(()=>{var n;return(n=this.viewModel)==null?void 0:n.featureViewModels},()=>this._featureMenuViewportScrollTop()),gs(()=>this._flowItems,"change",()=>{this.notifyChange("_activeFlowItemWidget"),this.scheduleRender()}),X(()=>{var n,r,s,a;return[(r=(n=this._activeFlowItemWidget)==null?void 0:n.viewModel)==null?void 0:r.state,(a=(s=this._activeFlowItemWidget)==null?void 0:s.viewModel)==null?void 0:a.title]},()=>this.scheduleRender())])}loadDependencies(){return Promise.all([H(()=>Promise.resolve().then(()=>Mve),void 0),H(()=>Promise.resolve().then(()=>Uve),void 0),H(()=>import("./calcite-action.js"),[]),H(()=>import("./calcite-tooltip.js"),[]),H(()=>import("./calcite-icon.js"),[])])}destroy(){var t,i;this._destroyFlowItemWidgets(),this._destroySelectedFeatureWidget(),this._destroySpinner(),(t=this._handles)==null||t.destroy(),this._unobserveFeatureMenuObserver(),(i=this._featureMenuIntersectionObserver)==null||i.disconnect()}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){const{selectedFeatureWidget:t,viewModel:i}=this;if(!t)return!!(i!=null&&i.content);const n=t.viewModel;if(n!=null&&n.waitingForContent||(n==null?void 0:n.state)==="error")return!0;const r=n==null?void 0:n.content;return Array.isArray(r)?!!r.length:!!r}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation!=null}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}get _activeFlowItemWidget(){const{_flowItems:t}=this;return t.getItemAt(t.length-1)||null}get actions(){return this.viewModel.actions}set actions(t){this.viewModel.actions=t}set actionsMenuOpen(t){this._set("actionsMenuOpen",!!t)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get autoCloseEnabled(){return this.viewModel.autoCloseEnabled}set autoCloseEnabled(t){this.viewModel.autoCloseEnabled=t}get autoOpenEnabled(){return this.viewModel.autoOpenEnabled}set autoOpenEnabled(t){this.viewModel.autoOpenEnabled=t}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(t){this.viewModel.defaultPopupTemplateEnabled=t}get content(){return this.viewModel.content}set content(t){this.viewModel.content=t}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||e7}set dockOptions(t){var l,c;const i={...e7},n=(c=(l=this.viewModel)==null?void 0:l.view)==null?void 0:c.breakpoints,r={};n&&(r.width=n.xsmall,r.height=n.xsmall);const s={...i,...t},a={...i.breakpoint,...r},{breakpoint:o}=s;typeof o=="object"?s.breakpoint={...a,...o}:o&&(s.breakpoint=a),this._set("dockOptions",s),this._setCurrentDockPosition(),this.reposition()}get featureCount(){return this.viewModel.featureCount}get features(){return this.viewModel.features}set features(t){this.viewModel.features=t}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get highlightEnabled(){return this.viewModel.highlightEnabled}set highlightEnabled(t){this.viewModel.highlightEnabled=t}get location(){return this.viewModel.location}set location(t){this.viewModel.location=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get promises(){return this.viewModel.promises}set promises(t){this.viewModel.promises=t}get selectedFeature(){return this.viewModel.selectedFeature}get selectedFeatureIndex(){return this.viewModel.selectedFeatureIndex}set selectedFeatureIndex(t){this.viewModel.selectedFeatureIndex=t}get selectedFeatureWidget(){const{_feature:t,visibleElements:i,headingLevel:n,_flowItems:r}=this,{selectedFeatureViewModel:s}=this.viewModel,a={...i,title:!1};return s?(t?(t.viewModel=s,t.visibleElements=a):this._feature=new Ize({flowItems:r,headingLevel:n+1,viewModel:s,visibleElements:a}),this._feature):null}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}get updateLocationEnabled(){return this.viewModel.updateLocationEnabled}set updateLocationEnabled(t){this.viewModel.updateLocationEnabled=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get visible(){return this.viewModel.visible}set visible(t){this.viewModel.visible=t}castVisibleElements(t){return{...i7,...t}}blur(){const{active:t}=this.viewModel;t||Y.getLogger(this.declaredClass).warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){return this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(t,i){return this.viewModel.fetchFeatures(t,i)}focus(){const{active:t}=this.viewModel;t||Y.getLogger(this.declaredClass).warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(t){var s,a;this._handles.remove(QB);const i=!!t&&!!t.featureMenuOpen,n=!!t&&!!t.actionsMenuOpen,r={collapsed:!!t&&!!t.collapsed,actionsMenuOpen:n,featureMenuOpen:i};((a=(s=this.viewModel)==null?void 0:s.view)==null?void 0:a.widthBreakpoint)==="xsmall"&&(r.collapsed=!0),this.set(r),this.viewModel.open(t),this._shouldFocus(t),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(t){return this.viewModel.triggerAction(t)}render(){var b,w,_,x;const{actionsMenuOpen:t,dockEnabled:i,featureMenuVisible:n,dividedActions:r,currentAlignment:s,currentDockPosition:a}=this,{active:o}=this.viewModel,{menuActions:l}=r,c=o&&l.length>1&&t,h=o&&i,p=o&&!i,m=(w=(b=this.selectedFeature)==null?void 0:b.layer)==null?void 0:w.title,g=(x=(_=this.selectedFeature)==null?void 0:_.layer)==null?void 0:x.id,y={[K.alignTopCenter]:s==="top-center",[K.alignBottomCenter]:s==="bottom-center",[K.alignTopLeft]:s==="top-left",[K.alignBottomLeft]:s==="bottom-left",[K.alignTopRight]:s==="top-right",[K.alignBottomRight]:s==="bottom-right",[K.isDocked]:h,[K.shadow]:p,[K.isDockedTopLeft]:a==="top-left",[K.isDockedTopCenter]:a==="top-center",[K.isDockedTopRight]:a==="top-right",[K.isDockedBottomLeft]:a==="bottom-left",[K.isDockedBottomCenter]:a==="bottom-center",[K.isDockedBottomRight]:a==="bottom-right",[K.isFeatureMenuOpen]:n,[K.isActionsMenuOpen]:c};return R("div",{class:this.classes(K.base,y),role:"presentation","data-layer-title":m,"data-layer-id":g,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},o?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return R("span",{"aria-hidden":"true",class:this.classes(K.icon,K.iconLoading,K.rotating)})}renderNavigationLoading(){const{messagesCommon:t}=this;return this.viewModel.pendingPromisesCount?R("div",{key:yc("loading-container"),role:"presentation",class:K.loadingContainer,"aria-label":t.loading,title:t.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const t=Ul(this.container),i={[K.iconRightTriangleArrow]:t,[K.paginationPreviousIconRTL]:t,[K.iconLeftTriangleArrow]:!t,[K.paginationPreviousIconLTR]:!t};return R("span",{"aria-hidden":"true",class:this.classes(K.icon,i)})}renderPreviousButton(){const{messages:t}=this;return R("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(K.button,K.paginationPrevious),"aria-label":t.previous,title:t.previous},this.renderPreviousIcon())}renderNextIcon(){const t=Ul(this.container),i={[K.iconLeftTriangleArrow]:t,[K.paginationNextIconRTL]:t,[K.iconRightTriangleArrow]:!t,[K.paginationNextIconLTR]:!t};return R("span",{"aria-hidden":"true",class:this.classes(K.icon,i)})}renderNextButton(){const{messages:t}=this;return R("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(K.button,K.paginationNext),"aria-label":t.next,title:t.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:t,featureMenuId:i,messagesCommon:n}=this,{featureCount:r,selectedFeatureIndex:s}=this.viewModel;return R("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(K.button,K.featureMenuButton),"aria-haspopup":"true","aria-controls":i,"aria-expanded":t.toString(),"aria-label":n.menu,title:n.menu},this._getPageText(r,s))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:[]}renderDockIcon(){const{dockEnabled:t}=this,i=this._wouldDockTo(),n={[K.iconUndock]:t,[K.iconDock]:!t,[K.iconDockToRight]:!t&&(i==="top-right"||i==="bottom-right"),[K.iconDockToLeft]:!t&&(i==="top-left"||i==="bottom-left"),[K.iconDockToTop]:!t&&i==="top-center",[K.iconDockToBottom]:!t&&i==="bottom-center"};return R("span",{"aria-hidden":"true",class:this.classes(n,K.icon)})}renderDockButton(){var s,a,o;const{dockEnabled:t,messages:i}=this,n=(a=(s=this.viewModel)==null?void 0:s.view)==null?void 0:a.widthBreakpoint,r=t?i.undock:i.dock;return n!=="xsmall"&&((o=this.dockOptions)!=null&&o.buttonEnabled)?R("div",{role:"button","aria-label":r,title:r,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(K.button,K.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:t}=this.viewModel,{titleId:i,collapsible:n,contentCollapsed:r,messagesCommon:s}=this,a={[K.headerContainerButton]:n},o=R(r4,{level:this.headingLevel,class:K.headerTitle,innerHTML:t??""}),l=n?R("button",{key:`${t}--collapsible`,id:i,title:r?s.expand:s.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(K.headerContainer,a),"aria-expanded":r?"false":"true",onclick:this._toggleCollapsed,type:"button"},o,R("calcite-icon",{class:K.collapseIcon,key:"collapse-icon",icon:r?"chevron-down":"chevron-up",scale:"m"})):R("div",{key:t??"title",id:i,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(K.headerContainer,a)},o);return t?l:null}renderCloseIcon(){return R("span",{"aria-hidden":"true",class:this.classes(K.icon,K.iconClose)})}renderCloseButton(){const{visibleElements:t,messagesCommon:i}=this;return t.closeButton?R("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:K.button,"aria-label":i.close,title:i.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return R("header",{class:K.header},this.renderTitle(),R("div",{class:K.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:t,hasContent:i,contentCollapsed:n,_flowItems:r}=this,{content:s}=this.viewModel,a=r.toArray(),o={[K.contentHasFlows]:!!a.length};return i&&!n?R("div",{key:s??"content",enterAnimation:this._createFeatureUpdatedAnimation(),id:t,class:this.classes(K.content,o)},R("calcite-flow",{bind:this},R("calcite-flow-item",{bind:this,"data-node-ref":"_rootFlowItemNode",afterCreate:mI,key:"root-flow-item",onCalciteFlowItemBack:this._handleBackClick},this.renderContent()),a.map(l=>this.renderFlowItem(l))),a.map(l=>this.renderFlowItemTooltips(l))):null}renderFlowItem(t){const{messages:i}=this,n=_I(),r="graphic"in t&&!t.isTable;return R("calcite-flow-item",{bind:this,class:this.classes({[K.calciteThemeDark]:!n,[K.calciteThemeLight]:n}),heading:t.title??"",description:this._getFlowItemDescription(t),onCalciteFlowItemBack:this._handleBackClick,key:`flow-item-${t.viewModel.uid}`},R("calcite-action",{class:K.actionExit,icon:"move-up",label:i==null?void 0:i.exitRelatedRecords,text:i==null?void 0:i.exitRelatedRecords,slot:"header-actions-start",bind:this,afterCreate:s=>this._storeExitRelatedRecordsAction(t,s),onclick:this._destroyFlowItemWidgets}),r?R("calcite-action",{class:K.actionSelectFeature,icon:"zoom-to-object",label:i==null?void 0:i.selectFeature,text:i==null?void 0:i.selectFeature,slot:"header-actions-end",bind:this,afterCreate:s=>this._storeFeatureSelectionAction(t,s),onclick:()=>this._handleOpenRelatedFeature(t)}):null,R("div",{class:this.classes(K.contentFlowItem,{[K.calciteThemeDark]:n,[K.calciteThemeLight]:!n})},t.render()))}renderFlowItemTooltips(t){const{messages:i,_exitRelatedRecordsActions:n,_featureSelectionActions:r}=this,s=_I(),a=r.get(t);return[R("calcite-tooltip",{class:this.classes({[K.calciteThemeDark]:!s,[K.calciteThemeLight]:s}),key:`exit-related-records-tooltip-${t.viewModel.uid}`,label:i==null?void 0:i.exitRelatedRecords,overlayPositioning:"fixed",referenceElement:n.get(t),placement:"top"},i==null?void 0:i.exitRelatedRecords),a?R("calcite-tooltip",{class:this.classes({[K.calciteThemeDark]:!s,[K.calciteThemeLight]:s}),key:`select-related-record-tooltip-${t.viewModel.uid}`,label:i==null?void 0:i.selectFeature,overlayPositioning:"fixed",referenceElement:a,placement:"top"},i==null?void 0:i.selectFeature):null]}renderActionsMenuButton(){const{actionsMenuId:t,actionsMenuButtonId:i,actionsMenuOpen:n,dividedActions:r,messagesCommon:s}=this,a=n?s.close:s.open,{menuActions:o}=r;return o.length?R("div",{key:yc("actions-menu-button"),class:this.classes(K.button,K.actionsMenuButton),role:"button",id:i,"aria-haspopup":"true","aria-controls":n?t:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":a,title:a},R("span",{"aria-hidden":"true",class:K.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:t,actionsMenuButtonId:i,actionsMenuOpen:n,dividedActions:r}=this,{menuActions:s}=r;return s.length&&n?R("ul",{id:t,role:"menu","aria-labelledby":i,key:yc("actions"),class:K.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},s.toArray().map(a=>this.renderAction({action:a,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:t}=this.dividedActions;return t.length?t.toArray().map(i=>this.renderAction({action:i,type:"inline"})):[]}renderInlineActionsContainer(){const{inlineActions:t,menuActions:i}=this.dividedActions,n=!!t.length,r=!!i.length;return n||r?R("div",{key:"inline-actions-container","data-inline-actions":n.toString(),"data-menu-actions":r.toString(),class:K.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?R("section",{key:yc("navigation"),class:this.classes(K.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:t,dividedActions:i}=this,{inlineActions:n,menuActions:r}=i,s=!!n.length,a=!!r.length,o={[K.footerHasPagination]:t,[K.footerHasActions]:s,[K.footerHasActionsMenu]:a};return t||s?R("div",{key:yc("feature-buttons"),class:this.classes(K.footer,o)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:t}=this,{featureViewModels:i,isLoadingFeature:n}=this.viewModel,r=Ol(t.selectedFeatures,{total:i.length});return R("section",{key:yc("menu"),class:K.featureMenu},R("strong",{class:K.featureMenuHeader},r),R("nav",{bind:this,class:K.featureMenuViewport,"data-node-ref":"_featureMenuViewportNode",afterCreate:mI},this.renderFeatureMenu(),R("div",{class:K.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),n?R("div",{class:K.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:R("div",{key:yc("pointer"),class:K.pointer,role:"presentation"},R("div",{class:this.classes(K.pointerDirection,K.shadow)}))}renderMainContainer(){const{dockEnabled:t,currentAlignment:i,currentDockPosition:n,titleId:r,contentId:s,collapsible:a,hasContent:o,contentCollapsed:l,visibleElements:c}=this,{title:h}=this.viewModel,p=i==="bottom-left"||i==="bottom-center"||i==="bottom-right"||n==="top-left"||n==="top-center"||n==="top-right",m=i==="top-left"||i==="top-center"||i==="top-right"||n==="bottom-left"||n==="bottom-center"||n==="bottom-right",g={[K.shadow]:t,[K.isCollapsible]:a,[K.isCollapsed]:l};return R("div",{class:this.classes(K.main,K.widget,g),tabIndex:c.closeButton?void 0:-1,role:"dialog","aria-labelledby":h?r:"","aria-describedby":o&&!l?s:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},p?this.renderFooter():null,p?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),m?this.renderFooter():null,m?this.renderFeatureMenuContainer():null)}renderContent(){var i;const t=(i=this.viewModel)==null?void 0:i.content;return t?typeof t=="string"?R("div",{class:fi.contentNode,key:t,innerHTML:t}):this.renderNodeContent(t):null}renderActionText(t){return R("span",{key:"text",class:K.actionText},t)}renderActionIcon(t){const i=this._getActionClass(t),n=this._getActionImage(t),r={[K.iconLoading]:t.active,[K.rotating]:t.active,[K.icon]:!!i,[K.actionImage]:!t.active&&!!n};return i&&(r[i]=!t.active),R("span",{key:"icon","aria-hidden":"true",class:this.classes(K.icon,r),styles:this._getIconStyles(n)})}renderAction(t){const{action:i,type:n}=t,r=this._getActionTitle(i),s={[K.action]:i.type!=="toggle",[K.actionToggle]:i.type==="toggle",[K.actionToggleOn]:i.type==="toggle"&&i.value,[K.buttonDisabled]:i.disabled},a=[this.renderActionIcon(i),this.renderActionText(r)],o=n==="menu-item"?R("li",{key:i.uid,role:"menuitem",tabIndex:0,title:r,"aria-label":r,class:this.classes(K.button,s),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":i.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},a):R("div",{key:i.uid,role:"button",tabIndex:0,title:r,"aria-label":r,class:this.classes(K.button,s),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":i.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},a);return i.visible?o:null}renderFeatureMenuItem(t,i){const{messages:n,messagesCommon:r}=this,{selectedFeatureIndex:s,selectedFeatureViewModel:a}=this.viewModel,o=t===a,l={[K.featureMenuSelected]:o},c=o?R("span",{key:yc(`feature-menu-selected-feature-${s}`),title:n.selectedFeature,"aria-label":n.selectedFeature,class:K.iconCheckMark}):null,h=R("span",{innerHTML:t.title||r.untitled});return R("li",{role:"menuitem",tabIndex:-1,key:yc(`feature-menu-feature-${s}`),class:this.classes(l,K.featureMenuItem),bind:this,"data-feature-index":i,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},R("span",{class:K.featureMenuTitle},h,c))}renderFeatureMenu(){const{featureMenuId:t}=this,{featureViewModels:i}=this.viewModel;return i.length>1?R("ol",{class:K.featureMenuList,id:t,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},i.filter(n=>!!n.graphic).map((n,r)=>this.renderFeatureMenuItem(n,r))):null}_storeFeatureSelectionAction(t,i){this._featureSelectionActions.set(t,i),this.scheduleRender()}_storeExitRelatedRecordsAction(t,i){this._exitRelatedRecordsActions.set(t,i),this.scheduleRender()}_getFlowItemDescription(t){return"featureCountDescription"in t?t.featureCountDescription:t.viewModel.description??""}async _openRelatedFeature(t){await t.viewModel.updateGeometry();const i=t.graphic,n=i==null?void 0:i.geometry;if(j(n)||j(i))return;this._destroyFlowItemWidgets(),await this.viewModel.zoomTo({target:n});const r=sae(n);this.open({features:[i],location:$(r)?r:void 0})}_destroyFlowItemWidgets(){this._flowItems.removeAll().forEach(t=>{"showAllEnabled"in t.viewModel&&(t.viewModel.showAllEnabled=!1),t.viewModel=null,t.destroy()})}_handleBackClick(){const t=this._flowItems.pop();t&&(this._exitRelatedRecordsActions.delete(t),this._featureSelectionActions.delete(t),"showAllEnabled"in t.viewModel&&(t.viewModel.showAllEnabled=!1),t&&(t.viewModel=null,t.destroy()))}_getActionTitle(t){const{messages:i,selectedFeature:n,messagesCommon:r}=this,{id:s}=t,a=n==null?void 0:n.attributes,o=t.title??"",l=s==="zoom-to-feature"?Ol(o,{messages:i}):s==="remove-selected-feature"?Ol(o,{messages:r}):s==="zoom-to-clustered-features"||s==="browse-clustered-features"?Ol(o,{messages:i}):t.title;return l&&a?Ol(l,a):l??""}_getActionClass(t){const{selectedFeature:i}=this,n=i==null?void 0:i.attributes,{className:r,image:s}=t,a=s||r?r:K.iconDefaultAction;return a&&n?Ol(a,n):a??""}_getActionImage(t){const{selectedFeature:i}=this,n=i==null?void 0:i.attributes,{image:r}=t;return r&&n?Ol(r,n):r??""}_createFeatureUpdatedAnimation(){return wMe("enter",K.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:t,featureNavigationVisible:i}=this;if(typeof t!="number")return null;const n=Math.round(t);return Math.max(i?n-1:n,0)}_watchActions(){const{allActions:t}=this.viewModel;this.notifyChange("dividedActions");const i="actions";this._handles.remove(i),t&&t.forEach(n=>{this._handles.add(X(()=>[n.uid,n.active,n.className,n.disabled,n.id,n.title,n.image,n.visible],()=>this.scheduleRender()),i)})}_divideActions(){const{allActions:t}=this.viewModel,i=t.filter(a=>a.visible),n=this._getInlineActionCount(),r=n===null,s=n===0;return{inlineActions:r?i.slice(0):s?new Ie:i.slice(0,n),menuActions:r?new Ie:s?i.slice(0):i.slice(n)}}_featureMenuOpenChanged(t){t?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(t){t?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){var n,r;const{selectedFeatureWidget:t,messagesCommon:i}=this;t&&(this.viewModel.title=((n=t.viewModel)==null?void 0:n.state)==="error"?i.errorMessage:((r=t.viewModel)==null?void 0:r.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:t}=this;t&&(this.viewModel.content=t)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(t){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(t),this._featureMenuIntersectionObserverNode=t}_handleFeatureMenuKeyup(t){of(t)==="Escape"&&(t.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(t){of(t)==="Escape"&&(t.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_setActiveFeature(t){const{viewModel:i}=this,n=t.currentTarget["data-feature-index"];i.activeFeature=i.features[n]||null}_removeActiveFeature(){this.viewModel.activeFeature=null}_handleFeatureMenuItemKeyup(t){const i=of(t),{_featureMenuNode:n}=this,r=t.currentTarget["data-feature-index"];if(!n)return;const s=n.querySelectorAll("li"),a=s.length;i!=="ArrowUp"?i!=="ArrowDown"?i!=="Home"?i!=="End"||(t.stopPropagation(),s[s.length-1].focus()):(t.stopPropagation(),s[0].focus()):(t.stopPropagation(),s[(r+1+a)%a].focus()):(t.stopPropagation(),s[(r-1+a)%a].focus())}_handleActionMenuItemKeyup(t){const i=of(t),{_actionsMenuNode:n}=this,r=t.currentTarget.dataset.actionUid,{menuActions:s}=this.dividedActions,a=s.findIndex(c=>c.uid===r);if(!n)return;const o=n.querySelectorAll("li"),l=o.length;i!=="ArrowUp"?i!=="ArrowDown"?i!=="Home"?i!=="End"||(t.stopPropagation(),o[o.length-1].focus()):(t.stopPropagation(),o[0].focus()):(t.stopPropagation(),o[(a+1+l)%l].focus()):(t.stopPropagation(),o[(a-1+l)%l].focus())}_handleMainKeyup(t){const i=of(t);i==="ArrowLeft"&&(t.stopPropagation(),this.previous()),i==="ArrowRight"&&(t.stopPropagation(),this.next())}_spinnerEnabledChange(t){if(this._destroySpinner(),!t)return;const i=this.get("viewModel.view");this._createSpinner(i)}_hideSpinner(){const{_spinner:t}=this;t&&(t.location=null,t.hide())}_displaySpinner(){const{_spinner:t}=this;if(!t)return;const{location:i,waitingForResult:n}=this.viewModel;n&&i?t.show({location:i}):t.hide()}_getIconStyles(t){return{"background-image":t?`url(${t})`:""}}async _shouldFocus(t){t!=null&&t.shouldFocus&&(await VN(()=>{var i;return((i=this.viewModel)==null?void 0:i.active)===!0}),this.focus())}_addSelectedFeatureIndexHandle(){const t=X(()=>{var i;return(i=this.viewModel)==null?void 0:i.selectedFeatureIndex},(i,n)=>this._selectedFeatureIndexUpdated(i,n));this._handles.add(t,QB)}_selectedFeatureIndexUpdated(t,i){const{featureCount:n}=this;n&&t!==i&&t!==-1&&(this._destroyFlowItemWidgets(),this.actionsMenuOpen=!1,this.featureMenuOpen=!1,this._mainContainerNode&&(this._mainContainerNode.scrollTop=0),this._rootFlowItemNode&&this._rootFlowItemNode.scrollContentTo({top:0}))}_destroySelectedFeatureWidget(){const{_feature:t}=this;t&&(t.viewModel=null,t&&!t.destroyed&&t.destroy()),this._feature=null}_isScreenLocationWithinView(t,i){return t.x>-1&&t.y>-1&&t.x<=i.width&&t.y<=i.height}_isOutsideView(t){const{popupHeight:i,popupWidth:n,screenLocation:r,side:s,view:a}=t;if(isNaN(n)||isNaN(i)||!a||!r)return!1;const o=a.padding;return s==="right"&&r.x+n/2>a.width-o.right||s==="left"&&r.x-n/2<o.left||s==="top"&&r.y-i<o.top||s==="bottom"&&r.y+i>a.height-o.bottom}_calculateAutoAlignment(t){if(t!=="auto")return t;const{_pointerOffsetInPx:i,_containerNode:n,_mainContainerNode:r,viewModel:s}=this,{screenLocation:a,view:o}=s;if(j(a)||!o||!n)return"top-center";if(!this._isScreenLocationWithinView(a,o))return this._get("currentAlignment")||"top-center";function l(k){return parseInt(k.replace(/[^-\d\.]/g,""),10)}const c=r?window.getComputedStyle(r,null):null,h=c?l(c.getPropertyValue("max-height")):0,p=c?l(c.getPropertyValue("height")):0,{height:m,width:g}=n.getBoundingClientRect(),y=g+i,b=Math.max(m,h,p)+i,w=this._isOutsideView({popupHeight:b,popupWidth:y,screenLocation:a,side:"right",view:o}),_=this._isOutsideView({popupHeight:b,popupWidth:y,screenLocation:a,side:"left",view:o}),x=this._isOutsideView({popupHeight:b,popupWidth:y,screenLocation:a,side:"top",view:o}),S=this._isOutsideView({popupHeight:b,popupWidth:y,screenLocation:a,side:"bottom",view:o});return _?x?"bottom-right":"top-right":w?x?"bottom-left":"top-left":x?S?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(t){return typeof t=="function"?t.call(this):t}_getCurrentAlignment(){const{alignment:t,dockEnabled:i}=this;return i||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(t)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(t){const i=["left","right"];return Ul(this.container)&&i.reverse(),t.replace(/leading/gi,i[0]).replace(/trailing/gi,i[1])}_callDockPosition(t){return typeof t=="function"?t.call(this):t}_getDockPosition(){var t;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition((t=this.dockOptions)==null?void 0:t.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(t){var o;if(t!=="auto")return t;const i=(o=this.viewModel)==null?void 0:o.view,n=Ul(this.container)?"top-left":"top-right";if(!i)return n;const r=i.padding||{left:0,right:0,top:0,bottom:0},s=i.width-r.left-r.right,{breakpoints:a}=i;return a&&s<=a.xsmall?"bottom-center":n}_positionContainer(t=this._containerNode){if(t&&(this._containerNode=t),!this._containerNode)return;const{screenLocation:i}=this.viewModel,{width:n}=this._containerNode.getBoundingClientRect(),r=this._calculatePositionStyle(i,n);r&&Object.assign(this._containerNode.style,r)}_calculateFullWidth(t){const{currentAlignment:i,_pointerOffsetInPx:n}=this;return i==="top-left"||i==="bottom-left"||i==="top-right"||i==="bottom-right"?t+n:t}_calculateAlignmentPosition(t,i,n,r){const{currentAlignment:s,_pointerOffsetInPx:a}=this;if(!n)return;const{padding:o}=n,l=r/2,c=n.height-i,h=n.width-t;return s==="bottom-center"?{top:i+a-o.top,left:t-l-o.left}:s==="top-left"?{bottom:c+a-o.bottom,right:h+a-o.right}:s==="bottom-left"?{top:i+a-o.top,right:h+a-o.right}:s==="top-right"?{bottom:c+a-o.bottom,left:t+a-o.left}:s==="bottom-right"?{top:i+a-o.top,left:t+a-o.left}:s==="top-center"?{bottom:c+a-o.bottom,left:t-l-o.left}:void 0}_calculatePositionStyle(t,i){const{dockEnabled:n,view:r}=this;if(!r)return;if(n)return{left:"",top:"",right:"",bottom:""};if(j(t)||!i)return;const s=this._calculateFullWidth(i),a=this._calculateAlignmentPosition(t.x,t.y,r,s);return a?{top:a.top!==void 0?`${a.top}px`:"auto",left:a.left!==void 0?`${a.left}px`:"auto",bottom:a.bottom!==void 0?`${a.bottom}px`:"auto",right:a.right!==void 0?`${a.right}px`:"auto"}:void 0}_viewChange(t,i){t&&i&&(this.close(),this.clear())}_viewReadyChange(t,i){if(t){const n=this.get("viewModel.view");this._wireUpView(n)}else i&&(this.close(),this.clear())}_wireUpView(t){if(this._destroySpinner(),!t)return;const{spinnerEnabled:i}=this;i&&this._createSpinner(t),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(t,i,n){const[r,s]=t,[a,o]=i,{width:l=0,height:c=0}=n??{};return r<=l&&a>l||r>l&&a<=l||s<=c&&o>c||s>c&&o<=c}_updateDockEnabledForViewSize(t,i){if(!t||!i)return;const n=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},r=n.left+n.right,s=n.top+n.bottom,a=[],o=[];a[0]=t[0]-r,a[1]=t[1]-s,o[0]=i[0]-r,o[1]=i[1]-s;const{dockOptions:l}=this,c=l.breakpoint;this._dockingThresholdCrossed(a,o,c)&&this._setDockEnabledForViewSize(l),this._setCurrentDockPosition()}_focusDockButtonNode(t){this._focusDockButton&&(this._focusDockButton=!1,t.focus())}_closeButtonNodeUpdated(t){return this._focusClose?(this._focusClose=!1,void t.focus()):this._blurClose?(this._blurClose=!1,void t.blur()):void 0}_mainContainerNodeUpdated(t){return this._mainContainerNode=t,this._focusContainer?(this._focusContainer=!1,void t.focus()):this._blurContainer?(this._blurContainer=!1,void t.blur()):void 0}_featureMenuNodeUpdated(t){if(this._featureMenuNode=t,!t||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const i=t.querySelectorAll("li");i.length&&i[0].focus()}_actionsMenuNodeUpdated(t){if(this._actionsMenuNode=t,!t||!this._focusFirstAction)return;this._focusFirstAction=!1;const i=t.querySelectorAll("li");i.length&&i[0].focus()}_focusFeatureMenuButtonNode(t){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,t.focus())}_focusActionsMenuButtonNode(t){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,t.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:t,viewModel:i}=this;if(!i)return;const n=i.active&&!t;i.screenLocationEnabled=n}_shouldDockAtCurrentViewSize(t){var l,c;const i=t.breakpoint,n=(c=(l=this.viewModel)==null?void 0:l.view)==null?void 0:c.ui;if(!n)return!1;const{width:r,height:s}=n;if(isNaN(r)||isNaN(s)||!i)return!1;const a=i.hasOwnProperty("width")&&r<=(i.width??0),o=i.hasOwnProperty("height")&&s<=(i.height??0);return a||o}_setDockEnabledForViewSize(t){t.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(t))}_getPageText(t,i){return this.featureNavigationVisible?Ol(this.messages.pageText,{index:i+1,total:t}):null}_destroySpinner(){const{_spinner:t,view:i}=this;t&&(i&&i.ui&&i.ui.remove(t,XB),t.destroy(),this._spinner=null)}_createSpinner(t){t&&(this._spinner=new Tze({view:t}),t.ui.add(this._spinner,{key:XB,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const t=!this.featureMenuOpen;this._featureMenuOpenChanged(t),this.actionsMenuOpen=!1,this.featureMenuOpen=t}_toggleActionsMenu(){const t=!this.actionsMenuOpen;this._actionsMenuOpenChanged(t),this.featureMenuOpen=!1,this.actionsMenuOpen=t}_triggerAction(t){const i=t.currentTarget.dataset.actionUid,{allActions:n}=this.viewModel,r=n.findIndex(a=>a.uid===i),s=n.getItemAt(r);s&&s.type==="toggle"&&(s.value=!s.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(r)}_selectFeature(t){const i=t.currentTarget["data-feature-index"];isNaN(i)||(this.viewModel.selectedFeatureIndex=i),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};u([d({readOnly:!0})],Se.prototype,"actionsMenuId",null),u([d({readOnly:!0})],Se.prototype,"actionsMenuButtonId",null),u([d({readOnly:!0})],Se.prototype,"featureMenuId",null),u([d({readOnly:!0})],Se.prototype,"titleId",null),u([d({readOnly:!0})],Se.prototype,"contentId",null),u([d({readOnly:!0})],Se.prototype,"hasContent",null),u([d({readOnly:!0})],Se.prototype,"featureNavigationVisible",null),u([d({readOnly:!0})],Se.prototype,"collapsible",null),u([d({readOnly:!0})],Se.prototype,"featureMenuVisible",null),u([d({readOnly:!0})],Se.prototype,"contentCollapsed",null),u([d({readOnly:!0})],Se.prototype,"dividedActions",null),u([d({readOnly:!0,dependsOn:["_flowItems.length"]})],Se.prototype,"_activeFlowItemWidget",null),u([d()],Se.prototype,"actions",null),u([d()],Se.prototype,"actionsMenuOpen",null),u([d()],Se.prototype,"alignment",void 0),u([d()],Se.prototype,"autoCloseEnabled",null),u([d()],Se.prototype,"autoOpenEnabled",null),u([d()],Se.prototype,"defaultPopupTemplateEnabled",null),u([d()],Se.prototype,"content",null),u([d()],Se.prototype,"collapsed",void 0),u([d()],Se.prototype,"collapseEnabled",void 0),u([d({readOnly:!0})],Se.prototype,"currentAlignment",null),u([d({readOnly:!0})],Se.prototype,"currentDockPosition",null),u([d()],Se.prototype,"dockOptions",null),u([d()],Se.prototype,"dockEnabled",void 0),u([d({readOnly:!0})],Se.prototype,"featureCount",null),u([d()],Se.prototype,"featureMenuOpen",void 0),u([d()],Se.prototype,"features",null),u([d()],Se.prototype,"goToOverride",null),u([d()],Se.prototype,"headingLevel",void 0),u([d()],Se.prototype,"highlightEnabled",null),u([d()],Se.prototype,"location",null),u([d()],Se.prototype,"label",null),u([d()],Se.prototype,"maxInlineActions",void 0),u([d(),hr("esri/widgets/Popup/t9n/Popup")],Se.prototype,"messages",void 0),u([d(),hr("esri/t9n/common")],Se.prototype,"messagesCommon",void 0),u([d()],Se.prototype,"promises",null),u([d({readOnly:!0})],Se.prototype,"selectedFeature",null),u([d()],Se.prototype,"selectedFeatureIndex",null),u([d({readOnly:!0})],Se.prototype,"selectedFeatureWidget",null),u([d()],Se.prototype,"spinnerEnabled",void 0),u([d()],Se.prototype,"title",null),u([d()],Se.prototype,"updateLocationEnabled",null),u([d()],Se.prototype,"view",null),u([d({type:_ae}),X3e(["triggerAction","trigger-action"])],Se.prototype,"viewModel",void 0),u([d()],Se.prototype,"visible",null),u([d()],Se.prototype,"visibleElements",void 0),u([ct("visibleElements")],Se.prototype,"castVisibleElements",null),u([Ta()],Se.prototype,"_close",null),u([Ta()],Se.prototype,"_toggleDockEnabled",null),u([Ta()],Se.prototype,"_toggleFeatureMenu",null),u([Ta()],Se.prototype,"_toggleActionsMenu",null),u([Ta()],Se.prototype,"_triggerAction",null),u([Ta()],Se.prototype,"_selectFeature",null),u([Ta()],Se.prototype,"_next",null),u([Ta()],Se.prototype,"_previous",null),Se=u([I("esri.widgets.Popup")],Se);const n7=Se,yM=[0,0];function $6e(e){const t=(e.ownerDocument||window.document).defaultView,i=e.getBoundingClientRect();return yM[0]=i.left+((t==null?void 0:t.pageXOffset)??0),yM[1]=i.top+((t==null?void 0:t.pageYOffset)??0),yM}function r7(e){e&&(Fte(e),e.parentNode&&e.parentNode.removeChild(e))}function A6e(e){const t=document.createElement("div");return e.appendChild(t),t}const Xv=16,DS=750,M6e=512,D6e=2,O6e=e=>{let t=class extends e{constructor(...i){var n;super(...i),this._freqInfo={freq:Xv,time:DS},this._overlayRenderTaskHandle=null,this.height=0,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,i.length!==0&&((n=i[0])==null?void 0:n.popup)!==void 0||(this.popup=new n7({view:this})),this.handles.add([X(()=>this.cursor,r=>{const{surface:s}=this;s&&s.setAttribute("data-cursor",r)}),X(()=>this.interacting,r=>{const{surface:s}=this;s&&s.setAttribute("data-interacting",r.toString())})])}initialize(){this.handles.add(X(()=>this.ui,(i,n)=>this._handleUIChange(i,n))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui=Si(this.ui),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(i){const n=this._get("container"),r=WN(i);if(r||typeof i!="string"||Y.getLogger(this.declaredClass).error("#container",`element with id '${i}' not found`),n===r)return;const s="dom-size";if(this.handles.remove(s),this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(r7(this.root),this._set("root",null)),this.userContent&&(pU(this.userContent,n),r7(this.userContent),this._set("userContent",null))),!r)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);r.classList.add("esri-view");const a=document.createElement("div");a.className="esri-view-user-storage",pU(r,a),r.appendChild(a),this._set("userContent",a);const o=document.createElement("div");o.className="esri-view-root",r.insertBefore(o,r.firstChild),this._set("root",o);const l=document.createElement("div");l.className="esri-view-surface",l.setAttribute("role","application"),l.tabIndex=0,o.appendChild(l),this._set("surface",l);const c=new SU;o.appendChild(c.surface),this._set("overlay",c),X(()=>c.needsRender,h=>{h&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=h0({render:()=>{var p;return(p=this.overlay)==null?void 0:p.render()}}):this._overlayRenderTaskHandle=Hi(this._overlayRenderTaskHandle)}),this.forceDOMReadyCycle(),this.handles.add(X(()=>this.size,h=>{const[p,m]=h,g="esri-view-surface--inset-outline";p>=document.body.clientWidth||m>=document.body.clientHeight?l.classList.add(g):l.classList.remove(g)},gt),s),this._set("container",r),this._startMeasuring()}get focused(){const i=document.activeElement===this.surface;return document.hasFocus()&&i}set popup(i){const n=this._get("popup");n&&n!==i&&n.destroy(),this._set("popup",i)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(i,n,r){const s=this.position;return i-=s?s[0]:0,n-=s?s[1]:0,r?(r[0]=i,r[1]=n):r=[i,n],r}containerToPage(i,n,r){const s=this.position;return i+=s?s[0]:0,n+=s?s[1]:0,r?(r[0]=i,r[1]=n):r=[i,n],r}_handleUIChange(i,n){n&&(this.handles.remove("ui"),n.destroy()),i&&this._wireUI(i),this._set("ui",i)}_wireUI(i){this.handles.remove("ui"),i&&(i.view=this,this.handles.add([X(()=>this.root,n=>{i.container=n?A6e(n):null},gt),X(()=>this.popup,(n,r)=>{const s="popup",a="manual";r&&i.remove(r,s),n&&(n.view=i.view,i.add(n,{key:s,position:a}))},gt)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const i=this._freqInfo;i.freq=Xv,i.time=DS,this.handles.add([(()=>{const n=()=>{i.freq=Xv,i.time=DS};return window.addEventListener("resize",n),{remove(){window.removeEventListener("resize",n)}}})(),h0({prepare:n=>{const r=this._measure(),s=this._freqInfo;if(s.time+=n.deltaTime,r&&(s.freq=Xv,this._get("resizing")||this._set("resizing",!0)),s.time<s.freq)return;s.time=0;const a=this._position();s.freq=a||r?Xv:Math.min(DS,s.freq*D6e),!r&&s.freq>=M6e&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const i=this.container,n=i?i.clientWidth:0,r=i?i.clientHeight:0;if(n===0||r===0)return this.suspended||this._set("suspended",!0),!1;const s=this.width,a=this.height;return n===s&&r===a?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",r),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:s,oldHeight:a,width:n,height:r}),!0)}_position(){const i=this.container,n=this.position,r=i&&$6e(i);return!!r&&(!n||r[0]!==n[0]||r[1]!==n[1])&&(this._set("position",[r[0],r[1]]),!0)}forceDOMReadyCycle(){}};return u([d()],t.prototype,"container",null),u([d({readOnly:!0})],t.prototype,"focused",null),u([d({readOnly:!0})],t.prototype,"height",void 0),u([d({type:n7})],t.prototype,"popup",null),u([d({type:SU})],t.prototype,"overlay",void 0),u([d({readOnly:!0})],t.prototype,"position",void 0),u([d({readOnly:!0})],t.prototype,"resizing",void 0),u([d({readOnly:!0})],t.prototype,"root",void 0),u([d({value:null,readOnly:!0})],t.prototype,"size",null),u([d({readOnly:!0})],t.prototype,"surface",void 0),u([d({readOnly:!0})],t.prototype,"suspended",void 0),u([d()],t.prototype,"ui",void 0),u([d({readOnly:!0})],t.prototype,"userContent",void 0),u([d({readOnly:!0})],t.prototype,"width",void 0),u([d()],t.prototype,"widthBreakpoint",void 0),t=u([I("esri.views.DOMContainer")],t),t},R6e=e=>{let t=class extends e{async fetchPopupFeatures(i,n){await this.when();const{location:r,queryArea:s,layerViewsAndGraphics:a,clientOnlyGraphics:o}=await this._prepareFetchPopupFeatures(i,n),l=Promise.resolve(o),c=this._queryLayerPopupFeatures(s,a,n),h=c.map(p=>p.promise);return{location:r,clientOnlyGraphics:o,allGraphicsPromise:Fxe([l,...h]).then(p=>Array.from(new Set(p.flat()))),promisesPerLayerView:c}}_queryLayerPopupFeatures(i,n,r){return n.map(({layerView:s,graphics:a})=>{const o={clientGraphics:a,event:$(r)?r.event:void 0,signal:$(r)?r.signal:void 0,defaultPopupTemplateEnabled:!!$(r)&&!!r.defaultPopupTemplateEnabled},l=s.fetchPopupFeatures(i,o);return{layerView:s,promise:l}})}_isValidPopupGraphic(i,n){return i&&!!i.getEffectivePopupTemplate($(n)&&n.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(i,n){const{clientGraphics:r,queryArea:s,location:a}=await this._popupHitTestGraphics(i,n),o=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:l,clientOnlyGraphics:c}=this._graphicsPerFetchPopupLayerView(r,o);return{clientOnlyGraphics:c,layerViewsAndGraphics:l,queryArea:s,location:a}}async _popupHitTestGraphics(i,n){const r=await this.popupHitTest(i),s=r.results,a=r.mapPoint,o=s.filter(c=>c.type==="graphic"&&this._isValidPopupGraphic(c.graphic,n)),l=o.length?o[0].mapPoint:null;return{clientGraphics:o.map(c=>c.graphic),queryArea:a,location:a||l}}_getFetchPopupLayerViews(){const i=[];return this.allLayerViews.forEach(n=>{this._isValidPopupLayerView(n)&&i.push(n)}),$(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&i.push(this.graphicsView),i.reverse()}_isValidPopupLayerView(i){return $(i)&&(!("layer"in i)||!i.suspended)&&"fetchPopupFeatures"in i}_graphicsPerFetchPopupLayerView(i,n){const r=[],s=new Map,a=n.map(o=>{const l=[];return"layer"in o?s.set(o.layer,l):s.set(o.graphics,l),{layerView:o,graphics:l}});for(const o of i){const l=s.get(o.layer)||s.get(o.sourceLayer)||null;l?l.push(o):r.push(o)}return{layerViewsAndGraphics:a,clientOnlyGraphics:r}}};return t=u([I("esri.views.PopupView")],t),t};async function xae(e,t){return await e.load(),P6e(e,t)}async function P6e(e,t){const i=[],n=(...s)=>{for(const a of s)j(a)||(Array.isArray(a)?n(...a):Ie.isCollection(a)?a.forEach(o=>n(o)):Su.isLoadable(a)&&i.push(a))};t(n);let r=null;if(await pDe(i,async s=>{const a=await oT(L6e(s)?s.loadAll():s.load());a.ok!==!1||r||(r=a)}),r)throw r.error;return e}function L6e(e){return"loadAll"in e&&typeof e.loadAll=="function"}async function F6e(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e,i=await gte("esri/t9n/basemaps");return i[e]||i[t]}const sP={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return wt("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return wt("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return wt("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return wt("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return wt("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return wt("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return wt("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return wt("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return wt("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return wt("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return wt("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return wt("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return wt("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return wt("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return wt("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return wt("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return wt("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return wt("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return wt("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return wt("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return wt("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return wt("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return wt("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return wt("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return wt("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return wt("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return wt("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},N6e=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),z6e=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","route","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function V6e(e){return e.layerContainerType==="basemap"?N6e:e.layerContainerType==="operational-layers"?z6e:null}function j6e(e,t){if(t.restrictedWebMapWriting){const i=V6e(t);return!$(i)||i.has(e.type)&&!QN(e)}return!0}function U6e(e,t){if(t)if(QN(e)){const i=S_("featureCollection.layers",t),n=i&&i[0]&&i[0].layerDefinition;n&&vM(e,n)}else e.type==="stream"?vM(e,t.layerDefinition=t.layerDefinition||{}):e.type!=="group"&&vM(e,t)}function vM(e,t){"maxScale"in e&&(t.maxScale=Uk(e.maxScale)??void 0),"minScale"in e&&(t.minScale=Uk(e.minScale)??void 0)}function B6e(e,t){if(U6e(e,t),t&&("blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=Uk(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(QN(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function s7(e,t,i){if(!("write"in e)||!e.write)return i&&i.messages&&i.messages.push(new N("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(j6e(e,i)){const n={};return e.write(n,i)?n:null}return $(t)&&B6e(e,t=z(t)),t}var yE;let H6e=0;const Sae="esri.Basemap";let Sa=yE=class extends T_(Su){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+H6e++,this.baseLayers=new Ie,this.referenceLayers=new Ie;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&Y.getLogger(this.declaredClass).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=n=>{n.parent=null};this.baseLayers.on("after-add",n=>t(n.item)),this.referenceLayers.on("after-add",n=>t(n.item)),this.baseLayers.on("after-remove",n=>i(n.item)),this.referenceLayers.on("after-remove",n=>i(n.item))}initialize(){this.when().catch(e=>{Y.getLogger(this.declaredClass).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var i;const e=this.baseLayers.removeAll();for(const n of e)n.destroy();const t=this.referenceLayers.removeAll();for(const n of t)n.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),(i=this.portalItem)==null||i.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",ym(e,this._get("baseLayers")))}_writeBaseLayers(e,t,i){const n=[];e&&(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach(r=>{const s=s7(r,i.webmap?i.webmap.getLayerJSONFromResourceInfo(r):null,i);$(s)&&n.push(s)}),this.referenceLayers.forEach(r=>{const s=s7(r,i.webmap?i.webmap.getLayerJSONFromResourceInfo(r):null,i);$(s)&&(r.type!=="scene"&&(s.isReference=!0),n.push(s))})),t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",ym(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return xae(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new yE({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(i=>{const n=z(i);return n.url&&to(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&to(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:i}=this;gi(e);const n=[];if(t){const r=t.context?t.context.url:null;if(n.push(this._loadLayersFromJSON(t.data,r,e)),t.data.id&&!t.data.title){const s=t.data.id;n.push(F6e(s).then(a=>{a&&this.read({title:a},t.context)}))}}else i&&n.push(this._loadFromItem(i,e));await Promise.all(n)}async _loadLayersFromJSON(e,t,i){const n=this.resourceInfo&&this.resourceInfo.context,r=this.portalItem&&this.portalItem.portal||n&&n.portal||null,s=n&&n.origin==="web-scene"?"web-scene":"web-map",{populateOperationalLayers:a}=await H(()=>import("./layersCreator.js"),["layersCreator.js","lazyLayerLoader.js","portalLayers.js","layersLoader.js","fetchService.js"]),o=[];if(gi(i),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const l={context:{origin:s,url:t,portal:r,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},c=m=>s==="web-scene"&&m.layerType==="ArcGISSceneServiceLayer"||m.isReference,h=a(this.baseLayers,e.baseMapLayers.filter(m=>!c(m)),l);o.push(h);const p=a(this.referenceLayers,e.baseMapLayers.filter(c),l);o.push(p)}await ps(o)}async _loadFromItem(e,t){const i=await e.load(t),n=await i.fetchData("json",t),r=Ti(e.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:e.type==="Web Scene"?"web-scene":"web-map",portal:e.portal||gr.getDefault(),url:r}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||gr.getDefault(),url:r}),this._loadLayersFromJSON(this.resourceInfo.data,r,t)}static fromId(e){const t=sP[e];if(t){if(t.deprecated){let i=null;e==="dark-gray"?i="dark-gray-vector":e==="gray"?i="gray-vector":e==="streets"?i="streets-vector":e==="topo"&&(i="topo-vector"),dQ(Y.getLogger(Sae),`The ${e} basemap has entered mature support and is no longer being updated.`,{replacement:i,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return yE.fromJSON(t)}return null}};u([d({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Ie}},writer(e,t,i,n){this._writeBaseLayers(e,t,n)}}}}}})],Sa.prototype,"baseLayers",null),u([d({type:String,json:{origins:{"web-scene":{write:!0}}}})],Sa.prototype,"id",void 0),u([d({type:ew})],Sa.prototype,"portalItem",void 0),u([d()],Sa.prototype,"referenceLayers",null),u([d({readOnly:!0})],Sa.prototype,"resourceInfo",void 0),u([d({type:je})],Sa.prototype,"spatialReference",void 0),u([d()],Sa.prototype,"thumbnailUrl",void 0),u([d({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Sa.prototype,"title",void 0),u([ue("title")],Sa.prototype,"writeTitle",null),Sa=yE=u([I(Sae)],Sa);const r_=Sa,G6e=Object.freeze(Object.defineProperty({__proto__:null,default:r_},Symbol.toStringTag,{value:"Module"}));var aP;let vE=aP=class extends W{constructor(e){super(e),this.type="none"}clone(){return new aP({type:this.type})}};u([xe({none:"none",stayAbove:"stay-above"})],vE.prototype,"type",void 0),vE=aP=u([I("esri.ground.NavigationConstraint")],vE);let Zt=class extends ve{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.TEXT_SHOW_BASELINE=!1,this.TEXT_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_OPTIMIZATIONS=!1,this.TESTS_DISABLE_FAST_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1,this.LINE_WIREFRAMES=!1,this.TERRAIN_USE_LEGACY_SHADING=!1}};u([d()],Zt.prototype,"SCENEVIEW_HITTEST_RETURN_INTERSECTOR",void 0),u([d()],Zt.prototype,"DECONFLICTOR_SHOW_VISIBLE",void 0),u([d()],Zt.prototype,"DECONFLICTOR_SHOW_INVISIBLE",void 0),u([d()],Zt.prototype,"DECONFLICTOR_SHOW_GRID",void 0),u([d()],Zt.prototype,"LABELS_SHOW_BORDER",void 0),u([d()],Zt.prototype,"TEXT_SHOW_BASELINE",void 0),u([d()],Zt.prototype,"TEXT_SHOW_BORDER",void 0),u([d()],Zt.prototype,"OVERLAY_DRAW_DEBUG_TEXTURE",void 0),u([d()],Zt.prototype,"OVERLAY_SHOW_CENTER",void 0),u([d()],Zt.prototype,"SHOW_POI",void 0),u([d()],Zt.prototype,"TESTS_DISABLE_OPTIMIZATIONS",void 0),u([d()],Zt.prototype,"TESTS_DISABLE_FAST_UPDATES",void 0),u([d()],Zt.prototype,"DRAW_MESH_GEOMETRY_NORMALS",void 0),u([d()],Zt.prototype,"FEATURE_TILE_FETCH_SHOW_TILES",void 0),u([d()],Zt.prototype,"FEATURE_TILE_TREE_SHOW_TILES",void 0),u([d()],Zt.prototype,"TERRAIN_TILE_TREE_SHOW_TILES",void 0),u([d()],Zt.prototype,"I3S_TREE_SHOW_TILES",void 0),u([d()],Zt.prototype,"I3S_SHOW_MODIFICATIONS",void 0),u([d()],Zt.prototype,"LOD_INSTANCE_RENDERER_DISABLE_UPDATES",void 0),u([d()],Zt.prototype,"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL",void 0),u([d()],Zt.prototype,"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES",void 0),u([d()],Zt.prototype,"LINE_WIREFRAMES",void 0),u([d()],Zt.prototype,"TERRAIN_USE_LEGACY_SHADING",void 0),Zt=u([I("esri.views.3d.support.DebugFlags")],Zt);const q6e=new Zt;var oP;let Il=oP=class extends T_(Su){constructor(e){super(e),this.opacity=1,this.shading=!q6e.TERRAIN_USE_LEGACY_SHADING,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new Ie;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&Y.getLogger(this.declaredClass).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=n=>{n.parent=null};this.layers.on("after-add",n=>t(n.item)),this.layers.on("after-remove",n=>i(n.item))}initialize(){this.when().catch(e=>{Y.getLogger(this.declaredClass).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)t.destroy();this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",ym(e,this._get("layers")))}writeLayers(e,t,i,n){const r=[];e&&(n={...n,layerContainerType:"ground"},e.forEach(s=>{if("write"in s){const a={};dRe(s)().write(a,n)&&r.push(a)}else n&&n.messages&&n.messages.push(new N("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),t.layers=r}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return xae(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await H(()=>import("./ElevationQuery.js"),[]);gi(t);const n=new i,r=this.layers.filter(a7).toArray();return n.queryAll(r,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await H(()=>import("./ElevationQuery.js"),[]);gi(t);const n=new i,r=this.layers.filter(a7).toArray();return n.createSamplerAll(r,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:z(this.surfaceColor),navigationConstraint:z(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new oP({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}_loadLayersFromJSON(e,t,i){const n=t&&t.origin||"web-scene",r=t&&t.portal||null,s=t&&t.url||null;return H(()=>import("./layersCreator.js"),["layersCreator.js","lazyLayerLoader.js","portalLayers.js","layersLoader.js","fetchService.js"]).then(({populateOperationalLayers:a})=>{gi(i);const o=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:n,url:s,portal:r,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};o.push(a(this.layers,e.layers,l))}return ps(o)}).then(()=>{})}};function W6e(e){return e&&"createElevationSampler"in e}function a7(e){return e.type==="elevation"||W6e(e)}u([d({json:{read:!1}})],Il.prototype,"layers",null),u([ue("layers")],Il.prototype,"writeLayers",null),u([d({readOnly:!0})],Il.prototype,"resourceInfo",void 0),u([d({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Nt,read:{reader:Uw,source:"transparency"},write:{writer:(e,t)=>{t.transparency=GC(e)},target:"transparency"}}})],Il.prototype,"opacity",void 0),u([d({type:Boolean,nonNullable:!0,json:{read:!1}})],Il.prototype,"shading",void 0),u([d({type:de,json:{type:[Nt],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Il.prototype,"surfaceColor",void 0),u([d({type:vE,json:{write:!0}})],Il.prototype,"navigationConstraint",void 0),Il=oP=u([I("esri.Ground")],Il);const OI=Il;function K6e(e){var t,i;return!(!(e!=null&&e.loaded)||!((i=(t=xie(e))==null?void 0:t.operations)!=null&&i.supportsEditing)||"editingEnabled"in e&&!d3e(e))}const o7=Y.getLogger("esri.support.basemapUtils");function Y6e(){return{}}function J6e(e){for(const t in e){const i=e[t];(i==null?void 0:i.destroyed)===!1&&i.destroy(),delete e[t]}}function Z6e(e,t){let i;if(typeof e=="string"){if(!(e in sP)){const n=Object.entries(sP).filter(([r,s])=>ut.apiKey&&!s.classic||!ut.apiKey&&s.classic&&!s.deprecated).map(([r])=>`"${r}"`).join(", ");return o7.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${n}`),null}t&&(i=t[e]),i||(i=r_.fromId(e),t&&(t[e]=i))}else i=Gi(r_,e);return i!=null&&i.destroyed&&(o7.warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function Q6e(e){return new Hw({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const i=[];return"tables"in t&&i.push(t.tables),"layers"in t&&i.push(t.layers),i},itemFilterFunction:t=>{const i=t.parent;return!!i&&"tables"in i&&i.tables.includes(t)}})}const l7={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function X6e(e){let t=null;if(typeof e=="string")if(e in l7){const i=l7[e];t=new OI({resourceInfo:{data:{layers:[i]}}})}else Y.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=Gi(OI,e);return t}function lP(e,t,i){let n,r;if(e)for(let s=0,a=e.length;s<a;s++){if(n=e.getItemAt(s),n[t]===i)return n;if((n==null?void 0:n.type)==="group"&&(r=lP(n.layers,t,i),r))return r}}const e8e=e=>{let t=class extends e{constructor(...i){super(...i),this.layers=new Ie;const n=a=>{a.parent&&"remove"in a.parent&&a.parent.remove(a)},r=a=>{a.parent=this,this.layerAdded(a),a.type!=="elevation"&&a.type!=="base-elevation"||Y.getLogger(this.declaredClass).error(`Layer 'title:${a.title}, id:${a.id}' of type '${a.type}' is not supported as an operational layer and will therefore be ignored.`)},s=a=>{a.parent=null,this.layerRemoved(a)};this.layers.on("before-add",a=>n(a.item)),this.layers.on("after-add",a=>r(a.item)),this.layers.on("after-remove",a=>s(a.item))}destroy(){const i=this.layers.removeAll();for(const n of i)this.layerRemoved(n),n.destroy();this.layers.destroy()}set layers(i){this._set("layers",ym(i,this._get("layers")))}add(i,n){const r=this.layers;if(n=r.getNextIndex(n),i instanceof C0){const s=i;s.parent===this?this.reorder(s,n):r.add(s,n)}else Ou(i)?i.then(s=>{this.destroyed||this.add(s,n)}):Y.getLogger(this.declaredClass).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(i,n){const r=this.layers;let s=r.getNextIndex(n);i.slice().forEach(a=>{a.parent!==this?(r.add(a,s),s+=1):this.reorder(a,s)})}findLayerById(i){return lP(this.layers,"id",i)}findLayerByUid(i){return lP(this.layers,"uid",i)}remove(i){return this.layers.remove(i)}removeMany(i){return this.layers.removeMany(i)}removeAll(){return this.layers.removeAll()}reorder(i,n){return this.layers.reorder(i,n)}layerAdded(i){}layerRemoved(i){}};return u([d()],t.prototype,"layers",null),t=u([I("esri.support.LayersMixin")],t),t};function cP(e,t,i){if(e)for(let n=0,r=e.length;n<r;n++){const s=e.getItemAt(n);if(s[t]===i)return s;if((s==null?void 0:s.type)==="group"){const a=cP(s.tables,t,i);if(a)return a}}}const t8e=e=>{let t=class extends e{constructor(...i){super(...i),this.tables=new Ie,this.tables.on("after-add",n=>{const r=n.item;r.parent&&r.parent!==this&&"tables"in r.parent&&r.parent.tables.remove(r),r.parent=this,r.type!=="feature"&&Y.getLogger(this.declaredClass).error(`Layer 'title:${r.title}, id:${r.id}' of type '${r.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})}destroy(){const i=this.tables.removeAll();for(const n of i)n.destroy();this.tables.destroy()}set tables(i){this._set("tables",ym(i,this._get("tables")))}findTableById(i){return cP(this.tables,"id",i)}findTableByUid(i){return cP(this.tables,"uid",i)}};return u([d()],t.prototype,"tables",null),t=u([I("esri.support.TablesMixin")],t),t};let Cl=class extends t8e(e8e(Ru.EventedMixin(ve))){constructor(t){super(t),this.allLayers=new Hw({getCollections:()=>{var i,n,r;return[(i=this.basemap)==null?void 0:i.baseLayers,(n=this.ground)==null?void 0:n.layers,this.layers,(r=this.basemap)==null?void 0:r.referenceLayers]},getChildrenFunction:i=>"layers"in i?i.layers:null}),this.allTables=Q6e(this),this.basemap=null,this.editableLayers=new Hw({getCollections:()=>[this.allLayers],itemFilterFunction:K6e}),this.ground=new OI,this._basemapCache=Y6e()}destroy(){var t,i;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),(t=this.ground)==null||t.destroy(),(i=this.basemap)==null||i.destroy(),J6e(this._basemapCache),this._basemapCache=null}castBasemap(t){return Z6e(t,this._basemapCache)}castGround(t){const i=X6e(t);return j(i)?this._get("ground"):i}findLayerById(t){return this.allLayers.find(i=>i.id===t)}findTableById(t){return this.allTables.find(i=>i.id===t)}};u([d({readOnly:!0,dependsOn:[]})],Cl.prototype,"allLayers",void 0),u([d({readOnly:!0})],Cl.prototype,"allTables",void 0),u([d({type:r_})],Cl.prototype,"basemap",void 0),u([ct("basemap")],Cl.prototype,"castBasemap",null),u([d({readOnly:!0})],Cl.prototype,"editableLayers",void 0),u([d({type:OI,nonNullable:!0})],Cl.prototype,"ground",void 0),u([ct("ground")],Cl.prototype,"castGround",null),Cl=u([I("esri.Map")],Cl);const IT=Cl;let nw=class extends Yh(Ie){constructor(t){super(t),this.handles.add([this.on("before-add",i=>{j(i.item)&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(Ie.ofType(this.itemType.Type))(t):new Ie(t)}};function uP(e,t){return{type:e,cast:Vee,set(i){const n=ym(i,this._get(t),e);n.owner=this,this._set(t,n)}}}u([d()],nw.prototype,"owner",null),nw=u([I("esri.core.support.OwningCollection")],nw);let RI=class extends nw{constructor(t){super(t),this.handles.add(this.on("before-add",i=>{j(i.item)||i.item.parent===this.owner&&(Y.getLogger(this.declaredClass).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};RI=u([I("esri.support.AnalysesCollection")],RI);let Wf=class extends nw{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};u([tN({Type:yr,ensureType:Gi(yr)})],Wf.prototype,"itemType",void 0),Wf=u([I("esri.support.GraphicsCollection")],Wf);let kd=class extends ve{constructor(t){super(t),this.view=null,this.baseLayerViews=new Ie,this.referenceLayerViews=new Ie,this._loadingHandle=X(()=>{var i,n;return(n=(i=this.view)==null?void 0:i.map)==null?void 0:n.basemap},i=>{i&&i.load().catch(()=>{})},gt)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){var i,n;if(this.view&&this.view.suspended)return!1;const t=(n=(i=this.view)==null?void 0:i.map)==null?void 0:n.basemap;return!!t&&!!t.loaded&&(this.baseLayerViews.some(r=>r.updating)||this.referenceLayerViews.some(r=>r.updating))}};u([d({constructOnly:!0})],kd.prototype,"view",void 0),u([d({readOnly:!0})],kd.prototype,"baseLayerViews",void 0),u([d({readOnly:!0})],kd.prototype,"referenceLayerViews",void 0),u([d({readOnly:!0})],kd.prototype,"suspended",null),u([d({type:Boolean,readOnly:!0})],kd.prototype,"updating",null),kd=u([I("esri.views.BasemapView")],kd);function i8e(e){return"tryRecycleWith"in e}let n8e=class{constructor(t,i,n){this.layer=t,this.view=i,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=vu(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,ds(this._controller.signal,()=>{const r=new N("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(r)})}tryRecycle(t){if(!this.done||!this.layerView||!i8e(this.layerView))return null;const i=this.layer.type,n=this._controller.signal;for(let r=0;r<t.length;r++){const s=t[r];if(s.type!==i)continue;const a=this.layerView.tryRecycleWith(s,{signal:n});if(a){t.splice(r,1),this.layer=s;const o=this.layerView,l=o.view;return this.promise=Promise.race([a.then(()=>(gi(this._controller.signal),s.emit("layerview-destroy",{view:l,layerView:o}),l.emit("layerview-destroy",{view:l,layerView:o}),s.emit("layerview-create",{view:l,layerView:o}),l.emit("layerview-create",{view:l,layerView:o}),o)),new Promise((c,h)=>ds(this._controller.signal,()=>h(ui())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(!t)return;const{layer:i,view:n}=this;i.emit("layerview-destroy",{view:n,layerView:t}),n.emit("layerview-destroy",{layer:i,layerView:t}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}async start(){var r,s,a;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:i,view:n}=this;this._map=n.map;try{let o,l;if(await i.load({signal:t}),"prefetchResources"in i&&await((r=i.prefetchResources)==null?void 0:r.call(i,{signal:t})),s8e(i))o=await i.createLayerView(n,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(i))throw new N("layer:view-not-supported","No layerview implementation was found");const p=await this.layerViewImporter.importLayerView(i);gi(t),o="default"in p?new p.default({layer:i,view:n}):new p({layer:i,view:n})}const c=()=>{l=Hi(l),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0};l=ds(t,c),gi(t);try{await o.when()}catch(p){throw c(),p}if(!((a=(s=this._map)==null?void 0:s.allLayers)==null?void 0:a.includes(i)))return c(),void this._deferred.reject(new N("view:no-layerview-for-layer","The layer has been removed from the map",{layer:i}));this.layerView=o,i.emit("layerview-create",{view:n,layerView:o}),n.emit("layerview-create",{layer:i,layerView:o}),this.done=!0,this._deferred.resolve(o)}catch(o){i.emit("layerview-create-error",{view:n,error:o}),n.emit("layerview-create-error",{layer:i,error:o}),this.done=!0,this._deferred.reject(new N("layerview:create-error","layerview creation failed",{layer:i,error:o}))}}},Ea=class extends ve{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new jy,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var n;const i=(n=this.view.map)==null?void 0:n.allLayers;if(i)for(const r of i)this.layerViewImporter.hasLayerViewModule(r)&&this.layerViewImporter.importLayerView(r)},this._reschedule=()=>(j(this._workPromise)&&(this._workPromise=vu(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(U0(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var l,c,h;const i=this.view.map;if(this._map!==i&&(this.clear(),this._map=i),j(this._workPromise))return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const n=new Set,r=[],s=this.view.ready,a=p=>{if(!j(p)){for(const m of p)if(m){n.add(m);const g=this._layerLayerViewInfoMap.get(m);g&&s?g.start():g||this._recyclingInfoMap.has(m)||r.push(m),"layers"in m&&m.layers&&a(m.layers)}}};for(const p of this._rootCollectionNames)a(this.get(p));for(const[p,m]of this._layerLayerViewInfoMap)if(!n.has(p)){this._layerLayerViewInfoMap.delete(m.layer);const g=m.tryRecycle(r);g?(this._recyclingInfoMap.set(m.layer,m),g.then(()=>{this._recyclingInfoMap.delete(m.layer),this._layerLayerViewInfoMap.set(m.layer,m),this._reschedule()}).catch(()=>{this._recyclingInfoMap.delete(m.layer),m.destroy(),this._reschedule()})):m.destroy()}for(const[p,m]of this._recyclingInfoMap)n.has(p)||(this._recyclingInfoMap.delete(m.layer),m.destroy());for(const p of r)this._createLayerView(p);this._refreshCollections();const o=[(l=i==null?void 0:i.ground)==null?void 0:l.layers,(c=i==null?void 0:i.basemap)==null?void 0:c.baseLayers,(h=i==null?void 0:i.basemap)==null?void 0:h.referenceLayers,i==null?void 0:i.layers].filter(p=>!!p);n.forEach(p=>"layers"in p&&o.push(p.layers)),this.addHandles(o.map(p=>this._watchUpdatingTracking.addOnCollectionChange(()=>p,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.own([gs(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.map)==null?void 0:i.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),X(()=>{const t=this.view,i=t==null?void 0:t.map;return[i==null?void 0:i.basemap,i==null?void 0:i.ground,i==null?void 0:i.layers,t==null?void 0:t.ready]},()=>this._reschedule(),Fd)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null,$(this._workPromise)&&(this._workPromise.reject(ui()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return $(this._workPromise)||this._watchUpdatingTracking.updating||TC(this._layerLayerViewInfoMap,t=>!t.done)}get updatingRemaining(){let t=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++t;return t}clear(){if(!this.destroyed){for(const t of this._layerLayerViewInfoMap.values())t.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new N("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}_refreshCollections(){for(const[t,i]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(t),this.get(i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,i,n){if(!t||!i)return void(i&&i.removeAll());let r=0;for(const s of t){const a=this._layerLayerViewInfoMap.get(s);if(!a||!a.layerView)continue;const o=a.layerView;o.layer=s,o.parent=n,i.getItemAt(r)!==o&&i.splice(r,0,o),s.layers&&this._populateLayerViewsOwners(s.layers,o.layerViews,o),r+=1}r<i.length&&i.splice(r,i.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const i=new n8e(t,this.view,this.layerViewImporter);i.promise.then(()=>this._refreshCollections(),n=>{n&&(Vr(n)||n.name==="cancelled:layerview-create")||Y.getLogger(this.declaredClass).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:n}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};u([d()],Ea.prototype,"_workPromise",void 0),u([d({readOnly:!0})],Ea.prototype,"_watchUpdatingTracking",void 0),u([d({readOnly:!0})],Ea.prototype,"_layersToLayerViews",null),u([d({readOnly:!0})],Ea.prototype,"_rootCollectionNames",null),u([d()],Ea.prototype,"layerViewImporter",void 0),u([d()],Ea.prototype,"supportsGround",void 0),u([d({readOnly:!0})],Ea.prototype,"updating",null),u([d({readOnly:!0})],Ea.prototype,"updatingRemaining",null),u([d({constructOnly:!0})],Ea.prototype,"view",void 0),Ea=u([I("esri.views.LayerViewManager")],Ea);const r8e=Ea;function s8e(e){return"createLayerView"in e&&e.createLayerView!=null}let As=class extends ve{constructor(t){super(t),this.factor=1.5,this.offset=Rr(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};u([d({type:Number})],As.prototype,"factor",void 0),u([d({nonNullable:!0})],As.prototype,"offset",void 0),u([d()],As.prototype,"position",void 0),u([d({type:Number,range:{min:0}})],As.prototype,"size",void 0),u([d()],As.prototype,"maskUrl",void 0),u([d()],As.prototype,"maskEnabled",void 0),u([d()],As.prototype,"overlayUrl",void 0),u([d()],As.prototype,"overlayEnabled",void 0),u([d({readOnly:!0})],As.prototype,"version",null),u([d({type:Boolean})],As.prototype,"visible",void 0),As=u([I("esri.views.Magnifier")],As);const Eae=As;let a8e=class{constructor(){this._tasks=new Array,this._running=new DI(!1)}get length(){return this._tasks.length}get running(){return this._running.get()}destroy(){this.cancelAll()}runTask(t){for(;!t.done&&this._process(t);)t.madeProgress()}push(t,i,n){return this._running.set(!0),new Promise((r,s)=>this._tasks.push(new c7(r,s,t,i,n)))}unshift(t,i,n){return this._running.set(!0),new Promise((r,s)=>this._tasks.unshift(new c7(r,s,t,i,n)))}_process(t){var n;if(this._tasks.length===0)return!1;const i=this._tasks.shift();try{const r=Qs(i.signal);if(r&&!i.abortCallback)i.reject(ui());else{const s=r?(n=i.abortCallback)==null?void 0:n.call(i,ui()):i.callback(t);Ou(s)?s.then(i.resolve,i.reject):i.resolve(s)}}catch(r){i.reject(r)}return this._running.set(this._tasks.length>0),!0}cancelAll(){const t=ui();for(const i of this._tasks)if(i.abortCallback){const n=i.abortCallback(t);i.resolve(n)}else i.reject(t);this._tasks.length=0,this._running.set(!1)}},c7=class{constructor(t,i,n,r,s){this.resolve=t,this.reject=i,this.callback=n,this.signal=r,this.abortCallback=s}},r1=class extends ve{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};u([d()],r1.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),u([d()],r1.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),r1=u([I("esri.views.support.DebugFlags")],r1);const o8e=new r1;var Rs;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(Rs||(Rs={}));var dP,Je;(function(e){e[e.YIELD=1]="YIELD"})(dP||(dP={})),function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e[e.TEST_PRIO=1]="TEST_PRIO"}(Je||(Je={}));const Fl=0,u7=new Map([[Je.RESOURCE_CONTROLLER_IMMEDIATE,Fl],[Je.RESOURCE_CONTROLLER,4],[Je.SLIDE,Fl],[Je.STREAM_DATA_LOADER,Fl],[Je.ELEVATION_QUERY,Fl],[Je.TERRAIN_SURFACE,1],[Je.SURFACE_GEOMETRY_UPDATES,1],[Je.LOD_RENDERER,2],[Je.GRAPHICS_CORE,2],[Je.I3S_CONTROLLER,2],[Je.POINT_CLOUD_LAYER,2],[Je.FEATURE_TILE_FETCHER,2],[Je.OVERLAY,4],[Je.STAGE,4],[Je.GRAPHICS_DECONFLICTOR,4],[Je.FILTER_VISIBILITY,4],[Je.SCALE_VISIBILITY,4],[Je.FRUSTUM_VISIBILITY,4],[Je.CLOUDS_GENERATOR,4],[Je.POINT_OF_INTEREST_FREQUENT,6],[Je.POINT_OF_INTEREST_INFREQUENT,30],[Je.LABELER,8],[Je.FEATURE_QUERY_ENGINE,8],[Je.FEATURE_TILE_TREE,16],[Je.FEATURE_TILE_TREE_ACTIVE,Fl],[Je.ELEVATION_ALIGNMENT,12],[Je.TEXT_TEXTURE_ATLAS,12],[Je.TEXTURE_UNLOAD,12],[Je.LINE_OF_SIGHT_TOOL,16],[Je.LINE_OF_SIGHT_TOOL_INTERACTIVE,Fl],[Je.SNAPPING,Fl],[Je.SHADOW_ACCUMULATOR,30]]);function d7(e){return u7.has(e)?u7.get(e):typeof e=="number"?e:1}const h7=6.5,p7=1,l8e=30,f7=1e3/30,m7=100,g7=.9;var hP,up;(function(e){class t{get updating(){return this._updating.get()}_updatingChanged(){this._updating.set(this._tasks.some(s=>s.needsUpdate))}constructor(){this._updating=new DI(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new R1("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new n,this._state=Rs.INTERACTING,this._tasks=new vh,this._runQueue=new vh,this._load=0,this._idleStateCallbacks=new vh,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=X(()=>o8e.SCHEDULER_LOG_SLOW_TASKS,a=>this._debug=a,gt);for(const a of Object.keys(Je))this.performanceInfo.tasks.set(Je[a],new R1(Je[a]));const s=this;this._test={FRAME_SAFETY_BUDGET:h7,INTERACTING_BUDGET:f7,IDLE_BUDGET:m7,get availableBudget(){return s._budget.budget},usedBudget:0,getBudget:()=>s._budget,setBudget:a=>s._budget=a,updateTask:a=>this._updateTask(a),getState:a=>this._getState(a),getRuntime:a=>this._getRuntime(a),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(s=>s.remove()),this._tasks.clear(),Hi(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(s){this._updatingChanged(),s&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this.frame())}))}registerTask(s,a){const o=d7(s),l=new i(this,s,a,o);return this._tasks.push(l),this._updatingChanged(),this.performanceInfo.tasks.has(s)||this.performanceInfo.tasks.set(s,new R1(s)),l}registerIdleStateCallbacks(s,a){const o={idleBegin:s,idleEnd:a};this._idleStateCallbacks.push(o),this.state===Rs.IDLE&&this._idleUpdatesStartFired&&o.idleBegin();const l=this;return{remove:()=>this._removeIdleStateCallbacks(o),set idleBegin(c){l._idleUpdatesStartFired&&(o.idleEnd(),l._state===Rs.IDLE&&c()),o.idleBegin=c},set idleEnd(c){o.idleEnd=c}}}get load(){return this._load}set state(s){this._state!==s&&(this._state=s,this.state!==Rs.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(a=>a.idleEnd())))}get state(){return this._state}updateBudget(s){this._test.usedBudget=0,++this._frameNumber;let a=h7,o=s.frameDuration,l=p7;switch(this.state){case Rs.IDLE:a=0,o=Math.max(m7,s.frameDuration),l=l8e;break;case Rs.INTERACTING:o=Math.max(f7,s.frameDuration);case Rs.ANIMATING:}return o=o-s.elapsedFrameTime-a,this.state!==Rs.IDLE&&o<p7&&!this._forceTask?(this._forceTask=!0,!1):(o=Math.max(o,l),this._budget.reset(o,this.state),this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case Rs.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(s=>s.idleBegin())),this._runIdle();break;case Rs.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(s){this._idleUpdatesStartFired&&s.idleEnd(),this._idleStateCallbacks.removeUnordered(s)}removeTask(s){this._tasks.removeUnordered(s),this._runQueue.removeUnordered(s),this._updatingChanged()}_updateTask(s){this._tasks.forAll(a=>{a.name===s&&a.setPriority(s)})}_getState(s){if(this._runQueue.some(o=>o.name===s))return up.SCHEDULED;let a=up.IDLE;return this._tasks.forAll(o=>{o.name===s&&o.needsUpdate&&(o.schedulePriority<=1?a=up.READY:a!==up.READY&&(a=up.WAITING))}),a}_getRuntime(s){let a=0;return this._tasks.forAll(o=>{o.name===s&&(a+=o.runtime)}),a}_resetRuntimes(){this._tasks.forAll(s=>s.runtime=0)}_getRunning(){const s=new Map;if(this._tasks.forAll(o=>{o.needsUpdate&&s.set(o.name,(s.get(o.name)||0)+1)}),s.size===0)return null;let a="";return s.forEach((o,l)=>{a+=o>1?` ${o}x ${l}`:` ${l}`}),a}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const s=this._tasks.reduce((a,o)=>o.needsUpdate?++a:a,0);this._load=this._load*g7+s*(1-g7)}_schedule(){for(this._runQueue.filterInPlace(s=>!!s.needsUpdate||(s.schedulePriority=s.basePriority,!1)),this._tasks.forAll(s=>{s.basePriority===Fl&&s.needsUpdate&&!this._runQueue.includes(s)&&s.blockFrame!==this._frameNumber&&this._runQueue.unshift(s)});this._runQueue.length===0;){let s=!1,a=0;if(this._tasks.forAll(o=>{o.needsUpdate&&o.schedulePriority!==0&&o.basePriority!==Fl&&o.blockFrame!==this._frameNumber&&(s=!0,a=Math.max(a,o.basePriority),o.schedulePriority===1?(o.schedulePriority=0,this._runQueue.push(o)):--o.schedulePriority)}),!s)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){const s=this._budget.now();this._startFrameTaskTimes();do for(;this._runQueue.length>0;){const a=this._budget.now(),o=this._runQueue.pop();this._budget.resetProgress();try{o.task.runTask(this._budget)===dP.YIELD&&(o.blockFrame=this._frameNumber)}catch(c){Y.getLogger("esri.views.support.Scheduler").error(`Exception in task "${o.name}"`,c)}!this._budget.hasProgressed&&o.blockFrame!==this._frameNumber&&o.needsUpdate&&(o.name,Je.I3S_CONTROLLER,o.blockFrame=this._frameNumber),o.schedulePriority=o.basePriority;const l=this._budget.now()-a;if(o.runtime+=l,this._frameTaskTimes.set(o.priority,this._frameTaskTimes.get(o.priority)+l),this._debug&&l>2*this._budget.budget&&console.log("Task",o.name,"used",l,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this._updatingChanged(),void this._recordFrameTaskTimes(this._budget.now()-s)}while(this._schedule());this._updatingChanged(),this._recordFrameTaskTimes(this._budget.now()-s)}_startFrameTaskTimes(){for(const s of Object.keys(Je))this._frameTaskTimes.set(Je[s],0)}_recordFrameTaskTimes(s){this._frameTaskTimes.forEach((a,o)=>this.performanceInfo.tasks.get(o).record(a)),this.performanceInfo.total.record(s)}get test(){return this._test}}e.Scheduler=t;class i{get task(){return this._task.get()}get updating(){return this._queue.running}constructor(s,a,o,l){this._scheduler=s,this.name=a,this._basePriority=l,this.blockFrame=0,this.runtime=0,this._queue=new a8e,this._handles=new vs,this.schedulePriority=this._basePriority,this._task=new DI($(o)?o:this._queue),this._handles.add(io(()=>this.task.running,c=>s.taskRunningChanged(c)))}remove(){this.processQueue(kae),this._scheduler.removeTask(this),this.schedule=pP.schedule,this.reschedule=pP.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(s){this.name=s;const a=d7(s);this._basePriority!==Fl&&this.schedulePriority===0||(this.schedulePriority=a),this._basePriority=a}get priority(){return this.name}set priority(s){this.setPriority(s)}get needsUpdate(){return this.updating||this.task.running}schedule(s,a,o){return this._queue.push(s,a,o)}reschedule(s,a,o){return this._queue.unshift(s,a,o)}processQueue(s){this._queue.runTask(s)}}class n{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=Rs.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(s){return!this.done&&(s()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(s){this._enabled=s}reset(s,a){this._begin=this.now(),this._budget=s,this._state=a,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return performance.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=n})(hP||(hP={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(up||(up={}));const kae=(()=>{const e=new hP.Budget;return e.enabled=!1,e})();let c8e=class{remove(){}processQueue(){}schedule(t,i,n){try{if(Qs(i)){const r=ui();return n?Promise.resolve(n(r)):Promise.reject(r)}return ED(t(kae))}catch(r){return Promise.reject(r)}}reschedule(t,i,n){return this.schedule(t,i,n)}};const pP=new c8e;let s1=class extends ve{constructor(t,i){super({}),this._stage=t,this._textureRequests=new Map,this._frameTask=(i==null?void 0:i.registerTask(Je.TEXTURE_UNLOAD))??pP}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(t=>this._releaseTextureRequest(t)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(t,i,n){const r=this.makeUid(t);let s=this._textureRequests.get(r);if(!s){const a=i();s={referenceCount:0,texture:a,textureAsync:null,abortController:null,onRemove:n},this._stage&&(this._stage.add(a),this._stage.loadImmediate(a)),this._textureRequests.set(r,s)}return s.referenceCount++,{uid:r,texture:s.texture,release:()=>this._release(r)}}_release(t){const i=this._textureRequests.get(t);i?(i.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+t),i.referenceCount--,i.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(t))):console.warn(`TextureCollection: texture doesn't exist: '${t}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(t){if(!this._textureRequests)return;const i=this._textureRequests.get(t);!i||i.referenceCount>0||(this._releaseTextureRequest(i),this._textureRequests.delete(t))}_releaseTextureRequest(t){var i;t.onRemove&&t.onRemove(),t.texture?(i=this._stage)==null||i.remove(t.texture):t.abortController&&(t.abortController.abort(),t.abortController=null)}makeUid(t,i=null){return $(i)?`${t}.${i}px`:t}};u([d()],s1.prototype,"_frameTask",void 0),u([d()],s1.prototype,"updating",null),s1=u([I("esri.views.3d.support.TextureCollection")],s1);var y7;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(y7||(y7={}));const Iae=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],Cae={};function Tae(e){return!!Cae[e]}function u8e(e){for(const t of e)if(!Tae(t))return!1;return!0}Iae.forEach(e=>{Cae[e]=!0});let d8e=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:i,priority:n},r)=>{var s;return(s=this.inputManager)==null?void 0:s.installHandlers(r,[i],n)})}disconnect(){this.inputManager&&this._handlers.forEach((t,i)=>{var n;return(n=this.inputManager)==null?void 0:n.uninstallHandlers(i)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,i,n,r){const s=Array.isArray(t)?t:t.split(",");if(!u8e(s))return s.some(Tae)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let a,o;Array.isArray(i)?o=i:(a=i,o=[]),typeof n=="function"?a=n:r=n,r=r??xh.DEFAULT;const l=this._createUniqueGroupName(),c=new h8e(this.view,s,o,a);this._handlers.set(l,{handler:c,priority:r});for(const h of s){const p=this._handlerCounts.get(h)||0;this._handlerCounts.set(h,p+1)}return this.inputManager&&this.inputManager.installHandlers(l,[c],r),{remove:()=>this._removeHandler(l,s)}}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,i){if(this._handlers.has(t)){this._handlers.delete(t);for(const n of i){const r=this._handlerCounts.get(n);r===void 0?console.error("Trying to remove handler for event that has no handlers registered: ",n):r===1?this._handlerCounts.delete(n):this._handlerCounts.set(n,r-1)}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},h8e=class extends _n{constructor(t,i,n,r){super(!0),this._latestDragStart=void 0,this.view=t;for(const s of i)switch(s){case"click":this.registerIncoming("click",n,a=>r(this._wrapClick(a)));break;case"double-click":this.registerIncoming("double-click",n,a=>r(this._wrapDoubleClick(a)));break;case"immediate-click":this.registerIncoming("immediate-click",n,a=>r(this._wrapImmediateClick(a)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,a=>r(this._wrapImmediateDoubleClick(a)));break;case"hold":this.registerIncoming("hold",n,a=>r(this._wrapHold(a)));break;case"drag":this.registerIncoming("drag",n,a=>{const o=this._wrapDrag(a);o&&r(o)});break;case"key-down":this.registerIncoming("key-down",n,a=>r(this._wrapKeyDown(a)));break;case"key-up":this.registerIncoming("key-up",n,a=>r(this._wrapKeyUp(a)));break;case"pointer-down":this.registerIncoming("pointer-down",n,a=>r(this._wrapPointer(a,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",n,a=>r(this._wrapPointer(a,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",n,a=>r(this._wrapPointer(a,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,a=>r(this._wrapPointerDrag(a)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,a=>r(this._wrapMouseWheel(a)));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,a=>r(this._wrapPointer(a,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,a=>r(this._wrapPointer(a,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",n,a=>{r(this._wrapGamepad(a))});break;case"focus":this.registerIncoming("focus",n,a=>{r(this._wrapFocus(a))});break;case"blur":this.registerIncoming("blur",n,a=>{r(this._wrapBlur(a))})}}_wrapFocus(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:i=>t.async(i),preventDefault:()=>t.preventDefault()}}_wrapBlur(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:i=>t.async(i),preventDefault:()=>t.preventDefault()}}_wrapClick(t){const{pointerType:i,button:n,buttons:r,x:s,y:a,native:o,eventId:l}=t.data,{cancelable:c,timestamp:h}=t;return{type:"click",pointerType:i,button:n,buttons:r,x:s,y:a,native:o,timestamp:h,screenPoint:Rr(s,a),mapPoint:this._getMapPoint(s,a),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}_wrapDoubleClick(t){const{pointerType:i,button:n,buttons:r,x:s,y:a,native:o,eventId:l}=t.data,{cancelable:c,timestamp:h}=t;return{type:"double-click",pointerType:i,button:n,buttons:r,x:s,y:a,native:o,timestamp:h,mapPoint:this._getMapPoint(s,a),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}_wrapImmediateClick(t){const{pointerType:i,button:n,buttons:r,x:s,y:a,native:o,eventId:l}=t.data,c=o.pointerId,{cancelable:h,timestamp:p}=t;return{type:"immediate-click",pointerId:c,pointerType:i,button:n,buttons:r,x:s,y:a,native:o,timestamp:p,mapPoint:this._getMapPoint(s,a),eventId:l,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}_wrapImmediateDoubleClick(t){const{pointerType:i,button:n,buttons:r,x:s,y:a,native:o,eventId:l}=t.data,c=o.pointerId,{cancelable:h,timestamp:p}=t;return{type:"immediate-double-click",pointerId:c,pointerType:i,button:n,buttons:r,x:s,y:a,native:o,timestamp:p,mapPoint:this._getMapPoint(s,a),eventId:l,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}_wrapHold(t){const{pointerType:i,button:n,buttons:r,x:s,y:a,native:o}=t.data,{cancelable:l,timestamp:c}=t;return{type:"hold",pointerType:i,button:n,buttons:r,x:s,y:a,native:o,timestamp:c,mapPoint:this._getMapPoint(s,a),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:h=>t.async(h),preventDefault:()=>t.preventDefault()}}_getMapPoint(t,i){return this.view.toMap(Rr(t,i),{exclude:[]})}_wrapDrag(t){const i=t.data,{x:n,y:r}=i.center,{action:s,pointerType:a,button:o}=i;if(s==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const l=i.pointer.native,c=i.buttons,{cancelable:h,timestamp:p}=t,m={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return s==="end"&&(this._latestDragStart=void 0),{type:"drag",action:s,x:n,y:r,origin:m,pointerType:a,button:o,buttons:c,radius:i.radius,angle:lee(i.angle),native:l,timestamp:p,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}_wrapKeyDown(t){const{key:i,repeat:n,native:r}=t.data,{cancelable:s,timestamp:a}=t;return{type:"key-down",key:i,repeat:n,native:r,timestamp:a,cancelable:s,stopPropagation:()=>t.stopPropagation(),async:o=>t.async(o),preventDefault:()=>t.preventDefault()}}_wrapKeyUp(t){const{key:i,native:n}=t.data,{cancelable:r,timestamp:s}=t;return{type:"key-up",key:i,native:n,timestamp:s,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:a=>t.async(a),preventDefault:()=>t.preventDefault()}}_wrapPointer(t,i){const{x:n,y:r,button:s,buttons:a,native:o,eventId:l}=t.data,c=o.pointerId,h=o.pointerType,{cancelable:p,timestamp:m}=t;return{type:i,x:n,y:r,pointerId:c,pointerType:h,button:s,buttons:a,native:o,timestamp:m,eventId:l,cancelable:p,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}_wrapPointerDrag(t){const{x:i,y:n,buttons:r,native:s,eventId:a}=t.data.currentEvent,{button:o}=t.data.startEvent,l=t.data.startEvent.native.pointerId,c=t.data.startEvent.native.pointerType,h=t.data.action,p={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:m,timestamp:g}=t;return{type:"pointer-drag",x:i,y:n,pointerId:l,pointerType:c,button:o,buttons:r,action:h,origin:p,native:s,timestamp:g,eventId:a,cancelable:m,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}_wrapMouseWheel(t){const{cancelable:i,data:n,timestamp:r}=t,{x:s,y:a,deltaY:o,native:l}=n;return{type:"mouse-wheel",x:s,y:a,deltaY:o,native:l,timestamp:r,cancelable:i,stopPropagation:()=>t.stopPropagation(),async:c=>t.async(c),preventDefault:()=>t.preventDefault()}}_wrapGamepad(t){const{action:i,state:n,device:r}=t.data,{cancelable:s,timestamp:a}=t,{buttons:o,axes:l}=n;return{type:"gamepad",device:r,timestamp:a,action:i,buttons:o,axes:l,cancelable:s,stopPropagation:()=>t.stopPropagation(),async:c=>t.async(c),preventDefault:()=>t.preventDefault()}}};var s_,v7,b7;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(s_||(s_={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(v7||(v7={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(b7||(b7={}));function p8e(e){return[e.on("before-add",t=>{const i=t.item;if(i==null||e.includes(i))return Y.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();i.onAdd()}),e.on("after-remove",t=>{const i=t.item;i.active&&(i.view.activeTool=null),i.destroy()})]}function fP(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(s_.USER)&&e.getEditableFlag(s_.MANAGER)}function Tl(e){return Rr(e.x,e.y)}function $ae(e,t){var n;const i=(n=e instanceof HTMLElement?e:e.surface)==null?void 0:n.getBoundingClientRect();return i?Rr(t.clientX-i.left,t.clientY-i.top):Rr(0,0)}function w7(e,t){return t instanceof Event?$ae(e,t):Tl(t)}function _7(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let f8e=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(t,i){const n=()=>t.stopPropagation();switch(t.type){case"pointer-move":x7(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(n(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!S7(t))break;const r=Tl(t),s=this._intersect(r,t.pointerType,i.forEachTool);if(j(s))break;const a=s.manipulator,o=s.tool;!($(a)&&$(o)&&a.interactive)||a.grabbable&&a.grabbableForEvent(t)||!a.grabbing||a.dragging||this._ungrabManipulatorBeforeDragging(a,t,i),$(a)&&$(o)&&a.interactive&&a.grabbable&&a.grabbableForEvent(t)&&!a.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:a,tool:o,start:r,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&j(i.activeTool)&&(this._revertToNullActiveTool=!0,i.setActiveTool(s.tool)),a.grabbing=!0,a.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:r}),n());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,i);break;case"pointer-drag":{if(!S7(t))break;const r=this._grabbedManipulators.get(t.pointerId),s=nh(r,({manipulator:h})=>h),a=nh(r,({tool:h})=>h);if(j(s)||j(a))break;const o=Tl(t);o.x=fs(o.x,0,i.view.width),o.y=fs(o.y,0,i.view.height);const l=r.start,c=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,c?s.events.emit("drag",{action:"update",start:l,screenPoint:o}):s.events.emit("drag",{action:"start",start:l,screenPoint:o,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:a,manipulator:s,start:l}));break;case"end":s.dragging=!1,c&&s.events.emit("drag",{action:"end",start:l,screenPoint:o}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,i)}n();break}case"immediate-click":{const r=Tl(t),s=this._intersect(r,t.pointerType,i.forEachTool);if(m8e(t)||i.forEachTool(c=>{if((!$(s)||s.tool!==c||c.automaticManipulatorSelection)&&c.manipulators){let h=!1;c.manipulators.forEach(({manipulator:p})=>{p.selected&&(p.selected=!1,h=!0)}),h&&c.onManipulatorSelectionChanged&&c.onManipulatorSelectionChanged()}}),j(s))break;const{manipulator:a,tool:o}=s;if(!a.interactive)break;a.selectable&&o.automaticManipulatorSelection&&(a.selected=!a.selected,o.onManipulatorSelectionChanged&&o.onManipulatorSelectionChanged());const l=t.native.shiftKey;a.events.emit("immediate-click",{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:l,stopPropagation:n});break}case"click":{const r=Tl(t),s=this._intersect(r,t.pointerType,i.forEachTool),a=$(s)?s.manipulator:null;if(j(a)||!a.interactive)break;const o=t.native.shiftKey;a.events.emit(t.type,{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:o}),n();break}case"double-click":{const r=Tl(t),s=this._intersect(r,t.pointerType,i.forEachTool),a=$(s)?s.manipulator:null;if(j(a)||!a.interactive)break;const o=t.native.shiftKey;a.events.emit("double-click",{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:o,stopPropagation:n});break}case"immediate-double-click":{const r=Tl(t),s=this._intersect(r,t.pointerType,i.forEachTool),a=$(s)?s.manipulator:null;if(j(a)||!a.interactive)break;const o=t.native.shiftKey;a.events.emit("immediate-double-click",{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:o,stopPropagation:n});break}}this._onFocusChange(i.forEachTool)}_ungrabManipulatorBeforeDragging(t,i,n){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:Tl(i)}),this._grabbedManipulators.forEach(({manipulator:r},s)=>{r===t&&this._grabbedManipulators.delete(s)}),this._afterManipulatorUngrab(n.setActiveTool)}_handlePointerEnd(t,i){const n=nh(this._grabbedManipulators.get(t.pointerId),({manipulator:r})=>r);j(n)||n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Tl(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorUngrab(i.setActiveTool))}_cursorFromMap(t){let i=null;return TC(t,({manipulator:n})=>!(j(n)||!n.interactive)&&(n.grabbing&&n.grabCursor?(i=n.grabCursor,!0):!!n.cursor&&(i=n.cursor,!0))),i}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const i=new Set,n=new Set;this._grabbedManipulators.forEach(({tool:r})=>{i.add(r)}),this._hoveredManipulators.forEach(({tool:r})=>{n.add(r)}),t(r=>{r.hasGrabbedManipulators=i.has(r),r.hasHoveredManipulators=n.has(r);const s=this._grabbedManipulators.values(),a=wxe(s,({tool:o})=>o===r);r.firstGrabbedManipulator=$(a)?a.manipulator:null})}clearPointers(t,{forEachTool:i,setActiveTool:n},r=!0,s){const a=(o,l)=>o===t&&(j(s)||s===l);this._grabbedManipulators.forEach(({tool:o,manipulator:l,pointerType:c},h)=>{a(o,l)&&(this._grabbedManipulators.delete(h),l.grabbing=!1,l.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:c}))}),this._draggedManipulators.forEach(({tool:o,manipulator:l},c)=>{a(o,l)&&(this._draggedManipulators.delete(c),l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}),r&&this._hoveredManipulators.forEach(({tool:o,manipulator:l},c)=>{a(o,l)&&(this._hoveredManipulators.delete(c),l.hovering=!1)}),this._afterManipulatorUngrab(n),this._onFocusChange(i)}_intersect(t,i,n){let r=null;return n(s=>{if(s.manipulators==null||!fP(s))return!1;const a=s.manipulators.intersect(t,i);return!j(a)&&(r={tool:s,manipulator:a},!0)}),r}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((i,n)=>{this._updateHoveredStateForPointerAtScreenPosition(Rr(i.x,i.y),n,i.pointerType,t)})}handleHoverEvent(t,i){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!x7(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Tl(t),t.pointerId,t.pointerType,i)}_updateHoveredStateForPointerAtScreenPosition(t,i,n,r){let s=this._intersect(t,n,r);const a=nh(this._hoveredManipulators.get(i),({manipulator:o})=>o);$(s)&&!s.manipulator.interactive&&(s=null),$(s)&&a===s.manipulator||($(a)&&(a.hovering=!1),$(s)?(s.manipulator.hovering=!0,this._hoveredManipulators.set(i,s)):this._hoveredManipulators.delete(i),this._onFocusChange(r))}_afterManipulatorUngrab(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}};function x7(e){return e==="mouse"}function S7(e){return e.pointerType!=="mouse"||e.button===0}function m8e(e){return!!e.native.shiftKey}const E7="attached",bM="tools";let Pc=class extends bI{constructor(t){super(t),this._manipulatorState=new f8e,this.tools=new Ie,this.cursor=null,this._forEachTool=i=>{for(const n of this.tools.items)if(i(n))return}}initialize(){this.handles.add([this.view.on(Iae,t=>{this._handleInputEvent(t)},xh.TOOL),...p8e(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if($(t)&&!this.view.ready)return void Y.getLogger(this.declaredClass).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const i=this.activeTool;this._set("activeTool",t),$(i)&&i.deactivate(),$(t)&&t.activate(),this._removeIncompleteTools(t);for(const n of this.tools){this._updateToolEditableFlag(n);const r=fP(n);!j(this.activeTool)&&r||this._manipulatorState.clearPointers(n,this._manipulatorStateEventArgs,!r)}this._updateCursor()}get updating(){var t;return this.updatingHandles.updating||this.tools.some(i=>i.updating)||(((t=this.textures)==null?void 0:t.updating)??!1)}attach(){var t;this.view.type==="3d"?(this._set("textures",new s1(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([X(()=>{const{state:i}=this.view;return"camera"in i&&i.camera},()=>this._forEachManipulator(i=>i.onViewChange())),(t=this.view.elevationProvider)==null?void 0:t.on("elevation-change",i=>this._forEachManipulator(n=>n.onElevationChange(i))),j0(()=>this._set("textures",Si(this.textures)))],E7)):this.handles.add(X(()=>this.view.extent,()=>this._forEachManipulator(i=>i.onViewChange())))}detach(){$(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(E7)}_forEachManipulator(t){this._forEachTool(i=>{i.manipulators&&i.manipulators.forEach(({manipulator:n})=>t(n,i))})}_handleInputEvent(t){let i=!1;const n={...t,stopPropagation:()=>{i=!0,t.stopPropagation()}};$(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool(r=>{!i&&r.visible&&r.handleInputEvent(n)}),!i&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,this._manipulatorStateEventArgs),!i&&$(this.activeTool)&&this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(bM),this._forEachTool(t=>{if(t instanceof ve){const i=X(()=>[t.cursor,t.visible,t.editable],()=>{fP(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.handles.add(i,bM)}t.manipulators&&this.handles.add([t.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],bM)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){var i;(i=t.setEditableFlag)==null||i.call(t,s_.MANAGER,j(this.activeTool)||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;j(t)&&this._forEachTool(i=>!(!$(i.cursor)||!i.visible)&&(t=i.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(i=>(j(t)||i!==t)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}};u([d({constructOnly:!0,nonNullable:!0})],Pc.prototype,"view",void 0),u([d({readOnly:!0,nonNullable:!0})],Pc.prototype,"textures",void 0),u([d({value:null})],Pc.prototype,"activeTool",null),u([d({readOnly:!0,type:Ie})],Pc.prototype,"tools",void 0),u([d({readOnly:!0})],Pc.prototype,"cursor",void 0),u([d({readOnly:!0})],Pc.prototype,"updating",null),Pc=u([I("esri.views.ToolViewManager")],Pc);const g8e=Pc;let Gg=class extends ve{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":y8e.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return v8e[this.deviceType]}};u([d({nonNullable:!0,readOnly:!0})],Gg.prototype,"nativeIndex",void 0),u([d({type:String,readOnly:!0})],Gg.prototype,"deviceType",null),u([d({type:Number,readOnly:!0})],Gg.prototype,"axisThreshold",null),Gg=u([I("esri.views.input.gamepad.GamepadInputDevice")],Gg);const y8e=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),v8e={standard:.15,spacemouse:.025,unknown:0},oz=Gg;let a1=class extends ve{constructor(...t){super(...t),this.devices=new Ie,this.enabledFocusMode="document"}};u([d({type:Ie.ofType(oz),readOnly:!0})],a1.prototype,"devices",void 0),u([d({type:["document","view","none"]})],a1.prototype,"enabledFocusMode",void 0),a1=u([I("esri.views.input.gamepad.GamepadSettings")],a1);const b8e=a1;let bE=class extends ve{constructor(){super(...arguments),this.gamepad=new b8e}};u([d({readOnly:!0})],bE.prototype,"gamepad",void 0),bE=u([I("esri.views.input.Input")],bE);const w8e=bE;let Id=class extends ve{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};u([d({type:Boolean,nonNullable:!0})],Id.prototype,"enabled",void 0),u([d({type:oz})],Id.prototype,"device",void 0),u([d({type:["pan","zoom"],nonNullable:!0})],Id.prototype,"mode",void 0),u([d({type:["forward-down","forward-up"],nonNullable:!0})],Id.prototype,"tiltDirection",void 0),u([d({type:Number,nonNullable:!0})],Id.prototype,"velocityFactor",void 0),Id=u([I("esri.views.navigation.gamepad.GamepadSettings")],Id);const Aae=Id;let Qp=class extends ve{constructor(t){super(t),this.browserTouchPanEnabled=!0,this.gamepad=new Aae,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};u([d({type:Boolean})],Qp.prototype,"browserTouchPanEnabled",void 0),u([d({type:Aae,nonNullable:!0})],Qp.prototype,"gamepad",void 0),u([d({type:Boolean})],Qp.prototype,"momentumEnabled",void 0),u([d({type:Boolean})],Qp.prototype,"mouseWheelZoomEnabled",void 0),Qp=u([I("esri.views.navigation.Navigation")],Qp);const Mae=Qp;var k7;function _8e(e){var n;const t=e.url?rv(e.url):void 0;return!(((n=e.spatialReference)==null?void 0:n.vcsWkid)==null&&$(t)&&t.serverType==="ImageServer")&&Dae(e)&&e.heightModelInfo?e.heightModelInfo:x8e(e)?gT.deriveUnitFromSR(E8e,e.spatialReference):null}function Dae(e){return"heightModelInfo"in e}function Oae(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function x8e(e){return Oae(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):Rae(e)}function S8e(e){return e.layers!=null||Rae(e)||Oae(e)||Dae(e)}function Rae(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(k7||(k7={}));const E8e=new gT({heightModel:"gravity-related-height"});var PI;(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(PI||(PI={}));let mP,wM=null;async function k8e(e){wM||(wM=H(()=>import("./geometryServiceUtils.js"),[]).then(t=>mP=t)),await wM,gi(e)}async function Pae(e,t,i,n){if(!e)return null;const r=e.spatialReference;return vm()||Rh(r,t)?Pm(e,t):mP?mP.projectGeometry(e,t,i,n):(await Promise.race([k8e(n),bm(n)]),Pae(e,t,i,n))}let Ut=class extends ve{constructor(t){super(t),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Rk(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return $(this.userSpatialReference)?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return j(this.userSpatialReference)||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var n,r,s,a;const t=(n=this.map)==null?void 0:n.call(this),i=[];return $(this.priorityCollection)&&i.push(this.priorityCollection),i.push({parent:t==null?void 0:t.basemap,layers:(r=t==null?void 0:t.basemap)==null?void 0:r.baseLayers},{layers:t==null?void 0:t.layers},{parent:t==null?void 0:t.ground,layers:(s=t==null?void 0:t.ground)==null?void 0:s.layers},{parent:t==null?void 0:t.basemap,layers:(a=t==null?void 0:t.basemap)==null?void 0:a.referenceLayers}),i}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:t,updating:i}=this._allLayers;let n=null;for(const s of t){const a=this._getSupportedSpatialReferences(s);if(a.length>0){const o=this._narrowDownSpatialReferenceCandidates(n,a);$(o)&&(n=o)}if($(n)&&n.length===1)break}if(i&&(j(n)||n.length!==1))return{updating:!0};const r=this._pickSpatialReferenceCandidate(n);return{spatialReference:$(r)?r.spatialReference:null,viewingMode:$(r)?r.viewingMode:null,updating:!1}}get _tileInfoTask(){var n,r,s,a,o,l,c;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:t,updating:i}=this._collectLayers([{parent:(r=(n=this.map)==null?void 0:n.call(this))==null?void 0:r.basemap,layers:(o=(a=(s=this.map)==null?void 0:s.call(this))==null?void 0:a.basemap)==null?void 0:o.baseLayers},{layers:(c=(l=this.map)==null?void 0:l.call(this))==null?void 0:c.layers}]);if(t&&t.length>0&&"tileInfo"in t[0]){const h=t[0].tileInfo;return{tileInfo:h&&h.spatialReference.equals(this.spatialReference)?h:null,updating:!1}}return{updating:i}}get _heightModelInfoTask(){var n,r,s;if(!this.required.heightModelInfo||this.suspended&&((n=this._get("_heightModelInfoTask"))!=null&&n.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};const{layers:t,updating:i}=this._allLayers;for(const a of t)if(S8e(a)){const o=_8e(a);if(o)return{heightModelInfo:o,vcsWkid:(r=a.spatialReference)==null?void 0:r.vcsWkid,latestVcsWkid:(s=a.spatialReference)==null?void 0:s.latestVcsWkid,updating:!1}}return{updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=this._allLayers,i=t.updating,n=[];for(const r of t.layers){const s="fullExtents"in r&&r.fullExtents||($(r.fullExtent)?[r.fullExtent]:[]),a=this.requiresExtentInSpatialReference?null:s[0],o=s.find(l=>l.spatialReference.equals(this.spatialReference))??a;if(o)return{candidates:[{extent:o,layer:r}],updating:!1};if(this._getSupportedSpatialReferences(r).length>0)for(const l of s)n.push({extent:l,layer:r})}return{candidates:n,updating:i}}get _extentTask(){const{candidates:t,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(j(t)||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const n=this._pickExtentCandidate(t),r=this.spatialReference;return n.extent.equals(this._projectExtentTask.input)&&r.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:$(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:($(this._projectExtentTask.task)&&(this._projectExtentTask.task=Rk(this._projectExtentTask.task)),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:r.clone(),task:o4(async s=>{try{const a=await Pae(n.extent,r,n.layer.portalItem,s);this._projectExtentTask={...this._projectExtentTask,task:null,output:a}}catch{if(Qs(s))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,i){if(j(t))return i;const n=[],r=(s,a)=>$(s)?$(a)?s===a&&s:s:a;for(const s of t)for(const a of i){if(!s.spatialReference.equals(a.spatialReference))continue;const o=r(s.viewingMode,a.viewingMode);if(o!==!1){n.push({spatialReference:s.spatialReference,viewingMode:o});break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(t){const i=this.defaultSpatialReference;return j(t)||t.length<1?$(i)?{spatialReference:i,viewingMode:null}:null:($(i)&&t.length>1&&t.some(({spatialReference:n})=>n.equals(i))&&(t=t.filter(({spatialReference:n})=>n.equals(i))),t.length>1&&t.some(({viewingMode:n})=>n!==PI.Local)&&(t=t.filter(({viewingMode:n})=>n!==PI.Local)),t[0])}_getSupportedSpatialReferences(t){const i="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(i.length===0)return[];const n=[];for(const r of i){const s=this.getSpatialReferenceSupport({spatialReference:r,layer:t});if($(s)){const a=$(s.constraints)?s.constraints:[{spatialReference:r,viewingMode:null}];for(const{spatialReference:o,viewingMode:l}of a)(!this.requiresExtentInSpatialReference||j(this.userSpatialReference)||o.equals(this.userSpatialReference))&&n.push({spatialReference:o,viewingMode:l})}}return n}_pickExtentCandidate(t){const i=this.spatialReference;return t.find(({extent:n})=>i.equals(n.spatialReference))||t[0]}_collectLayers(t){var n;if(this._loadMaybe((n=this.map)==null?void 0:n.call(this))!=="loaded")return{layers:[],updating:!0};const i={layers:[],preloading:-1,updating:!1};for(const r of t)if(this._collectCollection(r,i),i.preloading===this.sourcePreloadCount)break;return{layers:i.layers,updating:i.updating}}_collectCollection(t,i){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const n of t.layers){switch(this._loadMaybe(n)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":i.updating||i.layers.push(n),"layers"in n&&this._collectCollection({layers:n.layers},i)}if(i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(()=>{}),"loading"):t.loadStatus:"loaded"}};u([d()],Ut.prototype,"required",void 0),u([d({constructOnly:!0})],Ut.prototype,"map",void 0),u([d({constructOnly:!0})],Ut.prototype,"getSpatialReferenceSupport",void 0),u([d()],Ut.prototype,"defaultSpatialReference",void 0),u([d()],Ut.prototype,"userSpatialReference",void 0),u([d()],Ut.prototype,"sourcePreloadCount",void 0),u([d()],Ut.prototype,"priorityCollection",void 0),u([d()],Ut.prototype,"requiresExtentInSpatialReference",void 0),u([d()],Ut.prototype,"suspended",void 0),u([d({readOnly:!0})],Ut.prototype,"ready",null),u([d({readOnly:!0})],Ut.prototype,"heightModelInfoReady",null),u([d({readOnly:!0})],Ut.prototype,"spatialReference",null),u([d({readOnly:!0})],Ut.prototype,"extent",null),u([d({readOnly:!0})],Ut.prototype,"heightModelInfo",null),u([d({readOnly:!0})],Ut.prototype,"vcsWkid",null),u([d({readOnly:!0})],Ut.prototype,"latestVcsWkid",null),u([d({readOnly:!0})],Ut.prototype,"viewingMode",null),u([d({readOnly:!0})],Ut.prototype,"tileInfo",null),u([d({readOnly:!0})],Ut.prototype,"mapCollections",null),u([d({readOnly:!0})],Ut.prototype,"_allLayers",null),u([d({readOnly:!0})],Ut.prototype,"_spatialReferenceTask",null),u([d({readOnly:!0})],Ut.prototype,"_tileInfoTask",null),u([d({readOnly:!0})],Ut.prototype,"_heightModelInfoTask",null),u([d({readOnly:!0})],Ut.prototype,"_extentCandidatesTask",null),u([d()],Ut.prototype,"_extentTask",null),u([d()],Ut.prototype,"_projectExtentTask",void 0),Ut=u([I("esri.views.support.DefaultsFromMap")],Ut);var wE;let ke=wE=class extends Yh(Ru.EventedMixin(JC(ve))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new Hw({getCollections:()=>{var t,i,n;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(i=this.groundView)==null?void 0:i.layerViews,this.layerViews,(n=this.basemapView)==null?void 0:n.referenceLayerViews]},getChildrenFunction:t=>t.layerViews}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new Wf,this.analyses=new RI,this.typeSpecificPreconditionsReady=!0,this.layerViews=new Ie,this.magnifier=new Eae,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.timeReference=new $0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new w8e,this.navigation=new Mae,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new d8e(this),this.persistableViewModels=new Ie,this._isValid=!1,this._readyCycleForced=!1,this._currentSpatialReference=null,this.handles.add(X(()=>this.preconditionsReady,t=>{var i,n;t?(this._currentSpatialReference=this.spatialReference,wE.views.add(this)):(this._currentSpatialReference=null,wE.views.remove(this)),this.notifyChange("spatialReference"),!t&&this.ready?((i=this.toolViewManager)==null||i.detach(),$(this.analysisViewManager)&&this.analysisViewManager.detach(),(n=this.layerViewManager)==null||n.clear(),this._teardown()):t&&!this.ready&&(this._startup(),$(this.analysisViewManager)&&this.analysisViewManager.attach(),this.toolViewManager.attach())},x0))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,VN(()=>this.ready)))),this.basemapView=new kd({view:this}),this.layerViewManager=new r8e({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new g8e({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([X(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},{sync:!0,initial:!0}),X(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},{sync:!0}),X(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let e=null;this.handles.add([X(()=>{var t;return(t=this.defaultsFromMap)==null?void 0:t.ready},t=>{var n;const i=((n=this.map)==null?void 0:n.allLayers.length)>0;if(t&&!this.spatialReference&&i){if($(e))return;const r=j0(()=>e=Rk(e));e=o4(async s=>{try{await PC(this.spatialReferenceWarningDelay,null,s)}catch{return}finally{e=null}Y.getLogger(this.declaredClass).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.handles.add(r,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Si(this.graphics),this.analyses=Si(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),Si(this.analysisViewManager),this.toolViewManager=Si(this.toolViewManager),this.layerViewManager=Si(this.layerViewManager),this.basemapView=Si(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const e=this.map;this.map=null,e==null||e.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Y.getLogger(this.declaredClass).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Ut({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:e=>this.getSpatialReferenceSupport(e),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Su.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._currentSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(Y.getLogger(this.declaredClass).warn("#map","The provided map is already destroyed",{map:e}),e=null),Su.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",e))}get spatialReference(){var t,i;let e=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return e&&((i=(t=this.defaultsFromMap)==null?void 0:t.required)!=null&&i.heightModelInfo)&&(e=e.clone(),e.vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),e}set spatialReference(e){const t=!vn(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){const e=this.toolViewManager?this.toolViewManager.cursor:null;return $(e)?e:this._cursor||"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(e){return this.layerViewManager.whenLayerView(e)}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}importLayerView(e){throw new N("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return $(this.getSpatialReferenceSupport({spatialReference:e}))}when(e,t){return this.isResolved()&&!this.ready&&Y.getLogger(this.declaredClass).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(io(()=>this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};ke.views=new Ie,u([d()],ke.prototype,"_userSpatialReference",void 0),u([d()],ke.prototype,"activeTool",null),u([d({readOnly:!0})],ke.prototype,"allLayerViews",void 0),u([d()],ke.prototype,"groundView",void 0),u([d()],ke.prototype,"animation",null),u([d()],ke.prototype,"basemapView",void 0),u([d()],ke.prototype,"center",null),u([d({readOnly:!0})],ke.prototype,"_defaultsFromMapSettings",null),u([d()],ke.prototype,"defaultsFromMap",null),u([d()],ke.prototype,"fatalError",void 0),u([d({type:Gt})],ke.prototype,"extent",null),u([d(uP(Wf,"graphics"))],ke.prototype,"graphics",void 0),u([d(uP(RI,"analyses"))],ke.prototype,"analyses",void 0),u([d({readOnly:!0,type:gT})],ke.prototype,"heightModelInfo",null),u([d({readOnly:!0})],ke.prototype,"interacting",null),u([d({readOnly:!0})],ke.prototype,"navigating",null),u([d({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],ke.prototype,"preconditionsReady",null),u([d({readOnly:!0})],ke.prototype,"typeSpecificPreconditionsReady",void 0),u([d({type:Ie,readOnly:!0})],ke.prototype,"layerViews",void 0),u([d()],ke.prototype,"resolution",null),u([d({type:Eae})],ke.prototype,"magnifier",void 0),u([d({value:null,type:IT})],ke.prototype,"map",null),u([d()],ke.prototype,"padding",void 0),u([d({readOnly:!0})],ke.prototype,"ready",void 0),u([d({type:je})],ke.prototype,"spatialReference",null),u([d()],ke.prototype,"spatialReferenceWarningDelay",void 0),u([d()],ke.prototype,"stationary",null),u([d({readOnly:!0})],ke.prototype,"supportsGround",void 0),u([d({type:oc})],ke.prototype,"timeExtent",void 0),u([d({type:$0,nonNullable:!0})],ke.prototype,"timeReference",void 0),u([d()],ke.prototype,"tools",null),u([d()],ke.prototype,"toolViewManager",void 0),u([d({readOnly:!0})],ke.prototype,"type",void 0),u([d({type:Number})],ke.prototype,"scale",void 0),u([d({readOnly:!0})],ke.prototype,"updating",void 0),u([d({readOnly:!0})],ke.prototype,"initialExtentRequired",void 0),u([d({readOnly:!0})],ke.prototype,"initialExtent",null),u([d()],ke.prototype,"cursor",null),u([d({readOnly:!0})],ke.prototype,"input",void 0),u([d({type:Mae,nonNullable:!0})],ke.prototype,"navigation",void 0),u([d()],ke.prototype,"layerViewManager",void 0),u([d()],ke.prototype,"analysisViewManager",void 0),u([d()],ke.prototype,"width",void 0),u([d()],ke.prototype,"height",void 0),u([d({readOnly:!0})],ke.prototype,"resizing",void 0),u([d({value:null,readOnly:!0})],ke.prototype,"size",null),u([d({readOnly:!0})],ke.prototype,"suspended",void 0),u([d({readOnly:!0})],ke.prototype,"viewEvents",void 0),u([d({readOnly:!0})],ke.prototype,"persistableViewModels",void 0),u([d()],ke.prototype,"_isValid",void 0),u([d()],ke.prototype,"_readyCycleForced",void 0),u([d()],ke.prototype,"_currentSpatialReference",void 0),ke=wE=u([I("esri.views.View")],ke);const I8e=ke;let Cd=class extends oI{constructor(t){super(t),this.state="running",this.target=null,this._dfd=null}initialize(){this.addResolvingPromise(new Promise((t,i)=>this._dfd={resolve:t,reject:i}))}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(t=this._dfd)==null||t.reject(new N("ViewAnimation stopped")))}finish(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(t=this._dfd)==null||t.resolve())}update(t,i){i||(i=Ou(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",i)}};u([d({readOnly:!0})],Cd.prototype,"done",null),u([d({readOnly:!0,type:String})],Cd.prototype,"state",void 0),u([d()],Cd.prototype,"target",void 0),Cd=u([I("esri.views.ViewAnimation")],Cd),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(Cd||(Cd={}));const gP=Cd;function Zd(e,t,i,n){const r=3*e,s=3*(i-e)-r,a=1-r-s,o=3*t,l=3*(n-t)-o,c=1-o-l;function h(y){return((a*y+s)*y+r)*y}function p(y){return((c*y+l)*y+o)*y}function m(y){return(3*a*y+2*s)*y+r}function g(y,b){let w,_,x,S,k,A;for(x=y,A=0;A<8;A++){if(S=h(x)-y,Math.abs(S)<b)return x;if(k=m(x),Math.abs(k)<1e-6)break;x-=S/k}if(w=0,_=1,x=y,x<w)return w;if(x>_)return _;for(;w<_;){if(S=h(x),Math.abs(S-y)<b)return x;y>S?w=x:_=x,x=.5*(_-w)+w}return x}return function(y,b=1e-6){return p(g(y,b))}}const C8e=/^cubic-bezier\((.*)\)/,$a={};function T8e(e){let t=$a[e]||null;if(!t){const i=C8e.exec(e);if(i){const n=i[1].split(",").map(r=>parseFloat(r.trim()));n.length!==4||n.some(r=>isNaN(r))||(t=Zd.apply(Zd,n))}}return t}$a.ease=Zd(.25,.1,.25,1),$a.linear=Zd(0,0,1,1),$a.easeIn=$a["ease-in"]=Zd(.42,0,1,1),$a.easeOut=$a["ease-out"]=Zd(0,0,.58,1),$a.easeInOut=$a["ease-in-out"]=Zd(.42,0,.58,1);function Sh(){return[1,0,0,1,0,0]}function $8e(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function A8e(e,t,i,n,r,s){return[e,t,i,n,r,s]}function M8e(e,t){return new Float64Array(e,t,6)}Object.freeze(Object.defineProperty({__proto__:null,clone:$8e,create:Sh,createView:M8e,fromValues:A8e},Symbol.toStringTag,{value:"Module"}));function a_(e,t){return e[0]=t[0],e[1]=t[1],e}function Tn(e,t,i){return e[0]=t,e[1]=i,e}function Lae(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function o_(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function Fae(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function Nae(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function D8e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function O8e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function R8e(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function P8e(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function L8e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function Y_(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function F8e(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e}function J_(e,t){const i=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(i*i+n*n)}function LI(e,t){const i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function FI(e){const t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function zae(e){const t=e[0],i=e[1];return t*t+i*i}function Vae(e,t){return e[0]=-t[0],e[1]=-t[1],e}function N8e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function yP(e,t){const i=t[0],n=t[1];let r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),e[0]=t[0]*r,e[1]=t[1]*r),e}function jae(e,t){return e[0]*t[0]+e[1]*t[1]}function Uae(e,t,i){const n=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=n,e}function z8e(e,t,i,n){const r=t[0],s=t[1];return e[0]=r+n*(i[0]-r),e[1]=s+n*(i[1]-s),e}function V8e(e,t){t=t||1;const i=2*HC()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e}function j8e(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[2]*r,e[1]=i[1]*n+i[3]*r,e}function Nl(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[2]*r+i[4],e[1]=i[1]*n+i[3]*r+i[5],e}function U8e(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[3]*r+i[6],e[1]=i[1]*n+i[4]*r+i[7],e}function B8e(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[4]*r+i[12],e[1]=i[1]*n+i[5]*r+i[13],e}function H8e(e,t,i,n){const r=t[0]-i[0],s=t[1]-i[1],a=Math.sin(n),o=Math.cos(n);return e[0]=r*o-s*a+i[0],e[1]=r*a+s*o+i[1],e}function G8e(e,t){const i=e[0],n=e[1],r=t[0],s=t[1];let a=i*i+n*n;a>0&&(a=1/Math.sqrt(a));let o=r*r+s*s;o>0&&(o=1/Math.sqrt(o));const l=(i*r+n*s)*a*o;return l>1?0:l<-1?Math.PI:Math.acos(l)}function q8e(e){return"vec2("+e[0]+", "+e[1]+")"}function W8e(e,t){return e[0]===t[0]&&e[1]===t[1]}function K8e(e,t){const i=e[0],n=e[1],r=t[0],s=t[1],a=ao();return Math.abs(i-r)<=a*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-s)<=a*Math.max(1,Math.abs(n),Math.abs(s))}function Y8e(e,t,i,n,r){let s=t[0]-i[0],a=t[1]-i[1];const o=(n[0]*s+n[1]*a)*(r-1);return s=n[0]*o,a=n[1]*o,e[0]=t[0]+s,e[1]=t[1]+a,e}const J8e=FI,lz=o_,Z8e=Fae,Q8e=Nae,X8e=J_,eVe=LI,tVe=zae;Object.freeze(Object.defineProperty({__proto__:null,add:Lae,angle:G8e,ceil:D8e,copy:a_,cross:Uae,dist:X8e,distance:J_,div:Q8e,divide:Nae,dot:jae,equals:K8e,exactEquals:W8e,floor:O8e,inverse:N8e,len:J8e,length:FI,lerp:z8e,max:P8e,min:R8e,mul:Z8e,multiply:Fae,negate:Vae,normalize:yP,projectAndScale:Y8e,random:V8e,rotate:H8e,round:L8e,scale:Y_,scaleAndAdd:F8e,set:Tn,sqrDist:eVe,sqrLen:tVe,squaredDistance:LI,squaredLength:zae,str:q8e,sub:lz,subtract:o_,transformMat2:j8e,transformMat2d:Nl,transformMat3:U8e,transformMat4:B8e},Symbol.toStringTag,{value:"Module"}));function Vi(){return[0,0]}function iVe(e){return[e[0],e[1]]}function Z_(e,t){return[e,t]}function nVe(e){const t=Vi(),i=Math.min(2,e.length);for(let n=0;n<i;++n)t[n]=e[n];return t}function rVe(e,t){return new Float64Array(e,t,2)}function Bae(){return Vi()}function Hae(){return Z_(1,1)}function Gae(){return Z_(1,0)}function qae(){return Z_(0,1)}const sVe=Bae(),aVe=Hae(),oVe=Gae(),lVe=qae();Object.freeze(Object.defineProperty({__proto__:null,ONES:aVe,UNIT_X:oVe,UNIT_Y:lVe,ZEROS:sVe,clone:iVe,create:Vi,createView:rVe,fromArray:nVe,fromValues:Z_,ones:Hae,unitX:Gae,unitY:qae,zeros:Bae},Symbol.toStringTag,{value:"Module"}));const Wae=96,Kae=39.37,cVe=180/Math.PI;function Yae(e){return e.wkid?e:e.spatialReference||je.WGS84}function cz(e,t){return t.type?Tn(e,t.x,t.y):a_(e,t)}function Jae(e){return B0(e)}function rw(e,t){const i=Math.max(1,t[0]),n=Math.max(1,t[1]);return Math.max(e.width/i,e.height/n)*vVe(e.spatialReference)}async function o1(e,t,i,n){let r,s;if(!e||Array.isArray(e)&&!e.length)return null;if(Ie.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const o=e.every(h=>"attributes"in h),l=e.some(h=>!h.geometry);let c=e;if(o&&l&&t&&t.allLayerViews){const h=new Map;for(const y of e){const b=y.layer,w=h.get(b)||[],_=y.attributes[b.objectIdField];_!=null&&w.push(_),h.set(b,w)}const p=[];h.forEach((y,b)=>{const w=t.allLayerViews.find(_=>_.layer.id===b.id);if(w&&"queryFeatures"in w){const _=b.createQuery();_.objectIds=y,_.returnGeometry=!0,p.push(w.queryFeatures(_))}});const m=await Promise.all(p),g=[];for(const y of m)if(y&&y.features&&y.features.length)for(const b of y.features)$(b.geometry)&&g.push(b.geometry);c=g}for(const h of c)n=await o1(h,t,i,n);return n}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")r=new Le(e);else if(e instanceof Hh)r=e;else if("geometry"in e){if(e.geometry)r=e.geometry;else if(e.layer){const o=e.layer,l=t.allLayerViews.find(c=>c.layer.id===o.id);if(l&&"queryFeatures"in l){const c=o.createQuery();c.objectIds=[e.attributes[o.objectIdField]],c.returnGeometry=!0;const h=await l.queryFeatures(c);r=EZ(h,"features",0,"geometry")}}}if(j(r)||(s=r.type==="point"?new Gt({xmin:r.x,ymin:r.y,xmax:r.x,ymax:r.y,spatialReference:r.spatialReference}):r.extent,!s))return null;vm()||Rh(s.spatialReference,i)||await bm();const a=Pm(s,i);return a?n=n?n.union(a):a:null}function uVe(e){if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&e.layer&&e.layer.minScale&&e.layer.maxScale){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every(t=>"layer"in t)){let t=0,i=0;for(const n of e){const r=n.layer;r&&r.minScale&&r.maxScale&&(t=r.minScale<t?r.minScale:t,i=r.maxScale>i?r.maxScale:i)}return t&&i?{min:t,max:i}:null}}}function _M(e,t){return vn(Yae(e),t)?e:Pm(e,t)}async function dVe(e,t){if(!e||!t)return new Wl({targetGeometry:new Le,scale:0,rotation:0});let i=t.spatialReference;const{constraints:n,padding:r,viewpoint:s,size:a}=t,o=[r?a[0]-r.left-r.right:a[0],r?a[1]-r.top-r.bottom:a[1]];let l=null;e instanceof Wl?l=e:e.viewpoint?l=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(l=e.target);let c=null;l&&l.targetGeometry?c=l.targetGeometry:e instanceof Gt?c=e:(e||e&&("center"in e||"extent"in e||"target"in e))&&(c=await o1(e.center,t,i)||await o1(e.extent,t,i)||await o1(e.target,t,i)||await o1(e,t,i)),!c&&s&&s.targetGeometry?c=s.targetGeometry:!c&&t.extent&&(c=t.extent),i||(i=Yae(t.spatialReference||t.extent||c)),vm()||vn(c.spatialReference,i)||Rh(c,i)||await bm();const h=_M(c.center?c.center:c,i);let p=0;if(l&&$(l.targetGeometry)&&l.targetGeometry.type==="point")p=l.scale;else if("scale"in e&&e.scale)p=e.scale;else if("zoom"in e&&e.zoom!==-1&&n&&n.effectiveLODs)p=n.zoomToScale(e.zoom);else if(Array.isArray(c)||c.type==="point"||c.type==="extent"&&c.width===0&&c.height===0){const b=_M(t.extent,i);p=$(b)?rw(b,o):t.extent?rw(t.extent,o):s.scale}else p=rw(_M(c.extent,i),o);const m=uVe(e);m&&(m.min&&m.min>p?p=m.min:m.max&&m.max<p&&(p=m.max));let g=0;l?g=l.rotation:e.hasOwnProperty("rotation")?g=e.rotation:s&&(g=s.rotation);let y=new Wl({targetGeometry:h,scale:p,rotation:g});return n&&(y=n.fit(y),n.constrainByGeometry(y),n.rotationEnabled||(y.rotation=g)),y}function rl(e,t){const i=e.targetGeometry,n=t.targetGeometry;return i.x=n.x,i.y=n.y,i.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function hVe(e,t,i){return i?Tn(e,.5*(t[0]-i.right+i.left),.5*(t[1]-i.bottom+i.top)):Y_(e,t,.5)}const pVe=function(){const e=Vi();return function(t,i,n){const r=i.targetGeometry;cz(e,r);const s=.5*cv(i);return t.xmin=e[0]-s*n[0],t.ymin=e[1]-s*n[1],t.xmax=e[0]+s*n[0],t.ymax=e[1]+s*n[1],t.spatialReference=r.spatialReference,t}}();function fVe(e,t,i,n,r){return vP(e,t,i.center),e.scale=rw(i,n),r&&r.constraints&&r.constraints.constrain(e),e}function mVe(e,t,i,n){return hz(e,t,i,n),rz(e,e)}const Zae=function(){const e=Vi();return function(t,i,n){return lz(t,bVe(t,i),hVe(e,i,n))}}(),gVe=function(){const e=Sh(),t=Vi();return function(i,n,r,s){const a=cv(n),o=uz(n);return Tn(t,a,a),yae(e,t),ET(e,e,o),n_(e,e,Zae(t,r,s)),n_(e,e,[0,s.top-s.bottom]),Tn(i,e[4],e[5])}}();function cv(e){return e.scale*yVe(e.targetGeometry)}function yVe(e){return $(e)&&Dn(e.spatialReference)?1/(Jae(e.spatialReference)*Kae*Wae):1}function uz(e){return mN(e.rotation)||0}function vVe(e){return Dn(e)?Jae(e)*Kae*Wae:1}function bVe(e,t){return Y_(e,t,.5)}const dz=function(){const e=Vi(),t=Vi(),i=Vi();return function(n,r,s,a,o,l){return Vae(e,r),Y_(t,s,.5*l),Tn(i,1/a*l,-1/a*l),az(n,t),o&&ET(n,n,o),sz(n,n,i),n_(n,n,e),n}}(),hz=function(){const e=Vi();return function(t,i,n,r){const s=cv(i),a=uz(i);return cz(e,i.targetGeometry),dz(t,e,n,s,a,r)}}(),wVe=function(){const e=Vi();return function(t,i,n,r){const s=cv(i);return cz(e,i.targetGeometry),dz(t,e,n,s,0,r)}}();function _Ve(e){const t=Qo(e);return t?t.valid[1]-t.valid[0]:0}function xVe(e,t){return Math.round(_Ve(e)/t)}const SVe=function(){const e=Vi(),t=Vi(),i=[0,0,0];return function(n,r,s){o_(e,n,r),yP(e,e),o_(t,n,s),yP(t,t),Uae(i,e,t);let a=Math.acos(jae(e,t)/(FI(e)*FI(t)))*cVe;return i[2]<0&&(a=-a),isNaN(a)&&(a=0),a}}(),EVe=function(){const e=Vi();return function(t,i,n,r){const s=t.targetGeometry;return rl(t,i),gVe(e,i,n,r),s.x+=e[0],s.y+=e[1],t}}(),vP=function(e,t,i){rl(e,t);const n=e.targetGeometry;return n.x=i.x,n.y=i.y,n.spatialReference=i.spatialReference,e},kVe=function(){const e=Vi();return function(t,i,n,r,s){s||(s="center"),lz(e,n,r),Y_(e,e,.5);const a=e[0],o=e[1];switch(s){case"center":Tn(e,0,0);break;case"left":Tn(e,-a,0);break;case"top":Tn(e,0,o);break;case"right":Tn(e,a,0);break;case"bottom":Tn(e,0,-o);break;case"top-left":Tn(e,-a,o);break;case"bottom-left":Tn(e,-a,-o);break;case"top-right":Tn(e,a,o);break;case"bottom-right":Tn(e,a,-o)}return CT(t,i,e),t}}();function xJe(e,t,i){return rl(e,t),e.rotation+=i,e}function IVe(e,t,i){return rl(e,t),e.rotation=i,e}const CVe=function(){const e=Vi();return function(t,i,n,r,s){return rl(t,i),isNaN(n)||n===0||(Xae(e,r,i,s),t.scale=i.scale*n,eoe(e,e,t,s),CT(t,t,Tn(e,e[0]-r[0],r[1]-e[1]))),t}}();function I7(e,t,i){return rl(e,t),e.scale=i,e}const Qae=function(){const e=Vi();return function(t,i,n,r,s,a){return rl(t,i),isNaN(n)||n===0||(Xae(e,s,i,a),t.scale=i.scale*n,t.rotation+=r,eoe(e,e,t,a),CT(t,t,Tn(e,e[0]-s[0],s[1]-e[1]))),t}}(),SJe=function(){const e=Vi(),t=Vi();return function(i,n,r,s,a,o,l){return Zae(t,o,l),Lae(e,a,t),s?Qae(i,n,r,s,e,o):CVe(i,n,r,e,o)}}(),Xae=function(){const e=Sh();return function(t,i,n,r){return Nl(t,i,mVe(e,n,r,1))}}(),eoe=function(){const e=Sh();return function(t,i,n,r){return Nl(t,i,hz(e,n,r,1))}}(),CT=function(){const e=Vi(),t=Sh();return function(i,n,r){rl(i,n);const s=cv(n),a=i.targetGeometry;return gae(t,uz(n)),sz(t,t,Z_(s,s)),Nl(e,r,t),a.x+=e[0],a.y+=e[1],i}}();let TVe=class{constructor(t,i,n,r){const s=t.targetGeometry,a=i.targetGeometry;r?typeof r=="string"&&(r=T8e(r)||$a.ease):r=$a.ease,this.easing=r,this.duration=n,this.sCenterX=s.x,this.sCenterY=s.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=a.x,this.tCenterY=a.y,this.tScale=i.scale,this.tRotation=i.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(t,i){const n=this.easing(i);let r,s,a,o;i>=1?(r=this.tCenterX,s=this.tCenterY,a=this.tRotation,o=this.tScale):(r=this.sCenterX+n*this.dCenterX,s=this.sCenterY+n*this.dCenterY,a=this.sRotation+n*this.dRotation,o=this.sScale+n*this.dScale),t.targetGeometry.x=r,t.targetGeometry.y=s,t.scale=o,t.rotation=a}},Lc=class extends ve{constructor(t){super(t),this.updateFunction=null,this.animation=null,this.duration=200,this.transition=null,this.easing=$a.ease,this.view=null,this.viewpoint=new Wl({targetGeometry:new Le,scale:0,rotation:0}),this._updateTask=h0({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask=Hi(this._updateTask)}animate(t,i,n){this.stop();const r=this.viewpoint;rl(r,i),this.transition=new TVe(this.viewpoint,t.target,n&&n.duration||this.duration,n&&n.easing||this.easing);const s=()=>{var a,o;this.animation===t&&this._updateTask&&(t.state==="finished"&&((a=this.transition)==null||a.applyRatio(this.viewpoint,1),(o=this.view)!=null&&o.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinous(t,i){this.stop(),this.updateFunction=i,this.viewpoint=t;const n=new gP({target:t.clone()}),r=()=>{this.animation===n&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return n.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){var n,r;const i=this.animation;if(i&&i.state!==gP.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime);else{const s=this.transition,a=(performance.now()-this._startTime)/s.duration,o=a>=1;s.applyRatio(this.viewpoint,a),o&&((n=this.animation)==null||n.finish())}(r=this.view)!=null&&r.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};u([d()],Lc.prototype,"animation",void 0),u([d()],Lc.prototype,"duration",void 0),u([d()],Lc.prototype,"transition",void 0),u([d()],Lc.prototype,"easing",void 0),u([d()],Lc.prototype,"view",void 0),u([d()],Lc.prototype,"viewpoint",void 0),Lc=u([I("esri.views.2d.AnimationManager")],Lc);const $Ve=Lc;let AVe=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions)},this.update=()=>{var o;this._updateRequested=!1;const{basemapView:i,graphicsView:n,labelManager:r,layerViews:s,state:{id:a}}=this.view;i==null||i.baseLayerViews.forEach(this._updateLayerView,this),s.forEach(this._updateLayerView,this),i==null||i.referenceLayerViews.forEach(this._updateLayerView,this),$(r)&&(r.lastUpdateId!==a&&(r.viewChange(),r.lastUpdateId=a),r.updateRequested&&r.processUpdate(this._updateParameters)),$(n)&&(n.lastUpdateId!==a&&(n.viewChange(),n.lastUpdateId=a),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||((o=this._frameTaskHandle)==null||o.pause())}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=X(()=>t.stationary,i=>{this.stationary=i,this.requestFrame()}),this._frameTaskHandle=h0(this),this.requestUpdate()}stop(){var t;this._frameTaskHandle&&(this._updateRequested=!1,(t=this._stationaryHandle)==null||t.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){if(!t.attached)return void this.requestUpdate();const i=this.view.state,n=t.lastUpdateId;n!=null&&(this.stationary||t.moving)||(t.moving=!0,t.moveStart()),n!==i.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=i.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews.forEach(this._updateLayerView,this)}};function Li(){return Promise.all([H(()=>import("./webglDeps.js"),["webglDeps.js","VertexArrayObject.js","Texture.js","ProgramTemplate.js","programUtils.js","NestedMap.js"]),H(()=>import("./mapViewDeps.js"),["mapViewDeps.js","MagnifierPrograms.js","_commonjsHelpers.js","WGLContainer.js","VertexArrayObject.js","Texture.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","Container.js","earcut.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","rasterizingUtils.js","imageutils.js","Matcher.js","visualVariablesUtils.js","visualVariablesUtils2.js","tileUtils.js","TurboLine.js","devEnvironmentUtils.js","CircularArray.js","webgl-debug.js","ComputedAttributeStorage.js","arcadeTimeUtils.js","executionError.js","centroid.js","BufferPool.js","programUtils.js","NestedMap.js","RenderingContext.js","OrderIndependentTransparency.js","basicInterfaces.js","doublePrecisionUtils.js","imageUtils2.js","GraphicsView2D.js","normalizeUtilsSync.js","projectionSupport.js","json.js","AttributeStoreView.js","TiledDisplayObject.js","schemaUtils.js","util.js","GraphicContainer.js","BaseGraphicContainer.js","FeatureContainer.js","TileContainer.js","vec3f32.js","requestImageUtils.js"])])}const eb=()=>Li().then(()=>H(()=>import("./TileLayerView2D.js"),["TileLayerView2D.js","MagnifierPrograms.js","_commonjsHelpers.js","WGLContainer.js","VertexArrayObject.js","Texture.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","Container.js","earcut.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","rasterizingUtils.js","imageutils.js","Matcher.js","visualVariablesUtils.js","visualVariablesUtils2.js","tileUtils.js","TurboLine.js","devEnvironmentUtils.js","CircularArray.js","webgl-debug.js","ComputedAttributeStorage.js","arcadeTimeUtils.js","executionError.js","centroid.js","BufferPool.js","OrderIndependentTransparency.js","basicInterfaces.js","GraphicsView2D.js","normalizeUtilsSync.js","projectionSupport.js","json.js","AttributeStoreView.js","TiledDisplayObject.js","schemaUtils.js","util.js","vec3f32.js","imageUtils3.js","BitmapTileContainer.js","Bitmap.js","TileContainer.js","LayerView.js","HighlightGraphicContainer.js","BaseGraphicContainer.js","FeatureContainer.js","RefreshableLayerView.js","drapedUtils.js","scaleUtils.js","floorFilterUtils.js","sublayerUtils.js","popupUtils.js"])),ng=()=>Li().then(()=>H(()=>import("./FeatureLayerView2D.js"),["FeatureLayerView2D.js","Container.js","Texture.js","LayerView.js","schemaUtils.js","color.js","utils.js","MaterialKey.js","visualVariablesUtils2.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","util.js","floorFilterUtils.js","popupUtils.js","RefreshableLayerView.js"])),C7={"base-dynamic":()=>Li().then(()=>H(()=>import("./BaseDynamicLayerView2D.js"),["BaseDynamicLayerView2D.js","BitmapContainer.js","WGLContainer.js","VertexArrayObject.js","Texture.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","Container.js","earcut.js","LayerView.js","ExportStrategy.js","Bitmap.js","RefreshableLayerView.js"])),"base-tile":eb,"bing-maps":eb,csv:ng,"geo-rss":()=>Li().then(()=>H(()=>import("./GeoRSSLayerView2D.js"),["GeoRSSLayerView2D.js","LayerView.js","Container.js","Texture.js","GraphicContainer.js","color.js","BaseGraphicContainer.js","FeatureContainer.js","AttributeStoreView.js","TiledDisplayObject.js","visualVariablesUtils.js","visualVariablesUtils2.js","VertexArrayObject.js","TileContainer.js","WGLContainer.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","earcut.js","vec3f32.js","GraphicsView2D.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","normalizeUtilsSync.js","projectionSupport.js","json.js","Matcher.js","tileUtils.js","TurboLine.js","devEnvironmentUtils.js","schemaUtils.js","util.js","ComputedAttributeStorage.js","arcadeTimeUtils.js","executionError.js","centroid.js"])),feature:ng,geojson:ng,graphics:()=>Li().then(()=>H(()=>import("./GraphicsLayerView2D.js"),["GraphicsLayerView2D.js","LayerView.js","Container.js","Texture.js","GraphicContainer.js","color.js","BaseGraphicContainer.js","FeatureContainer.js","AttributeStoreView.js","TiledDisplayObject.js","visualVariablesUtils.js","visualVariablesUtils2.js","VertexArrayObject.js","TileContainer.js","WGLContainer.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","earcut.js","vec3f32.js","GraphicsView2D.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","normalizeUtilsSync.js","projectionSupport.js","json.js","Matcher.js","tileUtils.js","TurboLine.js","devEnvironmentUtils.js","schemaUtils.js","util.js","ComputedAttributeStorage.js","arcadeTimeUtils.js","executionError.js","centroid.js"])),group:()=>Li().then(()=>H(()=>import("./GroupLayerView2D.js"),["GroupLayerView2D.js","GroupContainer.js","WGLContainer.js","VertexArrayObject.js","Texture.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","Container.js","earcut.js","LayerView.js"])),imagery:()=>Li().then(()=>H(()=>import("./ImageryLayerView2D.js"),["ImageryLayerView2D.js","RasterVFDisplayObject.js","VertexArrayObject.js","Texture.js","dataUtils.js","WGLContainer.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","Container.js","earcut.js","LayerView.js","GraphicsView2D.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","normalizeUtilsSync.js","projectionSupport.js","json.js","AttributeStoreView.js","TiledDisplayObject.js","visualVariablesUtils.js","visualVariablesUtils2.js","Matcher.js","tileUtils.js","TurboLine.js","devEnvironmentUtils.js","schemaUtils.js","util.js","ComputedAttributeStorage.js","arcadeTimeUtils.js","executionError.js","centroid.js","HighlightGraphicContainer.js","BaseGraphicContainer.js","FeatureContainer.js","TileContainer.js","vec3f32.js","BitmapContainer.js","Bitmap.js","ExportStrategy.js","rasterProjectionHelper.js","popupUtils.js","RefreshableLayerView.js"])),"imagery-tile":()=>Li().then(()=>H(()=>import("./ImageryTileLayerView2D.js"),["ImageryTileLayerView2D.js","multidimensionalUtils.js","RasterVFDisplayObject.js","VertexArrayObject.js","Texture.js","dataUtils.js","WGLContainer.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","Container.js","earcut.js","LayerView.js","rasterUtils.js","TiledDisplayObject.js","TileContainer.js","RawBlockCache.js","rasterProjectionHelper.js","util.js","popupUtils.js","RefreshableLayerView.js"])),kml:()=>Li().then(()=>H(()=>import("./KMLLayerView2D.js"),["KMLLayerView2D.js","kmlUtils.js","Bitmap.js","Container.js","Texture.js","BitmapContainer.js","WGLContainer.js","VertexArrayObject.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","earcut.js","LayerView.js","GraphicContainer.js","BaseGraphicContainer.js","FeatureContainer.js","AttributeStoreView.js","TiledDisplayObject.js","visualVariablesUtils.js","visualVariablesUtils2.js","TileContainer.js","vec3f32.js","GraphicsView2D.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","normalizeUtilsSync.js","projectionSupport.js","json.js","Matcher.js","tileUtils.js","TurboLine.js","devEnvironmentUtils.js","schemaUtils.js","util.js","ComputedAttributeStorage.js","arcadeTimeUtils.js","executionError.js","centroid.js","rasterProjectionHelper.js","RenderingContext.js","programUtils.js","NestedMap.js","OrderIndependentTransparency.js","basicInterfaces.js","doublePrecisionUtils.js","webgl-debug.js","rasterUtils.js"])),"knowledge-graph":()=>Li().then(()=>H(()=>import("./KnowledgeGraphLayerView2D.js"),["KnowledgeGraphLayerView2D.js","LayerView.js","Container.js","Texture.js"])),"link-chart":()=>Li().then(()=>H(()=>import("./KnowledgeGraphLayerView2D.js"),["KnowledgeGraphLayerView2D.js","LayerView.js","Container.js","Texture.js"])),"knowledge-graph-sublayer":ng,"map-image":()=>Li().then(()=>H(()=>import("./MapImageLayerView2D.js"),["MapImageLayerView2D.js","BitmapContainer.js","WGLContainer.js","VertexArrayObject.js","Texture.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","Container.js","earcut.js","LayerView.js","GraphicsView2D.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","normalizeUtilsSync.js","projectionSupport.js","json.js","AttributeStoreView.js","TiledDisplayObject.js","visualVariablesUtils.js","visualVariablesUtils2.js","Matcher.js","tileUtils.js","TurboLine.js","devEnvironmentUtils.js","schemaUtils.js","util.js","ComputedAttributeStorage.js","arcadeTimeUtils.js","executionError.js","centroid.js","HighlightGraphicContainer.js","BaseGraphicContainer.js","FeatureContainer.js","TileContainer.js","vec3f32.js","ExportStrategy.js","Bitmap.js","ExportImageParameters.js","floorFilterUtils.js","sublayerUtils.js","RefreshableLayerView.js","drapedUtils.js","scaleUtils.js","popupUtils.js"])),"map-notes":()=>Li().then(()=>H(()=>import("./MapNotesLayerView2D.js"),["MapNotesLayerView2D.js","Container.js","Texture.js","GroupContainer.js","WGLContainer.js","VertexArrayObject.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","earcut.js","LayerView.js","GraphicContainer.js","BaseGraphicContainer.js","FeatureContainer.js","AttributeStoreView.js","TiledDisplayObject.js","visualVariablesUtils.js","visualVariablesUtils2.js","TileContainer.js","vec3f32.js","GraphicsView2D.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","normalizeUtilsSync.js","projectionSupport.js","json.js","Matcher.js","tileUtils.js","TurboLine.js","devEnvironmentUtils.js","schemaUtils.js","util.js","ComputedAttributeStorage.js","arcadeTimeUtils.js","executionError.js","centroid.js"])),media:()=>Li().then(()=>H(()=>import("./MediaLayerView2D.js"),["MediaLayerView2D.js","perspectiveUtils.js","normalizeUtilsSync.js","mat3f64.js","MagnifierPrograms.js","_commonjsHelpers.js","WGLContainer.js","VertexArrayObject.js","Texture.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","Container.js","earcut.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","rasterizingUtils.js","imageutils.js","Matcher.js","visualVariablesUtils.js","visualVariablesUtils2.js","tileUtils.js","TurboLine.js","devEnvironmentUtils.js","CircularArray.js","webgl-debug.js","ComputedAttributeStorage.js","arcadeTimeUtils.js","executionError.js","centroid.js","BufferPool.js","OrderIndependentTransparency.js","basicInterfaces.js","GraphicsView2D.js","projectionSupport.js","json.js","AttributeStoreView.js","TiledDisplayObject.js","schemaUtils.js","util.js","vec3f32.js","LayerView.js"])),"ogc-feature":()=>Li().then(()=>H(()=>import("./OGCFeatureLayerView2D.js"),["OGCFeatureLayerView2D.js","FeatureLayerView2D.js","Container.js","Texture.js","LayerView.js","schemaUtils.js","color.js","utils.js","MaterialKey.js","visualVariablesUtils2.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","util.js","floorFilterUtils.js","popupUtils.js","RefreshableLayerView.js"])),"open-street-map":eb,"oriented-imagery":ng,route:()=>Li().then(()=>H(()=>import("./RouteLayerView2D.js"),["RouteLayerView2D.js","Stop.js","LayerView.js","Container.js","Texture.js","GraphicContainer.js","color.js","BaseGraphicContainer.js","FeatureContainer.js","AttributeStoreView.js","TiledDisplayObject.js","visualVariablesUtils.js","visualVariablesUtils2.js","VertexArrayObject.js","TileContainer.js","WGLContainer.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","earcut.js","vec3f32.js","GraphicsView2D.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","normalizeUtilsSync.js","projectionSupport.js","json.js","Matcher.js","tileUtils.js","TurboLine.js","devEnvironmentUtils.js","schemaUtils.js","util.js","ComputedAttributeStorage.js","arcadeTimeUtils.js","executionError.js","centroid.js"])),stream:()=>Li().then(()=>H(()=>import("./StreamLayerView2D.js"),["StreamLayerView2D.js","FeatureLayerView2D.js","Container.js","Texture.js","LayerView.js","schemaUtils.js","color.js","utils.js","MaterialKey.js","visualVariablesUtils2.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","util.js","floorFilterUtils.js","popupUtils.js","RefreshableLayerView.js"])),"subtype-group":()=>Li().then(()=>H(()=>import("./SubtypeGroupLayerView2D.js"),["SubtypeGroupLayerView2D.js","FeatureLayerView2D.js","Container.js","Texture.js","LayerView.js","schemaUtils.js","color.js","utils.js","MaterialKey.js","visualVariablesUtils2.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","util.js","floorFilterUtils.js","popupUtils.js","RefreshableLayerView.js"])),tile:eb,"vector-tile":()=>Li().then(()=>H(()=>import("./VectorTileLayerView2D.js"),["VectorTileLayerView2D.js","Rect.js","Texture.js","rasterizingUtils.js","floatRGBA.js","VertexArrayObject.js","config.js","TiledDisplayObject.js","Container.js","color.js","TileContainer.js","WGLContainer.js","ProgramTemplate.js","MaterialKey.js","utils.js","GeometryUtils.js","earcut.js","LayerView.js"])),wcs:()=>Li().then(()=>H(()=>import("./ImageryTileLayerView2D.js"),["ImageryTileLayerView2D.js","multidimensionalUtils.js","RasterVFDisplayObject.js","VertexArrayObject.js","Texture.js","dataUtils.js","WGLContainer.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","Container.js","earcut.js","LayerView.js","rasterUtils.js","TiledDisplayObject.js","TileContainer.js","RawBlockCache.js","rasterProjectionHelper.js","util.js","popupUtils.js","RefreshableLayerView.js"])),"web-tile":eb,wfs:ng,wms:()=>Li().then(()=>H(()=>import("./WMSLayerView2D.js"),["WMSLayerView2D.js","BitmapContainer.js","WGLContainer.js","VertexArrayObject.js","Texture.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","Container.js","earcut.js","LayerView.js","ExportStrategy.js","Bitmap.js","RefreshableLayerView.js","ExportWMSImageParameters.js"])),wmts:()=>Li().then(()=>H(()=>import("./WMTSLayerView2D.js"),["WMTSLayerView2D.js","imageUtils3.js","BitmapTileContainer.js","Bitmap.js","Container.js","Texture.js","TiledDisplayObject.js","WGLContainer.js","VertexArrayObject.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","earcut.js","TileContainer.js","LayerView.js","RefreshableLayerView.js"])),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function MVe(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new N(`${i}:view-not-supported`,`${t} is not supported in 2D`)}const T7={hasLayerViewModule:e=>$(C7[e.type]),importLayerView:e=>{const t=C7[e.type];if(j(t))throw MVe(e);return t(e)}};function DVe(e,t){const{spatialReference:i}=t,n=[t.x,t.y];let r=Number.POSITIVE_INFINITY,s=0,a=0;const o=[0,0],l=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const c of l)for(let h=0;h<c.length-1;h++){y2e(o,n,c,h);const p=J_(n,o);p<r&&(r=p,s=o[0],a=o[1])}return{coordinate:new Le({x:s,y:a,spatialReference:i}),distance:r}}var bP;let ff=bP=class extends hN(ve){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(j(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Pm(this.geometry,this.spatialReference)}catch(e){return Y.getLogger(this.declaredClass).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(j(this.normalizedGeometry))return e;const i=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?NC(this.normalizedGeometry,i):BQ(this.normalizedGeometry,i))return e;const{coordinate:n}=DVe(this.normalizedGeometry,i);return n&&(e.targetGeometry=n),e}clone(){var e,t;return new bP({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};u([d({constructOnly:!0})],ff.prototype,"geometry",void 0),u([d({readOnly:!0})],ff.prototype,"normalizedGeometry",null),u([d({constructOnly:!0})],ff.prototype,"spatialReference",void 0),ff=bP=u([I("esri.views.2d.constraints.GeometryConstraint")],ff);var wP;let l1=wP=class extends hN(ve){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new wP({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};u([d()],l1.prototype,"enabled",void 0),u([d()],l1.prototype,"rotationEnabled",void 0),l1=wP=u([I("esri.views.2d.constraints.RotationConstraint")],l1);const toe=l1;var _P;let is=_P=class extends hN(ve){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:i,maxScale:n,minZoom:r,maxZoom:s}=this,a=-1,o=-1,l=!1,c=!1;if(i!==0&&n!==0&&i<n&&([i,n]=[n,i]),!t||!t.length)return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",n);t=t.map(h=>h.clone()),t.sort((h,p)=>p.scale-h.scale),t.forEach((h,p)=>h.level=p);for(const h of t)!l&&i>0&&i>=h.scale&&(a=h.level,l=!0),!c&&n>0&&n>=h.scale&&(o=e?e.level:-1,c=!0),e=h;r===-1&&(r=i===0?0:a),s===-1&&(s=n===0?t.length-1:o),r=Math.max(r,0),r=Math.min(r,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),r>s&&([r,s]=[s,r]),i=t[r].scale,n=t[s].scale,t.splice(0,r),t.splice(s-r+1,t.length),t.forEach((h,p)=>{this._lodByScale[h.scale]=h,this._scales[p]=h.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",r),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",n)}constrain(e,t){if(t&&e.scale===t.scale)return e;const i=this.effectiveMinScale,n=this.effectiveMaxScale,r=e.targetGeometry,s=t&&t.targetGeometry,a=n!==0&&e.scale<n,o=i!==0&&e.scale>i;if(a||o){const l=o?i:n;if(t&&s){const c=(l-t.scale)/(e.scale-t.scale);r.x=s.x+(r.x-s.x)*c,r.y=s.y+(r.y-s.y)*c}e.scale=l}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),i=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(i>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const i=Math.round(e-.5),n=Math.round(e);return t[n]+(n-e)*(t[i]-t[n])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let i,n;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let r=0;r<t.length-1;r++){if(i=t[r],n=t[r+1],n===e)return r+this.effectiveMinZoom+1;if(i>e&&n<e)return r+this.effectiveMinZoom+1-(e-n)/(i-n)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i-1)}clone(){return new _P({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,i)=>Math.abs(i-e)<=Math.abs(t-e)?i:t,this._scales[0])),this._lodByScale[e].scale}};u([d({readOnly:!0})],is.prototype,"effectiveLODs",void 0),u([d({readOnly:!0})],is.prototype,"effectiveMinZoom",void 0),u([d({readOnly:!0})],is.prototype,"effectiveMaxZoom",void 0),u([d({readOnly:!0})],is.prototype,"effectiveMinScale",void 0),u([d({readOnly:!0})],is.prototype,"effectiveMaxScale",void 0),u([d()],is.prototype,"lods",void 0),u([d()],is.prototype,"minZoom",void 0),u([d()],is.prototype,"maxZoom",void 0),u([d()],is.prototype,"minScale",void 0),u([d()],is.prototype,"maxScale",void 0),u([d()],is.prototype,"snapToZoom",void 0),is=_P=u([I("esri.views.2d.constraints.ZoomConstraint")],is);const ioe=is,OVe={base:null,key:"type",typeMap:{extent:Gt,polygon:bu}};let Pi=class extends ve{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){var t,i,n;return`${(t=this._zoom)==null?void 0:t.uid}/${(i=this._rotation)==null?void 0:i.uid}/${(n=this._geometry)==null?void 0:n.uid}`}get _defaultLODs(){var n,r,s;const t=(r=(n=this.view)==null?void 0:n.defaultsFromMap)==null?void 0:r.tileInfo,i=(s=this.view)==null?void 0:s.spatialReference;return t&&i&&t.spatialReference.equals(i)?t.lods:null}get _geometry(){var t;return new ff({geometry:this.geometry,spatialReference:(t=this.view)==null?void 0:t.spatialReference})}get _rotation(){return new toe({rotationEnabled:this.rotationEnabled})}get _zoom(){const t=this._get("_zoom"),i=this.lods||this._defaultLODs,n=this.minZoom,r=this.maxZoom,s=this.minScale,a=this.maxScale,o=this.snapToZoom;return t&&t.lods===i&&t.minZoom===n&&t.maxZoom===r&&t.minScale===s&&t.maxScale===a&&t.snapToZoom===o?t:new ioe({lods:i,minZoom:n,maxZoom:r,minScale:s,maxScale:a,snapToZoom:o})}canZoomInTo(t){const i=this.effectiveMaxScale;return i===0||t>=i}canZoomOutTo(t){const i=this.effectiveMinScale;return i===0||t<=i}constrain(t,i){return this._zoom.constrain(t,i),this._rotation.constrain(t,i),this._geometry.constrain(t,i),t}constrainByGeometry(t){return this._geometry.constrain(t)}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};u([d({readOnly:!0})],Pi.prototype,"effectiveLODs",null),u([d({readOnly:!0})],Pi.prototype,"effectiveMinScale",null),u([d({readOnly:!0})],Pi.prototype,"effectiveMaxScale",null),u([d({readOnly:!0})],Pi.prototype,"effectiveMinZoom",null),u([d({readOnly:!0})],Pi.prototype,"effectiveMaxZoom",null),u([d({types:OVe,value:null})],Pi.prototype,"geometry",null),u([d({type:[qc]})],Pi.prototype,"lods",void 0),u([d()],Pi.prototype,"minScale",void 0),u([d()],Pi.prototype,"maxScale",void 0),u([d()],Pi.prototype,"minZoom",void 0),u([d()],Pi.prototype,"maxZoom",void 0),u([d()],Pi.prototype,"rotationEnabled",void 0),u([d()],Pi.prototype,"snapToZoom",void 0),u([d()],Pi.prototype,"view",void 0),u([d({readOnly:!0})],Pi.prototype,"version",null),u([d()],Pi.prototype,"_defaultLODs",null),u([d({type:ff})],Pi.prototype,"_geometry",null),u([d({type:toe})],Pi.prototype,"_rotation",null),u([d({readOnly:!0,type:ioe})],Pi.prototype,"_zoom",null),Pi=u([I("esri.views.2d.MapViewConstraints")],Pi);const noe=Pi;function RVe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function PVe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function roe(e,t,i,n,r,s,a,o,l,c){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e[8]=c,e}function soe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function LVe(e,t){if(e===t){const i=t[1],n=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=n,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function FVe(e,t){const i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],h=t[8],p=h*a-o*c,m=-h*s+o*l,g=c*s-a*l;let y=i*p+n*m+r*g;return y?(y=1/y,e[0]=p*y,e[1]=(-h*n+r*c)*y,e[2]=(o*n-r*a)*y,e[3]=m*y,e[4]=(h*i-r*l)*y,e[5]=(-o*i+r*s)*y,e[6]=g*y,e[7]=(-c*i+n*l)*y,e[8]=(a*i-n*s)*y,e):null}function NVe(e,t){const i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],h=t[8];return e[0]=a*h-o*c,e[1]=r*c-n*h,e[2]=n*o-r*a,e[3]=o*l-s*h,e[4]=i*h-r*l,e[5]=r*s-i*o,e[6]=s*c-a*l,e[7]=n*l-i*c,e[8]=i*a-n*s,e}function zVe(e){const t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8];return t*(c*s-a*l)+i*(-c*r+a*o)+n*(l*r-s*o)}function pz(e,t,i){const n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],h=t[7],p=t[8],m=i[0],g=i[1],y=i[2],b=i[3],w=i[4],_=i[5],x=i[6],S=i[7],k=i[8];return e[0]=m*n+g*a+y*c,e[1]=m*r+g*o+y*h,e[2]=m*s+g*l+y*p,e[3]=b*n+w*a+_*c,e[4]=b*r+w*o+_*h,e[5]=b*s+w*l+_*p,e[6]=x*n+S*a+k*c,e[7]=x*r+S*o+k*h,e[8]=x*s+S*l+k*p,e}function xP(e,t,i){const n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],h=t[7],p=t[8],m=i[0],g=i[1];return e[0]=n,e[1]=r,e[2]=s,e[3]=a,e[4]=o,e[5]=l,e[6]=m*n+g*a+c,e[7]=m*r+g*o+h,e[8]=m*s+g*l+p,e}function aoe(e,t,i){const n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],h=t[7],p=t[8],m=Math.sin(i),g=Math.cos(i);return e[0]=g*n+m*a,e[1]=g*r+m*o,e[2]=g*s+m*l,e[3]=g*a-m*n,e[4]=g*o-m*r,e[5]=g*l-m*s,e[6]=c,e[7]=h,e[8]=p,e}function VVe(e,t,i){const n=i[0],r=i[1],s=i[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function jVe(e,t,i){const n=i[0],r=i[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e}function UVe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function BVe(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=0,e[3]=-i,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function HVe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function GVe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function qVe(e,t){const i=t[0],n=t[1],r=t[2],s=t[3],a=i+i,o=n+n,l=r+r,c=i*a,h=n*a,p=n*o,m=r*a,g=r*o,y=r*l,b=s*a,w=s*o,_=s*l;return e[0]=1-p-y,e[3]=h-_,e[6]=m+w,e[1]=h+_,e[4]=1-c-y,e[7]=g-b,e[2]=m-w,e[5]=g+b,e[8]=1-c-p,e}function WVe(e,t){const i=t[0],n=t[1],r=t[2],s=t[4],a=t[5],o=t[6],l=t[8],c=t[9],h=t[10],p=h*a-o*c,m=-h*s+o*l,g=c*s-a*l,y=i*p+n*m+r*g;if(!y)return null;const b=1/y;return e[0]=p*b,e[1]=(-h*n+r*c)*b,e[2]=(o*n-r*a)*b,e[3]=m*b,e[4]=(h*i-r*l)*b,e[5]=(-o*i+r*s)*b,e[6]=g*b,e[7]=(-c*i+n*l)*b,e[8]=(a*i-n*s)*b,e}function KVe(e,t){const i=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],h=t[8],p=t[9],m=t[10],g=t[11],y=t[12],b=t[13],w=t[14],_=t[15],x=i*o-n*a,S=i*l-r*a,k=i*c-s*a,A=n*l-r*o,T=n*c-s*o,C=r*c-s*l,M=h*b-p*y,L=h*w-m*y,V=h*_-g*y,P=p*w-m*b,J=p*_-g*b,oe=m*_-g*w;let se=x*oe-S*J+k*P+A*V-T*L+C*M;return se?(se=1/se,e[0]=(o*oe-l*J+c*P)*se,e[1]=(l*V-a*oe-c*L)*se,e[2]=(a*J-o*V+c*M)*se,e[3]=(r*J-n*oe-s*P)*se,e[4]=(i*oe-r*V+s*L)*se,e[5]=(n*V-i*J-s*M)*se,e[6]=(b*C-w*T+_*A)*se,e[7]=(w*k-y*C-_*S)*se,e[8]=(y*T-b*k+_*x)*se,e):null}function YVe(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function JVe(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function ZVe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function QVe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e}function ooe(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}function XVe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e}function eje(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e[6]=t[6]+i[6]*n,e[7]=t[7]+i[7]*n,e[8]=t[8]+i[8]*n,e}function tje(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function ije(e,t){const i=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],h=e[8],p=t[0],m=t[1],g=t[2],y=t[3],b=t[4],w=t[5],_=t[6],x=t[7],S=t[8],k=ao();return Math.abs(i-p)<=k*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(n-m)<=k*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(r-g)<=k*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(s-y)<=k*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(a-b)<=k*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(o-w)<=k*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(l-_)<=k*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(c-x)<=k*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(h-S)<=k*Math.max(1,Math.abs(h),Math.abs(S))}function nje(e){const t=ao(),i=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],h=e[8];return Math.abs(1-(i*i+s*s+l*l))<=t&&Math.abs(1-(n*n+a*a+c*c))<=t&&Math.abs(1-(r*r+o*o+h*h))<=t}const rje=pz,sje=ooe;Object.freeze(Object.defineProperty({__proto__:null,add:QVe,adjoint:NVe,copy:PVe,determinant:zVe,equals:ije,exactEquals:tje,frob:ZVe,fromMat2d:GVe,fromMat4:RVe,fromQuat:qVe,fromRotation:BVe,fromScaling:HVe,fromTranslation:UVe,identity:soe,invert:FVe,isOrthoNormal:nje,mul:rje,multiply:pz,multiplyScalar:XVe,multiplyScalarAndAdd:eje,normalFromMat4:KVe,normalFromMat4Legacy:WVe,projection:YVe,rotate:aoe,scale:VVe,scaleByVec2:jVe,set:roe,str:JVe,sub:sje,subtract:ooe,translate:xP,transpose:LVe},Symbol.toStringTag,{value:"Module"}));function _E(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function aje(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function oje(e,t,i,n,r,s,a,o,l){const c=new Float32Array(9);return c[0]=e,c[1]=t,c[2]=i,c[3]=n,c[4]=r,c[5]=s,c[6]=a,c[7]=o,c[8]=l,c}function lje(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:aje,create:_E,createView:lje,fromValues:oje},Symbol.toStringTag,{value:"Module"}));function loe(){return new Float32Array(2)}function cje(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function A0(e,t){const i=new Float32Array(2);return i[0]=e,i[1]=t,i}function uje(e,t){return new Float32Array(e,t,2)}function coe(){return loe()}function uoe(){return A0(1,1)}function doe(){return A0(1,0)}function hoe(){return A0(0,1)}const dje=coe(),hje=uoe(),pje=doe(),fje=hoe();Object.freeze(Object.defineProperty({__proto__:null,ONES:hje,UNIT_X:pje,UNIT_Y:fje,ZEROS:dje,clone:cje,create:loe,createView:uje,fromValues:A0,ones:uoe,unitX:doe,unitY:hoe,zeros:coe},Symbol.toStringTag,{value:"Module"}));function mje(e){return e instanceof Float32Array&&e.length>=2}function gje(e){return Array.isArray(e)&&e.length>=2}function xM(e){return mje(e)||gje(e)}var SP;const vc=[0,0];let Td=SP=class extends W{constructor(e){super(e),this._viewpoint2D={center:Vi(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Gt,this.id=0,this.inverseTransform=Sh(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Sh(),this.transformNoRotation=Sh(),this.displayMat3=_E(),this.displayViewMat3=_E(),this.viewMat3=_E(),this.viewMat2d=pae(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,i=e.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=i.spatialReference}this._update()}copy(e){const t=this.size,i=this.viewpoint;return i&&t?(this.viewpoint=rl(i,e.viewpoint),this._set("size",a_(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new SP({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,i){return xM(t)?Nl(e,t,this.inverseTransform):(vc[0]=t,vc[1]=i,Nl(e,vc,this.inverseTransform))}toScreen(e,t,i){return xM(t)?Nl(e,t,this.transform):(vc[0]=t,vc[1]=i,Nl(e,vc,this.transform))}toScreenNoRotation(e,t,i){return xM(t)?Nl(e,t,this.transformNoRotation):(vc[0]=t,vc[1]=i,Nl(e,vc,this.transformNoRotation))}getScreenTransform(e,t){const{center:i}=this._viewpoint2D,n=this._get("pixelRatio")||1,r=this._get("size");return dz(e,i,r,t,0,n),e}_update(){const{center:e,spatialReference:t,scale:i,rotation:n}=this._viewpoint2D,r=this._get("pixelRatio")||1,s=this._get("size"),a=new Wl({targetGeometry:new Le(e[0],e[1],t),scale:i,rotation:n});if(this._set("viewpoint",a),!s||!t||!i)return;this.resolution=cv(a),this.rotation=n,this.scale=i,this.spatialReference=t,a_(this.center,e);const o=s[0]!==0?2/s[0]:0,l=s[1]!==0?-2/s[1]:0;roe(this.displayMat3,o,0,0,0,l,0,-1,1,1);const c=soe(this.viewMat3),h=A0(s[0]/2,s[1]/2),p=A0(-s[0]/2,-s[1]/2),m=mN(n);xP(c,c,h),aoe(c,c,m),xP(c,c,p),pz(this.displayViewMat3,this.displayMat3,c);const g=az(this.viewMat2d,h);return ET(g,g,m),n_(g,g,p),pVe(this.extent,a,s),hz(this.transform,a,s,r),rz(this.inverseTransform,this.transform),wVe(this.transformNoRotation,a,s,r),this.worldScreenWidth=xVe(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};u([d({readOnly:!0})],Td.prototype,"id",void 0),u([d({value:1,json:{write:!0}})],Td.prototype,"pixelRatio",null),u([d({json:{write:!0}})],Td.prototype,"size",null),u([d()],Td.prototype,"spatialReference",void 0),u([d({type:Wl,json:{write:!0}})],Td.prototype,"viewpoint",null),Td=SP=u([I("esri.views.2d.ViewState")],Td);const $7=Td;var EP,kP;let Wc=EP=class extends ve{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new EP({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};u([d()],Wc.prototype,"left",void 0),u([d()],Wc.prototype,"top",void 0),u([d()],Wc.prototype,"right",void 0),u([d()],Wc.prototype,"bottom",void 0),Wc=EP=u([I("esri.views.2d.PaddedViewState.Padding")],Wc);let qg=kP=class extends $7{constructor(...e){super(...e),this.paddedViewState=new $7,this._updateContent=(()=>{const t=Vi();return()=>{const i=this._get("size"),n=this._get("padding");if(!i||!n)return;const r=this.paddedViewState;Tn(t,n.left+n.right,n.top+n.bottom),o_(t,i,t),a_(r.size,t);const s=r.viewpoint;s&&(this.viewpoint=s)}})(),this.addHandles(X(()=>[this.size,this.padding],()=>this._updateContent(),x0)),this.padding=new Wc,this.size=[0,0]}set padding(e){this._set("padding",e||new Wc)}set viewpoint(e){if(e){const t=e.clone();this.paddedViewState.viewpoint=e,EVe(t,e,this._get("size"),this._get("padding"));const i=this._viewpoint2D,n=t.targetGeometry;i.center[0]=n.x,i.center[1]=n.y,i.rotation=t.rotation,i.scale=t.scale,i.spatialReference=n.spatialReference,this._update()}}clone(){return new kP({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};u([d()],qg.prototype,"paddedViewState",void 0),u([d({type:Wc})],qg.prototype,"padding",null),u([d()],qg.prototype,"viewpoint",null),qg=kP=u([I("esri.views.2d.PaddedViewState")],qg);const yje=qg;let vje=class{constructor(t,i){this.item=t,this.controller=i,this.promise=null}},poe=class{constructor(t){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new lI(t.peeker),this.process=t.process;const i=t.scheduler;t.priority&&$(i)&&(this._task=i.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(t){const i=this._controllers.get(t);i&&i.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(i=>t.push(i)),this._controllers.clear(),t.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((i,n)=>t(n))}get(t){const i=this._deferreds.get(t);return i?i.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(t,i){const n=this.get(t);if(n)return n;const r=new AbortController;let s=null;i&&(s=ds(i,()=>r.abort()));const a=()=>{const h=this._processingItems.get(t);h&&h.controller.abort(),o(),c.reject(ui())},o=()=>{l.remove(),$(s)&&s.remove(),this._deferreds.delete(t),this._controllers.delete(t),this._queue.remove(t),this._processingItems.delete(t),this._scheduleNext()},l=UF(r.signal,a),c=vu();return this._deferreds.set(t,c),this._controllers.set(t,r),c.promise.then(o,o),this._queue.push(t),this._scheduleNext(),c.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const t=[];this._processingItems.forEach(i=>t.push(i)),this._processingItems.clear();for(const i of t)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=U0(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(i))}_processError(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(i))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(j(t))return;let i;const n=new AbortController,r=new vje(t,n);this._processingItems.set(t,r);try{i=this.process(t,n.signal)}catch(s){this._processError(r,s)}Ou(i)?(r.promise=i,i.then(s=>this._processResult(r,s),s=>this._processError(r,s))):this._processResult(r,i)}get test(){return{update:t=>this.runTask(t)}}};function bje(e,t){return e.length=0,t.forEach(i=>e.push(i)),e}const SM=new Set,OS=[],rg=new Map,A7=[0,0];let ed=class extends ve{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:i}=this;this._queue=new poe({concurrency:t,process:(n,r)=>{const s=this._keyToItem.get(n);return i(s,{signal:r})},peeker:n=>n.values().next().value})}destroy(){this.clear(),this._queue=Si(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(t){const i=typeof t=="string"?t:t.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const i=typeof t=="string"?t:t.id;return this.has(i)&&this._queue.isOngoing(i)}pause(){this._queue.pause()}push(t,i){const n=t.key.id+"-"+i;if(this.has(n))return this.get(n);const r=this._queue.push(n),s=()=>{this._keyToItem.delete(n),this.notifyChange("updating")};return this._keyToItem.set(n,t),r.then(s,s),this.notifyChange("updating"),r}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const i=this.tileInfoView;let n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;t.forEach(h=>{const p=this._keyToItem.get(h),m=this.tileInfoView.getTileScale(p.key);rg.has(m)||(rg.set(m,[]),n=Math.max(m,n),r=Math.min(m,r)),rg.get(m).push(p.key),SM.add(m)});let s=this.state.scale;rg.has(s)||(bje(OS,SM),OS.sort((h,p)=>h-p),s=OS.reduce((h,p)=>Math.abs(p-s)<Math.abs(h-s)?p:h,OS[0])),s=Math.min(s,n),s=Math.max(s,r);const a=rg.get(s),o=i.getClosestInfoForScale(s),l=o.getColumnForX(this.state.center[0]),c=o.getRowForY(this.state.center[1]);return a.sort((h,p)=>{const m=o.denormalizeCol(h.col,h.world),g=o.denormalizeCol(p.col,p.world);return Math.sqrt((l-m)*(l-m)+(c-h.row)*(c-h.row))-Math.sqrt((l-g)*(l-g)+(c-p.row)*(c-p.row))}),SM.clear(),rg.clear(),a[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const i=this.tileInfoView,n=this.state.center;let r,s=Number.POSITIVE_INFINITY;return t.forEach(a=>{const o=this._keyToItem.get(a);i.getTileCoords(A7,o.key);const l=J_(A7,n);l<s&&(s=l,r=o.key)}),r.id}};u([d({constructOnly:!0})],ed.prototype,"concurrency",void 0),u([d({constructOnly:!0})],ed.prototype,"process",void 0),u([d()],ed.prototype,"state",void 0),u([d({constructOnly:!0})],ed.prototype,"strategy",void 0),u([d({constructOnly:!0})],ed.prototype,"tileInfoView",void 0),u([d({readOnly:!0})],ed.prototype,"updating",null),ed=u([I("esri.views.2d.tiling.PagedTileQueue")],ed);let Iu=class Xp{static getId(t,i,n,r){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${i}/${n}/${r}`}constructor(t,i,n,r){this.set(t,i,n,r)}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}get hash(){const t=4095&this.row,i=4095&this.col,n=63&this.level;return(3&this.world)<<30|i<<22|t<<8|n}acquire(t,i,n,r){this.set(t,i,n,r)}contains(t){const i=t.level-this.level;return i>=0&&this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Xp(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,i,n,r){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[s,a,o,l]=t.split("/");this.level=parseFloat(s),this.row=parseFloat(a),this.col=parseFloat(o),this.world=parseFloat(l)}else this.level=+t,this.row=+i,this.col=+n,this.world=+r||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Xp(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,i=this.row<<1,n=this.col<<1,r=this.world;return[new Xp(t,i,n,r),new Xp(t,i,n+1,r),new Xp(t,i+1,n,r),new Xp(t,i+1,n+1,r)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};Iu.pool=new Bh(Iu,null,null,25,50);function td(e,t){return[e,t]}function dp(e,t,i){return e[0]=t,e[1]=i,e}function wje(e,t,i,n,r){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e}const bo=new Iu("0/0/0/0");let _je=class foe{static create(t,i,n=null){const r=Qo(t.spatialReference),s=i.origin||td(t.origin.x,t.origin.y),a=td(t.size[0]*i.resolution,t.size[1]*i.resolution),o=td(-1/0,-1/0),l=td(1/0,1/0),c=td(1/0,1/0);$(n)&&(dp(o,Math.max(0,Math.floor((n.xmin-s[0])/a[0])),Math.max(0,Math.floor((s[1]-n.ymax)/a[1]))),dp(l,Math.max(0,Math.floor((n.xmax-s[0])/a[0])),Math.max(0,Math.floor((s[1]-n.ymin)/a[1]))),dp(c,l[0]-o[0]+1,l[1]-o[1]+1));const{cols:h,rows:p}=i;let m,g,y,b;return!n&&h&&p&&(dp(o,h[0],p[0]),dp(l,h[1],p[1]),dp(c,h[1]-h[0]+1,p[1]-p[0]+1)),t.isWrappable?(m=td(Math.ceil(Math.round((r.valid[1]-r.valid[0])/i.resolution)/t.size[0]),c[1]),g=td(Math.floor((r.origin[0]-s[0])/a[0]),o[1]),y=td(m[0]+g[0]-1,l[1]),b=!0):(g=o,y=l,m=c,b=!1),new foe(i.level,i.resolution,i.scale,s,o,l,c,a,g,y,m,b)}constructor(t,i,n,r,s,a,o,l,c,h,p,m){this.level=t,this.resolution=i,this.scale=n,this.origin=r,this.first=s,this.last=a,this.size=o,this.norm=l,this.worldStart=c,this.worldEnd=h,this.worldSize=p,this.wrap=m}normalizeCol(t){if(!this.wrap)return t;const i=this.worldSize[0];return t<0?i-1-Math.abs((t+1)%i):t%i}denormalizeCol(t,i){return this.wrap?this.worldSize[0]*i+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,i,n=!1){bo.set(i);const r=n?bo.col:this.denormalizeCol(bo.col,bo.world),s=bo.row;return wje(t,this.getXForColumn(r),this.getYForRow(s+1),this.getXForColumn(r+1),this.getYForRow(s)),t}getTileCoords(t,i,n=!1){bo.set(i);const r=n?bo.col:this.denormalizeCol(bo.col,bo.world);return Array.isArray(t)?dp(t,this.getXForColumn(r),this.getYForRow(bo.row)):(t.x=this.getXForColumn(r),t.y=this.getYForRow(bo.row)),t}},M0=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}forEach(t,i){const{spans:n,lodInfo:r}=this,{level:s}=r;if(n.length!==0)for(const{row:a,colFrom:o,colTo:l}of n)for(let c=o;c<=l;c++)t.call(i,s,a,r.normalizeCol(c),r.getWorldForColumn(c))}};M0.pool=new Bh(M0);let EM=class{constructor(t,i,n){this.row=t,this.colFrom=i,this.colTo=n}};const ti=new Iu("0/0/0/0");let xje=class moe{static create(t,i){t[1]>i[1]&&([t,i]=[i,t]);const[n,r]=t,[s,a]=i,o=s-n,l=a-r,c=l!==0?o/l:0,h=(Math.ceil(r)-r)*c,p=(Math.floor(r)-r)*c;return new moe(n,Math.floor(r),Math.ceil(a),c,o<0?h:p,o<0?p:h,o<0?s:n,o<0?n:s)}constructor(t,i,n,r,s,a,o,l){this.x=t,this.ymin=i,this.ymax=n,this.invM=r,this.leftAdjust=s,this.rightAdjust=a,this.leftBound=o,this.rightBound=l}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Es=[[0,0],[0,0],[0,0],[0,0]],Sje=1e-6;let Eje=class{constructor(t,i=null){this.tileInfo=t,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const n=t.lods.slice();n.sort((s,a)=>a.scale-s.scale);const r=this._lodInfos=n.map(s=>_je.create(t,s,i));n.forEach((s,a)=>{this._infoByLevel[s.level]=r[a],this._infoByScale[s.scale]=r[a],this.scales[a]=s.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,i,n=!1){ti.set(i);const r=this._infoByLevel[ti.level];return r?r.getTileBounds(t,ti,n):t}getTileCoords(t,i,n=!1){ti.set(i);const r=this._infoByLevel[ti.level];return r?r.getTileCoords(t,ti,n):t}getTileCoverage(t,i=192,n="closest"){const r=n==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),s=M0.pool.acquire(r),a=this._wrap;let o,l,c,h=1/0,p=-1/0;const m=s.spans;Es[0][0]=Es[0][1]=Es[1][1]=Es[3][0]=-i,Es[1][0]=Es[2][0]=t.size[0]+i,Es[2][1]=Es[3][1]=t.size[1]+i;for(const w of Es)t.toMap(w,w),w[0]=r.getColumnForX(w[0]),w[1]=r.getRowForY(w[1]);const g=[];let y=3;for(let w=0;w<4;w++){if(Es[w][1]===Es[y][1]){y=w;continue}const _=xje.create(Es[w],Es[y]);h=Math.min(_.ymin,h),p=Math.max(_.ymax,p),g[_.ymin]===void 0&&(g[_.ymin]=[]),g[_.ymin].push(_),y=w}if(h==null||p==null||p-h>100)return null;let b=[];for(o=h;o<p;){g[o]!=null&&(b=b.concat(g[o])),l=1/0,c=-1/0;for(let w=b.length-1;w>=0;w--){const _=b[w];l=Math.min(l,_.getLeftCol()),c=Math.max(c,_.getRightCol())}if(l=Math.floor(l),c=Math.floor(c),o>=r.first[1]&&o<=r.last[1])if(a)if(r.size[0]<r.worldSize[0]){const w=Math.floor(c/r.worldSize[0]);for(let _=Math.floor(l/r.worldSize[0]);_<=w;_++)m.push(new EM(o,Math.max(r.getFirstColumnForWorld(_),l),Math.min(r.getLastColumnForWorld(_),c)))}else m.push(new EM(o,l,c));else l>r.last[0]||c<r.first[0]||(l=Math.max(l,r.first[0]),c=Math.min(c,r.last[0]),m.push(new EM(o,l,c)));o+=1;for(let w=b.length-1;w>=0;w--){const _=b[w];_.ymax>=o?_.incrRow():b.splice(w,1)}}return s}getTileParentId(t){ti.set(t);const i=this._infoByLevel[ti.level],n=this._lodInfos.indexOf(i)-1;return n<0?null:(this._getTileIdAtLOD(ti,this._lodInfos[n],ti),ti.id)}getTileResolution(t){const i=this._infoByLevel[typeof t=="object"?t.level:t];return i?i.resolution:-1}getTileScale(t){const i=this._infoByLevel[t.level];return i?i.scale:-1}intersects(t,i){ti.set(i);const n=this._infoByLevel[ti.level],r=t.lodInfo;if(r.resolution>n.resolution){this._getTileIdAtLOD(ti,r,ti);const a=r.denormalizeCol(ti.col,ti.world);for(const o of t.spans)if(o.row===ti.row&&o.colFrom<=a&&o.colTo>=a)return!0}if(r.resolution<n.resolution){const[a,o,l,c]=t.spans.reduce((b,w)=>(b[0]=Math.min(b[0],w.row),b[1]=Math.max(b[1],w.row),b[2]=Math.min(b[2],w.colFrom),b[3]=Math.max(b[3],w.colTo),b),[1/0,-1/0,1/0,-1/0]),h=n.denormalizeCol(ti.col,ti.world),p=r.getColumnForX(n.getXForColumn(h)),m=r.getRowForY(n.getYForRow(ti.row)),g=r.getColumnForX(n.getXForColumn(h+1))-1,y=r.getRowForY(n.getYForRow(ti.row+1))-1;return!(p>c||g<l||m>o||y<a)}const s=r.denormalizeCol(ti.col,ti.world);return t.spans.some(a=>a.row===ti.row&&a.colFrom<=s&&a.colTo>=s)}normalizeBounds(t,i,n){if(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],this._wrap){const r=Qo(this.tileInfo.spatialReference),s=-n*(r.valid[1]-r.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>i[0])return this._infoByScale[i[0]];for(let n=1;n<i.length-1;n++)if(t>i[n]+Sje)return this._infoByScale[i[n-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(t){const i=this.scales;return this._infoByScale[t]||(t=i.reduce((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n,i[0])),this._infoByScale[t]}scaleToLevel(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let n=i.length-1;n>=0;n--)if(t<i[n])return n===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[n]].level+(i[n]-t)/(i[n]-i[n+1]);return this._infoByScale[i[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}_getTileIdAtLOD(t,i,n){const r=this._infoByLevel[n.level];return t.set(n),i.resolution<r.resolution?null:(i.resolution===r.resolution||(t.level=i.level,t.col=Math.floor(n.col*r.resolution/i.resolution+.01),t.row=Math.floor(n.row*r.resolution/i.resolution+.01)),t)}};function kje(e,t){return e.length=0,t.forEach(i=>e.push(i)),e}const kM=new Set,RS=[],sg=new Map,M7=[0,0];let Fc=class extends ve{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:i,strategy:n}=this;this._queue=new poe({concurrency:t,process:(r,s)=>{const a=this._keyToItem.get(r);return i(a,{signal:s})},peeker:n==="scale-first"?r=>this._peekByScaleFirst(r):r=>this._peekByCenterFirst(r)})}destroy(){this.clear(),this._queue=Si(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(t){const i=typeof t=="string"?t:t.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const i=typeof t=="string"?t:t.id;return this.has(i)&&this._queue.isOngoing(i)}pause(){this._queue.pause()}push(t){const i=t.key.id;if(this._queue.has(i))return this._queue.get(i);const n=this._queue.push(i),r=()=>{this._keyToItem.delete(i),this.notifyChange("updating")};return this._keyToItem.set(i,t),n.then(r,r),this.notifyChange("updating"),n}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const i=this.tileInfoView;let n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;t.forEach(h=>{const p=this._keyToItem.get(h),m=this.tileInfoView.getTileScale(p.key);sg.has(m)||(sg.set(m,[]),n=Math.max(m,n),r=Math.min(m,r)),sg.get(m).push(p.key),kM.add(m)});let s=this.state.scale;sg.has(s)||(kje(RS,kM),RS.sort((h,p)=>h-p),s=RS.reduce((h,p)=>Math.abs(p-s)<Math.abs(h-s)?p:h,RS[0])),s=Math.min(s,n),s=Math.max(s,r);const a=sg.get(s),o=i.getClosestInfoForScale(s),l=o.getColumnForX(this.state.center[0]),c=o.getRowForY(this.state.center[1]);return a.sort((h,p)=>{const m=o.denormalizeCol(h.col,h.world),g=o.denormalizeCol(p.col,p.world);return Math.sqrt((l-m)*(l-m)+(c-h.row)*(c-h.row))-Math.sqrt((l-g)*(l-g)+(c-p.row)*(c-p.row))}),kM.clear(),sg.clear(),a[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const i=this.tileInfoView,n=this.state.center;let r,s=Number.POSITIVE_INFINITY;return t.forEach(a=>{const o=this._keyToItem.get(a);i.getTileCoords(M7,o.key);const l=J_(M7,n);l<s&&(s=l,r=o.key)}),r.id}};u([d({constructOnly:!0})],Fc.prototype,"concurrency",void 0),u([d({constructOnly:!0})],Fc.prototype,"process",void 0),u([d()],Fc.prototype,"state",void 0),u([d({constructOnly:!0})],Fc.prototype,"strategy",void 0),u([d({constructOnly:!0})],Fc.prototype,"tileInfoView",void 0),u([d({readOnly:!0})],Fc.prototype,"updating",null),Fc=u([I("esri.views.2d.tiling.TileQueue")],Fc);const PJe=Fc;let Ije=class{constructor(t,i,n){this.maxSize=t,this._tileInfoView=i,this._removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const i=this._tilePerId.get(t);if(!i)return;const n=i.key.level,r=this._tileKeysPerLevel[n];D7(this._tilePerId,t);for(let s=0;s<r.length;s++)if(r[s].id===t){r.splice(s,1);break}return i.visible=!0,i}add(t){t.visible=!1;const i=t.key,n=i.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,t);const r=i.level;this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(i)}prune(t,i,n){let r=this._tilePerId.size;if(r<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;r>this.maxSize&&s>=0;)s!==t&&(r=this._pruneAroundCenterTile(r,i,n,s)),s--;r>this.maxSize&&(r=this._pruneAroundCenterTile(r,i,n,t))}_pruneAroundCenterTile(t,i,n,r){const s=this._tileKeysPerLevel[r];if(!s||s.length===0)return t;const{size:a,origin:o}=this._tileInfoView.tileInfo,l=n*a[0],c=n*a[1],h=[0,0],p=[0,0];for(s.sort((m,g)=>(h[0]=o.x+l*(m.col+.5),h[1]=o.y-c*(m.row+.5),p[0]=o.x+l*(g.col+.5),p[1]=o.y-c*(g.row+.5),LI(h,i)-LI(p,i)));s.length>0;){const m=s.pop();if(this._removeTile(m.id),--t===this.maxSize)break}return t}_removeTile(t){const i=this._tilePerId.get(t);this._removedFunc&&i&&this._removedFunc(i),D7(this._tilePerId,t)}};function D7(e,t){e.delete(t)}const hp=new Iu(0,0,0,0),fa=new Map,ag=[],PS=[];let FJe=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,this.resampling=t.resampling==null||!!t.resampling,t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new Ije(t.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(t){const{resampling:i,tileIndex:n}=this,r=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.coveragePolicy);if(PS.length=0,ag.length=0,fa.clear(),!r)return;const{minScale:s,maxScale:a}=this.tileInfoView.tileInfo,{spans:o,lodInfo:l}=r,{level:c}=l,{scale:h,center:p,resolution:m}=t.state,g=!t.stationary&&h>this._previousScale;if(this._previousScale=h,this.tiles.length=0,!i&&(h>s||h<a))return this.tiles.length=0,fa.clear(),n.forEach(_=>{this.releaseTile(_)}),n.clear(),PS.length=0,ag.length=0,fa.clear(),M0.pool.release(r),!0;n.forEach(_=>_.visible=!0);let y=0,b=0;if(o.length>0)for(const{row:_,colFrom:x,colTo:S}of o)for(let k=x;k<=S;k++){y++;const A=hp.set(c,_,l.normalizeCol(k),l.getWorldForColumn(k)).id;if(n.has(A)){const T=n.get(A);T.isReady?(fa.set(A,T),b++):g||this._addParentTile(A,fa)}else{let T;if(this._tileCache&&this._tileCache.has(A)){if(T=this._tileCache.pop(A),this.tileIndex.set(A,T),T.isReady){fa.set(A,T),b++;continue}}else T=this.acquireTile(hp),this.tileIndex.set(A,T);g||this._addParentTile(A,fa)}}const w=b===y;n.forEach((_,x)=>{if(hp.set(x),fa.has(x))return;const S=this.tileInfoView.intersects(r,hp),k=this.cachePolicy==="purge"?hp.level!==c:hp.level>c;!S||!g&&w?!k&&S||ag.push(x):_.isReady?k&&this.cachePolicy==="purge"&&this._hasReadyAncestor(hp,c)?ag.push(x):PS.push(x):k&&ag.push(x)});for(const _ of PS){const x=n.get(_);x&&x.isReady&&fa.set(_,x)}for(const _ of ag){const x=n.get(_);this._tileCache?this._tileCache.add(x):this.releaseTile(x),n.delete(_)}return fa.forEach(_=>this.tiles.push(_)),n.forEach(_=>{fa.has(_.key.id)||(_.visible=!1)}),this._tileCache&&this._tileCache.prune(c,p,m),M0.pool.release(r),fa.clear(),w}clear(t=!0){const{tileIndex:i}=this;t&&i.forEach(n=>{this.releaseTile(n)}),i.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,i){let n=t,r=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(r=this.tileIndex.get(n),r&&r.isReady){i.has(r.key.id)||i.set(r.key.id,r);break}}else if(this._tileCache&&this._tileCache.has(n)&&(r=this._tileCache.pop(n),this.tileIndex.set(n,r),r&&r.isReady)){i.has(r.key.id)||i.set(r.key.id,r);break}}_hasReadyAncestor(t,i){const n=Dh();this.tileInfoView.getTileBounds(n,t,!0);for(const r of this.tileIndex.values())if(r.isReady&&r.key.level>=i&&r.key.level<t.level){const s=Dh();if(this.tileInfoView.getTileBounds(s,r.key,!0),CIe(s,n))return!0}return!1}};function fz(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}let O7=class extends _n{constructor(t,i){super(!0),this._view=t,this.registerIncoming("double-click",i,n=>this._handleDoubleClick(n,i))}_handleDoubleClick(t,i){fz(t.data,"primary")&&(t.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},Cje=class extends _n{constructor(t,i,n){super(!0),this.view=t,this.pointerType=i,this.registerIncoming("double-tap-drag",n,r=>this._handleDoubleTapDrag(r))}_handleDoubleTapDrag(t){const{data:i}=t,{pointerType:n}=i;if(n!==this.pointerType)return;t.stopPropagation();const{action:r,delta:s}=i,{view:a}=this,{mapViewNavigation:o}=a;switch(r){case"begin":{const{scale:l}=a;this._startScale=l,this._currentScale=l,this._previousDelta=s,o.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const l=1.015**s.y,c=this._startScale*l,h=c/this._currentScale;o.setViewpointImmediate(h),this._currentScale=c;break}case"end":{const{constraints:l}=a,{effectiveLODs:c,snapToZoom:h}=l;if(!h||!c)return void o.end();const p=l.snapScale(this._currentScale),m=(s.y>0?Math.max(p,l.snapToPreviousScale(this._startScale)):Math.min(p,l.snapToNextScale(this._startScale)))/this._currentScale;o.zoom(m);break}}}},TT=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const i=t.data,n=i.pointers.size;switch(i.action){case"start":this._currentCount=n,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){var i,n;this._startEvent=t,(n=(i=this._callbacks).condition)!=null&&n.call(i,this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){var i,n;(n=(i=this._callbacks).condition)!=null&&n.call(i,this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){var i,n;(n=(i=this._callbacks).condition)!=null&&n.call(i,this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},Tje=class extends _n{constructor(t,i,n){super(!0),this.view=t,this.pointerAction=i,this.registerIncoming("drag",n,r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new TT({start:(i,n)=>{this.view.mapViewNavigation.pan.begin(this.view,n.data),n.stopPropagation()},update:(i,n)=>{this.view.mapViewNavigation.pan.update(this.view,n.data),n.stopPropagation()},end:(i,n)=>{this.view.mapViewNavigation.pan.end(this.view,n.data),n.stopPropagation()},condition:(i,n)=>i===1&&fz(n.data,this.pointerAction)})}_handleDrag(t){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},$je=class extends _n{constructor(t,i,n){super(!0),this._view=t,this.pointerAction=i;const r=this._view.mapViewNavigation;this._dragEventSeparator=new TT({start:(s,a)=>{r.rotate.begin(this._view,a.data),a.stopPropagation()},update:(s,a)=>{r.rotate.update(this._view,a.data),a.stopPropagation()},end:(s,a)=>{r.rotate.end(),a.stopPropagation()},condition:(s,a)=>s===1&&fz(a.data,this.pointerAction)}),this.registerIncoming("drag",n,s=>this._dragEventSeparator.handle(s))}};function wo(e){let t=e*e;return e<0&&(t*=-1),t}function Aje(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function Mje(e,t,i){const n=i,r=e.state,s=e.device,a=t.tiltDirection==="forward-down"?1:-1,o=1;return s.deviceType==="standard"?(n.translation[0]=wo(r.axes[0]),n.translation[1]=wo(r.axes[1]),n.translation[2]=wo(r.buttons[7])-wo(r.buttons[6]),n.heading=wo(r.axes[2]),n.tilt=wo(r.axes[3])):s.deviceType==="spacemouse"&&(n.translation[0]=1.2*wo(r.axes[0]),n.translation[1]=1.2*wo(r.axes[1]),n.translation[2]=2*-wo(r.axes[2]),n.heading=1.2*wo(r.axes[5]),n.tilt=1.2*wo(r.axes[3])),n.tilt*=a,YX(n.translation,n.translation,o),n}function Dje(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let Oje=class extends _n{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new vs,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([X(()=>{var i;return(i=this._view.navigation.gamepad)==null?void 0:i.enabled},i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=h0({update:n=>this._frameUpdate(n.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},gt)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const i=this._view.navigation.gamepad.device;i&&t.data.device!==i||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,Aje(this._transformation)):(this._currentDevice=t.data.device,Mje(t.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(t){const i=this._transformation;if(Dje(i))return;const n=this._view.viewpoint.clone(),r=this._view.navigation.gamepad.velocityFactor,s=Pje*r*t;CT(n,n,[i.translation[0]*s,-i.translation[1]*s]);const a=1+i.translation[2]*Lje*t,o=this._view.constraints.rotationEnabled?-i.heading*Rje*t:0,l=this._view.size,c=[l[0]/2,l[1]];Qae(n,n,a,o,c,l);const h=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=h}};const Rje=.06,Pje=.7,Lje=6e-4;let Fje=class extends _n{constructor(t,i,n){super(!0),this.view=t,this.keys=i,this._pressed=!1,this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",n,r=>this._handleKeyDown(r)),this.registerIncoming("key-up",n,r=>this._handleKeyUp(r)),this.registerIncoming("blur",n,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,i){const n=this._keyMap[t.data.key];if(this._pressed=n!=null,this._pressed){if(i)switch(this.view.mapViewNavigation.begin(),n){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}},Nje=class extends _n{constructor(t,i,n){super(!0),this.view=t,this.keys=i,this._pressed=!1,this._keyToDirection={[i.clockwiseOption1]:"clockwise",[i.clockwiseOption2]:"clockwise",[i.counterClockwiseOption1]:"counterClockwise",[i.counterClockwiseOption2]:"counterClockwise",[i.resetOption1]:"reset",[i.resetOption2]:"reset"},this.registerIncoming("key-down",n,r=>this._handleKeyDown(r)),this.registerIncoming("key-up",n,r=>this._handleKeyUp(r)),this.registerIncoming("blur",n,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,i){const n=t.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const r=this._keyToDirection[t.data.key];if(this._pressed=r!=null,this._pressed){if(i)switch(this.view.mapViewNavigation.begin(),r){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var wy;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(wy||(wy={}));let zje=class extends _n{constructor(t,i,n){super(!0),this.view=t,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",n,r=>this._handleKeyDown(r)),i.zoomIn.forEach(r=>this._keysToZoomAction[r]=wy.IN),i.zoomOut.forEach(r=>this._keysToZoomAction[r]=wy.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const i=t.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:n}=t.data;if(!(n in this._keysToZoomAction))return;const r=this._keysToZoomAction[n],{mapViewNavigation:s}=this.view;let a=null;switch(r){case wy.IN:a=s.zoomIn();break;case wy.OUT:a=s.zoomOut();break;default:return}s.begin(),a.then(()=>s.end()),t.stopPropagation()}};const Vje=.6;let jje=class extends _n{constructor(t,i){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,n=>this._handleMouseWheel(n))}_handleMouseWheel(t){if(!this._view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:n,y:r,deltaY:s}=t.data,a=1/Vje**(1/60*s),o=i.zoom(a,[n,r]);o&&(this._canZoom=!1,o.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()}))}},Uje=class extends _n{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this._dragEventSeparator=new TT({start:(n,r)=>{i.pinch.begin(this.view,r.data),r.stopPropagation()},update:(n,r)=>{i.pinch.update(this.view,r.data),r.stopPropagation()},end:(n,r)=>{i.pinch.end(this.view),r.stopPropagation()},condition:n=>n>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function R7(e){const t=e.native;return t?{buttons:t.buttons.map(i=>i.pressed?i.value?i.value:1:0),axes:t.axes.map(i=>Gje(i,e.axisThreshold))}:{buttons:[],axes:[]}}function Bje(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let i=0;i<e.axes.length;i++)if(e.axes[i]!==t.axes[i])return!1;for(let i=0;i<e.buttons.length;i++)if(e.buttons[i]!==t.buttons[i])return!1;return!0}function Hje(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function Gje(e,t){const i=Math.abs(e);return i<t?0:Math.sign(e)*(i-t)/(1-t)}let qje=class{constructor(t,i){this._element=t,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const a=s.gamepad,o=a.index,l=this._inputDevices[o];l&&(this._emitGamepadEvent(a,R7(l),!1),this._inputDevices.splice(o,1),this._latestUpdate.splice(o,1),this._input.gamepad.devices.remove(l),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const n="getGamepads"in window.navigator,r=window.isSecureContext;this.supported=n&&r,this.supported&&(this._forEachGamepad(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const i=new oz(t);i.deviceType!=="unknown"&&(this._inputDevices[t.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=h0({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),i=this._element.contains(document.activeElement),n=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!i;this._forEachGamepad(r=>{const s=this._inputDevices[r.index];if(!s)return;const a=this._latestUpdate[r.index],o=R7(s),l=n||Hje(o);a&&(a.timestamp===r.timestamp||!a.active&&l||Bje(a.state,o))||this._emitGamepadEvent(r,o,!l)})}_forEachGamepad(t){const i=window.navigator.getGamepads();for(let n=0;n<i.length;n++){const r=i[n];this._validate(r)&&t(r)}}_emitGamepadEvent(t,i,n){const r=this._latestUpdate[t.index],s=r&&r.active;if(!s&&!n)return;const a=!s&&n?"start":s&&n?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:i,active:n},this._callback&&this._callback({device:this._inputDevices[t.index],state:i,action:a})}_validate(t){if(!t||!t.connected)return!1;for(let i=0;i<t.axes.length;i++)if(isNaN(t.axes[i]))return!1;return!0}};const P7=G("edge"),Wje=G("chrome"),Kje=G("ff"),Yje=G("safari"),L7="esri-view-surface",og={touchNone:`${L7}--touch-none`,touchPan:`${L7}--touch-pan`};let goe=class yoe{constructor(t,i){this._input=i,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new qje(t,this._input),this._gamepadSource.onEvent=n=>this._callback("gamepad",n)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource=Si(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const i in this._active)if(!t||!t.has(i)){const n=this._active[i];this._element.removeEventListener(IM[i],n),delete this._active[i]}t&&t.forEach(i=>{if(!this._active[i]&&IM[i]){const n=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(IM[i],n),this._active[i]=n}}),this._gamepadSource.hasEventListeners=(t==null?void 0:t.has("gamepad"))??!1}setPointerCapture(t,i){i?(this._element.setPointerCapture(t.pointerId),this._activePointerCaptures.add(t.pointerId)):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?og.touchNone:og.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?og.touchPan:og.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(og.touchNone),this._element.classList.remove(og.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,i){const n=$ae(this._element,t);return yoe.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),i.x=n.x,i.y=n.y,i}_handleKey(t,i){const n=g6e(i);n&&t==="key-up"&&this._keyDownState.delete(n);const r={native:i,key:n,repeat:!!n&&this._keyDownState.has(n)};n&&t==="key-down"&&this._keyDownState.add(r.key),this._callback(t,r)}_handlePointer(t,i){const n=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(t,n)}_handlePointerPreventDefault(t,i){const n=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(t,n)}_handleMouseWheel(t,i){let n=i.deltaY;switch(i.deltaMode){case 0:P7&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}P7?n*=.7:Wje||Yje?n*=.6:Kje&&(n*=1.375);const r=100,s=Math.abs(n);s>r&&(n=n/s*200/(1+Math.exp(-.02*(s-r))));const a=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:n});this._callback(t,a)}_handlePointerCaptureLost(t,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(t,i)}_handleDefault(t,i){const n={native:i};i.preventDefault(),this._callback(t,n)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};goe.test={disableSubpixelCoordinates:!1};const IM={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let Jje=class extends _n{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}};function mz(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function Zje(e,t){const i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}function Qje(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Rr()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[S,k]=e,[A,T]=[k.x-S.x,k.y-S.y];return t.radius=Math.sqrt(A*A+T*T)/2,t.center.x=(S.x+k.x)/2,t.center.y=(S.y+k.y)/2,t}let i=0,n=0;for(let S=0;S<e.length;S++)i+=e[S].x,n+=e[S].y;i/=e.length,n/=e.length;const r=e.map(S=>S.x-i),s=e.map(S=>S.y-n);let a=0,o=0,l=0,c=0,h=0,p=0,m=0;for(let S=0;S<r.length;S++){const k=r[S],A=s[S],T=k*k,C=A*A;a+=T,o+=C,l+=k*A,c+=T*k,h+=C*A,p+=k*C,m+=A*T}const g=.5*(c+p),y=.5*(h+m),b=a*o-l*l,w=(g*o-y*l)/b,_=(a*y-l*g)/b,x=Rr(w+i,_+n);return{radius:Math.sqrt(w*w+_*_+(a+o)/e.length),center:x}}function Kf(e){const{native:t}=e,{pointerId:i,button:n,pointerType:r}=t;return r==="mouse"?`${i}:${n}`:`${r}`}const Ba={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};let Xje=class extends _n{constructor(t=Ba.maximumDoubleClickDelay,i=Ba.maximumDoubleClickDistance,n=Ba.maximumDoubleTouchDelay,r=Ba.maximumDoubleTouchDistance,s=C_){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=r,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=Hi(t.doubleClickTimer))}get hasPendingInputs(){return TC(this._pointerState,t=>t.doubleClickTimer!=null)}_clearDoubleClickTimer(t,i){const n=this._pointerState.get(t);n&&(n.doubleClickTimer=Hi(n.doubleClickTimer),i&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const i=this._pointerState.get(t);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_getPointerId(t){const{pointerId:i,pointerType:n,button:r}=t.native;return n==="mouse"?`${i}:${r}`:`${n}`}_handleImmediateClick(t){const i=t.data,{pointerType:n}=i.native,r=this._getPointerId(i);if(!this._pointerState.has(r))return void this._startClick(t);const s=this._pointerState.get(r),{data:a,modifiers:o}=s.event,l=n==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;mz(a,i)>l?(this._clearDoubleClickTimer(r,!0),this._startClick(t)):(this._clearDoubleClickTimer(r,!1),s.pointerDownCount===2&&this._doubleClick.emit(a,void 0,o))}_handlePointerDown(t){const i=Kf(t.data),n=this._pointerState.get(i);n&&(n.pointerDownCount+=1)}_startClick(t){const{data:i}=t,{native:{pointerType:n}}=i,r=Kf(i),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(r),s),o=1;this._pointerState.set(r,{event:t,doubleClickTimer:a,pointerDownCount:o}),this.refreshHasPendingInputs()}},eUe=class extends _n{constructor(t=Ba.maximumDoubleClickDelay,i=Ba.maximumDoubleClickDistance,n=Ba.maximumDoubleTouchDelay,r=Ba.maximumDoubleTouchDistance,s=C_){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=r,this._clock=s,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Rr(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new TT({start:(a,o)=>this._dragStart(a,o),update:(a,o)=>this._dragUpdate(o),end:(a,o)=>this._dragEnd(o)}),this.registerIncoming("drag",a=>this._dragEventSeparator.handle(a)),this.registerIncoming("pointer-down",a=>this._handlePointerDown(a)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=Hi(t.doubleTapTimeout)})}get hasPendingInputs(){return TC(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const i=this._pointerState.get(t);i&&(i.doubleTapTimeout=Hi(i.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_createDoubleTapDragData(t,i,n){const{button:r,buttons:s,pointer:a,pointers:o,pointerType:l,timestamp:c}=n;return{action:t,delta:i,button:r,buttons:s,pointer:a,pointers:o,pointerType:l,timestamp:c}}_dragStart(t,i){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:r}=i,{center:s}=n;this._dragStartCenter=s;const a=this._createDoubleTapDragData("begin",Rr(0,0),n);this._doubleTapDrag.emit(a,void 0,r),i.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:n}=t,{center:r}=i,s=Rr(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),a=this._createDoubleTapDragData("update",s,i);this._doubleTapDrag.emit(a,void 0,n),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:n}=t,{center:r}=i,s=Rr(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),a=this._createDoubleTapDragData("end",s,i);this._doubleTapDrag.emit(a,void 0,n),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:i}=t,n=Kf(i),r=this._pointerState.get(n),{pointerType:s}=i.native;if(r){const a=s==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(n),mz(r.event.data,i)>a?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:i}=t,{pointerType:n}=i.native,r=Kf(i),s=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._clearPointerDown(r),s);this._pointerState.set(r,{event:t,doubleTapTimeout:a}),this.refreshHasPendingInputs()}},tUe=class extends _n{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,i,n,r){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:r,pointers:iUe(this._activePointerMap),pointer:i,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(t){const i=t.native.pointerId,n=LS(this._activePointerMap).angle,r={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,r);const s=xE(r,voe(this._activePointerMap));r.initialAngle=s,r.lastAngle=s,this._updatePointerAngles(n)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const i=t.native.pointerId,n=this._activePointerMap.get(i);n?n.event=t:this._addPointer(t)}_removePointer(t){const i=LS(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(i)}_updatePointerAngles(t){const i=LS(this._activePointerMap);this._activePointerMap.forEach(n=>{n.initialAngle=xE(n,i)-t,n.lastAngle=xE(n,i)-t})}_emitEvent(t,i,n){const r=LS(this._activePointerMap);this._drag.emit(this._createPayload(t,i,r,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const i=t.data.native.pointerId,n=t.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const i=t.data,n=i.currentEvent,r=t.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,r)):(this._addPointer(n),this._emitEvent("added",n,r),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,r))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function voe(e){const t=[];return e.forEach(i=>{t.push(Rr(i.event.x,i.event.y))}),Qje(t)}function LS(e){const t=voe(e);let i=0;return e.forEach(n=>{let r=xE(n,t),s=r-n.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;r=n.lastAngle+s,n.lastAngle=r;const a=r-n.initialAngle;i+=a}),i/=e.size||1,{angle:i,radius:t.radius,center:t.center}}function iUe(e){const t=new Map;return e.forEach((i,n)=>t.set(n,i.event)),t}function xE(e,t){const i=e.event,n=i.x-t.center.x,r=i.y-t.center.y;return Math.atan2(r,n)}var F7;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(F7||(F7={}));let nUe=class extends _n{constructor(t=Ba.maximumDoubleClickDelay,i=Ba.maximumDoubleClickDistance,n=Ba.maximumDoubleTouchDelay,r=Ba.maximumDoubleTouchDistance,s=C_){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=r,this._clock=s,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const i=t.data,n=Kf(i);if(!this._pointerState.has(n)){const r={downButton:i.native.button,immediateDoubleClick:null};this._pointerState.set(n,r),this.startCapturingPointer(i.native)}}_handlePointerUp(t){const i=t.data,n=Kf(i),r=this._pointerState.get(n);if(r&&r.downButton===i.native.button){const s=r.immediateDoubleClick;if(s){s.timeoutHandle.remove();const a=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;mz(s,t.data)>a?this._startImmediateDoubleClick(t,r):(this._immediateDoubleClick.emit(t.data,void 0,s.modifiers),this._removeState(i))}else this._startImmediateDoubleClick(t,r)}}_startImmediateDoubleClick(t,i){const n=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;i.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),n)}}_removeState(t){const i=Kf(t);this._pointerState.delete(i),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}};const tb={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};let rUe=class extends _n{constructor(t=tb.maximumClickDelay,i=tb.movementUntilMouseDrag,n=tb.movementUntilPenDrag,r=tb.movementUntilTouchDrag,s=tb.holdDelay,a=C_){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=i,this._movementUntilPenDrag=n,this._movementUntilTouchDrag=r,this._holdDelay=s,this._clock=a,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",o=>{this._handlePointerLoss(o,"pointer-up")}),this.registerIncoming("pointer-capture-lost",o=>{this._handlePointerLoss(o,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",o=>{this._handlePointerLoss(o,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=Hi(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const i=t.data,n=i.native.pointerId;let r=null;this._pointerState.size===0&&(r=this._clock.setTimeout(()=>{const a=this._pointerState.get(n);if(a){if(!a.isDragging){const o=a.previousEvent;this._pointerHold.emit(o,void 0,t.modifiers),a.holdEmitted=!0}a.holdTimeout=null}},this._holdDelay));const s={startEvent:i,previousEvent:i,startTimestamp:t.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:r,modifiers:new Set};this._pointerState.set(n,s),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_createPointerDragData(t,i,n){return{action:t,startEvent:i.startEvent,previousEvent:i.previousEvent,currentEvent:n}}_handlePointerMove(t){const i=t.data,n=i.native.pointerId,r=this._pointerState.get(n);r&&(r.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",r,i),void 0,r.modifiers):Zje(i,r.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(t),r.previousEvent=i)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const i=t.data,n=i.native.pointerId;this._pointerState.forEach(r=>{r.holdTimeout!=null&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging||(r.modifiers=t.modifiers,r.isDragging=!0,n===r.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",r,i)):this._pointerDrag.emit(this._createPointerDragData("start",r,r.previousEvent),t.timestamp))})}_handlePointerLoss(t,i){const n=t.data,r=n.native.pointerId,s=this._pointerState.get(r);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",s,i==="pointer-up"?n:s.previousEvent),void 0,s.modifiers):i==="pointer-up"&&s.downButton===n.native.button&&t.timestamp-s.startTimestamp<=this._maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(r),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}};const FS={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let ef=class extends ve{constructor(){super(...arguments),this._handles=new vs}initialize(){const t=()=>{var i;return(i=this.view)==null?void 0:i.ready};this._handles.add([io(()=>!t(),()=>this._disconnect()),io(t,()=>this._connect())])}destroy(){this._handles=Si(this._handles),this._disconnect()}get latestPointerType(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerType}get latestPointerLocation(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerLocation}get multiTouchActive(){var t;return((t=this._inputManager)==null?void 0:t.multiTouchActive)??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=Si(this._inputManager)}_connect(){const t=this.view.surface,i=new goe(t,this.view.input),n=[new nUe,new rUe,new Xje,new tUe(this.view.navigation),new eUe],r=new kl({eventSource:i,recognizers:n});r.installHandlers("prevent-context-menu",[new Jje],xh.INTERNAL),r.installHandlers("navigation",[new Uje(this.view),new Oje(this.view),new jje(this.view),new O7(this.view),new O7(this.view,[FS.counter]),new Tje(this.view,"primary"),new Fje(this.view,FS.pan),new zje(this.view,FS.zoom),new Nje(this.view,FS.rotate),new $je(this.view,"secondary"),new Cje(this.view,"touch")],xh.INTERNAL),this.view.viewEvents.connect(r),this._source=i,this._inputManager=r,X(()=>{var s,a;return(a=(s=this.view)==null?void 0:s.navigation)==null?void 0:a.browserTouchPanEnabled},s=>{this._source&&(this._source.browserTouchPanningEnabled=!s)},gt)}get test(){return{inputManager:this._inputManager}}};u([d()],ef.prototype,"view",void 0),u([d()],ef.prototype,"latestPointerType",null),u([d()],ef.prototype,"latestPointerLocation",null),u([d()],ef.prototype,"multiTouchActive",null),ef=u([I("esri.views.2d.input.MapViewInputManager")],ef);const sUe=ef;var N7,z7,V7,IP={},aUe={get exports(){return IP},set exports(e){IP=e}};N7=aUe,z7=function(){function e(r,s,a,o,l){t(r,s,a||0,o||r.length-1,l||n)}function t(r,s,a,o,l){for(;o>a;){if(o-a>600){var c=o-a+1,h=s-a+1,p=Math.log(c),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(c-m)/c)*(h-c/2<0?-1:1);t(r,s,Math.max(a,Math.floor(s-h*m/c+g)),Math.min(o,Math.floor(s+(c-h)*m/c+g)),l)}var y=r[s],b=a,w=o;for(i(r,a,s),l(r[o],y)>0&&i(r,a,o);b<w;){for(i(r,b,w),b++,w--;l(r[b],y)<0;)b++;for(;l(r[w],y)>0;)w--}l(r[a],y)===0?i(r,a,w):i(r,++w,o),w<=s&&(a=w+1),s<=w&&(o=w-1)}}function i(r,s,a){var o=r[s];r[s]=r[a],r[a]=o}function n(r,s){return r<s?-1:r>s?1:0}return e},(V7=z7())!==void 0&&(N7.exports=V7);const oUe=IP;function NI(e,t){if(!(this instanceof NI))return new NI(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function lUe(e,t,i){if(!i)return t.indexOf(e);for(var n=0;n<t.length;n++)if(i(e,t[n]))return n;return-1}function lg(e,t){c1(e,0,e.children.length,t,e)}function c1(e,t,i,n,r){r||(r=Wg(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s,a=t;a<i;a++)s=e.children[a],u1(r,e.leaf?n(s):s);return r}function u1(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function j7(e,t){return e.minX-t.minX}function U7(e,t){return e.minY-t.minY}function CM(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function NS(e){return e.maxX-e.minX+(e.maxY-e.minY)}function cUe(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function uUe(e,t){var i=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,r-i)*Math.max(0,s-n)}function TM(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function zS(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Wg(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function B7(e,t,i,n,r){for(var s,a=[t,i];a.length;)(i=a.pop())-(t=a.pop())<=n||(s=t+Math.ceil((i-t)/n/2)*n,oUe(e,s,t,i,r),a.push(t,s,s,i))}NI.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],n=this.toBBox;if(!zS(e,t))return i;for(var r,s,a,o,l=[];t;){for(r=0,s=t.children.length;r<s;r++)a=t.children[r],zS(e,o=t.leaf?n(a):a)&&(t.leaf?i.push(a):TM(e,o)?this._all(a,i):l.push(a));t=l.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!zS(e,t))return!1;for(var n,r,s,a,o=[];t;){for(n=0,r=t.children.length;n<r;n++)if(s=t.children[n],zS(e,a=t.leaf?i(s):s)){if(t.leaf||TM(e,a))return!0;o.push(s)}t=o.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Wg([]),this},remove:function(e,t){if(!e)return this;for(var i,n,r,s,a=this.data,o=this.toBBox(e),l=[],c=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],i=c.pop(),s=!0),a.leaf&&(r=lUe(e,a.children,t))!==-1)return a.children.splice(r,1),l.push(a),this._condense(l),this;s||a.leaf||!TM(a,o)?n?(i++,a=n.children[i],s=!1):a=null:(l.push(a),c.push(i),i=0,n=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:j7,compareMinY:U7,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,n){var r,s=i-t+1,a=this._maxEntries;if(s<=a)return lg(r=Wg(e.slice(t,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,n-1))),(r=Wg([])).leaf=!1,r.height=n;var o,l,c,h,p=Math.ceil(s/a),m=p*Math.ceil(Math.sqrt(a));for(B7(e,t,i,m,this.compareMinX),o=t;o<=i;o+=m)for(B7(e,o,c=Math.min(o+m-1,i),p,this.compareMinY),l=o;l<=c;l+=p)h=Math.min(l+p-1,c),r.children.push(this._build(e,l,h,n-1));return lg(r,this.toBBox),r},_chooseSubtree:function(e,t,i,n){for(var r,s,a,o,l,c,h,p;n.push(t),!t.leaf&&n.length-1!==i;){for(h=p=1/0,r=0,s=t.children.length;r<s;r++)l=CM(a=t.children[r]),(c=cUe(e,a)-l)<p?(p=c,h=l<h?l:h,o=a):c===p&&l<h&&(h=l,o=a);t=o||t.children[0]}return t},_insert:function(e,t,i){var n=this.toBBox,r=i?e:n(e),s=[],a=this._chooseSubtree(r,this.data,t,s);for(a.children.push(e),u1(a,r);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(r,s,t)},_split:function(e,t){var i=e[t],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var s=this._chooseSplitIndex(i,r,n),a=Wg(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,lg(i,this.toBBox),lg(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(e,t){this.data=Wg([e,t]),this.data.height=e.height+1,this.data.leaf=!1,lg(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var n,r,s,a,o,l,c,h;for(l=c=1/0,n=t;n<=i-t;n++)a=uUe(r=c1(e,0,n,this.toBBox),s=c1(e,n,i,this.toBBox)),o=CM(r)+CM(s),a<l?(l=a,h=n,c=o<c?o:c):a===l&&o<c&&(c=o,h=n);return h},_chooseSplitAxis:function(e,t,i){var n=e.leaf?this.compareMinX:j7,r=e.leaf?this.compareMinY:U7;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,r)&&e.children.sort(n)},_allDistMargin:function(e,t,i,n){e.children.sort(n);var r,s,a=this.toBBox,o=c1(e,0,t,a),l=c1(e,i-t,i,a),c=NS(o)+NS(l);for(r=t;r<i-t;r++)s=e.children[r],u1(o,e.leaf?a(s):s),c+=NS(o);for(r=i-t-1;r>=t;r--)s=e.children[r],u1(l,e.leaf?a(s):s),c+=NS(l);return c},_adjustParentBBoxes:function(e,t,i){for(var n=i;n>=0;n--)u1(t[n],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)e[i].children.length===0?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():lg(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};let H7=class boe{constructor(t,i){this.key=new Iu(0,0,0,0),this.bounds=Dh(),this.objectIds=new Set,this.key.set(i);const n=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.scale=n.scale,this.level=n.level}get id(){return this.key.id}get extent(){return Gt.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const t=this.key.getChildKeys(),i=Or.acquire();for(let n=0;n<t.length;n++)i[n]=new boe(this.tileInfoView,t[n]);return i}getQuantizationParameters(){return pne.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const pp={added:[],removed:[]},$M=new Set,dUe=new Iu(0,0,0,0);let hUe=class extends Ru{constructor(t){super(),this._tiles=new Map,this._index=NI(9,G("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const i={added:[],removed:[]};for(const n of t.added)if(!this.has(n)){const r=new H7(this.tileScheme,n);this._tiles.set(n,r),this._index.insert(r),i.added.push(r)}for(const n of t.removed)if(this.has(n)){const r=this.get(n);this._tiles.delete(n),this._index.remove(r),i.removed.push(r)}this.tiles.length=0,this._tiles.forEach(n=>this.tiles.push(n)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(t){const i=this.tileScheme.getTileCoverage(t,0);if(!i)return;const{spans:n,lodInfo:r}=i,{level:s}=r;if(n.length>0)for(const{row:a,colFrom:o,colTo:l}of n)for(let c=o;c<=l;c++){const h=dUe.set(s,a,r.normalizeCol(c),r.getWorldForColumn(c)).id;if($M.add(h),!this.has(h)){const p=new H7(this.tileScheme,h);this._tiles.set(h,p),this._index.insert(p),this.tiles.push(p),pp.added.push(p)}}for(let a=this.tiles.length-1;a>=0;a--){const o=this.tiles[a];$M.has(o.id)||(this._tiles.delete(o.id),this.tiles.splice(a,1),this._index.remove(o),pp.removed.push(o))}(pp.added.length||pp.removed.length)&&this.emit("update",pp),M0.pool.release(i),$M.clear(),pp.added.length=0,pp.removed.length=0}},tf=class extends ve{constructor(){super(...arguments),this.color=new de([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity}};u([d({type:de})],tf.prototype,"color",void 0),u([d({type:de})],tf.prototype,"haloColor",void 0),u([d()],tf.prototype,"haloOpacity",void 0),u([d()],tf.prototype,"fillOpacity",void 0),tf=u([I("esri.views.2d.support.HighlightOptions")],tf);const woe=tf,pUe=e=>e.includes("Brush");let _oe=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),pUe(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};function fUe(e,t,i,n,r,s,a,o){e.ignorePadding&&(n={left:0,right:0,top:0,bottom:0});let l=null;e.width!=null&&e.height!=null?l=[e.width,e.height]:e.width==null&&e.height!=null?l=[e.height,e.height]:e.width!=null&&e.height==null?l=[e.width,e.width]:e.width==null&&e.height==null&&(l=null);const c=i[0]-(n.left+n.right),h=i[1]-(n.top+n.bottom);let p,m,g=e.area||{x:0,y:0,width:c,height:h};if(l){const y=c/h,b=l[0]/l[1];if(b>y){const w=g.width/b;g={x:g.x,y:Math.round(g.y+(g.height-w)/2),width:g.width,height:Math.round(w)}}else{const w=g.height*b;g={x:Math.round(g.x+(g.width-w)/2),y:g.y,width:Math.round(w),height:g.height}}}else l=[g.width,g.height];return l[0]>g.width?(p=Math.min(l[0]/g.width,t),m=l[0]/g.width/p):(p=1,m=l[0]/g.width),{resolutionScale:p,cropArea:{x:Math.round((g.x+n.left)*p),y:Math.round((g.y+n.top)*p),width:Math.round(g.width*p),height:Math.round(g.height*p)},outputScale:m,format:r,quality:s,children:a,rotation:o}}function mUe(e,t,i){const{ctx:n,canvas:r}=xoe(e,i),s=n.getImageData(0,0,e.width,e.height),a=vUe(r,t);return Soe(r),{dataUrl:a,data:s}}function gUe(e,t){const{ctx:i,canvas:n}=xoe(e,t),r=i.getImageData(0,0,e.width,e.height);return Soe(n),r}function xoe(e,t){const i=yUe();t.premultipliedAlpha&&SUe(e),i.width=e.width,i.height=e.height;const n=i.getContext("2d",{willReadFrequently:!0});return n.putImageData(e,0,0),t.flipY&&xUe(n),{ctx:n,canvas:i}}function Soe(e){e.width=0,e.height=0}function yUe(){return j(AM)&&(AM=document.createElement("canvas")),AM}let AM=null;function vUe(e,t){const i=EUe[t.format],n=t.quality/100;return e.toDataURL(i,n)}function bUe(e,t){const i=_Ue(e),n=IUe[i];return{format:i,quality:fs(t??n,0,100)}}function wUe(e,t){return t/Math.max(e[0],e[1])}function oZe(e,t,i,n=0,r=0,s=e.width-n,a=e.height-r,o=!1){const{data:l}=e,{width:c,height:h,data:p}=t,m=s/c,g=a/h,y=Math.ceil(m/2),b=Math.ceil(g/2),w=e.width;for(let _=0;_<h;_++)for(let x=0;x<c;x++){const S=4*(x+(o?h-_-1:_)*c);let k=0,A=0,T=0,C=0,M=0,L=0;const V=(_+.5)*g;for(let P=Math.floor(_*g);P<(_+1)*g;P++){const J=Math.abs(V-(P+.5))/b,oe=(x+.5)*m,se=J*J;for(let rt=Math.floor(x*m);rt<(x+1)*m;rt++){const tt=Math.abs(oe-(rt+.5))/y,lt=Math.sqrt(se+tt*tt);if(lt>=1)continue;let Z=2*lt*lt*lt-3*lt*lt+1;const ge=4*(n+rt+(r+P)*w);L+=Z*l[ge+3],A+=Z,!i&&l[ge+3]<255&&(Z=Z*l[ge+3]/255),T+=Z*l[ge],C+=Z*l[ge+1],M+=Z*l[ge+2],k+=Z}}p[S]=T/k,p[S+1]=C/k,p[S+2]=M/k,p[S+3]=L/A}return t}function _Ue(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return kUe}}function xUe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function SUe(e){const t=e.data,i=t.length;for(let n=0;n<i;n+=4){const r=t[n+3];if(r!==255&&r>0){const s=255/r;t[n+0]=t[n+0]*s,t[n+1]=t[n+1]*s,t[n+2]=t[n+2]*s}}}const EUe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},G7=98,kUe="png",IUe={png:100,jpg:G7,jpeg:G7};var Ui;function lZe(e,t,i={}){const n=Eoe(e);for(;n.length>1;){const r=zI(t,n.shift(),i);if($(r))return r}return CUe(t,n.shift(),i)}function Eoe(e){const t=G("esri-force-webgl");if(t===Ui.WEBGL1||t===Ui.WEBGL2)return[t];switch(e){case"2d":return G("mac")&&G("chrome")?[Ui.WEBGL1,Ui.WEBGL2]:[Ui.WEBGL2,Ui.WEBGL1];case"3d":return[Ui.WEBGL2,Ui.WEBGL1]}}function CUe(e,t,i={}){if(!window.WebGLRenderingContext)return q7(e,TUe),null;const n=zI(e,t,i);return j(n)&&q7(e,$Ue),n}function zI(e,t,i={}){const n=t===Ui.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let r=null;for(const s of n){try{r=e.getContext(s,i)}catch{}if(r)break}return r}function q7(e,t){const i=e.parentNode;i&&(i.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}(function(e){e[e.WEBGL1=1]="WEBGL1",e[e.WEBGL2=2]="WEBGL2"})(Ui||(Ui={}));const TUe='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',$Ue=`It doesn't appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>`;let MM,DM;function CP(e){const t=Eoe(e);for(;t.length>1;){const i=W7(t.shift());if(i.available)return i}return W7(t.shift())}function W7(e){switch(e){case Ui.WEBGL1:return AUe();case Ui.WEBGL2:return MUe()}}function AUe(){return MM||(MM=RUe()),MM}function MUe(){return DM||(DM=PUe()),DM}let koe=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}},DUe=class extends koe{constructor(){super(...arguments),this.type=Ui.WEBGL1}},OUe=class extends koe{constructor(){super(...arguments),this.type=Ui.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}};function Ioe(e,t){var s;if(e===Ui.WEBGL1&&typeof WebGLRenderingContext>"u"||e===Ui.WEBGL2&&typeof WebGL2RenderingContext>"u")return null;const i=document.createElement("canvas");if(!i)return null;let n=zI(i,e,{failIfMajorPerformanceCaveat:!0});if(j(n)&&(n=zI(i,e),$(n)&&(t.majorPerformanceCaveat=!0)),j(n))return n;if(e===Ui.WEBGL1){const a=(s=n.getParameter(n.VERSION))==null?void 0:s.match(/^WebGL\s+([\d.]*)/);if(a){const o=parseFloat(a[1]);t.available=o>=.94}}else t.available=!0;t.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);return r&&(t.supportsHighPrecisionFragment=r.precision>0),n}function RUe(){const e=new DUe,t=Ioe(Ui.WEBGL1,e);return j(t)||(e.supportsElementIndexUint=t.getExtension("OES_element_index_uint")!==null,e.supportsStandardDerivatives=t.getExtension("OES_standard_derivatives")!==null,e.supportsInstancedArrays=t.getExtension("ANGLE_instanced_arrays")!==null,e.supportsTextureFloat=t.getExtension("OES_texture_float")!==null,e.supportsTextureHalfFloat=t.getExtension("OES_texture_half_float")!==null,e.supportsColorBufferFloat=t.getExtension("WEBGL_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=t.getExtension("EXT_color_buffer_half_float")!==null),e}function PUe(){const e=new OUe,t=Ioe(Ui.WEBGL2,e);return j(t)||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null),e}function LUe(e){const t=CP(e);if(!t.available)return new N("webgl:required","WebGL is required but not supported.");if(e==="3d"&&t.majorPerformanceCaveat)return new N("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!t.supportsHighPrecisionFragment)return new N("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!t.supportsVertexShaderSamplers)return new N("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(t.type===Ui.WEBGL1){if(!t.supportsElementIndexUint)return new N("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!t.supportsStandardDerivatives)return new N("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!t.supportsInstancedArrays)return new N("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}function FUe(e){return e&&"nodeType"in e}function NUe(e){return e&&typeof e.render=="function"}const K7={component:"esri-component"};let nf=class extends ve{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(t){const i=this._get("node");t!==i&&(t&&t.classList.add(K7.component),i&&i.classList.remove(K7.component),this._set("node",t))}castNode(t){return t?typeof t=="string"||FUe(t)?(this._set("widget",null),WN(t)):(NUe(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};u([d({dependsOn:[]})],nf.prototype,"id",null),u([d()],nf.prototype,"node",null),u([ct("node")],nf.prototype,"castNode",null),u([d({readOnly:!0})],nf.prototype,"widget",void 0),nf=u([I("esri.views.ui.Component")],nf);const SE=nf,zUe={left:0,top:0,bottom:0,right:0},Coe={bottom:30,top:15,right:15,left:15},OM="manual",bc="esri-ui",Sr={ui:bc,corner:`${bc}-corner`,innerContainer:`${bc}-inner-container`,manualContainer:`${bc}-manual-container`,cornerContainer:`${bc}-corner-container`,topLeft:`${bc}-top-left`,topRight:`${bc}-top-right`,bottomLeft:`${bc}-bottom-left`,bottomRight:`${bc}-bottom-right`};function VUe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function RM(e){const t=e,i=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(i===null||i===Object.prototype)&&("component"in t||"index"in t||"position"in t)?e:null}function PM(e,{top:t,bottom:i,left:n,right:r}){e.style.top=t,e.style.bottom=i,e.style.left=n,e.style.right=r}let $l=class extends Ru.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._locale=Wa(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&PM(i,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&PM(i,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([X(()=>{var t;return[(t=this.view)==null?void 0:t.padding,this.container]},this._applyViewPadding,gt),X(()=>this.padding,this._applyUIPadding,gt),X(()=>[this.container,this._locale],([t,i])=>{t&&t.setAttribute("lang",i)},gt),SX(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentToKey.clear()}set container(t){const i=this._get("container");t!==i&&(t&&(t.classList.add(Sr.ui),nDe(t),this._attachContainers(t)),i&&(i.classList.remove(Sr.ui),PM(i,{top:"",bottom:"",left:"",right:""}),Fte(i)),this._set("container",t))}get height(){const t=this.get("view.height")||0;if(t===0)return t;const i=this._getViewPadding(),n=i.top+i.bottom;return Math.max(t-n,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...Coe,...t}}get width(){const t=this.get("view.width")||0;if(t===0)return t;const i=this._getViewPadding(),n=i.left+i.right;return Math.max(t-n,0)}add(t,i){let n,r;if(Array.isArray(t))return void t.forEach(a=>this.add(a,i));const s=RM(t);s&&({index:n,position:i,component:t,key:r}=s),i&&typeof i=="object"&&({index:n,key:r,position:i}=i),!t||i&&!this._isValidPosition(i)||this._add(t,i,n,r)}remove(t,i){if(!t)return;if(Array.isArray(t))return t.map(r=>this.remove(r,i));const n=this._find(t);if(n){const r=this._componentToKey;if(r.has(t)&&r.get(t)!==i)return;const s=this._components.indexOf(n);return n.node.parentNode&&n.node.parentNode.removeChild(n.node),this._componentToKey.delete(t),this._components.splice(s,1)[0]}}empty(t){return Array.isArray(t)?t.map(i=>this.empty(i)).reduce((i,n)=>i.concat(n)):(t=t||OM)===OM?Array.prototype.slice.call(this._manualContainer.children).filter(i=>!i.classList.contains(Sr.corner)).map(i=>this.remove(i)):this._isValidPosition(t)?Array.prototype.slice.call(this._cornerNameToContainerLookup[t].children).map(this.remove,this):null}move(t,i){if(Array.isArray(t)&&t.forEach(a=>this.move(a,i)),!t)return;let n;const r=RM(t)||RM(i);if(r&&(n=r.index,i=r.position,t=r.component||t),i&&!this._isValidPosition(i))return;const s=this.remove(t);s&&this.add(s,{position:i,index:n})}find(t){if(!t)return null;const i=this._findById(t);return i&&(i.widget||i.node)}getPosition(t){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(t))return i;return null}_add(t,i,n,r){t instanceof SE||(t=new SE({node:t})),this._place({component:t,position:i,index:n}),this._components.push(t),r&&this._componentToKey.set(t,r)}_find(t){return t?t instanceof SE?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){return this.get("view.padding")||zUe}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(Sr.innerContainer),t.classList.add(Sr.cornerContainer);const i=document.createElement("div");i.classList.add(Sr.innerContainer),i.classList.add(Sr.manualContainer);const n=document.createElement("div");n.classList.add(Sr.topLeft),n.classList.add(Sr.corner),t.appendChild(n);const r=document.createElement("div");r.classList.add(Sr.topRight),r.classList.add(Sr.corner),t.appendChild(r);const s=document.createElement("div");s.classList.add(Sr.bottomLeft),s.classList.add(Sr.corner),t.appendChild(s);const a=document.createElement("div");a.classList.add(Sr.bottomRight),a.classList.add(Sr.corner),t.appendChild(a),this._innerContainer=t,this._manualContainer=i;const o=Ul();this._cornerNameToContainerLookup={"top-left":n,"top-right":r,"bottom-left":s,"bottom-right":a,"top-leading":o?r:n,"top-trailing":o?n:r,"bottom-leading":o?a:s,"bottom-trailing":o?s:a},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){const i=t.component,n=t.position||OM,r=t.index,s=this._positionNameToContainerLookup[n],a=r!=null&&r>-1;if(VUe(i.widget)&&i.widget.startup(),!a)return void s.appendChild(i.node);const o=Array.prototype.slice.call(s.children);if(r===0)return void(s.firstChild?hU(i.node,s.firstChild):s.appendChild(i.node));r>=o.length?s.appendChild(i.node):hU(i.node,o[r])}_toPxPosition(t){return{top:this._toPxUnit(t.top),left:this._toPxUnit(t.left),right:this._toPxUnit(t.right),bottom:this._toPxUnit(t.bottom)}}_toPxUnit(t){return t===0?"0":t+"px"}_findByComponent(t){let i,n=null;return this._components.some(r=>(i=r===t,i&&(n=r),i)),n}_findById(t){let i,n=null;return this._components.some(r=>(i=r.id===t,i&&(n=r),i)),n}_findByNode(t){let i,n=null;return this._components.some(r=>(i=r.node===t,i&&(n=r),i)),n}};u([d()],$l.prototype,"_locale",void 0),u([d()],$l.prototype,"container",null),u([d()],$l.prototype,"height",null),u([d({value:Coe})],$l.prototype,"padding",null),u([ct("padding")],$l.prototype,"castPadding",null),u([d()],$l.prototype,"view",void 0),u([d()],$l.prototype,"width",null),$l=u([I("esri.views.ui.UI")],$l);const jUe=$l;function Y7(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function UUe(e,t){return e.length!==t.length||e.some((i,n)=>i.text!==t[n].text)}function VS(e,t,i){!i||!t||e.find(n=>n.layerView===t&&n.text===i)||e.push({text:i,layerView:t})}function BUe(e){return e.type==="bing-maps"}const id=[];let Kg=class extends bI{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new Ie,this.view=null,this._allLayerViewsChange=i=>{this.handles.remove("suspension");const n=this.get("view.allLayerViews");n&&this.handles.add(n.map(r=>X(()=>{var s;return[r.suspended,(s=r.layer)==null?void 0:s.attributionVisible]},()=>this._updateAttributionItems())),"suspension"),i&&i.removed&&i.removed.forEach(r=>{this._pendingAttributions.delete(r),this._fetchedAttributionData.delete(r)}),this._updateAttributionItems()},this.handles.add([gs(()=>{var i;return(i=this.view)==null?void 0:i.allLayerViews},"change",i=>this._allLayerViewsChange(i),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),io(()=>{var i;return((i=this.view)==null?void 0:i.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,i=t==null?void 0:t.allLayerViews;id.length=0,t&&i?(i.forEach(n=>{var a;if(n.suspended||!((a=n.layer)!=null&&a.attributionVisible))return;const r=n.layer;if(Y7(r,"user"))return void VS(id,n,r.copyright);if(r.hasAttributionData){if(this._fetchedAttributionData.has(n)){const o=this._fetchedAttributionData.get(n);return void(o?VS(id,n,this._getDynamicAttribution(o,t,r)):Y7(r)&&VS(id,n,r.copyright))}return void this._fetchAttributionData(n)}const s=r.get("portalItem.accessInformation");VS(id,n,s||r.copyright)}),UUe(this.items,id)&&(this.items.removeAll(),this.items.addMany(id)),id.length=0,this.notifyChange("state")):this._clear()}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const i=await oT(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const n=i.ok?this._createContributionIndex(i.value,BUe(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,n)}this._updateAttributionItems()}_createContributionIndex(t,i){const n=t.contributors,r={};if(!n)return r;for(let s=0;s<n.length;s++){const a=n[s],o=a.coverageAreas;if(!o)return;for(const l of o){const c=l.bbox,h=l.zoomMin-(i&&l.zoomMin?1:0),p=l.zoomMax-(i&&l.zoomMax?1:0),m={xmin:c[1],ymin:c[0],xmax:c[3],ymax:c[2],spatialReference:je.WGS84},g={extent:bh(m),attribution:a.attribution||"",score:l.score!=null?l.score:100,id:s};for(let y=h;y<=p;y++)r[y]=r[y]||[],r[y].push(g)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(t,i,n){var h;const{extent:r,scale:s}=i;let a=((h=n.tileInfo)==null?void 0:h.scaleToZoom(s))??0;if(a=Math.min(t.maxKey??0,Math.round(a)),!r||a==null||a<=-1)return"";const o=t[a],l=FC(r.center.clone().normalize(),i.spatialReference),c={};return o?o.filter(p=>{const m=p.id,g=!c[m]&&l&&p.extent&&NC(p.extent,l);return g&&(c[m]=!0),g}).sort((p,m)=>m.score-p.score||p.objectId-m.objectId).map(p=>p.attribution).join(", "):""}};u([d({readOnly:!0,type:Ie})],Kg.prototype,"items",void 0),u([d({readOnly:!0})],Kg.prototype,"state",null),u([d()],Kg.prototype,"view",void 0),Kg=u([I("esri.widgets.Attribution.AttributionViewModel")],Kg);const Toe=Kg,cg="esri-attribution",nd={base:`${cg} esri-widget`,poweredBy:`${cg}__powered-by`,sources:`${cg}__sources`,open:`${cg}--open`,sourcesOpen:`${cg}__sources--open`,link:`${cg}__link`,widgetIcon:"esri-icon-description",interactive:"esri-interactive"};let $r=class extends br{constructor(t,i){super(t,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(n=>n.forEach(({target:r})=>this._checkSourceTextOverflow(r))),this.iconClass=nd.widgetIcon,this.itemDelimiter=" | ",this.messages=null,this.viewModel=new Toe}initialize(){this.addHandles(gs(()=>{var t;return(t=this.viewModel)==null?void 0:t.items},"change",()=>this.scheduleRender()))}destroy(){var t;(t=this._resizeObserver)==null||t.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,i)=>(t.includes(i.text)||t.push(i.text),t),[]).join(this.itemDelimiter)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[nd.open]:this._isOpen};return R("div",{bind:this,class:this.classes(nd.base,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return R("div",{class:nd.poweredBy},"Powered by"," ",R("a",{class:nd.link,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const t=this._isOpen,i=this._isInteractive,n=i?"0":"",{attributionText:r}=this,s={[nd.sourcesOpen]:t,[nd.interactive]:i};return R("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(nd.sources,s),innerHTML:r,tabindex:n})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let i=!1;const{clientHeight:n,clientWidth:r,scrollWidth:s}=t,a=s>r,o=this._attributionTextOverflowed!==a;if(this._attributionTextOverflowed=a,o&&(i=!0),this._isOpen){const l=n<this._prevSourceNodeHeight;this._prevSourceNodeHeight=n,l&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};u([d()],$r.prototype,"_isOpen",void 0),u([d()],$r.prototype,"_isInteractive",null),u([d()],$r.prototype,"_attributionTextOverflowed",void 0),u([d()],$r.prototype,"_prevSourceNodeHeight",void 0),u([d({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],$r.prototype,"attributionText",null),u([d()],$r.prototype,"iconClass",void 0),u([d()],$r.prototype,"itemDelimiter",void 0),u([d()],$r.prototype,"label",null),u([d(),hr("esri/widgets/Attribution/t9n/Attribution")],$r.prototype,"messages",void 0),u([d()],$r.prototype,"view",null),u([d({type:Toe})],$r.prototype,"viewModel",void 0),u([Ta()],$r.prototype,"_toggleState",null),$r=u([I("esri.widgets.Attribution")],$r);const HUe=$r,GUe="esri.widgets.CompassViewModel";let rf=class extends wae(ve){constructor(t){super(t),this._handles=new vs,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add(X(()=>this.view,this._updateRotationWatcher,gt))}destroy(){Hi(this._handles),this.view=null}get canShowNorth(){const t=this.get("view.spatialReference");return!(!t||!t.isWebMercator&&!t.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){var i;if(!this.get("view.ready"))return;const t={};((i=this.view)==null?void 0:i.type)==="2d"?t.rotation=0:t.heading=0,this.callGoTo({target:t})}_updateForRotation(t){t!=null&&(this.orientation={z:t})}_updateForCamera(t){if(!t)return;const i=-t.heading;this.orientation={x:0,y:0,z:i}}_updateRotationWatcher(t){this._handles.removeAll(),t&&this._handles.add(t.type==="2d"?X(()=>t==null?void 0:t.rotation,this._updateForRotation,gt):X(()=>t==null?void 0:t.camera,this._updateForCamera,gt))}};u([d({readOnly:!0})],rf.prototype,"canShowNorth",null),u([d()],rf.prototype,"orientation",void 0),u([d({readOnly:!0})],rf.prototype,"state",null),u([d()],rf.prototype,"view",void 0),rf=u([I(GUe)],rf);const $oe=rf,rd={base:"esri-compass esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-compass__icon",rotationIcon:"esri-icon-dial",northIcon:"esri-icon-compass",widgetIcon:"esri-icon-locate-circled",interactive:"esri-interactive",disabled:"esri-disabled"};let Al=class extends br{constructor(t,i){super(t,i),this.iconClass=rd.widgetIcon,this.messages=null,this.viewModel=new $oe}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:i}=this.viewModel,n=i==="disabled",r=(i==="rotation"?"rotation":"compass")=="compass",s=n?-1:0,a={[rd.disabled]:n,[rd.interactive]:!n},o={[rd.northIcon]:r,[rd.rotationIcon]:!r},{messages:l}=this;return R("div",{bind:this,class:this.classes(rd.base,a),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:s,"aria-label":l.reset,title:l.reset},R("span",{"aria-hidden":"true",class:this.classes(rd.icon,o),styles:this._toRotationTransform(t)}),R("span",{class:rd.text},l.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(t){return{transform:`rotateZ(${t.z}deg)`}}};u([d()],Al.prototype,"goToOverride",null),u([d()],Al.prototype,"iconClass",void 0),u([d()],Al.prototype,"label",null),u([d(),hr("esri/widgets/Compass/t9n/Compass")],Al.prototype,"messages",void 0),u([d()],Al.prototype,"view",null),u([d({type:$oe})],Al.prototype,"viewModel",void 0),u([Ta()],Al.prototype,"_reset",null),Al=u([I("esri.widgets.Compass")],Al);const qUe=Al,ug="esri-navigation-toggle",ma={base:`${ug} esri-widget`,button:`${ug}__button esri-widget--button`,activeButton:`${ug}__button--active`,panButton:`${ug}__button--pan`,rotateButton:`${ug}__button--rotate`,isLayoutHorizontal:`${ug}--horizontal`,rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"};let Yg=class extends ve{constructor(t){super(t),this.navigationMode="pan",this.view=null}initialize(){this.own(io(()=>{var t;return(t=this.view)==null?void 0:t.inputManager},()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){var t;return this.get("view.ready")&&((t=this.view)==null?void 0:t.type)==="3d"?"ready":"disabled"}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction=this.navigationMode==="pan"?"pan":"rotate"}};u([d({readOnly:!0})],Yg.prototype,"state",null),u([d()],Yg.prototype,"navigationMode",void 0),u([d()],Yg.prototype,"view",void 0),Yg=u([I("esri.widgets.NavigationToggleViewModel")],Yg);const Aoe=Yg;let Ml=class extends br{constructor(t,i){super(t,i),this.iconClass=ma.widgetIcon,this.messages=null,this.viewModel=new Aoe}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}toggle(){return this.viewModel.toggle()}render(){const t=this.get("viewModel.state")==="disabled",i=this.get("viewModel.navigationMode")==="pan",n={[ma.disabled]:t,[ma.isLayoutHorizontal]:this.layout==="horizontal"},r={[ma.activeButton]:i},s={[ma.activeButton]:!i},a=t?-1:0,o=this.messages.toggle;return R("div",{bind:this,class:this.classes(ma.base,n),onclick:this._toggle,onkeydown:this._toggle,tabIndex:a,"aria-label":o,title:o},R("div",{class:this.classes(ma.button,ma.panButton,r)},R("span",{class:ma.panIcon})),R("div",{class:this.classes(ma.button,ma.rotateButton,s)},R("span",{class:ma.rotationIcon})))}_toggle(){this.toggle()}};u([d()],Ml.prototype,"iconClass",void 0),u([d()],Ml.prototype,"label",null),u([d({value:"vertical"})],Ml.prototype,"layout",null),u([d(),hr("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Ml.prototype,"messages",void 0),u([d()],Ml.prototype,"view",null),u([d({type:Aoe})],Ml.prototype,"viewModel",void 0),u([Ta()],Ml.prototype,"_toggle",null),Ml=u([I("esri.widgets.NavigationToggle")],Ml);const WUe=Ml,ib={button:"esri-widget--button esri-widget",disabled:"esri-disabled",interactive:"esri-interactive",iconText:"esri-icon-font-fallback-text",icon:"esri-icon"};let $d=class extends br{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const t=this.enabled?0:-1,i={[ib.disabled]:!this.enabled,[ib.interactive]:this.enabled},n={[this.iconClass]:!!this.iconClass};return R("div",{bind:this,class:this.classes(ib.button,i),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:t,title:this.title},R("span",{"aria-hidden":"true",role:"presentation",class:this.classes(ib.icon,n)}),R("span",{class:ib.iconText},this.title))}_triggerAction(){this.action.call(this)}};u([d()],$d.prototype,"action",void 0),u([d()],$d.prototype,"enabled",void 0),u([d()],$d.prototype,"iconClass",void 0),u([d()],$d.prototype,"title",void 0),u([Ta()],$d.prototype,"_triggerAction",null),$d=u([I("esri.widgets.IconButton")],$d);const J7=$d;let Jg=class extends ve{get canZoomIn(){if(!this.get("view.ready"))return!1;const t=this.get("view.animation.target.scale")||this.get("view.scale"),i=this.get("view.constraints.effectiveMaxScale");return i===0||t>i}get canZoomOut(){if(!this.get("view.ready"))return!1;const t=this.get("view.animation.target.scale")||this.get("view.scale"),i=this.get("view.constraints.effectiveMinScale");return i===0||t<i}};u([d({readOnly:!0})],Jg.prototype,"canZoomIn",null),u([d({readOnly:!0})],Jg.prototype,"canZoomOut",null),u([d()],Jg.prototype,"view",void 0),Jg=u([I("esri.widgets.Zoom.ZoomConditions2D")],Jg);const KUe=Jg;let Zg=class extends ve{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};u([d({readOnly:!0})],Zg.prototype,"canZoomIn",null),u([d({readOnly:!0})],Zg.prototype,"canZoomOut",null),u([d()],Zg.prototype,"view",void 0),Zg=u([I("esri.widgets.Zoom.ZoomConditions3D")],Zg);const YUe=Zg;let Ad=class extends ve{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return $(this._zoomConditions)&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return $(this._zoomConditions)&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new KUe({view:t}):t.type==="3d"&&(this._zoomConditions=new YUe({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){if(!this.canZoomIn)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomIn():Ly(t.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const t=this.view;t.type==="2d"?t.mapViewNavigation.zoomOut():Ly(t.goTo({zoomFactor:.5}))}};u([d()],Ad.prototype,"_zoomConditions",void 0),u([d()],Ad.prototype,"canZoomIn",null),u([d()],Ad.prototype,"canZoomOut",null),u([d({readOnly:!0})],Ad.prototype,"state",null),u([d()],Ad.prototype,"view",null),Ad=u([I("esri.widgets.Zoom.ZoomViewModel")],Ad);const Moe=Ad,nb={base:"esri-zoom esri-widget",horizontalLayout:"esri-zoom--horizontal",zoomInIcon:"esri-icon-plus",zoomOutIcon:"esri-icon-minus",widgetIcon:"esri-icon-zoom-in-magnifying-glass"};let Nc=class extends br{constructor(t,i){super(t,i),this.iconClass=nb.widgetIcon,this.messages=null,this.viewModel=new Moe}initialize(){this._zoomInButton=new J7({action:this.zoomIn.bind(this),iconClass:nb.zoomInIcon}),this._zoomOutButton=new J7({action:this.zoomOut.bind(this),iconClass:nb.zoomOutIcon})}destroy(){this._zoomInButton=Si(this._zoomInButton),this._zoomOutButton=Si(this._zoomOutButton)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t=this.viewModel,i={[nb.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:n,canZoomOut:r}=t;this._zoomInButton.enabled=n,this._zoomOutButton.enabled=r;const{zoomIn:s,zoomOut:a}=this.messages;return this._zoomInButton.title=s,this._zoomOutButton.title=a,R("div",{class:this.classes(nb.base,i)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};u([d()],Nc.prototype,"iconClass",void 0),u([d()],Nc.prototype,"label",null),u([d({value:"vertical"})],Nc.prototype,"layout",null),u([d(),hr("esri/widgets/Zoom/t9n/Zoom")],Nc.prototype,"messages",void 0),u([d()],Nc.prototype,"view",null),u([d({type:Moe})],Nc.prototype,"viewModel",void 0),Nc=u([I("esri.widgets.Zoom")],Nc);const JUe=Nc;function ZUe(e){return e&&e.view!==void 0}let EE=class extends jUe{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[]}initialize(){this.addHandles([X(()=>this.components,this._componentsWatcher.bind(this),gt),X(()=>this.view,this._updateViewAwareWidgets.bind(this),gt)])}_add(t,i,n,r){let s=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;s=this._createComponent(t)}super._add(s,i,n,r)}_removeComponents(t){t.forEach(i=>{const n=this._find(i);n&&(this.remove(n),n.destroy())})}_updateViewAwareWidgets(t){this.components.forEach(i=>{const n=this._find(i),r=n&&n.widget;ZUe(r)&&(r.view=t)})}_componentsWatcher(t,i){this._removeComponents(i),this._addComponents(t),this._adjustPadding(t)}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:i}=this.padding;this.padding=i}}_addComponents(t){this.constructed&&t.forEach(i=>this.add(this._createComponent(i),this._defaultPositionLookup[i]))}_createComponent(t){const i=this._createWidget(t);if(i)return new SE({id:t,node:i})}_createWidget(t){return t==="attribution"?this._createAttribution():t==="compass"?this._createCompass():t==="navigation-toggle"?this._createNavigationToggle():t==="zoom"?this._createZoom():void 0}_createAttribution(){return new HUe({view:this.view})}_createCompass(){return new qUe({view:this.view})}_createNavigationToggle(){return new WUe({view:this.view})}_createZoom(){return new JUe({view:this.view})}};u([d()],EE.prototype,"components",void 0),EE=u([I("esri.views.ui.DefaultUI")],EE);const QUe=EE;let kE=class extends QUe{constructor(t){super(t),this.components=["attribution","zoom"]}};u([d()],kE.prototype,"components",void 0),kE=u([I("esri.views.ui.2d.DefaultUI2D")],kE);const Doe=kE;var TP;let IE=TP=class extends W{constructor(e){super(e),this.color=new de([0,0,0,1])}clone(){return new TP(z({color:this.color}))}};u([d({type:de,json:{write:!0}})],IE.prototype,"color",void 0),IE=TP=u([I("esri.webmap.background.ColorBackground")],IE);const XUe=IE;let Ooe,Roe,Poe,Loe,Foe,Noe;async function e9e(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:n,MagnifierView2D:r,Stage:s}]=await Promise.all([H(()=>import("./webglDeps.js"),["webglDeps.js","VertexArrayObject.js","Texture.js","ProgramTemplate.js","programUtils.js","NestedMap.js"]),H(()=>import("./mapViewDeps.js"),["mapViewDeps.js","MagnifierPrograms.js","_commonjsHelpers.js","WGLContainer.js","VertexArrayObject.js","Texture.js","color.js","ProgramTemplate.js","MaterialKey.js","utils.js","config.js","GeometryUtils.js","Container.js","earcut.js","ExpandedCIM.js","BidiEngine.js","Rect.js","quantizationUtils.js","floatRGBA.js","rasterizingUtils.js","imageutils.js","Matcher.js","visualVariablesUtils.js","visualVariablesUtils2.js","tileUtils.js","TurboLine.js","devEnvironmentUtils.js","CircularArray.js","webgl-debug.js","ComputedAttributeStorage.js","arcadeTimeUtils.js","executionError.js","centroid.js","BufferPool.js","programUtils.js","NestedMap.js","RenderingContext.js","OrderIndependentTransparency.js","basicInterfaces.js","doublePrecisionUtils.js","imageUtils2.js","GraphicsView2D.js","normalizeUtilsSync.js","projectionSupport.js","json.js","AttributeStoreView.js","TiledDisplayObject.js","schemaUtils.js","util.js","GraphicContainer.js","BaseGraphicContainer.js","FeatureContainer.js","TileContainer.js","vec3f32.js","requestImageUtils.js"])]);Roe=e,Poe=t,Loe=i,Foe=n,Noe=r,Ooe=s}const Z7=160;function t9e(e){return e&&e.declaredClass==="esri.Viewpoint"}let De=class extends _Ae(O6e(R6e(I8e))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Hw({getCollections:()=>{var t,i;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,this.layerViews,(i=this.basemapView)==null?void 0:i.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this._stationaryTimer=null,this._gotoTask=null,this.frameTask=new AVe(this),this._pePromise=null,this.floors=new Ie,this.highlightOptions=new woe,this.inputManager=new sUe({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new _oe,this.type="2d",this.ui=new Doe,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new noe,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([X(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(Z7)},x0),this.on("resize",t=>this._resizeHandler(t)),X(()=>{var t;return(t=this.animationManager)==null?void 0:t.animation},t=>{this.animation=t})]),ZTe()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new hUe(this.featuresTilingScheme)}get initialExtentRequired(){var a;const{scale:e,constraints:t,center:i,viewpoint:n,extent:r}=this;let s=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((a=this.map.initialViewProperties)!=null&&a.viewpoint))&&!r&&(t!=null&&t.effectiveLODs||(s=-1),(!i||e===0&&s===-1)&&(!n||!$(n.targetGeometry)||n.targetGeometry.type!=="extent"&&!n.scale))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!vm()||(this._pePromise||(this._pePromise=bm().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=this.spatialReference,i=e.targetGeometry;return!!Rh(i.spatialReference,t)||this._projectionEngineLoaded}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e),this.frameTask.animationInProgress=!0;const i=()=>{var n;e===this._get("animation")&&(this._set("animation",null),(n=this.frameTask)==null||n.requestFrame()),this.frameTask&&(this.frameTask.animationInProgress=!1)};e.when(i,i)}get background(){return i9e(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return new Le({x:e[0],y:e[1],spatialReference:t})}set center(e){if(e==null)return;if(!this.ready)return this._set("center",e),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(n){return void Y.getLogger(this.declaredClass).error(new N("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:n}))}const i=this.viewpoint;vP(i,i,t),this.viewpoint=i}set constraints(e){const t=this._get("constraints");t&&(this.handles.remove("map-view-constraints"),t.destroy()),this._set("constraints",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(X(()=>e.version,()=>{this.ready&&this.state&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint))},x0),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void Y.getLogger(this.declaredClass).error(new N("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(n){return void Y.getLogger(this.declaredClass).error(new N("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:n}))}const i=this.viewpoint;fVe(i,i,t,this.size,{constraints:this.constraints}),this.viewpoint=i}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;IVe(t,t,e),this.viewpoint=t}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",-1);const i=this._get("extent");return i&&(this._set("extent",null),this._set("center",i.center)),void this.notifyChange("initialExtentRequired")}const t=this.viewpoint;I7(t,t,e),this.viewpoint=t}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){var t,i,n;const e=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(r=>!r.destroyed&&!("layerViews"in r)&&r.updating===!0));if(G("esri-2d-log-updating")){const r=this.allLayerViews.reduce((s,a)=>({...s,[a.layer.id]:!a.destroyed&&!("layerViews"in a)&&a.updating}),{});console.log(`Updating MapView: ${e}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(t=this.layerViewManager)==null?void 0:t.updating}
-> labelManager.updating: ${(i=this.labelManager)==null?void 0:i.updating}
-> graphicsView.updating: ${(n=this.graphicsView)==null?void 0:n.updating}
-> allLayerViews: ${JSON.stringify(r)}
`)}return e}get viewpoint(){if(!this.ready)return this._get("viewpoint");const e=this.state.paddedViewState;return e&&e.viewpoint.clone()}set viewpoint(e){if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let t,i;try{t=this._project(e,this.spatialReference),!e.scale||isNaN(e.scale)?i=new N("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):j(e.targetGeometry)&&(i=new N("mapview:invalid-viewpoint","geometry not defined"))}catch(r){i=new N("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:r})}if(i)return void Y.getLogger(this.declaredClass).error(i);this._scaleBeforeChangingSpatialReference=null;const n=new Wl({targetGeometry:new Le,scale:0,rotation:0});rl(n,t),this.constraints.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this.frameTask.requestFrame(),this._set("viewpoint",n)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(e){if(e==null)return;if(!this.ready){this._set("zoom",e),this._set("scale",0);const i=this._get("extent");return i&&(this._set("extent",null),this._set("center",i.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const t=this.viewpoint;I7(t,t,this.constraints.zoomToScale(e)),this.viewpoint=t,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),VN(()=>this.ready,t).then(()=>{var r;const i={animate:!0,...t},n=dVe(e,this);return(r=this.animation)==null||r.update(n),this._gotoTask={},i.animate?this._gotoAnimated(n,i):this._gotoImmediate(n,i)});Y.getLogger(this.declaredClass).error("#goTo()","target cannot be null or undefined")}async hitTest(e,t){const i=_7(e)?w7(this,e):e;if(!this.ready||isNaN(i.x)||isNaN(i.y))return{screenPoint:i,results:[]};let n=new Set,r=!1,s=null,a=null;t!=null&&t.include?X7(t.include,Q7(this,h=>n.add(h),h=>{s||(s=new Set),s.add(h)},h=>n.add(h),()=>r=!0)):(r=!0,n=new Set(this.allLayerViews)),t!=null&&t.exclude&&X7(t.exclude,Q7(this,h=>n.delete(h),h=>{a||(a=new Set),a.add(h)}));const o=this.allLayerViews.filter(h=>!h.suspended&&n.has(h)).reverse(),l=this.toMap(i);let c=[...r?this.graphicsView.hitTest(l).map(h=>({type:"graphic",graphic:h,layer:null,mapPoint:l})):[],...await Promise.all(o.map(h=>h.hitTest(l,i)).toArray())].filter($).flat().filter($);return s&&(c=c.filter(h=>!("graphic"in h)||!h.graphic||(s==null?void 0:s.has($P(h.graphic))))),a&&(c=c.filter(h=>!("graphic"in h)||!h.graphic||(a==null?void 0:a.has($P(h.graphic))))),{screenPoint:i,results:c}}async takeScreenshot(e){const t=this._createScreenshotPlan(e),i=await this._stage.takeScreenshot(t);return mUe(i,{format:t.format,quality:t.quality,rotation:0,disableDecorations:!1},this._pixelFormat)}async _takeScreenshot(e){const t=this._createScreenshotPlan(e),i=await this._stage.takeScreenshot(t);return gUe(i,this._pixelFormat)}_createScreenshotPlan(e){e=e??{};const t=this.supersampleScreenshotsEnabled?Math.min(4,wUe(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let i;e.layers?(i=[],e.layers.forEach(s=>{const a=this.allLayerViews.find(o=>o.layer.id===s.id);a&&"container"in a&&a.container&&i.push(a.container)})):i=this._stage.children;const{format:n,quality:r}=bUe(e.format,e.quality);return fUe(e,t,this.size,this.padding,n,r,i,e.rotation)}get test(){return{takeScreenshot:e=>this._takeScreenshot(e)}}toMap(e){if(!this.ready)return null;const t=_7(e)?w7(this,e):e,i=[0,0],[n,r]=this.state.toMap(i,[t.x,t.y]),s=this.spatialReference;return new Le({x:n,y:r,spatialReference:s})}toScreen(e){if(!this.ready)return null;const t=this._project(e,this.spatialReference),i=[t.x,t.y];return this.state.toScreen(i,i),Rr(i[0],i[1])}on(e,t,i,n){return this.inputManager&&this.viewEvents.on(e,t,i,n)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e,t,i;return this.map&&"initialViewProperties"in this.map&&((t=(e=this.map)==null?void 0:e.initialViewProperties)==null?void 0:t.spatialReference)||((i=this.defaultsFromMap)==null?void 0:i.spatialReference)||null}hasLayerViewModule(e){return T7.hasLayerViewModule(e)}importLayerView(e){return T7.importLayerView(e)}pixelSizeAt(){return this.ready?this.state.resolution:(Y.getLogger(this.declaredClass).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return this.hitTest(e).then(t=>({...t,mapPoint:this.toMap(e)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let e=LUe(this.type);return G("safari")&&G("safari")<9&&(e=new N("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:G("safari")})),$(e)?(Y.getLogger(this.declaredClass).warn("#validate()",e.message),Promise.reject(e)):e9e()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new gP),this.animation}_cancellableGoTo(e,t,i){const n=()=>e===this._gotoTask,r=i.then(()=>{n()&&(this.animation=null)}).catch(a=>{throw n()&&(t&&!t.done&&(t.stop(),this.frameTask.animationInProgress=!1),this.animation=null),a}),s=new Promise(a=>a(r));return t.when().catch(()=>{n()&&s.cancel&&s.cancel()}),s}_gotoImmediate(e,t){const i=this._gotoTask,n=this.animation,r=e.then(s=>{if(gi(t),i!==this._gotoTask)throw new N("view:goto-interrupted","Goto was interrupted");this.viewpoint=n.target=s,n.finish()});return this._cancellableGoTo(i,n,r)}_flipStationary(e){return this._stationaryTimer!==null||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const t=performance.now()-this._lastStationaryEventTimestamp;t<Z7&&(this._stationaryTimer=this._flipStationary(t))},e)),this._stationaryTimer}_getDefaultViewpoint(){var w,_,x,S;const{constraints:e,initialExtent:t,map:i,padding:n,size:r}=this;if(!e)return null;const s=i&&"initialViewProperties"in i?i.initialViewProperties:void 0,a={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};e.effectiveLODs?a.zoom!==-1&&(a.scale=e.zoomToScale(a.zoom)):a.zoom=-1;let o=null,l=null,c=0;const h=a.viewpoint&&a.viewpoint.rotation,p=a.viewpoint&&a.viewpoint.targetGeometry;$(p)&&(p.type==="extent"?o=p:p.type==="point"&&(l=p,c=a.viewpoint.scale));const m=a.extent||o||((_=(w=s==null?void 0:s.viewpoint)==null?void 0:w.targetGeometry)==null?void 0:_.extent)||t,g=a.center||l||(m==null?void 0:m.center),y=a.scale||c||((x=s==null?void 0:s.viewpoint)==null?void 0:x.scale)||m&&rw(m,[r[0]-n.left-n.right,r[1]-n.top-n.bottom]),b=a.rotation||h||((S=s==null?void 0:s.viewpoint)==null?void 0:S.rotation)||0;return g&&y?new Wl({targetGeometry:g,scale:y,rotation:b}):null}_gotoAnimated(e,t){const i=this._gotoTask,n=this.animation;if(!n)return Promise.resolve();const r=e.then(s=>{if(gi(t),i!==this._gotoTask)throw new N("view:goto-interrupted","Goto was interrupted");return n.update(s),this.animationManager.animate(n,this.viewpoint,t),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(i,n,r)}_project(e,t){var r;const i=e&&e.targetGeometry||e;if(!t)return e;if(!i)return null;if(t.imageCoordinateSystem||(r=i.spatialReference)!=null&&r.imageCoordinateSystem||vn(t,i.spatialReference))return e;const n=Pm(i,t);if(!n)throw new N("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:i,spatialReference:t});return t9e(e)?(e.targetGeometry=n,e):n}_resizeHandler(e){if(!this.ready)return;const t=this.state;let i=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],kVe(i,i,n,this.state.paddedViewState.size,this.resizeAlign),i=this.constraints.constrain(i,void 0),this.state.viewpoint=i}_startup(){var o,l;this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint(),t=e.targetGeometry;try{this._project(e,this.spatialReference)}catch(c){Y.getLogger(this.declaredClass).warn(new eo("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:t.toJSON(),spatialReference:this.spatialReference,error:c})),e.targetGeometry=((o=this.defaultsFromMap.extent)==null?void 0:o.center)||new Le({x:0,y:0,spatialReference:this.spatialReference})}(l=this.constraints)==null||l.fit(e),this._set("state",new yje({padding:this._get("padding"),size:this.size,viewpoint:e})),this.graphics.owner=this;const i=new Ooe(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=i,this._magnifierView=new Noe,this._magnifierView.magnifier=this.magnifier;const n=new Loe({view:this});this._set("labelManager",n);const r=new $Ve({view:this});this._set("animationManager",r);const s=new Foe({view:this,animationManager:r});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),i.on("post-render",()=>this._set("rendering",i.renderRequested)),i.on("will-render",()=>this._set("rendering",i.renderRequested)),i.on("webgl-error",c=>this.fatalError=c.error),X(()=>this.stationary,c=>i.stationary=c,Fd),X(()=>this.background,c=>{i.background=c,this._magnifierView.background=c},Fd),X(()=>this.magnifier,c=>this._magnifierView.magnifier=c,Fd),X(()=>this.renderingOptions,c=>i.renderingOptions=c,Fd),X(()=>this.highlightOptions,c=>i.highlightOptions=c,Fd),X(()=>this.state.id,()=>i.state=this.state,Fd)],"map-view"),this._updateStageChildren();const a=this._resolveWhenReady;this._resolveWhenReady=[],a.forEach(c=>c(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[e,t],spatialReference:i,rotation:n,scale:r}=this.state.paddedViewState,s=new Le({x:e,y:t,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",s),this._set("zoom",-1),this._set("rotation",n),this._set("scale",r),this._set("spatialReference",i),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this._stage.addChild(t.container)});const e=this.graphicsView;this._stage.addChild(e.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const e=new Eje(eu.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new Roe({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new Poe(e)});this.frameTask.graphicsView=t,this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,e.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(e){if(!this.ready)return;this.frameTask.stop();for(const o of this.allLayerViews)o.processDetach();this._destroySpatialReferenceDependentProperties();const t=this.state.paddedViewState.clone();if(j(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=t.scale;else{const o=t.viewpoint.clone();o.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=o}const i=t.clone(),[n,r]=t.center;let s=null;try{s=this._project(new Le({x:n,y:r,spatialReference:t.spatialReference}),e)}catch(o){vm()||Y.getLogger(this.declaredClass).warn(new eo("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:s==null?void 0:s.toJSON(),spatialReference:e,error:o}))}s||(s=new Le({x:0,y:0,spatialReference:e}));const a=vP(new Wl({targetGeometry:new Le,scale:0,rotation:0}),t.viewpoint,s);i.viewpoint=a;try{const l=[t.size[0]/2,t.size[1]/2],c=[l[0]+20,l[1]],h=t.toMap([0,0],c),{x:p,y:m}=this._project(new Le({x:h[0],y:h[1],spatialReference:t.spatialReference}),e);h[0]=p,h[1]=m,i.toScreen(h,h);const g=SVe(l,h,c),y=Math.hypot(h[0]-l[0],h[1]-l[1])/20;!Number.isFinite(y)||Math.abs(y)>4?(a.rotation=0,a.targetGeometry=new Le({x:0,y:0,spatialReference:e})):(a.scale*=y,a.scale>G("mapview-srswitch-adjust-rotation-scale-threshold")?a.rotation=0:a.rotation+=Number.isFinite(g)?g:0)}catch{}this._get("constraints").constrain(a,void 0),this._get("state").viewpoint=a,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const o of this.allLayerViews)o.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};De.type="2d",u([d({readOnly:!0})],De.prototype,"animationManager",void 0),u([d({constructOnly:!0})],De.prototype,"deactivatedWebGLExtensions",void 0),u([d({constructOnly:!0})],De.prototype,"debugWebGLExtensions",void 0),u([d({readOnly:!0})],De.prototype,"featuresTilingScheme",void 0),u([d({readOnly:!0})],De.prototype,"fullOpacity",void 0),u([d({readOnly:!0})],De.prototype,"graphicsTileStore",null),u([d()],De.prototype,"graphicsView",void 0),u([d({readOnly:!0})],De.prototype,"state",void 0),u([d()],De.prototype,"initialExtentRequired",null),u([d()],De.prototype,"labelManager",void 0),u([d({readOnly:!0})],De.prototype,"resourceManager",null),u([d({readOnly:!0})],De.prototype,"textureManager",null),u([d({readOnly:!0})],De.prototype,"mapViewNavigation",void 0),u([d({constructOnly:!0})],De.prototype,"renderCanvas",void 0),u([d()],De.prototype,"renderingOptions",void 0),u([d({readOnly:!0})],De.prototype,"rendering",void 0),u([d({constructOnly:!0})],De.prototype,"supersampleScreenshotsEnabled",void 0),u([d({readOnly:!0})],De.prototype,"supportsGround",void 0),u([d()],De.prototype,"_stationaryTimer",void 0),u([d()],De.prototype,"_defaultsFromMapSettings",null),u([d()],De.prototype,"_pePromise",void 0),u([d({readOnly:!0})],De.prototype,"typeSpecificPreconditionsReady",null),u([d()],De.prototype,"animation",null),u([d({type:XUe})],De.prototype,"background",null),u([d({value:null,type:Le,dependsOn:["state.id","ready"]})],De.prototype,"center",null),u([d({type:noe})],De.prototype,"constraints",null),u([d({value:null,type:Gt,dependsOn:["state.id","ready"]})],De.prototype,"extent",null),u([d()],De.prototype,"floors",void 0),u([d({type:woe})],De.prototype,"highlightOptions",void 0),u([d({readOnly:!0})],De.prototype,"inputManager",void 0),u([d()],De.prototype,"map",void 0),u([d({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],De.prototype,"padding",null),u([d()],De.prototype,"resizeAlign",void 0),u([d({readOnly:!0,dependsOn:["state.id"]})],De.prototype,"resolution",null),u([d({value:0,type:Number,dependsOn:["state.id","ready"]})],De.prototype,"rotation",null),u([d({value:0,type:Number,dependsOn:["state.id","ready"]})],De.prototype,"scale",null),u([d({constructOnly:!0})],De.prototype,"spatialReferenceLocked",void 0),u([d()],De.prototype,"stationary",null),u([d({type:_oe,readOnly:!0})],De.prototype,"timeline",void 0),u([d({readOnly:!0})],De.prototype,"type",void 0),u([d({readOnly:!0})],De.prototype,"updating",null),u([d({value:null,type:Wl,dependsOn:["state.id","ready"]})],De.prototype,"viewpoint",null),u([d({value:-1,dependsOn:["state.id","ready"]})],De.prototype,"zoom",null),u([d({readOnly:!0})],De.prototype,"navigating",null),u([d({type:Doe})],De.prototype,"ui",void 0),De=u([I("esri.views.MapView")],De);const $T=De;function $P(e){var i,n;const t=e.getObjectId();return t?`${((i=e.layer)==null?void 0:i.uid)??((n=e.sourceLayer)==null?void 0:n.uid)??"MapView"}/${t}`:`"MapView/${e.uid}`}function Q7(e,t,i,n,r){return s=>{if(s instanceof yr){if(s.layer===e)r==null||r();else{const a=e.allLayerViews.find(o=>o.layer===s.layer);a&&(n==null||n(a))}i($P(s))}else{const a=e.allLayerViews.find(o=>o.layer===s);a&&t(a)}}}function X7(e,t){if(e)if(Bk(e))for(const i of e)if(Bk(i))for(const n of i)t(n);else t(i);else t(e)}function i9e(e){return(e==null?void 0:e.declaredClass)==="esri.WebMap"}const n9e=ye.createContext(new $T({map:new IT})),r9e=({children:e})=>we(n9e.Provider,{value:new $T({map:new IT({basemap:"gray-vector"})}),children:e}),s9e=ye.createContext(new $T);function a9e({children:e,mapProps:t,mapViewProps:i,onMapViewLoad:n,...r}){const s=ye.useRef(null),a=ye.useRef(new IT(t)),[o,l]=ye.useState(),c=ye.useRef(new $T({...i,map:a.current}));return ye.useEffect(()=>{c.current.when(()=>{l(c.current),n==null||n(c.current)})},[n]),ye.useEffect(()=>{s.current&&(c.current.container=s.current)},[]),we(s9e.Provider,{value:o,children:we("div",{ref:s,style:{overflow:"auto"},...r,children:o&&e})})}const o9e={type:eu,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:zoe}}}}};function zoe(e,t,i,n){if(!e)return null;const{minScale:r,maxScale:s,minLOD:a,maxLOD:o}=t;if(a!=null&&o!=null)return n&&n.ignoreMinMaxLOD?eu.fromJSON(e):eu.fromJSON({...e,lods:e.lods.filter(({level:l})=>l!=null&&l>=a&&l<=o)});if(r!==0&&s!==0){const l=p=>Math.round(1e4*p)/1e4,c=r?l(r):1/0,h=s?l(s):-1/0;return eu.fromJSON({...e,lods:e.lods.filter(p=>{const m=l(p.scale);return m<=c&&m>=h})})}return eu.fromJSON(e)}let eH=class CE{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}getAvailability(t,i){if(this._allAvailability!=="unknown")return this._allAvailability;const n=(t-this.location.top)*this.location.width+(i-this.location.left),r=n%8,s=n>>3,a=this._tileAvailabilityBitSet;return s<0||s>a.length?"unknown":a[s]&1<<r?"available":"unavailable"}_updateFromData(t){const i=this.location.width,n=this.location.height;let r=!0,s=!0;const a=Math.ceil(i*n/8),o=new Uint8Array(a);let l=0;for(let c=0;c<t.length;c++){const h=c%8;t[c]?(s=!1,o[l]|=1<<h):r=!1,h===7&&++l}s?this._allAvailability="unavailable":r?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=o,this.byteSize+=o.length)}static fromDefinition(t,i){const n=t.service.request||Tt,{row:r,col:s,width:a,height:o}=t,l={query:{f:"json"}};return i=i?{...l,...i}:l,n(l9e(t),i).then(c=>c.data).catch(c=>{if(c&&c.details&&c.details.httpStatus===422)return{location:{top:r,left:s,width:a,height:o},valid:!0,data:y_e(a*o,0)};throw c}).then(c=>{if(c.location&&(c.location.top!==r||c.location.left!==s||c.location.width!==a||c.location.height!==o))throw new N("tilemap:location-mismatch","Tilemap response for different location than requested",{response:c,definition:{top:r,left:s,width:a,height:o}});return CE.fromJSON(c)})}static fromJSON(t){CE._validateJSON(t);const i=new CE;return i.location=Object.freeze(z(t.location)),i._updateFromData(t.data),Object.freeze(i)}static _validateJSON(t){if(!t||!t.location)throw new N("tilemap:missing-location","Location missing from tilemap response");if(t.valid===!1)throw new N("tilemap:invalid","Tilemap response was marked as invalid");if(!t.data)throw new N("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(t.data))throw new N("tilemap:data-mismatch","Data must be an array of numbers");if(t.data.length!==t.location.width*t.location.height)throw new N("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}};function tH(e){return`${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}function l9e(e){let t;if(e.service.type==="vector-tile")t=`${e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`;else{const n=e.service.tileServers;t=`${n&&n.length?n[e.row%n.length]:e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}const i=e.service.query;return i&&(t=`${t}?${i}`),t}var mf;let ka=mf=class extends Yh(ve){constructor(e){super(e),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2*Jw.MEGABYTES,this.request=Tt,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new qne(this.cacheByteSize),this.addHandles([X(()=>{const{layer:e}=this;return[e==null?void 0:e.parsedUrl,e==null?void 0:e.tileServers,e==null?void 0:e.apiKey,e==null?void 0:e.customParameters]},()=>this._initializeTilemapDefinition()),X(()=>{var e,t;return(t=(e=this.layer)==null?void 0:e.tileInfo)==null?void 0:t.lods},e=>this._initializeAvailableLevels(e),Fd)]),this._initializeTilemapDefinition()}castLevels(e){return e<=2?(Y.getLogger(this.declaredClass).error("Minimum levels for Tilemap is 3, but got ",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,n){if(!this._availableLevels[e])return Promise.reject(new N("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));const r=this._tmpTilemapDefinition,s=this._tilemapFromCache(e,t,i,r);if(s)return Promise.resolve(s);const a=n&&n.signal;return n={...n,signal:null},new Promise((o,l)=>{ds(a,()=>l(ui()));const c=tH(r);let h=this._pendingTilemapRequests[c];if(!h){h=eH.fromDefinition(r,n).then(m=>(this._tilemapCache.put(c,m,m.byteSize),m));const p=()=>delete this._pendingTilemapRequests[c];this._pendingTilemapRequests[c]=h,h.then(p,p)}h.then(o,l)})}getAvailability(e,t,i){if(!this._availableLevels[e])return"unavailable";const n=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return n?n.getAvailability(t,i):"unknown"}fetchAvailability(e,t,i,n){return this._availableLevels[e]?this.fetchTilemap(e,t,i,n).catch(r=>r).then(r=>{if(r instanceof eH){const s=r.getAvailability(t,i);if(s==="unavailable")throw new N("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:i});return s}if(Vr(r))throw r;return"unknown"}):Promise.reject(new N("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,n,r){n.level=e,n.row=t,n.col=i;const s=this.layer.tileInfo;s.updateTileInfo(n);const a=this.fetchAvailability(e,t,i,r).catch(o=>{if(Vr(o))throw o;if(s.upsampleTile(n))return this.fetchAvailabilityUpsample(n.level,n.row,n.col,n);throw o});return this._fetchAvailabilityUpsamplePrefetch(n.id,e,t,i,r,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,n,r,s){if(!this._prefetchingEnabled||e==null)return;const a=`prefetch-${e}`;if(this.handles.has(a))return;const o=new AbortController;s.then(()=>o.abort(),()=>o.abort());let l=!1;const c={remove(){l||(l=!0,o.abort())}};if(this.handles.add(c,a),await Hxe(10,o.signal).catch(()=>{}),l||(l=!0,this.handles.remove(a)),Qs(o))return;const h=new Lte(e,t,i,n),p={...r,signal:o.signal},m=this.layer.tileInfo;for(let g=0;mf._prefetches.length<mf._maxPrefetch&&m.upsampleTile(h);++g){const y=this.fetchAvailability(h.level,h.row,h.col,p);mf._prefetches.push(y);const b=()=>{mf._prefetches.removeUnordered(y)};y.then(b,b)}}_initializeTilemapDefinition(){var n;if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:mm({...e.query,...i,token:t??((n=e.query)==null?void 0:n.token)}),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,n){n.level=e,n.row=t-t%this.size,n.col=i-i%this.size;const r=tH(n);return this._tilemapCache.get(r)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach(t=>this._availableLevels[t.level]=!0)}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,n)=>!!e._tilemapFromCache(t,i,n,e._tmpTilemapDefinition)}}};ka._maxPrefetch=4,ka._prefetches=new vh({initialSize:mf._maxPrefetch}),u([d({constructOnly:!0,type:Number})],ka.prototype,"levels",void 0),u([ct("levels")],ka.prototype,"castLevels",null),u([d({readOnly:!0,type:Number})],ka.prototype,"size",null),u([d({constructOnly:!0,type:Number})],ka.prototype,"cacheByteSize",void 0),u([d({constructOnly:!0})],ka.prototype,"layer",void 0),u([d({constructOnly:!0})],ka.prototype,"request",void 0),ka=mf=u([I("esri.layers.support.TilemapCache")],ka);const c9e=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(i,n){return n.minLOD!=null&&n.maxLOD!=null?i:0}readMaxScale(i,n){return n.minLOD!=null&&n.maxLOD!=null?i:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(i,n){return n.capabilities&&n.capabilities.includes("Tilemap")?new ka({layer:this}):null}};return u([d({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),u([d()],t.prototype,"minScale",void 0),u([ee("service","minScale")],t.prototype,"readMinScale",null),u([d()],t.prototype,"maxScale",void 0),u([ee("service","maxScale")],t.prototype,"readMaxScale",null),u([d({type:je})],t.prototype,"spatialReference",void 0),u([d({readOnly:!0})],t.prototype,"supportsBlankTile",null),u([d(o9e)],t.prototype,"tileInfo",void 0),u([d()],t.prototype,"tilemapCache",void 0),u([ee("service","tilemapCache",["capabilities"])],t.prototype,"readTilemapCache",null),u([d()],t.prototype,"version",void 0),t=u([I("esri.layers.mixins.ArcGISCachedService")],t),t};let jS=null;function u9e(e){if(jS)return jS;const t={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return jS=new Promise(i=>{const n=new Image;n.onload=()=>{n.onload=n.onerror=null,i(n.width>0&&n.height>0)},n.onerror=()=>{n.onload=n.onerror=null,i(!1)},n.src="data:image/webp;base64,"+t[e]}),jS}const iH=1.15;let nH=class{constructor(t,i){this._spriteSource=t,this._maxTextureSize=i,this.devicePixelRatio=1,this._spriteImageFormat="png",this._isRetina=!1,this._spritesData={},this.image=null,this.width=null,this.height=null,this.loadStatus="not-loaded",t.type==="url"&&t.spriteFormat&&(this._spriteImageFormat=t.spriteFormat),t.pixelRatio&&(this.devicePixelRatio=t.pixelRatio),this.baseURL=t.spriteUrl}get spriteNames(){const t=[];for(const i in this._spritesData)t.push(i);return t.sort(),t}getSpriteInfo(t){return this._spritesData?this._spritesData[t]:null}async load(t){if(this.baseURL){this.loadStatus="loading";try{await this._loadSprites(t),this.loadStatus="loaded"}catch{this.loadStatus="failed"}}else this.loadStatus="failed"}async _loadSprites(t){this._isRetina=this.devicePixelRatio>iH;const{width:i,height:n,data:r,json:s}=await this._getSpriteData(this._spriteSource,t),a=Object.keys(s);if(!a||a.length===0||!r)return this._spritesData=this.image=null,void(this.width=this.height=0);this._spritesData=s,this.width=i,this.height=n;const o=Math.max(this._maxTextureSize,4096);if(i>o||n>o){const c=`Sprite resource for style ${this.baseURL} is bigger than the maximum allowed of ${o} pixels}`;throw Y.getLogger("esri.layers.support.SpriteSource").error(c),new N("SpriteSource",c)}let l;for(let c=0;c<r.length;c+=4)l=r[c+3]/255,r[c]=r[c]*l,r[c+1]=r[c+1]*l,r[c+2]=r[c+2]*l;this.image=r}async _getSpriteData(t,i){if(t.type==="image"){let h,p;if(this.devicePixelRatio<iH){if(!t.spriteSource1x)throw new N("SpriteSource","no image data provided for low resolution sprites!");h=t.spriteSource1x.image,p=t.spriteSource1x.json}else{if(!t.spriteSource2x)throw new N("SpriteSource","no image data provided for high resolution sprites!");h=t.spriteSource2x.image,p=t.spriteSource2x.json}return"width"in h&&"height"in h&&"data"in h&&(__e(h.data)||CZ(h.data))?{width:h.width,height:h.height,data:new Uint8Array(h.data),json:p}:{...rH(h),json:p}}const n=Ti(this.baseURL),r=n.query?"?"+mm(n.query):"",s=this._isRetina?"@2x":"",a=`${n.path}${s}.${this._spriteImageFormat}${r}`,o=`${n.path}${s}.json${r}`,[l,c]=await Promise.all([Tt(o,i),Tt(a,{responseType:"image",...i})]);return{...rH(c.data),json:l.data}}};function rH(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.width=e.width,t.height=e.height,i.drawImage(e,0,0,e.width,e.height);const n=i.getImageData(0,0,e.width,e.height);return{width:e.width,height:e.height,data:new Uint8Array(n.data)}}let d9e=class{constructor(t){this.url=t}async fetchTileIndex(){return this._tileIndexPromise||(this._tileIndexPromise=Tt(this.url).then(t=>t.data.index)),this._tileIndexPromise}async dataKey(t,i){const n=await this.fetchTileIndex();return gi(i),this._getIndexedDataKey(n,t)}_getIndexedDataKey(t,i){const n=[i];if(i.level<0||i.row<0||i.col<0||i.row>>i.level>0||i.col>>i.level>0)return null;let r=i;for(;r.level!==0;)r=new Iu(r.level-1,r.row>>1,r.col>>1,r.world),n.push(r);let s,a,o=t,l=n.pop();if(o===1)return l;for(;n.length;)if(s=n.pop(),a=(1&s.col)+((1&s.row)<<1),o){if(o[a]===0){l=null;break}if(o[a]===1){l=s;break}l=s,o=o[a]}return l}},h9e=class{constructor(t,i){this._tilemap=t,this._tileIndexUrl=i}async fetchTileIndex(t){return this._tileIndexPromise||(this._tileIndexPromise=Tt(this._tileIndexUrl,{query:{...t==null?void 0:t.query}}).then(i=>i.data.index)),this._tileIndexPromise}dataKey(t,i){const{level:n,row:r,col:s}=t,a=new Iu(t);return this._tilemap.fetchAvailabilityUpsample(n,r,s,a,i).then(()=>(a.world=t.world,a)).catch(o=>{if(Vr(o))throw o;return null})}},p9e=class{constructor(t){this._tileUrl=t,this._promise=null,this._abortController=null,this._abortOptions=[]}getData(t){this._promise===null&&(this._abortController=new AbortController,this._promise=this._makeRequest(this._tileUrl,this._abortController.signal));const i=this._abortOptions;return i.push(t),ds(t,()=>{i.every(n=>Qs(n))&&this._abortController.abort()}),this._promise.then(n=>z(n))}async _makeRequest(t,i){const{data:n}=await Tt(t,{responseType:"array-buffer",signal:i});return n}};const LM=new Map;function f9e(e,t,i,n,r){return m9e(e.replace(/\{z\}/gi,t.toString()).replace(/\{y\}/gi,i.toString()).replace(/\{x\}/gi,n.toString()),r)}function m9e(e,t){return PF(LM,e,()=>new p9e(e)).getData(t).then(i=>(LM.delete(e),i)).catch(i=>{throw LM.delete(e),i})}let g9e=class{constructor(t,i,n){this.tilemap=null,this.tileInfo=null,this.capabilities=null,this.fullExtent=null,this.name=t,this.sourceUrl=i;const r=Ti(this.sourceUrl),s=z(n),a=s.tiles;if(r)for(let m=0;m<a.length;m++){const g=Ti(a[m]);g&&(Lr(g.path)||(g.path=nc(r.path,g.path)),a[m]=ou(g.path,{...r.query,...g.query}))}this.tileServers=a;const o=n.capabilities&&n.capabilities.split(",").map(m=>m.toLowerCase().trim()),l=(n==null?void 0:n.exportTilesAllowed)===!0,c=(o==null?void 0:o.includes("tilemap"))===!0,h=l&&n.hasOwnProperty("maxExportTilesCount")?n.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:l,supportsTileMap:c},exportTiles:l?{maxExportTilesCount:+h}:null},this.tileInfo=zoe(s.tileInfo,s,null,{ignoreMinMaxLOD:!0});const p=n.tileMap?ou(nc(r.path,n.tileMap),r.query??{}):null;c?(this.type="vector-tile",this.tilemap=new h9e(new ka({layer:{parsedUrl:r,tileInfo:this.tileInfo,type:"vector-tile",tileServers:this.tileServers}}),p)):p&&(this.tilemap=new d9e(p)),this.fullExtent=Gt.fromJSON(n.fullExtent)}destroy(){}async getRefKey(t,i){var n;return await((n=this.tilemap)==null?void 0:n.dataKey(t,i))??t}requestTile(t,i,n,r){const s=this.tileServers[i%this.tileServers.length];return f9e(s,t,i,n,r)}isCompatibleWith(t){const i=this.tileInfo,n=t.tileInfo;if(!i.spatialReference.equals(n.spatialReference)||!i.origin.equals(n.origin)||Math.round(i.dpi)!==Math.round(n.dpi))return!1;const r=i.lods,s=n.lods,a=Math.min(r.length,s.length);for(let o=0;o<a;o++){const l=r[o],c=s[o];if(l.level!==c.level||Math.round(l.scale)!==Math.round(c.scale))return!1}return!0}};const FM=ut.defaults&&ut.defaults.io.corsEnabledServers;async function y9e(e,t){const i={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:"",spriteFormat:"png"},[n,r]=typeof e=="string"?[e,null]:[null,e.jsonUrl];await Ff(i,"esri",e,r,t);const s={layerDefinition:i.validatedSource,url:n,serviceUrl:i.sourceUrl,style:i.style,styleUrl:i.styleUrl,spriteUrl:i.style.sprite&&Em(i.styleBase,i.style.sprite),spriteFormat:i.spriteFormat,glyphsUrl:i.style.glyphs&&Em(i.styleBase,i.style.glyphs),sourceNameToSource:i.sourceNameToSource,primarySourceName:i.primarySourceName};return Sm(s.spriteUrl),Sm(s.glyphsUrl),s}function Sm(e){if(!e)return;const t=Ka(e);FM&&!FM.includes(t)&&FM.push(t)}function Em(...e){let t;for(const i of e)i!=null&&(to(i)?t&&(t=t.split("://")[0]+":"+i.trim()):t=Lr(i)?i:nc(t,i));return t?YC(t):void 0}async function Ff(e,t,i,n,r){let s,a,o;if(gi(r),typeof i=="string"){const c=Ys(i);Sm(c),o=await Tt(c,{...r,responseType:"json",query:{f:"json",...r==null?void 0:r.query}}),o.ssl&&(s&&(s=s.replace(/^http:/i,"https:")),a&&(a=a.replace(/^http:/i,"https:"))),s=c,a=c}else i!=null&&(o={data:i},s=i.jsonUrl||null,a=n);const l=o==null?void 0:o.data;if(Voe(l))return e.styleUrl=s||null,b9e(e,l,a,r);if(v9e(l))return e.sourceUrl?sH(e,l,a,!1,t,r):(e.sourceUrl=s||null,sH(e,l,a,!0,t,r));throw new Error("You must specify the URL or the JSON for a service or for a style.")}function Voe(e){return!!(e!=null&&e.sources)}function v9e(e){return!Voe(e)}async function b9e(e,t,i,n){const r=i?Ree(i):Tee();e.styleBase=r,e.style=t,e.styleUrl&&Sm(e.styleUrl),t["sprite-format"]&&t["sprite-format"].toLowerCase()==="webp"&&(e.spriteFormat="webp");const s=[];if(t.sources&&t.sources.esri){const a=t.sources.esri;a.url?await Ff(e,"esri",Em(r,a.url),void 0,n):s.push(Ff(e,"esri",a,r,n))}for(const a of Object.keys(t.sources))a!=="esri"&&t.sources[a].type==="vector"&&(t.sources[a].url?s.push(Ff(e,a,Em(r,t.sources[a].url),void 0,n)):t.sources[a].tiles&&s.push(Ff(e,a,t.sources[a],r,n)));await Promise.all(s)}async function sH(e,t,i,n,r,s){const a=i?YC(i)+"/":Tee(),o=w9e(t,a),l=new g9e(r,ou(a,(s==null?void 0:s.query)??{}),o);if(!n&&e.primarySourceName in e.sourceNameToSource){const c=e.sourceNameToSource[e.primarySourceName];if(!c.isCompatibleWith(l))return;l.fullExtent!=null&&(c.fullExtent!=null?c.fullExtent.union(l.fullExtent):c.fullExtent=l.fullExtent.clone()),c.tileInfo&&l.tileInfo&&c.tileInfo.lods.length<l.tileInfo.lods.length&&(c.tileInfo=l.tileInfo)}if(n?(e.sourceBase=a,e.source=t,e.validatedSource=o,e.primarySourceName=r,e.sourceUrl&&Sm(e.sourceUrl)):Sm(a),e.sourceNameToSource[r]=l,!e.style){if(t.defaultStyles==null)throw new Error;return typeof t.defaultStyles=="string"?Ff(e,"",Em(a,t.defaultStyles,"root.json"),void 0,s):Ff(e,"",t.defaultStyles,Em(a,"root.json"),s)}}function w9e(e,t){if(e.hasOwnProperty("tileInfo"))return e;const i={xmin:-20037507067161843e-9,ymin:-20037507067161843e-9,xmax:20037507067161843e-9,ymax:20037507067161843e-9,spatialReference:{wkid:102100}},n=512;let r=78271.51696400007,s=2958287637957775e-7;const a=[],o=e.hasOwnProperty("minzoom")?+e.minzoom:0,l=e.hasOwnProperty("maxzoom")?+e.maxzoom:22;for(let c=0;c<=l;c++)c>=o&&a.push({level:c,scale:s,resolution:r}),r/=2,s/=2;for(const c of e.tiles??[])Sm(Em(t,c));return{capabilities:"TilesOnly",initialExtent:i,fullExtent:i,minScale:0,maxScale:0,tiles:e.tiles,tileInfo:{rows:n,cols:n,dpi:96,format:"pbf",origin:{x:-20037508342787e-6,y:20037508342787e-6},lods:a,spatialReference:{wkid:102100}}}}function _9e(e){return{origin:"portal-item",url:Ti(e.itemUrl),portal:e.portal||gr.getDefault(),portalItem:e,readResourcePaths:[]}}function DZe(e){return{origin:"portal-item",messages:[],writtenProperties:[],url:e.itemUrl?Ti(e.itemUrl):null,portal:e.portal||gr.getDefault(),portalItem:e}}const US=1e-6;function x9e(e,t){if(e===t)return!0;if(e==null&&t!=null||e!=null&&t==null||e==null||t==null||!e.spatialReference.equals(t.spatialReference)||e.dpi!==t.dpi)return!1;const i=e.origin,n=t.origin;if(Math.abs(i.x-n.x)>=US||Math.abs(i.y-n.y)>=US)return!1;let r,s;e.lods[0].scale>t.lods[0].scale?(r=e,s=t):(s=e,r=t);for(let a=r.lods[0].scale;a>=s.lods[s.lods.length-1].scale-US;a/=2)if(Math.abs(a-s.lods[0].scale)<US)return!0;return!1}function S9e(e,t){if(e===t)return e;if(e==null&&t!=null)return t;if(e!=null&&t==null)return e;if(e==null||t==null)return null;const i=e.size[0],n=e.format,r=e.dpi,s=new Le({x:e.origin.x,y:e.origin.y}),a=e.spatialReference,o=e.lods[0].scale>t.lods[0].scale?e.lods[0]:t.lods[0],l=e.lods[e.lods.length-1].scale<=t.lods[t.lods.length-1].scale?e.lods[e.lods.length-1]:t.lods[t.lods.length-1],c=o.scale,h=o.resolution,p=l.scale,m=[];let g=c,y=h,b=0;for(;g>p;)m.push(new qc({level:b,resolution:y,scale:g})),b++,g/=2,y/=2;return new eu({size:[i,i],dpi:r,format:n||"pbf",origin:s,lods:m,spatialReference:a})}var AP,MP,aH,oH,lH,cH,uH,dH,hH,pH,fH,mH,gH,yH,vH,bH,wH,_H,xH,SH,EH,kH,IH,CH,TH,$H,AH,MH,DH,OH,RH,PH,LH,FH,NH,zH,VH,jH,UH,BH,HH,GH,qH,WH,KH,YH,JH,ZH,QH,XH,eG,tG,iG,nG,rG,sG,aG,oG,lG,cG,uG;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(AP||(AP={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(MP||(MP={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(aH||(aH={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(oH||(oH={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(lH||(lH={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(cH||(cH={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(uH||(uH={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(dH||(dH={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(hH||(hH={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(pH||(pH={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(fH||(fH={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(mH||(mH={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(gH||(gH={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(yH||(yH={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(vH||(vH={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(bH||(bH={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(wH||(wH={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(_H||(_H={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(xH||(xH={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(SH||(SH={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees"}(EH||(EH={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(kH||(kH={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(IH||(IH={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(CH||(CH={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(TH||(TH={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}($H||($H={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(AH||(AH={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(MH||(MH={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(DH||(DH={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(OH||(OH={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(RH||(RH={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(PH||(PH={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AloneLine=1]="AloneLine"}(LH||(LH={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(FH||(FH={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(NH||(NH={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(zH||(zH={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(VH||(VH={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(jH||(jH={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(UH||(UH={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(BH||(BH={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(HH||(HH={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(GH||(GH={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(qH||(qH={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(WH||(WH={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(KH||(KH={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(YH||(YH={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(JH||(JH={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(ZH||(ZH={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(QH||(QH={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(XH||(XH={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(eG||(eG={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(tG||(tG={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(iG||(iG={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(nG||(nG={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(rG||(rG={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(sG||(sG={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(aG||(aG={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(oG||(oG={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(lG||(lG={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(cG||(cG={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(uG||(uG={}));var Ni,gf,DP,Yl,OP,VI,RP,yf,PP;(function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.FILL=1]="FILL",e[e.LINE=2]="LINE",e[e.SYMBOL=3]="SYMBOL",e[e.CIRCLE=4]="CIRCLE"})(Ni||(Ni={})),function(e){e[e.VISIBLE=0]="VISIBLE",e[e.NONE=1]="NONE"}(gf||(gf={})),function(e){e[e.POINT=0]="POINT",e[e.LINE=1]="LINE",e[e.LINE_CENTER=2]="LINE_CENTER"}(DP||(DP={})),function(e){e[e.MAP=0]="MAP",e[e.VIEWPORT=1]="VIEWPORT",e[e.AUTO=2]="AUTO"}(Yl||(Yl={})),function(e){e[e.AUTO=0]="AUTO",e[e.LEFT=1]="LEFT",e[e.CENTER=2]="CENTER",e[e.RIGHT=3]="RIGHT"}(OP||(OP={})),function(e){e[e.CENTER=0]="CENTER",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.TOP=3]="TOP",e[e.BOTTOM=4]="BOTTOM",e[e.TOP_LEFT=5]="TOP_LEFT",e[e.TOP_RIGHT=6]="TOP_RIGHT",e[e.BOTTOM_LEFT=7]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"}(VI||(VI={})),function(e){e[e.NONE=0]="NONE",e[e.UPPERCASE=1]="UPPERCASE",e[e.LOWERCASE=2]="LOWERCASE"}(RP||(RP={})),function(e){e[e.MAP=0]="MAP",e[e.VIEWPORT=1]="VIEWPORT"}(yf||(yf={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(PP||(PP={}));let ji=class{};ji.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:gf.VISIBLE}},ji.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:gf.VISIBLE}},ji.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:gf.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:AP.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:MP.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},ji.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:gf.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:DP.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:VI.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:Yl.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:VI.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:OP.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:Yl.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:RP.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[PP.HORIZONTAL]}},ji.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:gf.VISIBLE}},ji.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}},ji.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:yf.MAP}},ji.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:yf.MAP},"line-width":{type:"number",minimum:0,default:1}},ji.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:yf.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:yf.MAP}},ji.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},ji.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:yf.MAP}};var dG,Cu,hG;(function(e){e[e.FILL=1]="FILL",e[e.LINE=2]="LINE",e[e.SYMBOL=3]="SYMBOL",e[e.CIRCLE=4]="CIRCLE"})(dG||(dG={})),function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.FILL=1]="FILL",e[e.OUTLINE=2]="OUTLINE",e[e.LINE=3]="LINE",e[e.ICON=4]="ICON",e[e.CIRCLE=5]="CIRCLE",e[e.TEXT=6]="TEXT",e[e.TILEINFO=7]="TILEINFO"}(Cu||(Cu={})),function(e){e[e.PAINTER_CHANGED=0]="PAINTER_CHANGED",e[e.LAYOUT_CHANGED=1]="LAYOUT_CHANGED",e[e.LAYER_CHANGED=2]="LAYER_CHANGED",e[e.LAYER_REMOVED=3]="LAYER_REMOVED",e[e.SPRITES_CHANGED=4]="SPRITES_CHANGED"}(hG||(hG={}));let E9e=class{constructor(t){this._array=[],t<=0&&console.error("strideInBytes must be positive!"),this._stride=t}get array(){return this._array}get index(){return 4*this._array.length/this._stride}get itemSize(){return this._stride}get sizeInBytes(){return 4*this._array.length}reset(){this.array.length=0}toBuffer(){return new Uint32Array(this._array).buffer}static i1616to32(t,i){return 65535&t|i<<16}static i8888to32(t,i,n,r){return 255&t|(255&i)<<8|(255&n)<<16|r<<24}static i8816to32(t,i,n){return 255&t|(255&i)<<8|n<<16}};var me,vf;(function(e){e[e.R8_SIGNED=0]="R8_SIGNED",e[e.R8_UNSIGNED=1]="R8_UNSIGNED",e[e.R16_SIGNED=2]="R16_SIGNED",e[e.R16_UNSIGNED=3]="R16_UNSIGNED",e[e.R8G8_SIGNED=4]="R8G8_SIGNED",e[e.R8G8_UNSIGNED=5]="R8G8_UNSIGNED",e[e.R16G16_SIGNED=6]="R16G16_SIGNED",e[e.R16G16_UNSIGNED=7]="R16G16_UNSIGNED",e[e.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED",e[e.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED",e[e.R8G8B8A8_COLOR=10]="R8G8B8A8_COLOR",e[e.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY",e[e.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN"})(me||(me={})),function(e){e[e.UNIFORM=0]="UNIFORM",e[e.DATA_DRIVEN=1]="DATA_DRIVEN",e[e.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN",e[e.UNUSED=3]="UNUSED"}(vf||(vf={}));var pG,fG,mG,gG,yG,vG,bG,Ze,wG,_G,xG,SG,EG,kG,IG,CG,TG,$G,AG,MG,DG,OG;(function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"})(pG||(pG={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(fG||(fG={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(mG||(mG={})),function(e){e[e.ADD=32774]="ADD",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(gG||(gG={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"}(yG||(yG={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(vG||(vG={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(bG||(bG={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT"}(Ze||(Ze={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(wG||(wG={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(_G||(_G={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(xG||(xG={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(SG||(SG={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(EG||(EG={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(kG||(kG={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(IG||(IG={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(CG||(CG={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(TG||(TG={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}($G||($G={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(AG||(AG={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(MG||(MG={})),function(e){e[e.TEXTURE=0]="TEXTURE",e[e.RENDER_BUFFER=1]="RENDER_BUFFER",e[e.CUBEMAP=2]="CUBEMAP"}(DG||(DG={})),function(e){e[e.NONE=0]="NONE",e[e.DEPTH_RENDER_BUFFER=1]="DEPTH_RENDER_BUFFER",e[e.STENCIL_RENDER_BUFFER=2]="STENCIL_RENDER_BUFFER",e[e.DEPTH_STENCIL_RENDER_BUFFER=3]="DEPTH_STENCIL_RENDER_BUFFER",e[e.DEPTH_STENCIL_TEXTURE=4]="DEPTH_STENCIL_TEXTURE"}(OG||(OG={}));const PZe=33984;var RG,PG;(function(e){e[e.Texture=0]="Texture",e[e.BufferObject=1]="BufferObject",e[e.VertexArrayObject=2]="VertexArrayObject",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.FramebufferObject=5]="FramebufferObject",e[e.Renderbuffer=6]="Renderbuffer",e[e.Sync=7]="Sync",e[e.COUNT=8]="COUNT"})(RG||(RG={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(PG||(PG={}));const LZe=33306;var LG,FG,NG,zG,VG,jG,UG;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(LG||(LG={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(FG||(FG={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(NG||(NG={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(zG||(zG={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(VG||(VG={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(jG||(jG={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(UG||(UG={}));let Vn=class{constructor(t,i,n,r,s,a=!1,o=0){this.name=t,this.count=i,this.type=n,this.offset=r,this.stride=s,this.normalized=a,this.divisor=o}},Zh=class LP{constructor(t){this._locations=new Map,this._key=t}get key(){return this._key}get type(){return 7&this._key}defines(){return[]}getStride(){return this._layoutInfo||this._buildAttributesInfo(),this._stride}getAttributeLocations(){return this._locations.size===0&&this._buildAttributesInfo(),this._locations}getLayoutInfo(){return this._layoutInfo||this._buildAttributesInfo(),this._layoutInfo}getEncodingInfos(){return this._propertyEncodingInfo||this._buildAttributesInfo(),this._propertyEncodingInfo}getUniforms(){return this._uniforms||this._buildAttributesInfo(),this._uniforms}getShaderHeader(){return this._shaderHeader||this._buildAttributesInfo(),this._shaderHeader}getShaderMain(){return this._shaderMain||this._buildAttributesInfo(),this._shaderMain}setDataUniforms(t,i,n,r,s){const a=this.getUniforms();for(const o of a){const{name:l,type:c,getValue:h}=o,p=h(n,i,r,s);if(p!==null)switch(c){case"float":t.setUniform1f(l,p);break;case"vec2":t.setUniform2fv(l,p);break;case"vec4":t.setUniform4fv(l,p)}}}encodeAttributes(t,i,n,r){var h;const s=this.attributesInfo(),a=this.getEncodingInfos(),o=[];let l=0,c=0;for(const p of Object.keys(a)){const m=a[p],{type:g,precisionFactor:y,isLayout:b}=s[p],w=b?n.getLayoutProperty(p):n.getPaintProperty(p),_=(h=w.interpolator)==null?void 0:h.getInterpolationRange(i);let x=0;for(const S of m){const{offset:k,bufferElementsToAdd:A}=S;if(A>0){for(let C=0;C<A;C++)o.push(0);l+=c,c=S.bufferElementsToAdd}const T=r??w.getValue(_?_[x]:i,t);switch(g){case me.R8_SIGNED:case me.R8_UNSIGNED:o[l]|=this._encodeByte(T*(y||1),8*k);break;case me.R16_SIGNED:case me.R16_UNSIGNED:o[l]|=this._encodeShort(T*(y||1),8*k);break;case me.R8G8_SIGNED:case me.R8G8_UNSIGNED:o[l]|=this._encodeByte(T*(y||1),8*k),o[l]|=this._encodeByte(T*(y||1),8*k+8);break;case me.R16G16_SIGNED:case me.R16G16_UNSIGNED:o[l]|=this._encodeShort(T*(y||1),8*k),o[l]|=this._encodeShort(T*(y||1),8*k+16);break;case me.R8G8B8A8_SIGNED:case me.R8G8B8A8_UNSIGNED:o[l]|=this._encodeByte(T*(y||1),8*k),o[l]|=this._encodeByte(T*(y||1),8*k+8),o[l]|=this._encodeByte(T*(y||1),8*k+16),o[l]|=this._encodeByte(T*(y||1),8*k+24);break;case me.R8G8B8A8_COLOR:o[l]=this._encodeColor(T);break;case me.R16G16B16A16_DASHARRAY:case me.R16G16B16A16_PATTERN:this._encodePattern(l,o,T);break;default:throw new Error("Unsupported encoding type")}x++}}return o}getAtributeState(t){let i=0;const n=3+2*t;return i|=this._bit(n),i|=this._bit(n+1)<<1,i}_buildAttributesInfo(){const t=[],i={},n={};let r=-1;const s=this.attributesInfo(),a=this.attributes();let o=-1;for(const p of a){o++;const m=this.getAtributeState(o);if(m===vf.UNIFORM||m===vf.UNUSED)continue;const g=s[p],y=[];i[p]=y;const b=g.type;for(let w=0;w<m;w++){const{dataType:_,bytesPerElement:x,count:S,normalized:k}=LP._encodingInfo[b],A=x*S,T=`${_}-${k===!0}`;let C=n[T],M=0;if(!C||C.count+S>4)r++,C={dataIndex:r,count:0,offset:0},S!==4&&(n[T]=C),t.push({location:-1,name:"a_data_"+r,count:S,type:_,normalized:k}),M=Math.ceil(Math.max(A/4,1));else{const L=t[C.dataIndex];L.count+=S,M=Math.ceil(Math.max(L.count*x/4,1))-Math.ceil(Math.max(C.offset/4,1))}y.push({dataIndex:C.dataIndex,offset:C.offset,bufferElementsToAdd:M}),C.offset+=A,C.count+=S}}for(const p of t)switch(p.type){case Ze.BYTE:case Ze.UNSIGNED_BYTE:p.count=4;break;case Ze.SHORT:case Ze.UNSIGNED_SHORT:p.count+=p.count%2}this._buildVertexBufferLayout(t);let l=0;const c=this._layoutInfo.geometry;for(const p of c)this._locations.set(p.name,l++);const h=this._layoutInfo.opacity;if(h)for(const p of h)this._locations.set(p.name,l++);this._buildShaderInfo(t,i),this._propertyEncodingInfo=i}_buildVertexBufferLayout(t){const i={},n=this.geometryInfo();let r=n[0].stride;if(t.length===0)i.geometry=n;else{const s=[];let a=r;for(const o of t)r+=BG(o.type)*o.count;for(const o of n)s.push(new Vn(o.name,o.count,o.type,o.offset,r,o.normalized));for(const o of t)s.push(new Vn(o.name,o.count,o.type,a,r,o.normalized)),a+=BG(o.type)*o.count;i.geometry=s}this.opacityInfo()&&(i.opacity=this.opacityInfo()),this._layoutInfo=i,this._stride=r}_buildShaderInfo(t,i){let n=`
`,r=`
`;const s=[];for(const c of t)n+=`attribute ${this._getType(c.count)} ${c.name};
`;const a=this.attributes(),o=this.attributesInfo();let l=-1;for(const c of a){l++;const{name:h,type:p,precisionFactor:m,isLayout:g}=o[c],y=m&&m!==1?" * "+1/m:"",{bytesPerElement:b,count:w}=LP._encodingInfo[p],_=x=>`a_data_${x.dataIndex}${k9e(w,x.offset,b)}`;switch(this.getAtributeState(l)){case vf.UNIFORM:{const x=this._getType(w),S=`u_${h}`;s.push({name:S,type:x,getValue:(k,A,T,C)=>{const M=g?k.getLayoutValue(c,A):k.getPaintValue(c,A);if(p===me.R16G16B16A16_DASHARRAY){const L=k.getDashKey(M,k.getLayoutValue("line-cap",A)),V=C.getMosaicItemPosition(L,!1);if(j(V))return null;const{tl:P,br:J}=V;return[P[0],J[1],J[0],P[1]]}if(p===me.R16G16B16A16_PATTERN){const L=C.getMosaicItemPosition(M,!c.includes("line-"));if(j(L))return null;const{tl:V,br:P}=L;return[V[0],P[1],P[0],V[1]]}if(p===me.R8G8B8A8_COLOR){const L=M[3];return[L*M[0],L*M[1],L*M[2],L]}return M}}),n+=`uniform ${x} ${S};
`,r+=`${x} ${h} = ${S};
`}break;case vf.DATA_DRIVEN:{const x=_(i[c][0]);r+=`${this._getType(w)} ${h} = ${x}${y};
`}break;case vf.INTERPOLATED_DATA_DRIVEN:{const x=`u_t_${h}`;s.push({name:x,type:"float",getValue:(A,T,C,M)=>(g?A.getLayoutProperty(c):A.getPaintProperty(c)).interpolator.interpolationUniformValue(C,T)}),n+=`uniform float ${x};
`;const S=_(i[c][0]),k=_(i[c][1]);r+=`${this._getType(w)} ${h} = mix(${S}${y}, ${k}${y}, ${x});
`}}}this._shaderHeader=n,this._shaderMain=r,this._uniforms=s}_bit(t){return(this._key&1<<t)>>t}_getType(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw new Error("Invalid count")}_encodeColor(t){const i=255*t[3];return E9e.i8888to32(t[0]*i,t[1]*i,t[2]*i,i)}_encodePattern(t,i,n){if(!n||!n.rect)return;const r=2,s=n.rect,a=n.width,o=n.height;i[t]=this._encodeShort(s.x+r,0),i[t]|=this._encodeShort(s.y+r+o,16),i[t+1]=this._encodeShort(s.x+r+a,0),i[t+1]|=this._encodeShort(s.y+r,16)}_encodeByte(t,i){return(255&t)<<i}_encodeShort(t,i){return(65535&t)<<i}};Zh._encodingInfo={[me.R8_SIGNED]:{dataType:Ze.BYTE,bytesPerElement:1,count:1,normalized:!1},[me.R8_UNSIGNED]:{dataType:Ze.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},[me.R16_SIGNED]:{dataType:Ze.SHORT,bytesPerElement:2,count:1,normalized:!1},[me.R16_UNSIGNED]:{dataType:Ze.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[me.R8G8_SIGNED]:{dataType:Ze.BYTE,bytesPerElement:1,count:2,normalized:!1},[me.R8G8_UNSIGNED]:{dataType:Ze.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},[me.R16G16_SIGNED]:{dataType:Ze.SHORT,bytesPerElement:2,count:2,normalized:!1},[me.R16G16_UNSIGNED]:{dataType:Ze.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},[me.R8G8B8A8_SIGNED]:{dataType:Ze.BYTE,bytesPerElement:1,count:4,normalized:!1},[me.R8G8B8A8_UNSIGNED]:{dataType:Ze.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1},[me.R8G8B8A8_COLOR]:{dataType:Ze.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0},[me.R16G16B16A16_DASHARRAY]:{dataType:Ze.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},[me.R16G16B16A16_PATTERN]:{dataType:Ze.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}};const BG=e=>{switch(e){case Ze.FLOAT:case Ze.INT:case Ze.UNSIGNED_INT:return 4;case Ze.SHORT:case Ze.UNSIGNED_SHORT:return 2;case Ze.BYTE:case Ze.UNSIGNED_BYTE:return 1}},k9e=(e,t,i)=>{const n=t/i;if(e===1)switch(n){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(e===2)switch(n){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(e===3)switch(n){case 0:return".xyz";case 1:return".yzw"}return""};let Yy=class TE extends Zh{constructor(t){super(t)}geometryInfo(){return TE.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return TE.ATTRIBUTES}attributesInfo(){return TE.ATTRIBUTES_INFO}};Yy.ATTRIBUTES=[],Yy.GEOMETRY_LAYOUT=[new Vn("a_pos",2,Ze.BYTE,0,2)],Yy.ATTRIBUTES_INFO={};let Jy=class $E extends Zh{constructor(t){super(t)}geometryInfo(){return $E.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return $E.ATTRIBUTES}attributesInfo(){return $E.ATTRIBUTES_INFO}};Jy.ATTRIBUTES=["circle-radius","circle-color","circle-opacity","circle-stroke-width","circle-stroke-color","circle-stroke-opacity","circle-blur"],Jy.GEOMETRY_LAYOUT=[new Vn("a_pos",2,Ze.SHORT,0,4)],Jy.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:me.R8_UNSIGNED},"circle-color":{name:"color",type:me.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:me.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:me.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:me.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:me.R8_UNSIGNED,precisionFactor:100},"circle-blur":{name:"blur",type:me.R8_UNSIGNED,precisionFactor:32}};let Zy=class AE extends Zh{constructor(t){super(t)}geometryInfo(){return AE.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return AE.ATTRIBUTES}attributesInfo(){return AE.ATTRIBUTES_INFO}};Zy.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"],Zy.GEOMETRY_LAYOUT=[new Vn("a_pos",2,Ze.SHORT,0,4)],Zy.ATTRIBUTES_INFO={"fill-color":{name:"color",type:me.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:me.R8_UNSIGNED,precisionFactor:100},"fill-pattern":{name:"tlbr",type:me.R16G16B16A16_PATTERN,isOptional:!0}};let Vl=class Qg extends Zh{constructor(t,i){super(t),this._usefillColor=i}geometryInfo(){return Qg.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return this._usefillColor?Qg.ATTRIBUTES_FILL:Qg.ATTRIBUTES_OUTLINE}attributesInfo(){return this._usefillColor?Qg.ATTRIBUTES_INFO_FILL:Qg.ATTRIBUTES_INFO_OUTLINE}};Vl.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"],Vl.ATTRIBUTES_FILL=["fill-color","fill-opacity"],Vl.GEOMETRY_LAYOUT=[new Vn("a_pos",2,Ze.SHORT,0,8),new Vn("a_offset",2,Ze.BYTE,4,8),new Vn("a_xnormal",2,Ze.BYTE,6,8)],Vl.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:me.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:me.R8_UNSIGNED,precisionFactor:100}},Vl.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:me.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:me.R8_UNSIGNED,precisionFactor:100}};let Qy=class ME extends Zh{constructor(t){super(t)}geometryInfo(){return ME.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return ME.ATTRIBUTES}attributesInfo(){return ME.ATTRIBUTES_INFO}};Qy.ATTRIBUTES=["line-blur","line-color","line-gap-width","line-offset","line-opacity","line-width","line-pattern","line-dasharray"],Qy.GEOMETRY_LAYOUT=[new Vn("a_pos",2,Ze.SHORT,0,16),new Vn("a_extrude_offset",4,Ze.BYTE,4,16),new Vn("a_dir_normal",4,Ze.BYTE,8,16),new Vn("a_accumulatedDistance",2,Ze.UNSIGNED_SHORT,12,16)],Qy.ATTRIBUTES_INFO={"line-width":{name:"width",type:me.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:me.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:me.R8_SIGNED,precisionFactor:2},"line-color":{name:"color",type:me.R8G8B8A8_COLOR},"line-opacity":{name:"opacity",type:me.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:me.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:me.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:me.R16G16B16A16_DASHARRAY,isOptional:!0}};const joe=[new Vn("a_pos",2,Ze.SHORT,0,16),new Vn("a_vertexOffset",2,Ze.SHORT,4,16),new Vn("a_texAngleRange",4,Ze.UNSIGNED_BYTE,8,16),new Vn("a_levelInfo",4,Ze.UNSIGNED_BYTE,12,16)],Uoe=[new Vn("a_opacityInfo",1,Ze.UNSIGNED_BYTE,0,1)];let sw=class FP extends Zh{constructor(t){super(t)}geometryInfo(){return joe}opacityInfo(){return Uoe}attributes(){return FP.ATTRIBUTES}attributesInfo(){return FP.ATTRIBUTES_INFO}};sw.ATTRIBUTES=["icon-color","icon-opacity","icon-halo-blur","icon-halo-color","icon-halo-width","icon-size"],sw.ATTRIBUTES_INFO={"icon-color":{name:"color",type:me.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:me.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:me.R8G8B8A8_COLOR},"icon-halo-width":{name:"halo_width",type:me.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:me.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:me.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};let aw=class NP extends Zh{constructor(t){super(t)}geometryInfo(){return joe}opacityInfo(){return Uoe}attributes(){return NP.ATTRIBUTES}attributesInfo(){return NP.ATTRIBUTES_INFO}};aw.ATTRIBUTES=["text-color","text-opacity","text-halo-blur","text-halo-color","text-halo-width","text-size"],aw.ATTRIBUTES_INFO={"text-color":{name:"color",type:me.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",type:me.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:me.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:me.R8_UNSIGNED,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:me.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:me.R8_UNSIGNED,isLayout:!0}};const I9e=512;var Ma,Cn;(function(e){e[e.Unknown=0]="Unknown",e[e.Point=1]="Point",e[e.LineString=2]="LineString",e[e.Polygon=3]="Polygon"})(Ma||(Ma={}));let Ia=class DE{constructor(t,i){this.x=t,this.y=i}clone(){return new DE(this.x,this.y)}equals(t,i){return t===this.x&&i===this.y}isEqual(t){return t.x===this.x&&t.y===this.y}setCoords(t,i){this.x=t,this.y=i}normalize(){const t=this.x,i=this.y,n=Math.sqrt(t*t+i*i);this.x/=n,this.y/=n}rightPerpendicular(){const t=this.x;this.x=this.y,this.y=-t}move(t,i){this.x+=t,this.y+=i}assign(t){this.x=t.x,this.y=t.y}assignAdd(t,i){this.x=t.x+i.x,this.y=t.y+i.y}assignSub(t,i){this.x=t.x-i.x,this.y=t.y-i.y}rotate(t,i){const n=this.x,r=this.y;this.x=n*t-r*i,this.y=n*i+r*t}scale(t){this.x*=t,this.y*=t}length(){const t=this.x,i=this.y;return Math.sqrt(t*t+i*i)}static distance(t,i){const n=i.x-t.x,r=i.y-t.y;return Math.sqrt(n*n+r*r)}static add(t,i){return new DE(t.x+i.x,t.y+i.y)}static sub(t,i){return new DE(t.x-i.x,t.y-i.y)}},BS=class{constructor(t,i,n){this.ratio=t,this.x=i,this.y=n}},zZe=class{constructor(t,i,n,r=8,s=8){this._lines=[],this._starts=[],this.validateTessellation=!0,this._pixelRatio=r,this._pixelMargin=s,this._tileSize=I9e*r,this._dz=t,this._yPos=i,this._xPos=n}setPixelMargin(t){t!==this._pixelMargin&&(this._pixelMargin=t,this.setExtent(this._extent))}setExtent(t){this._extent=t,this._finalRatio=this._tileSize/t*(1<<this._dz);let i=this._pixelRatio*this._pixelMargin;i/=this._finalRatio;const n=t>>this._dz;i>n&&(i=n),this._margin=i,this._xmin=n*this._xPos-i,this._ymin=n*this._yPos-i,this._xmax=this._xmin+n+2*i,this._ymax=this._ymin+n+2*i}reset(t){this._type=t,this._lines=[],this._starts=[],this._line=null,this._start=0}moveTo(t,i){this._pushLine(),this._prevIsIn=this._isIn(t,i),this._moveTo(t,i,this._prevIsIn),this._prevPt=new Ia(t,i),this._firstPt=new Ia(t,i),this._dist=0}lineTo(t,i){const n=this._isIn(t,i),r=new Ia(t,i),s=Ia.distance(this._prevPt,r);let a,o,l,c,h,p,m,g;if(n)this._prevIsIn?this._lineTo(t,i,!0):(a=this._prevPt,o=r,l=this._intersect(o,a),this._start=this._dist+s*(1-this._r),this._lineTo(l.x,l.y,!0),this._lineTo(o.x,o.y,!0));else if(this._prevIsIn)o=this._prevPt,a=r,l=this._intersect(o,a),this._lineTo(l.x,l.y,!0),this._lineTo(a.x,a.y,!1);else{const y=this._prevPt,b=r;if(y.x<=this._xmin&&b.x<=this._xmin||y.x>=this._xmax&&b.x>=this._xmax||y.y<=this._ymin&&b.y<=this._ymin||y.y>=this._ymax&&b.y>=this._ymax)this._lineTo(b.x,b.y,!1);else{const w=[];if((y.x<this._xmin&&b.x>this._xmin||y.x>this._xmin&&b.x<this._xmin)&&(c=(this._xmin-y.x)/(b.x-y.x),g=y.y+c*(b.y-y.y),g<=this._ymin?p=!1:g>=this._ymax?p=!0:w.push(new BS(c,this._xmin,g))),(y.x<this._xmax&&b.x>this._xmax||y.x>this._xmax&&b.x<this._xmax)&&(c=(this._xmax-y.x)/(b.x-y.x),g=y.y+c*(b.y-y.y),g<=this._ymin?p=!1:g>=this._ymax?p=!0:w.push(new BS(c,this._xmax,g))),(y.y<this._ymin&&b.y>this._ymin||y.y>this._ymin&&b.y<this._ymin)&&(c=(this._ymin-y.y)/(b.y-y.y),m=y.x+c*(b.x-y.x),m<=this._xmin?h=!1:m>=this._xmax?h=!0:w.push(new BS(c,m,this._ymin))),(y.y<this._ymax&&b.y>this._ymax||y.y>this._ymax&&b.y<this._ymax)&&(c=(this._ymax-y.y)/(b.y-y.y),m=y.x+c*(b.x-y.x),m<=this._xmin?h=!1:m>=this._xmax?h=!0:w.push(new BS(c,m,this._ymax))),w.length===0)h?p?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):p?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,!0);else if(w.length>1&&w[0].ratio>w[1].ratio)this._start=this._dist+s*w[1].ratio,this._lineTo(w[1].x,w[1].y,!0),this._lineTo(w[0].x,w[0].y,!0);else{this._start=this._dist+s*w[0].ratio;for(let _=0;_<w.length;_++)this._lineTo(w[_].x,w[_].y,!0)}this._lineTo(b.x,b.y,!1)}}this._dist+=s,this._prevIsIn=n,this._prevPt=r}close(){if(this._line.length>2){const t=this._firstPt,i=this._prevPt;t.x===i.x&&t.y===i.y||this.lineTo(t.x,t.y);const n=this._line;let r=n.length;for(;r>=4&&(n[0].x===n[1].x&&n[0].x===n[r-2].x||n[0].y===n[1].y&&n[0].y===n[r-2].y);)n.pop(),n[0].x=n[r-2].x,n[0].y=n[r-2].y,--r}}result(t=!0){return this._pushLine(),this._lines.length===0?null:(this._type===Ma.Polygon&&t&&C9e.simplify(this._tileSize,this._margin*this._finalRatio,this._lines),this._lines)}resultWithStarts(){if(this._type!==Ma.LineString)throw new Error("Only valid for lines");this._pushLine();const t=this._lines,i=t.length;if(i===0)return null;const n=[];for(let r=0;r<i;r++)n.push({line:t[r],start:this._starts[r]||0});return n}_isIn(t,i){return t>=this._xmin&&t<=this._xmax&&i>=this._ymin&&i<=this._ymax}_intersect(t,i){let n,r,s;if(i.x>=this._xmin&&i.x<=this._xmax)r=i.y<=this._ymin?this._ymin:this._ymax,s=(r-t.y)/(i.y-t.y),n=t.x+s*(i.x-t.x);else if(i.y>=this._ymin&&i.y<=this._ymax)n=i.x<=this._xmin?this._xmin:this._xmax,s=(n-t.x)/(i.x-t.x),r=t.y+s*(i.y-t.y);else{r=i.y<=this._ymin?this._ymin:this._ymax,n=i.x<=this._xmin?this._xmin:this._xmax;const a=(n-t.x)/(i.x-t.x),o=(r-t.y)/(i.y-t.y);a<o?(s=a,r=t.y+a*(i.y-t.y)):(s=o,n=t.x+o*(i.x-t.x))}return this._r=s,new Ia(n,r)}_pushLine(){this._line&&(this._type===Ma.Point?this._line.length>0&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===Ma.LineString?this._line.length>1&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===Ma.Polygon&&this._line.length>3&&(this._lines.push(this._line),this._starts.push(this._start))),this._line=[],this._start=0}_moveTo(t,i,n){this._type!==Ma.Polygon?n&&(t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),i=Math.round((i-(this._ymin+this._margin))*this._finalRatio),this._line.push(new Ia(t,i))):(n||(t<this._xmin&&(t=this._xmin),t>this._xmax&&(t=this._xmax),i<this._ymin&&(i=this._ymin),i>this._ymax&&(i=this._ymax)),t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),i=Math.round((i-(this._ymin+this._margin))*this._finalRatio),this._line.push(new Ia(t,i)),this._isH=!1,this._isV=!1)}_lineTo(t,i,n){let r,s;if(this._type!==Ma.Polygon)if(n){if(t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),i=Math.round((i-(this._ymin+this._margin))*this._finalRatio),this._line.length>0&&(r=this._line[this._line.length-1],r.equals(t,i)))return;this._line.push(new Ia(t,i))}else this._line&&this._line.length>0&&this._pushLine();else if(n||(t<this._xmin&&(t=this._xmin),t>this._xmax&&(t=this._xmax),i<this._ymin&&(i=this._ymin),i>this._ymax&&(i=this._ymax)),t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),i=Math.round((i-(this._ymin+this._margin))*this._finalRatio),this._line&&this._line.length>0){r=this._line[this._line.length-1];const a=r.x===t,o=r.y===i;if(a&&o)return;this._isH&&a||this._isV&&o?(r.x=t,r.y=i,s=this._line[this._line.length-2],s.x===t&&s.y===i?(this._line.pop(),this._line.length<=1?(this._isH=!1,this._isV=!1):(s=this._line[this._line.length-2],this._isH=s.x===t,this._isV=s.y===i)):(this._isH=s.x===t,this._isV=s.y===i)):(this._line.push(new Ia(t,i)),this._isH=a,this._isV=o)}else this._line.push(new Ia(t,i))}},jZe=class{setExtent(t){this._ratio=t===4096?1:4096/t}get validateTessellation(){return this._ratio<1}reset(t){this._lines=[],this._line=null}moveTo(t,i){this._line&&this._lines.push(this._line),this._line=[];const n=this._ratio;this._line.push(new Ia(t*n,i*n))}lineTo(t,i){const n=this._ratio;this._line.push(new Ia(t*n,i*n))}close(){const t=this._line;t&&!t[0].isEqual(t[t.length-1])&&t.push(t[0])}result(){return this._line&&this._lines.push(this._line),this._lines.length===0?null:this._lines}};(function(e){e[e.sideLeft=0]="sideLeft",e[e.sideRight=1]="sideRight",e[e.sideTop=2]="sideTop",e[e.sideBottom=3]="sideBottom"})(Cn||(Cn={}));let C9e=class Md{static simplify(t,i,n){if(!n)return;const r=-i,s=t+i,a=-i,o=t+i,l=[],c=[],h=n.length;for(let m=0;m<h;++m){const g=n[m];if(!g||g.length<2)continue;let y,b=g[0];const w=g.length;for(let _=1;_<w;++_)y=g[_],b.x===y.x&&(b.x<=r&&(b.y>y.y?(l.push(m),l.push(_),l.push(Cn.sideLeft),l.push(-1)):(c.push(m),c.push(_),c.push(Cn.sideLeft),c.push(-1))),b.x>=s&&(b.y<y.y?(l.push(m),l.push(_),l.push(Cn.sideRight),l.push(-1)):(c.push(m),c.push(_),c.push(Cn.sideRight),c.push(-1)))),b.y===y.y&&(b.y<=a&&(b.x<y.x?(l.push(m),l.push(_),l.push(Cn.sideTop),l.push(-1)):(c.push(m),c.push(_),c.push(Cn.sideTop),c.push(-1))),b.y>=o&&(b.x>y.x?(l.push(m),l.push(_),l.push(Cn.sideBottom),l.push(-1)):(c.push(m),c.push(_),c.push(Cn.sideBottom),c.push(-1)))),b=y}if(l.length===0||c.length===0)return;Md.fillParent(n,c,l),Md.fillParent(n,l,c);const p=[];Md.calcDeltas(p,c,l),Md.calcDeltas(p,l,c),Md.addDeltas(p,n)}static fillParent(t,i,n){const r=n.length,s=i.length;for(let a=0;a<s;a+=4){const o=i[a],l=i[a+1],c=i[a+2],h=t[o][l-1],p=t[o][l];let m=8092,g=-1;for(let y=0;y<r;y+=4){if(n[y+2]!==c)continue;const b=n[y],w=n[y+1],_=t[b][w-1],x=t[b][w];switch(c){case Cn.sideLeft:case Cn.sideRight:if(HS(h.y,_.y,x.y)&&HS(p.y,_.y,x.y)){const S=Math.abs(x.y-_.y);S<m&&(m=S,g=y)}break;case Cn.sideTop:case Cn.sideBottom:if(HS(h.x,_.x,x.x)&&HS(p.x,_.x,x.x)){const S=Math.abs(x.x-_.x);S<m&&(m=S,g=y)}}}i[a+3]=g}}static calcDeltas(t,i,n){const r=i.length;for(let s=0;s<r;s+=4){const a=[],o=Md.calcDelta(s,i,n,a);t.push(i[s]),t.push(i[s+1]),t.push(i[s+2]),t.push(o)}}static calcDelta(t,i,n,r){const s=i[t+3];if(s===-1)return 0;const a=r.length;return a>1&&r[a-2]===s?0:(r.push(s),Md.calcDelta(s,n,i,r)+1)}static addDeltas(t,i){const n=t.length;let r=0;for(let s=0;s<n;s+=4){const a=t[s+3];a>r&&(r=a)}for(let s=0;s<n;s+=4){const a=i[t[s]],o=t[s+1],l=r-t[s+3];switch(t[s+2]){case Cn.sideLeft:a[o-1].x-=l,a[o].x-=l,o===1&&(a[a.length-1].x-=l),o===a.length-1&&(a[0].x-=l);break;case Cn.sideRight:a[o-1].x+=l,a[o].x+=l,o===1&&(a[a.length-1].x+=l),o===a.length-1&&(a[0].x+=l);break;case Cn.sideTop:a[o-1].y-=l,a[o].y-=l,o===1&&(a[a.length-1].y-=l),o===a.length-1&&(a[0].y-=l);break;case Cn.sideBottom:a[o-1].y+=l,a[o].y+=l,o===1&&(a[a.length-1].y+=l),o===a.length-1&&(a[0].y+=l)}}}};const HS=(e,t,i)=>e>=t&&e<=i||e>=i&&e<=t,BZe=Number.POSITIVE_INFINITY,gz=Math.PI,HZe=2*gz,T9e=128/gz,GZe=gz/180,$9e=1/Math.LN2;function A9e(e,t){return(e%=t)>=0?e:e+t}function qZe(e){return A9e(e*T9e,256)}function WZe(e){return Math.log(e)*$9e}function Ar(e,t,i){return e*(1-i)+t*i}const Boe={kind:"null"},Ei={kind:"number"},Xs={kind:"string"},Gn={kind:"boolean"},Tu={kind:"color"},AT={kind:"object"},uu={kind:"value"};function Q_(e,t){return{kind:"array",itemType:e,n:t}}const M9e=[Boe,Ei,Xs,Gn,Tu,AT,Q_(uu)];function D0(e){if(e.kind==="array"){const t=D0(e.itemType);return typeof e.n=="number"?`array<${t}, ${e.n}>`:e.itemType.kind==="value"?"array":`array<${t}>`}return e.kind}function MT(e){if(e===null)return Boe;if(typeof e=="string")return Xs;if(typeof e=="boolean")return Gn;if(typeof e=="number")return Ei;if(e instanceof de)return Tu;if(Array.isArray(e)){let t;for(const i of e){const n=MT(i);if(t){if(t!==n){t=uu;break}}else t=n}return Q_(t||uu,e.length)}return typeof e=="object"?AT:uu}function zP(e,t){if(t.kind==="array")return e.kind==="array"&&(e.n===0&&e.itemType.kind==="value"||zP(e.itemType,t.itemType))&&(typeof t.n!="number"||t.n===e.n);if(t.kind==="value"){for(const i of M9e)if(zP(e,i))return!0}return t.kind===e.kind}function VP(e){if(e===null)return"";const t=typeof e;return t==="string"?e:t==="number"||t==="boolean"?String(e):e instanceof de?e.toString():JSON.stringify(e)}let D9e=class{constructor(t){this._parent=t,this._vars={}}add(t,i){this._vars[t]=i}get(t){return this._vars[t]?this._vars[t]:this._parent?this._parent.get(t):null}};class yz{constructor(){this.type=uu}static parse(t){if(t.length>1)throw new Error('"id" does not expect arguments');return new yz}evaluate(t,i){return t==null?void 0:t.id}}class vz{constructor(){this.type=Xs}static parse(t){if(t.length>1)throw new Error('"geometry-type" does not expect arguments');return new vz}evaluate(t,i){if(!t)return null;switch(t.type){case Ma.Point:return"Point";case Ma.LineString:return"LineString";case Ma.Polygon:return"Polygon";default:return null}}}let O9e=class Hoe{constructor(){this.type=AT}static parse(t){if(t.length>1)throw new Error('"properties" does not expect arguments');return new Hoe}evaluate(t,i){return t==null?void 0:t.values}};class DT{constructor(){this.type=Ei}static parse(t){if(t.length>1)throw new Error('"zoom" does not expect arguments');return new DT}evaluate(t,i){return i}}let no=class Goe{constructor(t,i,n){this._lhs=t,this._rhs=i,this._compare=n,this.type=Gn}static parse(t,i,n){if(t.length!==3&&t.length!==4)throw new Error(`"${t[0]}" expects 2 or 3 arguments`);if(t.length===4)throw new Error(`"${t[0]}" collator not supported`);return new Goe(Re(t[1],i),Re(t[2],i),n)}evaluate(t,i){return this._compare(this._lhs.evaluate(t,i),this._rhs.evaluate(t,i))}},R9e=class extends no{static parse(t,i){return no.parse(t,i,(n,r)=>n===r)}},P9e=class extends no{static parse(t,i){return no.parse(t,i,(n,r)=>n!==r)}},L9e=class extends no{static parse(t,i){return no.parse(t,i,(n,r)=>n<r)}},F9e=class extends no{static parse(t,i){return no.parse(t,i,(n,r)=>n<=r)}},N9e=class extends no{static parse(t,i){return no.parse(t,i,(n,r)=>n>r)}},z9e=class extends no{static parse(t,i){return no.parse(t,i,(n,r)=>n>=r)}},V9e=class qoe{constructor(t){this._arg=t,this.type=Gn}static parse(t,i){if(t.length!==2)throw new Error('"!" expects 1 argument');return new qoe(Re(t[1],i))}evaluate(t,i){return!this._arg.evaluate(t,i)}},j9e=class Woe{constructor(t){this._args=t,this.type=Gn}static parse(t,i){const n=[];for(let r=1;r<t.length;r++)n.push(Re(t[r],i));return new Woe(n)}evaluate(t,i){for(const n of this._args)if(!n.evaluate(t,i))return!1;return!0}},U9e=class Koe{constructor(t){this._args=t,this.type=Gn}static parse(t,i){const n=[];for(let r=1;r<t.length;r++)n.push(Re(t[r],i));return new Koe(n)}evaluate(t,i){for(const n of this._args)if(n.evaluate(t,i))return!0;return!1}},B9e=class Yoe{constructor(t){this._args=t,this.type=Gn}static parse(t,i){const n=[];for(let r=1;r<t.length;r++)n.push(Re(t[r],i));return new Yoe(n)}evaluate(t,i){for(const n of this._args)if(n.evaluate(t,i))return!1;return!0}},H9e=class Joe{constructor(t,i,n){this.type=t,this._args=i,this._fallback=n}static parse(t,i,n){if(t.length<4)throw new Error('"case" expects at least 3 arguments');if(t.length%2==1)throw new Error('"case" expects an odd number of arguments');let r;const s=[];for(let o=1;o<t.length-1;o+=2){const l=Re(t[o],i),c=Re(t[o+1],i,n);r||(r=c.type),s.push({condition:l,output:c})}const a=Re(t[t.length-1],i,n);return r||(r=a.type),new Joe(r,s,a)}evaluate(t,i){for(const n of this._args)if(n.condition.evaluate(t,i))return n.output.evaluate(t,i);return this._fallback.evaluate(t,i)}},G9e=class Zoe{constructor(t,i){this.type=t,this._args=i}static parse(t,i){if(t.length<2)throw new Error('"coalesce" expects at least 1 argument');let n;const r=[];for(let s=1;s<t.length;s++){const a=Re(t[s],i);n||(n=a.type),r.push(a)}return new Zoe(n,r)}evaluate(t,i){for(const n of this._args){const r=n.evaluate(t,i);if(r!==null)return r}return null}},q9e=class Qoe{constructor(t,i,n,r,s){this.type=t,this._input=i,this._labels=n,this._outputs=r,this._fallback=s}static parse(t,i){if(t.length<3)throw new Error('"match" expects at least 3 arguments');if(t.length%2==0)throw new Error('"case" expects an even number of arguments');let n;const r=Re(t[1],i),s=[],a={};let o;for(let l=2;l<t.length-1;l+=2){let c=t[l];Array.isArray(c)||(c=[c]);for(const p of c){const m=typeof p;if(m!=="string"&&m!=="number")throw new Error('"match" requires string or number literal as labels');if(o){if(m!==o)throw new Error('"match" requires labels to have the same type')}else o=m;a[p]=s.length}const h=Re(t[l+1],i);n||(n=h.type),s.push(h)}return new Qoe(n,r,a,s,Re(t[t.length-1],i))}evaluate(t,i){const n=this._input.evaluate(t,i);return(this._outputs[this._labels[n]]||this._fallback).evaluate(t,i)}},OE=class sf{constructor(t,i,n,r,s){this._operator=t,this.type=i,this.interpolation=n,this.input=r,this._stops=s}static parse(t,i,n){const r=t[0];if(t.length<5)throw new Error(`"${r}" expects at least 4 arguments`);const s=t[1];if(!Array.isArray(s)||s.length===0)throw new Error(`"${s}" is not a valid interpolation`);switch(s[0]){case"linear":if(s.length!==1)throw new Error("Linear interpolation cannot have parameters");break;case"exponential":if(s.length!==2||typeof s[1]!="number")throw new Error("Exponential interpolation requires one numeric argument");break;case"cubic-bezier":if(s.length!==5)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(let c=1;c<5;c++){const h=s[c];if(typeof h!="number"||h<0||h>1)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1")}break;default:throw new Error(`"${t[0]}" unknown interpolation type "${s[0]}"`)}if(t.length%2!=1)throw new Error(`"${r}" expects an even number of arguments`);const a=Re(t[2],i,Ei);let o;r==="interpolate-hcl"||r==="interpolate-lab"?o=Tu:n&&n.kind!=="value"&&(o=n);const l=[];for(let c=3;c<t.length;c+=2){const h=t[c];if(typeof h!="number")throw new Error(`"${r}" requires stop inputs as literal numbers`);if(l.length&&l[l.length-1][0]>=h)throw new Error(`"${r}" requires strictly ascending stop inputs`);const p=Re(t[c+1],i,o);o||(o=p.type),l.push([h,p])}if(o&&o!==Tu&&o!==Ei&&(o.kind!=="array"||o.itemType!==Ei))throw new Error(`"${r}" cannot interpolate type ${D0(o)}`);return new sf(r,o,s,a,l)}evaluate(t,i){const n=this._stops;if(n.length===1)return n[0][1].evaluate(t,i);const r=this.input.evaluate(t,i);if(r<=n[0][0])return n[0][1].evaluate(t,i);if(r>=n[n.length-1][0])return n[n.length-1][1].evaluate(t,i);let s=0;for(;++s<n.length&&!(r<n[s][0]););const a=n[s-1][0],o=n[s][0],l=sf.interpolationRatio(this.interpolation,r,a,o),c=n[s-1][1].evaluate(t,i),h=n[s][1].evaluate(t,i);if(this._operator==="interpolate"){if(this.type.kind==="array"&&Array.isArray(c)&&Array.isArray(h))return c.map((p,m)=>Ar(p,h[m],l));if(this.type.kind==="color"&&c instanceof de&&h instanceof de){const p=new de(c),m=new de(h);return new de([Ar(p.r,m.r,l),Ar(p.g,m.g,l),Ar(p.b,m.b,l),Ar(p.a,m.a,l)])}if(this.type.kind==="number"&&typeof c=="number"&&typeof h=="number")return Ar(c,h,l);throw new Error(`"${this._operator}" cannot interpolate type ${D0(this.type)}`)}if(this._operator==="interpolate-hcl"){const p=KB(c),m=KB(h),g=m.h-p.h,y=i_({h:p.h+l*(g>180||g<-180?g-360*Math.round(g/360):g),c:Ar(p.c,m.c,l),l:Ar(p.l,m.l,l)});return new de({a:Ar(c.a,h.a,l),...y})}if(this._operator==="interpolate-lab"){const p=WB(c),m=WB(h),g=i_({l:Ar(p.l,m.l,l),a:Ar(p.a,m.a,l),b:Ar(p.b,m.b,l)});return new de({a:Ar(c.a,h.a,l),...g})}throw new Error(`Unexpected operator "${this._operator}"`)}interpolationUniformValue(t,i){const n=this._stops;if(n.length===1||t>=n[n.length-1][0])return 0;let r=0;for(;++r<n.length&&!(t<n[r][0]););const s=n[r-1][0],a=n[r][0];return sf.interpolationRatio(this.interpolation,i,s,a)}getInterpolationRange(t){const i=this._stops;if(i.length===1){const s=i[0][0];return[s,s]}const n=i[i.length-1][0];if(t>=n)return[n,n];let r=0;for(;++r<i.length&&!(t<i[r][0]););return[i[r-1][0],i[r][0]]}static interpolationRatio(t,i,n,r){let s=0;return t[0]==="linear"?s=sf._exponentialInterpolationRatio(i,1,n,r):t[0]==="exponential"?s=sf._exponentialInterpolationRatio(i,t[1],n,r):t[0]==="cubic-bezier"&&(s=Zd(t[1],t[2],t[3],t[4])(sf._exponentialInterpolationRatio(i,1,n,r),1e-5)),s<0?s=0:s>1&&(s=1),s}static _exponentialInterpolationRatio(t,i,n,r){const s=r-n;if(s===0)return 0;const a=t-n;return i===1?a/s:(i**a-1)/(i**s-1)}},W9e=class Xoe{constructor(t,i,n){this.type=t,this._input=i,this._stops=n}static parse(t,i){if(t.length<5)throw new Error('"step" expects at least 4 arguments');if(t.length%2!=1)throw new Error('"step" expects an even number of arguments');const n=Re(t[1],i,Ei);let r;const s=[];s.push([-1/0,Re(t[2],i)]);for(let a=3;a<t.length;a+=2){const o=t[a];if(typeof o!="number")throw new Error('"step" requires stop inputs as literal numbers');if(s.length&&s[s.length-1][0]>=o)throw new Error('"step" requires strictly ascending stop inputs');const l=Re(t[a+1],i);r||(r=l.type),s.push([o,l])}return new Xoe(r,n,s)}evaluate(t,i){const n=this._stops;if(n.length===1)return n[0][1].evaluate(t,i);const r=this._input.evaluate(t,i);let s=0;for(;++s<n.length&&!(r<n[s][0]););return this._stops[s-1][1].evaluate(t,i)}},K9e=class ele{constructor(t,i){this.type=t,this._output=i}static parse(t,i,n){if(t.length<4)throw new Error('"let" expects at least 3 arguments');if(t.length%2==1)throw new Error('"let" expects an odd number of arguments');const r=new D9e(i);for(let a=1;a<t.length-1;a+=2){const o=t[a];if(typeof o!="string")throw new Error(`"let" requires a string to define variable names - found ${o}`);r.add(o,Re(t[a+1],i))}const s=Re(t[t.length-1],r,n);return new ele(s.type,s)}evaluate(t,i){return this._output.evaluate(t,i)}},Y9e=class tle{constructor(t,i){this.type=t,this.output=i}static parse(t,i,n){if(t.length!==2||typeof t[1]!="string")throw new Error('"var" requires just one literal string argument');const r=i.get(t[1]);if(!r)throw new Error(`${t[1]} must be defined before being used in a "var" expression`);return new tle(n||uu,r)}evaluate(t,i){return this.output.evaluate(t,i)}},J9e=class ile{constructor(t,i,n){this.type=t,this._index=i,this._array=n}static parse(t,i){if(t.length!==3)throw new Error('"at" expects 2 arguments');const n=Re(t[1],i,Ei),r=Re(t[2],i);return new ile(r.type.itemType,n,r)}evaluate(t,i){const n=this._index.evaluate(t,i),r=this._array.evaluate(t,i);if(n<0||n>=r.length)throw new Error('"at" index out of bounds');if(n!==Math.floor(n))throw new Error('"at" index must be an integer');return r[n]}},Z9e=class jP{constructor(t,i){this._key=t,this._obj=i,this.type=uu}static parse(t,i){let n,r;switch(t.length){case 2:return n=Re(t[1],i),new jP(n);case 3:return n=Re(t[1],i),r=Re(t[2],i),new jP(n,r);default:throw new Error('"get" expects 1 or 2 arguments')}}evaluate(t,i){const n=this._key.evaluate(t,i);return this._obj?this._obj.evaluate(t,i)[n]:t==null?void 0:t.values[n]}};class jI{constructor(t,i){this._key=t,this._obj=i,this.type=Gn}static parse(t,i){let n,r;switch(t.length){case 2:return n=Re(t[1],i),new jI(n);case 3:return n=Re(t[1],i),r=Re(t[2],i),new jI(n,r);default:throw new Error('"has" expects 1 or 2 arguments')}}evaluate(t,i){const n=this._key.evaluate(t,i);return this._obj?n in this._obj.evaluate(t,i):!!(t!=null&&t.values[n])}}let Q9e=class nle{constructor(t,i){this._key=t,this._vals=i,this.type=Gn}static parse(t,i){if(t.length!==3)throw new Error('"in" expects 2 arguments');return new nle(Re(t[1],i),Re(t[2],i))}evaluate(t,i){const n=this._key.evaluate(t,i);return this._vals.evaluate(t,i).includes(n)}},X9e=class UP{constructor(t,i,n){this._item=t,this._array=i,this._from=n,this.type=Ei}static parse(t,i){if(t.length<3||t.length>4)throw new Error('"index-of" expects 3 or 4 arguments');const n=Re(t[1],i),r=Re(t[2],i);if(t.length===4){const s=Re(t[3],i,Ei);return new UP(n,r,s)}return new UP(n,r)}evaluate(t,i){const n=this._item.evaluate(t,i),r=this._array.evaluate(t,i);if(this._from){const s=this._from.evaluate(t,i);if(s!==Math.floor(s))throw new Error('"index-of" index must be an integer');return r.indexOf(n,s)}return r.indexOf(n)}},eBe=class rle{constructor(t){this._arg=t,this.type=Ei}static parse(t,i){if(t.length!==2)throw new Error('"length" expects 2 arguments');const n=Re(t[1],i);return new rle(n)}evaluate(t,i){const n=this._arg.evaluate(t,i);if(typeof n=="string"||Array.isArray(n))return n.length;throw new Error('"length" expects string or array')}},tBe=class BP{constructor(t,i,n,r){this.type=t,this._array=i,this._from=n,this._to=r}static parse(t,i){if(t.length<3||t.length>4)throw new Error('"slice" expects 2 or 3 arguments');const n=Re(t[1],i),r=Re(t[2],i,Ei);if(r.type!==Ei)throw new Error('"slice" index must return a number');if(t.length===4){const s=Re(t[3],i,Ei);if(s.type!==Ei)throw new Error('"slice" index must return a number');return new BP(n.type,n,r,s)}return new BP(n.type,n,r)}evaluate(t,i){const n=this._array.evaluate(t,i);if(!Array.isArray(n)&&typeof n!="string")throw new Error('"slice" input must be an array or a string');const r=this._from.evaluate(t,i);if(r<0||r>=n.length)throw new Error('"slice" index out of bounds');if(r!==Math.floor(r))throw new Error('"slice" index must be an integer');if(this._to){const s=this._to.evaluate(t,i);if(s<0||s>=n.length)throw new Error('"slice" index out of bounds');if(s!==Math.floor(s))throw new Error('"slice" index must be an integer');return n.slice(r,s)}return n.slice(r)}},iBe=class sle{constructor(){this.type=Gn}static parse(t){if(t.length!==1)throw new Error('"has-id" expects no arguments');return new sle}evaluate(t,i){return t&&t.id!==void 0}};class Fr{constructor(t,i){this._args=t,this._calculate=i,this.type=Ei}static parse(t,i,n){const r=t.slice(1).map(s=>Re(s,i));return new Fr(r,n)}evaluate(t,i){let n;return this._args&&(n=this._args.map(r=>r.evaluate(t,i))),this._calculate(n)}}class nBe extends Fr{static parse(t,i){switch(t.length){case 2:return Fr.parse(t,i,n=>-n[0]);case 3:return Fr.parse(t,i,n=>n[0]-n[1]);default:throw new Error('"-" expects 1 or 2 arguments')}}}let rBe=class extends Fr{static parse(t,i){return Fr.parse(t,i,n=>{let r=1;for(const s of n)r*=s;return r})}},sBe=class extends Fr{static parse(t,i){if(t.length===3)return Fr.parse(t,i,n=>n[0]/n[1]);throw new Error('"/" expects 2 arguments')}},aBe=class extends Fr{static parse(t,i){if(t.length===3)return Fr.parse(t,i,n=>n[0]%n[1]);throw new Error('"%" expects 2 arguments')}};class oBe extends Fr{static parse(t,i){if(t.length===3)return Fr.parse(t,i,n=>n[0]**n[1]);throw new Error('"^" expects 1 or 2 arguments')}}let lBe=class extends Fr{static parse(t,i){return Fr.parse(t,i,n=>{let r=0;for(const s of n)r+=s;return r})}},Yi=class HP{constructor(t,i){this._args=t,this._calculate=i,this.type=Ei}static parse(t,i){const n=t.slice(1).map(r=>Re(r,i));return new HP(n,HP.ops[t[0]])}evaluate(t,i){let n;return this._args&&(n=this._args.map(r=>r.evaluate(t,i))),this._calculate(n)}};Yi.ops={abs:e=>Math.abs(e[0]),acos:e=>Math.acos(e[0]),asin:e=>Math.asin(e[0]),atan:e=>Math.atan(e[0]),ceil:e=>Math.ceil(e[0]),cos:e=>Math.cos(e[0]),e:()=>Math.E,floor:e=>Math.floor(e[0]),ln:e=>Math.log(e[0]),ln2:()=>Math.LN2,log10:e=>Math.log(e[0])/Math.LN10,log2:e=>Math.log(e[0])/Math.LN2,max:e=>Math.max(...e),min:e=>Math.min(...e),pi:()=>Math.PI,round:e=>Math.round(e[0]),sin:e=>Math.sin(e[0]),sqrt:e=>Math.sqrt(e[0]),tan:e=>Math.tan(e[0])};let cBe=class ale{constructor(t){this._args=t,this.type=Xs}static parse(t,i){return new ale(t.slice(1).map(n=>Re(n,i)))}evaluate(t,i){return this._args.map(n=>n.evaluate(t,i)).join("")}},GP=class qP{constructor(t,i){this._arg=t,this._calculate=i,this.type=Xs}static parse(t,i){if(t.length!==2)throw new Error(`${t[0]} expects 1 argument`);const n=Re(t[1],i);return new qP(n,qP.ops[t[0]])}evaluate(t,i){return this._calculate(this._arg.evaluate(t,i))}};GP.ops={downcase:e=>e.toLowerCase(),upcase:e=>e.toUpperCase()};let uBe=class ole{constructor(t){this._args=t,this.type=Tu}static parse(t,i){if(t.length!==4)throw new Error('"rgb" expects 3 arguments');const n=t.slice(1).map(r=>Re(r,i));return new ole(n)}evaluate(t,i){const n=this._validate(this._args[0].evaluate(t,i)),r=this._validate(this._args[1].evaluate(t,i)),s=this._validate(this._args[2].evaluate(t,i));return new de({r:n,g:r,b:s})}_validate(t){if(typeof t!="number"||t<0||t>255)throw new Error(`${t}: invalid color component`);return Math.round(t)}};class bz{constructor(t){this._args=t,this.type=Tu}static parse(t,i){if(t.length!==5)throw new Error('"rgba" expects 4 arguments');const n=t.slice(1).map(r=>Re(r,i));return new bz(n)}evaluate(t,i){const n=this._validate(this._args[0].evaluate(t,i)),r=this._validate(this._args[1].evaluate(t,i)),s=this._validate(this._args[2].evaluate(t,i)),a=this._validateAlpha(this._args[3].evaluate(t,i));return new de({r:n,g:r,b:s,a})}_validate(t){if(typeof t!="number"||t<0||t>255)throw new Error(`${t}: invalid color component`);return Math.round(t)}_validateAlpha(t){if(typeof t!="number"||t<0||t>1)throw new Error(`${t}: invalid alpha color component`);return t}}class wz{constructor(t){this._color=t,this.type=Q_(Ei,4)}static parse(t,i){if(t.length!==2)throw new Error('"to-rgba" expects 1 argument');const n=Re(t[1],i);return new wz(n)}evaluate(t,i){return new de(this._color.evaluate(t,i)).toRgba()}}let rb=class lle{constructor(t,i){this.type=t,this._args=i}static parse(t,i){const n=t[0];if(t.length<2)throw new Error(`${n} expects at least one argument`);let r,s=1;if(n==="array"){if(t.length>2){switch(t[1]){case"string":r=Xs;break;case"number":r=Ei;break;case"boolean":r=Gn;break;default:throw new Error('"array" type argument must be string, number or boolean')}s++}else r=uu;let o;if(t.length>3){if(o=t[2],o!==null&&(typeof o!="number"||o<0||o!==Math.floor(o)))throw new Error('"array" length argument must be a positive integer literal');s++}r=Q_(r,o)}else switch(n){case"string":r=Xs;break;case"number":r=Ei;break;case"boolean":r=Gn;break;case"object":r=AT}const a=[];for(;s<t.length;s++){const o=Re(t[s],i);a.push(o)}return new lle(r,a)}evaluate(t,i){let n;for(const r of this._args){const s=r.evaluate(t,i);if(n=MT(s),zP(n,this.type))return s}throw new Error(`Expected ${D0(this.type)} but got ${D0(n)}`)}};class Ha{constructor(t,i){this.type=t,this._args=i}static parse(t,i){const n=t[0],r=Ha.types[n];if(r===Gn||r===Xs){if(t.length!==2)throw new Error(`${n} expects one argument`)}else if(t.length<2)throw new Error(`${n} expects at least one argument`);const s=[];for(let a=1;a<t.length;a++){const o=Re(t[a],i);s.push(o)}return new Ha(r,s)}evaluate(t,i){if(this.type===Gn)return Boolean(this._args[0].evaluate(t,i));if(this.type===Xs)return VP(this._args[0].evaluate(t,i));if(this.type===Ei){for(const n of this._args){const r=Number(n.evaluate(t,i));if(!isNaN(r))return r}return null}if(this.type===Tu){for(const n of this._args)try{const r=Ha.toColor(n.evaluate(t,i));if(r instanceof de)return r}catch{}return null}}static toBoolean(t){return Boolean(t)}static toString(t){return VP(t)}static toNumber(t){const i=Number(t);if(isNaN(i))throw new Error(`"${t}" is not a number`);return i}static toColor(t){if(t instanceof de)return t;if(typeof t=="string"){const i=de.fromString(t);if(i)return i;throw new Error(`"${t}" is not a color`)}if(Array.isArray(t))return de.fromArray(t);throw new Error(`"${t}" is not a color`)}}Ha.types={"to-boolean":Gn,"to-color":Tu,"to-number":Ei,"to-string":Xs};let dBe=class cle{constructor(t){this._val=t,this.type=MT(t)}static parse(t){if(t.length!==2)throw new Error('"literal" expects 1 argument');return new cle(t[1])}evaluate(t,i){return this._val}},hBe=class ule{constructor(t){this._arg=t,this.type=Xs}static parse(t,i){if(t.length!==2)throw new Error('"typeof" expects 1 argument');return new ule(Re(t[1],i))}evaluate(t,i){return D0(MT(this._arg.evaluate(t,i)))}};function Re(e,t,i){const n=typeof e;if(n==="string"||n==="boolean"||n==="number"||e===null){if(i)switch(i.kind){case"string":n!=="string"&&(e=Ha.toString(e));break;case"number":n!=="number"&&(e=Ha.toNumber(e));break;case"color":e=Ha.toColor(e)}e=["literal",e]}if(!Array.isArray(e)||e.length===0)throw new Error("Expression must be a non empty array");const r=e[0];if(typeof r!="string")throw new Error("First element of expression must be a string");const s=dle[r];if(s===void 0)throw new Error(`Invalid expression operator "${r}"`);if(!s)throw new Error(`Unimplemented expression operator "${r}"`);return s.parse(e,t,i)}const dle={array:rb,boolean:rb,collator:null,format:null,image:null,literal:dBe,number:rb,"number-format":null,object:rb,string:rb,"to-boolean":Ha,"to-color":Ha,"to-number":Ha,"to-string":Ha,typeof:hBe,accumulated:null,"feature-state":null,"geometry-type":vz,id:yz,"line-progress":null,properties:O9e,at:J9e,get:Z9e,has:jI,in:Q9e,"index-of":X9e,length:eBe,slice:tBe,"!":V9e,"!=":P9e,"<":L9e,"<=":F9e,"==":R9e,">":N9e,">=":z9e,all:j9e,any:U9e,case:H9e,coalesce:G9e,match:q9e,within:null,interpolate:OE,"interpolate-hcl":OE,"interpolate-lab":OE,step:W9e,let:K9e,var:Y9e,concat:cBe,downcase:GP,"is-supported-script":null,"resolved-locale":null,upcase:GP,rgb:uBe,rgba:bz,"to-rgba":wz,"-":nBe,"*":rBe,"/":sBe,"%":aBe,"^":oBe,"+":lBe,abs:Yi,acos:Yi,asin:Yi,atan:Yi,ceil:Yi,cos:Yi,e:Yi,floor:Yi,ln:Yi,ln2:Yi,log10:Yi,log2:Yi,max:Yi,min:Yi,pi:Yi,round:Yi,sin:Yi,sqrt:Yi,tan:Yi,zoom:DT,"heatmap-density":null,"has-id":iBe,none:B9e};let pBe=class Ms{constructor(t){this._expression=t}filter(t,i){if(!this._expression)return!0;try{return this._expression.evaluate(t,i)}catch(n){return console.log(n.message),!0}}static createFilter(t){if(!t)return null;this.isLegacyFilter(t)&&(t=this.convertLegacyFilter(t));try{const i=Re(t,null,Gn);return new Ms(i)}catch(i){return console.log(i.message),null}}static isLegacyFilter(t){if(!Array.isArray(t)||t.length===0)return!0;switch(t[0]){case"==":case"!=":case">":case"<":case">=":case"<=":return t.length===3&&typeof t[1]=="string"&&!Array.isArray(t[2]);case"in":return t.length>=3&&typeof t[1]=="string"&&!Array.isArray(t[2]);case"!in":case"none":case"!has":return!0;case"any":case"all":for(let i=1;i<t.length;i++)if(this.isLegacyFilter(t[i]))return!0;return!1;case"has":return t.length===2&&(t[1]==="$id"||t[1]==="$type");default:return!1}}static convertLegacyFilter(t){if(!Array.isArray(t)||t.length===0)return!0;const i=t[0];if(t.length===1)return i!=="any";switch(i){case"==":return Ms.convertComparison("==",t[1],t[2]);case"!=":return Ms.negate(Ms.convertComparison("==",t[1],t[2]));case">":case"<":case">=":case"<=":return Ms.convertComparison(i,t[1],t[2]);case"in":return Ms.convertIn(t[1],t.slice(2));case"!in":return Ms.negate(Ms.convertIn(t[1],t.slice(2)));case"any":case"all":case"none":return Ms.convertCombining(i,t.slice(1));case"has":return Ms.convertHas(t[1]);case"!has":return Ms.negate(Ms.convertHas(t[1]));default:throw new Error("Unexpected legacy filter.")}}static convertComparison(t,i,n){switch(i){case"$type":return[t,["geometry-type"],n];case"$id":return[t,["id"],n];default:return[t,["get",i],n]}}static convertIn(t,i){switch(t){case"$type":return["in",["geometry-type"],["literal",i]];case"$id":return["in",["id"],["literal",i]];default:return["in",["get",t],["literal",i]]}}static convertHas(t){switch(t){case"$type":return!0;case"$id":return["has-id"];default:return["has",t]}}static convertCombining(t,i){return[t].concat(i.map(this.convertLegacyFilter))}static negate(t){return["!",t]}},HG=class hle{constructor(t,i){let n;switch(this.isDataDriven=!1,this.interpolator=null,t.type){case"number":case"color":n=!0;break;case"array":n=t.value==="number";break;default:n=!1}if(i==null&&(i=t.default),Array.isArray(i)&&i.length>0&&dle[i[0]]){const s={number:Ei,color:Tu,string:Xs,boolean:Gn,enum:Xs};try{const a=t.type==="array"?Q_(s[t.value]||uu,t.length):s[t.type],o=Re(i,null,a);this.getValue=this._buildExpression(o,t),this.isDataDriven=!0,o instanceof OE&&o.input instanceof DT&&(this.interpolator=o)}catch(a){console.log(a.message),this.getValue=this._buildSimple(t.default)}return}n&&i.type==="interval"&&(n=!1);const r=i&&i.stops&&i.stops.length>0;if(r)for(const s of i.stops)s[1]=this._validate(s[1],t);if(this.isDataDriven=!!i&&!!i.property,this.isDataDriven)if(i.default!==void 0&&(i.default=this._validate(i.default,t)),r)switch(i.type){case"identity":this.getValue=this._buildIdentity(i,t);break;case"categorical":this.getValue=this._buildCategorical(i,t);break;default:this.getValue=n?this._buildInterpolate(i,t):this._buildInterval(i,t)}else this.getValue=this._buildIdentity(i,t);else r?this.getValue=n?this._buildZoomInterpolate(i):this._buildZoomInterval(i):(i=this._validate(i,t),this.getValue=this._buildSimple(i))}_validate(t,i){if(i.type==="number"){if(t<i.minimum)return i.minimum;if(t>i.maximum)return i.maximum}else i.type==="color"?t=hle._parseColor(t):i.type==="enum"?typeof t=="string"&&(t=i.values.indexOf(t)):i.type==="array"&&i.value==="enum"?t=t.map(n=>typeof n=="string"?i.values.indexOf(n):n):i.type==="string"&&(t=VP(t));return t}_buildSimple(t){return()=>t}_buildExpression(t,i){return(n,r)=>{try{const s=t.evaluate(r,n);return s===void 0?i.default:this._validate(s,i)}catch(s){return console.log(s.message),i.default}}}_buildIdentity(t,i){return(n,r)=>{let s;return r&&(s=r.values[t.property]),s!==void 0&&(s=this._validate(s,i)),s??(t.default!==void 0?t.default:i.default)}}_buildCategorical(t,i){return(n,r)=>{let s;return r&&(s=r.values[t.property]),s=this._categorical(s,t.stops),s!==void 0?s:t.default!==void 0?t.default:i.default}}_buildInterval(t,i){return(n,r)=>{let s;return r&&(s=r.values[t.property]),typeof s=="number"?this._interval(s,t.stops):t.default!==void 0?t.default:i.default}}_buildInterpolate(t,i){return(n,r)=>{let s;return r&&(s=r.values[t.property]),typeof s=="number"?this._interpolate(s,t.stops,t.base||1):t.default!==void 0?t.default:i.default}}_buildZoomInterpolate(t){return i=>this._interpolate(i,t.stops,t.base||1)}_buildZoomInterval(t){return i=>this._interval(i,t.stops)}_categorical(t,i){const n=i.length;for(let r=0;r<n;r++)if(i[r][0]===t)return i[r][1]}_interval(t,i){const n=i.length;let r=0;for(let s=0;s<n&&i[s][0]<=t;s++)r=s;return i[r][1]}_interpolate(t,i,n){let r,s;const a=i.length;for(let o=0;o<a;o++){const l=i[o];if(!(l[0]<=t)){s=l;break}r=l}if(r&&s){const o=s[0]-r[0],l=t-r[0],c=n===1?l/o:(n**l-1)/(n**o-1);if(Array.isArray(r[1])){const h=r[1],p=s[1],m=[];for(let g=0;g<h.length;g++)m.push(Ar(h[g],p[g],c));return m}return Ar(r[1],s[1],c)}return r?r[1]:s?s[1]:void 0}static _isEmpty(t){for(const i in t)if(t.hasOwnProperty(i))return!1;return!0}static _parseColor(t){return Array.isArray(t)?t:(typeof t=="string"&&(t=new de(t)),t instanceof de&&!this._isEmpty(t)?de.toUnitRGBA(t):void 0)}};const sQe=1e-30,aQe=4294967295,oQe=512,lQe=8,cQe=10,uQe=29,dQe=24,hQe=8,pQe=0,fQe=0,mQe=0,gQe=1,yQe=2,vQe=3,bQe=4,wQe=5,_Qe=6,xQe=12,SQe=5,EQe=6,kQe=5,IQe=6,CQe=0,TQe=1,$Qe=2,AQe=3,MQe=4,DQe=2,OQe=1,RQe=2,PQe=4,fBe=1.05,LQe=3,FQe=5,NQe=6,zQe=1.15,VQe=2,jQe=8,UQe=500,BQe=10,HQe=1024,GQe=2,qQe=0,WQe=1,KQe=4,YQe=8,JQe=16,ZQe=4,QQe=1,XQe=4,eXe=8,tXe=128,iXe=4,nXe=2;var ow;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(ow||(ow={}));class X_{constructor(t,i,n,r){switch(this.type=t,this.typeName=i.type,this.id=i.id,this.source=i.source,this.sourceLayer=i["source-layer"],this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,this.filter=i.filter,this.layout=i.layout,this.paint=i.paint,this.z=n,this.uid=r,t){case Ni.BACKGROUND:this._layoutDefinition=ji.backgroundLayoutDefinition,this._paintDefinition=ji.backgroundPaintDefinition;break;case Ni.FILL:this._layoutDefinition=ji.fillLayoutDefinition,this._paintDefinition=ji.fillPaintDefinition;break;case Ni.LINE:this._layoutDefinition=ji.lineLayoutDefinition,this._paintDefinition=ji.linePaintDefinition;break;case Ni.SYMBOL:this._layoutDefinition=ji.symbolLayoutDefinition,this._paintDefinition=ji.symbolPaintDefinition;break;case Ni.CIRCLE:this._layoutDefinition=ji.circleLayoutDefinition,this._paintDefinition=ji.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}getFeatureFilter(){return this._featureFilter!==void 0?this._featureFilter:this._featureFilter=pBe.createFilter(this.filter)}getLayoutProperty(t){return this._layoutProperties[t]}getPaintProperty(t){return this._paintProperties[t]}getLayoutValue(t,i,n){let r;const s=this._layoutProperties[t];return s&&(r=s.getValue(i,n)),r===void 0&&(r=this._layoutDefinition[t].default),r}getPaintValue(t,i,n){let r;const s=this._paintProperties[t];return s&&(r=s.getValue(i,n)),r===void 0&&(r=this._paintDefinition[t].default),r}isPainterDataDriven(){const t=this._paintProperties;if(t){for(const i in t)if(t[i].isDataDriven)return!0}return!1}_parseLayout(t){const i={};for(const n in t){const r=this._layoutDefinition[n];r&&(i[n]=new HG(r,t[n]))}return i}_parsePaint(t){const i={};for(const n in t){const r=this._paintDefinition[n];r&&(i[n]=new HG(r,t[n]))}return i}computeAttributesKey(t,i,n,r){let s=0,a=0;for(const o of i){let l=3;if(!o||o!==r){const c=n[o],{isLayout:h,isOptional:p}=c,m=h?this.getLayoutProperty(o):this.getPaintProperty(o);l=m!=null&&m.interpolator?2:m!=null&&m.isDataDriven?1:p&&!m?3:0}a|=l<<s,s+=2}return a<<3|t}}let GG=class extends X_{constructor(t,i,n,r){super(t,i,n,r),this.backgroundMaterial=new Yy(this.computeAttributesKey(Cu.BACKGROUND,Yy.ATTRIBUTES,Yy.ATTRIBUTES_INFO))}};class qG extends X_{constructor(t,i,n,r){super(t,i,n,r);const s=this.getPaintProperty("fill-color"),a=this.getPaintProperty("fill-opacity"),o=this.getPaintProperty("fill-pattern");this.hasDataDrivenColor=s==null?void 0:s.isDataDriven,this.hasDataDrivenOpacity=a==null?void 0:a.isDataDriven,this.hasDataDrivenFill=this.hasDataDrivenColor||this.hasDataDrivenOpacity||(o==null?void 0:o.isDataDriven);const l=this.getPaintProperty("fill-outline-color");this.outlineUsesFillColor=!l,this.hasDataDrivenOutlineColor=l==null?void 0:l.isDataDriven,this.hasDataDrivenOutline=l?l.isDataDriven:!!s&&s.isDataDriven,this.hasDataDrivenOutline=(l?this.hasDataDrivenOutlineColor:this.hasDataDrivenColor)||this.hasDataDrivenOpacity,this.fillMaterial=new Zy(this.computeAttributesKey(Cu.FILL,Zy.ATTRIBUTES,Zy.ATTRIBUTES_INFO)),this.outlineMaterial=new Vl(this.computeAttributesKey(Cu.OUTLINE,this.outlineUsesFillColor?Vl.ATTRIBUTES_FILL:Vl.ATTRIBUTES_OUTLINE,this.outlineUsesFillColor?Vl.ATTRIBUTES_INFO_FILL:Vl.ATTRIBUTES_INFO_OUTLINE),this.outlineUsesFillColor)}}class WG extends X_{constructor(t,i,n,r){var a,o,l,c,h,p,m,g,y;super(t,i,n,r);const s=this.getPaintProperty("line-pattern");if(this.lineMaterial=new Qy(this.computeAttributesKey(Cu.LINE,Qy.ATTRIBUTES,Qy.ATTRIBUTES_INFO,s?"line-dasharray":"")),this.hasDataDrivenLine=((a=this.getPaintProperty("line-blur"))==null?void 0:a.isDataDriven)||((o=this.getPaintProperty("line-color"))==null?void 0:o.isDataDriven)||((l=this.getPaintProperty("line-gap-width"))==null?void 0:l.isDataDriven)||((c=this.getPaintProperty("line-offset"))==null?void 0:c.isDataDriven)||((h=this.getPaintProperty("line-opacity"))==null?void 0:h.isDataDriven)||((p=this.getPaintProperty("line-pattern"))==null?void 0:p.isDataDriven)||((m=this.getPaintProperty("line-dasharray"))==null?void 0:m.isDataDriven)||((g=this.getLayoutProperty("line-cap"))==null?void 0:g.isDataDriven)||((y=this.getPaintProperty("line-width"))==null?void 0:y.isDataDriven),this.canUseThinTessellation=!1,!this.hasDataDrivenLine){const b=this.getPaintProperty("line-width");if(!b||typeof b=="number"&&.5*b<fBe){const w=this.getPaintProperty("line-offset");(!w||typeof w=="number"&&w===0)&&(this.canUseThinTessellation=!0)}}}getDashKey(t,i){let n;switch(i){case ow.BUTT:n="Butt";break;case ow.ROUND:n="Round";break;case ow.SQUARE:n="Square";break;default:n="Butt"}return`dasharray-[${t.toString()}]-${n}`}}class KG extends X_{constructor(t,i,n,r){var s,a,o,l,c,h,p,m,g,y,b,w;super(t,i,n,r),this.iconMaterial=new sw(this.computeAttributesKey(Cu.ICON,sw.ATTRIBUTES,sw.ATTRIBUTES_INFO)),this.textMaterial=new aw(this.computeAttributesKey(Cu.TEXT,aw.ATTRIBUTES,aw.ATTRIBUTES_INFO)),this.hasDataDrivenIcon=((s=this.getPaintProperty("icon-color"))==null?void 0:s.isDataDriven)||((a=this.getPaintProperty("icon-halo-blur"))==null?void 0:a.isDataDriven)||((o=this.getPaintProperty("icon-halo-color"))==null?void 0:o.isDataDriven)||((l=this.getPaintProperty("icon-halo-width"))==null?void 0:l.isDataDriven)||((c=this.getPaintProperty("icon-opacity"))==null?void 0:c.isDataDriven)||((h=this.getLayoutProperty("icon-size"))==null?void 0:h.isDataDriven),this.hasDataDrivenText=((p=this.getPaintProperty("text-color"))==null?void 0:p.isDataDriven)||((m=this.getPaintProperty("text-halo-blur"))==null?void 0:m.isDataDriven)||((g=this.getPaintProperty("text-halo-color"))==null?void 0:g.isDataDriven)||((y=this.getPaintProperty("text-halo-width"))==null?void 0:y.isDataDriven)||((b=this.getPaintProperty("text-opacity"))==null?void 0:b.isDataDriven)||((w=this.getLayoutProperty("text-size"))==null?void 0:w.isDataDriven)}}class YG extends X_{constructor(t,i,n,r){super(t,i,n,r),this.circleMaterial=new Jy(this.computeAttributesKey(Cu.CIRCLE,Jy.ATTRIBUTES,Jy.ATTRIBUTES_INFO))}}class sXe{constructor(t,i,n){let r;this.allowOverlap=t.getLayoutValue("icon-allow-overlap",i),this.ignorePlacement=t.getLayoutValue("icon-ignore-placement",i),this.keepUpright=t.getLayoutValue("icon-keep-upright",i),this.optional=t.getLayoutValue("icon-optional",i),this.rotationAlignment=t.getLayoutValue("icon-rotation-alignment",i),this.rotationAlignment===Yl.AUTO&&(this.rotationAlignment=n?Yl.MAP:Yl.VIEWPORT),r=t.getLayoutProperty("icon-anchor"),r!=null&&r.isDataDriven?this._anchorProp=r:this.anchor=t.getLayoutValue("icon-anchor",i),r=t.getLayoutProperty("icon-offset"),r!=null&&r.isDataDriven?this._offsetProp=r:this.offset=t.getLayoutValue("icon-offset",i),r=t.getLayoutProperty("icon-padding"),r!=null&&r.isDataDriven?this._paddingProp=r:this.padding=t.getLayoutValue("icon-padding",i),r=t.getLayoutProperty("icon-rotate"),r!=null&&r.isDataDriven?this._rotateProp=r:this.rotate=t.getLayoutValue("icon-rotate",i),r=t.getLayoutProperty("icon-size"),r!=null&&r.isDataDriven?this._sizeProp=r:this.size=t.getLayoutValue("icon-size",i)}update(t,i){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,i)),this._offsetProp&&(this.offset=this._offsetProp.getValue(t,i)),this._paddingProp&&(this.padding=this._paddingProp.getValue(t,i)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,i)),this._sizeProp&&(this.size=this._sizeProp.getValue(t,i))}}let aXe=class{constructor(t,i,n){let r;this.allowOverlap=t.getLayoutValue("text-allow-overlap",i),this.ignorePlacement=t.getLayoutValue("text-ignore-placement",i),this.keepUpright=t.getLayoutValue("text-keep-upright",i),this.optional=t.getLayoutValue("text-optional",i),this.rotationAlignment=t.getLayoutValue("text-rotation-alignment",i),this.rotationAlignment===Yl.AUTO&&(this.rotationAlignment=n?Yl.MAP:Yl.VIEWPORT),r=t.getLayoutProperty("text-anchor"),r!=null&&r.isDataDriven?this._anchorProp=r:this.anchor=t.getLayoutValue("text-anchor",i),r=t.getLayoutProperty("text-justify"),r!=null&&r.isDataDriven?this._justifyProp=r:this.justify=t.getLayoutValue("text-justify",i),r=t.getLayoutProperty("text-letter-spacing"),r!=null&&r.isDataDriven?this._letterSpacingProp=r:this.letterSpacing=t.getLayoutValue("text-letter-spacing",i),r=t.getLayoutProperty("text-line-height"),r!=null&&r.isDataDriven?this._lineHeightProp=r:this.lineHeight=t.getLayoutValue("text-line-height",i),r=t.getLayoutProperty("text-max-angle"),r!=null&&r.isDataDriven?this._maxAngleProp=r:this.maxAngle=t.getLayoutValue("text-max-angle",i),r=t.getLayoutProperty("text-max-width"),r!=null&&r.isDataDriven?this._maxWidthProp=r:this.maxWidth=t.getLayoutValue("text-max-width",i),r=t.getLayoutProperty("text-offset"),r!=null&&r.isDataDriven?this._offsetProp=r:this.offset=t.getLayoutValue("text-offset",i),r=t.getLayoutProperty("text-padding"),r!=null&&r.isDataDriven?this._paddingProp=r:this.padding=t.getLayoutValue("text-padding",i),r=t.getLayoutProperty("text-rotate"),r!=null&&r.isDataDriven?this._rotateProp=r:this.rotate=t.getLayoutValue("text-rotate",i),r=t.getLayoutProperty("text-size"),r!=null&&r.isDataDriven?this._sizeProp=r:this.size=t.getLayoutValue("text-size",i),r=t.getLayoutProperty("text-writing-mode"),r!=null&&r.isDataDriven?this._writingModeProp=r:this.writingMode=t.getLayoutValue("text-writing-mode",i)}update(t,i){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,i)),this._justifyProp&&(this.justify=this._justifyProp.getValue(t,i)),this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(t,i)),this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(t,i)),this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(t,i)),this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(t,i)),this._offsetProp&&(this.offset=this._offsetProp.getValue(t,i)),this._paddingProp&&(this.padding=this._paddingProp.getValue(t,i)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,i)),this._sizeProp&&(this.size=this._sizeProp.getValue(t,i)),this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(t,i))}},mBe=class d1{constructor(t){if(this._style=t,this.backgroundBucketIds=[],this._uidToLayer=new Map,this._layerByName={},this._runningId=0,t.layers||(t.layers=[]),this.version=parseFloat(t.version),this.layers=t.layers.map((i,n,r)=>this._create(i,n,r)).filter(i=>!!i),this.layers){let i;for(let n=0;n<this.layers.length;n++)i=this.layers[n],this._layerByName[i.id]=i,this._uidToLayer.set(i.uid,i),i.type===Ni.BACKGROUND&&this.backgroundBucketIds.push(i.id)}this._identifyRefLayers()}isPainterDataDriven(t){const i=this._layerByName[t];return!!i&&i.isPainterDataDriven()}getStyleLayerId(t){return t>=this.layers.length?null:this.layers[t].id}getStyleLayerByUID(t){return this._uidToLayer.get(t)??null}getStyleLayerIndex(t){const i=this._layerByName[t];return i?this.layers.indexOf(i):-1}setStyleLayer(t,i){if(!t||!t.id)return;const n=this._style;i!=null&&i>=this.layers.length&&(i=this.layers.length-1);let r,s=!0;const a=this._layerByName[t.id];if(a){const o=this.layers.indexOf(a);i||(i=o),i===o?(s=!1,r=d1._recreateLayer(t,a),this.layers[i]=r,n.layers[i]=t):(this.layers.splice(o,1),n.layers.splice(o,1),r=this._create(t,i,this.layers),this.layers.splice(i,0,r),n.layers.splice(i,0,t))}else r=this._create(t,i,this.layers),!i||i>=this.layers.length?(this.layers.push(r),n.layers.push(t)):(this.layers.splice(i,0,r),n.layers.splice(i,0,t));this._layerByName[t.id]=r,this._uidToLayer.set(r.uid,r),s&&this._recomputeZValues(),this._identifyRefLayers()}getStyleLayer(t){const i=this._layerByName[t];return i?{type:i.typeName,id:i.id,source:i.source,"source-layer":i.sourceLayer,minzoom:i.minzoom,maxzoom:i.maxzoom,filter:i.filter,layout:i.layout,paint:i.paint}:null}deleteStyleLayer(t){const i=this._layerByName[t];if(i){delete this._layerByName[t],this._uidToLayer.delete(i.uid);const n=this.layers.indexOf(i);this.layers.splice(n,1),this._style.layers.splice(n,1),this._recomputeZValues(),this._identifyRefLayers()}}getLayerById(t){return this._layerByName[t]}getLayoutProperties(t){const i=this._layerByName[t];return i?i.layout:null}getPaintProperties(t){const i=this._layerByName[t];return i?i.paint:null}setPaintProperties(t,i){const n=this._layerByName[t];if(!n)return;const r={type:n.typeName,id:n.id,source:n.source,"source-layer":n.sourceLayer,minzoom:n.minzoom,maxzoom:n.maxzoom,filter:n.filter,layout:n.layout,paint:i},s=d1._recreateLayer(r,n),a=this.layers.indexOf(n);this.layers[a]=s,this._style.layers[a].paint=i,this._layerByName[n.id]=s,this._uidToLayer.set(n.uid,s)}setLayoutProperties(t,i){const n=this._layerByName[t];if(!n)return;const r={type:n.typeName,id:n.id,source:n.source,"source-layer":n.sourceLayer,minzoom:n.minzoom,maxzoom:n.maxzoom,filter:n.filter,layout:i,paint:n.paint},s=d1._recreateLayer(r,n),a=this.layers.indexOf(n);this.layers[a]=s,this._style.layers[a].layout=i,this._layerByName[n.id]=s,this._uidToLayer.set(n.uid,s)}setStyleLayerVisibility(t,i){const n=this._layerByName[t];if(!n)return;const r=n.layout||{};r.visibility=i;const s={type:n.typeName,id:n.id,source:n.source,"source-layer":n.sourceLayer,minzoom:n.minzoom,maxzoom:n.maxzoom,filter:n.filter,layout:r,paint:n.paint},a=d1._recreateLayer(s,n),o=this.layers.indexOf(n);this.layers[o]=a,this._style.layers[o].layout=r,this._layerByName[n.id]=a,this._uidToLayer.set(n.uid,a)}getStyleLayerVisibility(t){var n;const i=this._layerByName[t];return i?((n=i.layout)==null?void 0:n.visibility)??"visible":"none"}_recomputeZValues(){const t=this.layers,i=1/(t.length+1);for(let n=0;n<t.length;n++)t[n].z=1-(1+n)*i}_identifyRefLayers(){const t=[],i=[];let n=0;for(const r of this.layers){const s=r.layout;if(r.type===Ni.FILL){const a=r;let o=r.source+"|"+r.sourceLayer;o+="|"+((s==null?void 0:s.visibility)??""),o+="|"+r.minzoom,o+="|"+r.maxzoom,o+="|"+JSON.stringify(r.filter),(a.hasDataDrivenFill||a.hasDataDrivenOutline)&&(o+="|"+n),t.push({key:o,layer:r})}else if(r.type===Ni.LINE){const a=r,o=r.paint,l=o!=null&&(o["line-pattern"]!=null||o["line-dasharray"]!=null);let c=r.source+"|"+r.sourceLayer;c+="|"+((s==null?void 0:s.visibility)??""),c+="|"+r.minzoom,c+="|"+r.maxzoom,c+="|"+JSON.stringify(r.filter),c+="|"+(s!==void 0?s["line-cap"]:""),c+="|"+(s!==void 0?s["line-join"]:""),(a.hasDataDrivenLine||l)&&(c+="|"+n),i.push({key:c,layer:r})}++n}this._assignRefLayers(t),this._assignRefLayers(i)}_assignRefLayers(t){let i,n;t.sort((s,a)=>s.key<a.key?-1:s.key>a.key?1:0);const r=t.length;for(let s=0;s<r;s++){const a=t[s];if(a.key===i)a.layer.refLayerId=n;else if(i=a.key,n=a.layer.id,a.layer.type===Ni.FILL){if(!a.layer.getPaintProperty("fill-outline-color"))for(let o=s+1;o<r;o++){const l=t[o];if(l.key!==i)break;if(l.layer.getPaintProperty("fill-outline-color")){t[s]=l,t[o]=a,n=l.layer.id;break}}}else if(a.layer.type===Ni.LINE){let o=a.layer;for(let l=s+1;l<r;l++){const c=t[l];if(c.key!==i)break;const h=c.layer;(o.canUseThinTessellation&&!h.canUseThinTessellation||!o.canUseThinTessellation&&(h.getPaintProperty("line-pattern")||h.getPaintProperty("line-dasharray")))&&(o=h,t[s]=c,t[l]=a,n=c.layer.id)}}}}_create(t,i,n){const r=1-(1+i)*(1/(n.length+1)),s=this._runningId++;switch(t.type){case"background":return new GG(Ni.BACKGROUND,t,r,s);case"fill":return new qG(Ni.FILL,t,r,s);case"line":return new WG(Ni.LINE,t,r,s);case"symbol":return new KG(Ni.SYMBOL,t,r,s);case"raster":return console.warn(`Unsupported vector tile raster layer ${t.id}`),null;case"circle":return new YG(Ni.CIRCLE,t,r,s)}return null}static _recreateLayer(t,i){switch(t.type){case"background":return new GG(Ni.BACKGROUND,t,i.z,i.uid);case"fill":return new qG(Ni.FILL,t,i.z,i.uid);case"line":return new WG(Ni.LINE,t,i.z,i.uid);case"symbol":return new KG(Ni.SYMBOL,t,i.z,i.uid);case"raster":return console.warn(`Unsupported vector tile raster layer ${t.id}`),null;case"circle":return new YG(Ni.CIRCLE,t,i.z,i.uid)}return null}},qt=class extends O4(J4(c9e(bre(Vse(Bse(wre(fre(A4(C0))))))))){constructor(...e){super(...e),this._spriteSourceMap=new Map,this.currentStyleInfo=null,this.style=null,this.isReference=null,this.operationalLayerType="VectorTileLayer",this.type="vector-tile",this.url=null,this.showCollisionBoxes="none",this.path=null}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}destroy(){if(this.sourceNameToSource)for(const e of Object.values(this.sourceNameToSource))e==null||e.destroy();this._spriteSourceMap.clear()}async prefetchResources(e){await this.loadSpriteSource(globalThis.devicePixelRatio||1,e)}load(e){const t=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1},e).catch(Vs).then(async()=>{if(!this.portalItem||!this.portalItem.id)return;const i=`${this.portalItem.itemUrl}/resources/styles/root.json`;(await Tt(i,{...e,query:{f:"json",...this.customParameters,token:this.apiKey}})).data&&this.read({url:i},_9e(this.portalItem))}).catch(Vs).then(()=>this._loadStyle(e));return this.addResolvingPromise(t),Promise.resolve(this)}get attributionDataUrl(){const e=this.currentStyleInfo,t=e&&e.serviceUrl&&Ti(e.serviceUrl);if(!t)return null;const i=this._getDefaultAttribution(t.path);return i?ou(i,{...this.customParameters,token:this.apiKey}):null}get capabilities(){const e=this.primarySource;return e?e.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}get fullExtent(){var e;return((e=this.primarySource)==null?void 0:e.fullExtent)||null}get parsedUrl(){return this.serviceUrl?Ti(this.serviceUrl):null}get serviceUrl(){return this.currentStyleInfo&&this.currentStyleInfo.serviceUrl||null}get spatialReference(){var e;return((e=this.tileInfo)==null?void 0:e.spatialReference)??null}get styleUrl(){return this.currentStyleInfo&&this.currentStyleInfo.styleUrl||null}writeStyleUrl(e,t){e&&to(e)&&(e=`https:${e}`);const i=SO(e);t.styleUrl=MN(e,i)}get tileInfo(){var i;const e=[];for(const n in this.sourceNameToSource)e.push(this.sourceNameToSource[n]);let t=((i=this.primarySource)==null?void 0:i.tileInfo)||new eu;if(e.length>1)for(let n=0;n<e.length;n++)x9e(t,e[n].tileInfo)&&(t=S9e(t,e[n].tileInfo));return t}readVersion(e,t){return t.version?parseFloat(t.version):parseFloat(t.currentVersion)}async loadSpriteSource(e=1,t){var i,n;if(!this._spriteSourceMap.has(e)){const r=CP("2d").maxTextureSize,s=(i=this.currentStyleInfo)!=null&&i.spriteUrl?ou(this.currentStyleInfo.spriteUrl,{...this.customParameters,token:this.apiKey}):null,a=new nH({type:"url",spriteUrl:s,pixelRatio:e,spriteFormat:(n=this.currentStyleInfo)==null?void 0:n.spriteFormat},r);await a.load(t),this._spriteSourceMap.set(e,a)}return this._spriteSourceMap.get(e)}async setSpriteSource(e,t){if(!e)return null;const i=CP("2d").maxTextureSize,n=e.spriteUrl,r=n?ou(n,{...this.customParameters,token:this.apiKey}):null;if(!r&&e.type==="url")return null;const s=new nH(e,i);try{await s.load(t);const a=e.pixelRatio||1;return this._spriteSourceMap.clear(),this._spriteSourceMap.set(a,s),r&&this.currentStyleInfo&&(this.currentStyleInfo.spriteUrl=r),this.emit("spriteSource-change",{spriteSource:s}),s}catch(a){Vs(a)}return null}async loadStyle(e,t){var n;const i=e||this.style||this.url;return this._loadingTask&&typeof i=="string"&&this.url===i||((n=this._loadingTask)==null||n.abort(),this._loadingTask=o4(r=>(this._spriteSourceMap.clear(),this._getSourceAndStyle(i,{signal:r})),t)),this._loadingTask.promise}getStyleLayerId(e){return this.styleRepository.getStyleLayerId(e)}getStyleLayerIndex(e){return this.styleRepository.getStyleLayerIndex(e)}getPaintProperties(e){return z(this.styleRepository.getPaintProperties(e))}setPaintProperties(e,t){const i=this.styleRepository.isPainterDataDriven(e);this.styleRepository.setPaintProperties(e,t);const n=this.styleRepository.isPainterDataDriven(e);this.emit("paint-change",{layer:e,paint:t,isDataDriven:i||n})}getStyleLayer(e){return z(this.styleRepository.getStyleLayer(e))}setStyleLayer(e,t){this.styleRepository.setStyleLayer(e,t),this.emit("style-layer-change",{layer:e,index:t})}deleteStyleLayer(e){this.styleRepository.deleteStyleLayer(e),this.emit("delete-style-layer",{layer:e})}getLayoutProperties(e){return z(this.styleRepository.getLayoutProperties(e))}setLayoutProperties(e,t){this.styleRepository.setLayoutProperties(e,t),this.emit("layout-change",{layer:e,layout:t})}setStyleLayerVisibility(e,t){this.styleRepository.setStyleLayerVisibility(e,t),this.emit("style-layer-visibility-change",{layer:e,visibility:t})}getStyleLayerVisibility(e){return this.styleRepository.getStyleLayerVisibility(e)}write(e,t){return t!=null&&t.origin&&!this.styleUrl?(t.messages&&t.messages.push(new N("vectortilelayer:unsupported",`VectorTileLayer (${this.title}, ${this.id}) with style defined by JSON only are not supported`,{layer:this})),null):super.write(e,t)}getTileUrl(e,t,i){return null}async _getSourceAndStyle(e,t){if(!e)throw new Error("invalid style!");const i=await y9e(e,{...t,query:{...this.customParameters,token:this.apiKey}});i.spriteFormat==="webp"&&(await u9e("lossy")||(i.spriteFormat="png")),this._set("currentStyleInfo",{...i}),typeof e=="string"?(this.url=e,this.style=null):(this.url=null,this.style=e),this._set("sourceNameToSource",i.sourceNameToSource),this._set("primarySource",i.sourceNameToSource[i.primarySourceName]),this._set("styleRepository",new mBe(i.style)),this.read(i.layerDefinition,{origin:"service"}),this.emit("load-style")}_getDefaultAttribution(e){const t=e.match(/^https?:\/\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^\/]+)?\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i),i=["OpenStreetMap_v2","OpenStreetMap_Daylight_v2","OpenStreetMap_Export_v2","OpenStreetMap_FTS_v2","OpenStreetMap_GCS_v2","World_Basemap","World_Basemap_v2","World_Basemap_Export_v2","World_Basemap_GCS_v2","World_Basemap_WGS84","World_Contours_v2"];if(!t)return;const n=t[2]&&t[2].toLowerCase();if(!n)return;const r=t[1]||"";for(const s of i)if(s.toLowerCase().includes(n))return Ys(`//static.arcgis.com/attribution/Vector${r}/${s}`)}async _loadStyle(e){var t;return((t=this._loadingTask)==null?void 0:t.promise)??this.loadStyle(null,e)}};u([d({readOnly:!0})],qt.prototype,"attributionDataUrl",null),u([d({type:["show","hide"]})],qt.prototype,"listMode",void 0),u([d({json:{read:!0,write:!0}})],qt.prototype,"blendMode",void 0),u([d({readOnly:!0,json:{read:!1}})],qt.prototype,"capabilities",null),u([d({readOnly:!0})],qt.prototype,"currentStyleInfo",void 0),u([d({json:{read:!1},readOnly:!0,type:Gt})],qt.prototype,"fullExtent",null),u([d()],qt.prototype,"style",void 0),u([d({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],qt.prototype,"isReference",void 0),u([d({type:["VectorTileLayer"]})],qt.prototype,"operationalLayerType",void 0),u([d({readOnly:!0})],qt.prototype,"parsedUrl",null),u([d({readOnly:!0})],qt.prototype,"serviceUrl",null),u([d({type:je,readOnly:!0})],qt.prototype,"spatialReference",null),u([d({readOnly:!0})],qt.prototype,"styleRepository",void 0),u([d({readOnly:!0})],qt.prototype,"sourceNameToSource",void 0),u([d({readOnly:!0})],qt.prototype,"primarySource",void 0),u([d({type:String,readOnly:!0,json:{write:{ignoreOrigin:!0},origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],qt.prototype,"styleUrl",null),u([ue(["portal-item","web-document"],"styleUrl")],qt.prototype,"writeStyleUrl",null),u([d({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:eu})],qt.prototype,"tileInfo",null),u([d({json:{read:!1},readOnly:!0,value:"vector-tile"})],qt.prototype,"type",void 0),u([d({json:{origins:{"web-document":{read:{source:"styleUrl"}},"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],qt.prototype,"url",void 0),u([d({readOnly:!0})],qt.prototype,"version",void 0),u([ee("version",["version","currentVersion"])],qt.prototype,"readVersion",null),u([d({type:String})],qt.prototype,"showCollisionBoxes",void 0),u([d({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],qt.prototype,"path",void 0),qt=u([I("esri.layers.VectorTileLayer")],qt);const ple=qt,lXe=Object.freeze(Object.defineProperty({__proto__:null,default:ple},Symbol.toStringTag,{value:"Module"})),gBe=e=>e.toLowerCase().split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(""),fle=e=>e.replace(/([A-Z])/g,t=>`-${t[0].toLowerCase()}`),yBe=(e,t,i={})=>{if(e instanceof Element){const n=vBe(e.classList,t,i);n!==""&&(e.className=n),Object.keys(t).forEach(r=>{if(!(r==="children"||r==="style"||r==="ref"||r==="class"||r==="className"||r==="forwardedRef"))if(r.indexOf("on")===0&&r[2]===r[2].toUpperCase()){const s=r.substring(2),a=s[0].toLowerCase()+s.substring(1);mle(a)||bBe(e,a,t[r])}else e[r]=t[r],typeof t[r]==="string"&&e.setAttribute(fle(r),t[r])})}},vBe=(e,t,i)=>{const n=t.className||t.class,r=i.className||i.class,s=NM(e),a=NM(n?n.split(" "):[]),o=NM(r?r.split(" "):[]),l=[];return s.forEach(c=>{a.has(c)?(l.push(c),a.delete(c)):o.has(c)||l.push(c)}),a.forEach(c=>l.push(c)),l.join(" ")};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const mle=e=>{if(typeof document>"u")return!0;{const t="on"+e;let i=t in document;if(!i){const n=document.createElement("div");n.setAttribute(t,"return;"),i=typeof n[t]=="function"}return i}},bBe=(e,t,i)=>{const n=e.__events||(e.__events={}),r=n[t];r&&e.removeEventListener(t,r),e.addEventListener(t,n[t]=function(a){i&&i.call(this,a)})},NM=e=>{const t=new Map;return e.forEach(i=>t.set(i,i)),t},wBe=(e,t)=>{typeof e=="function"?e(t):e!=null&&(e.current=t)},_Be=(...e)=>t=>{e.forEach(i=>{wBe(i,t)})},xBe=(e,t)=>{const i=(n,r)=>zE.createElement(e,Object.assign({},n,{forwardedRef:r}));return i.displayName=t,zE.forwardRef(i)};var SBe=globalThis&&globalThis.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i};const qr=(e,t,i,n)=>{n!==void 0&&n();const r=gBe(e),s=class extends zE.Component{constructor(a){super(a),this.setComponentElRef=o=>{this.componentEl=o}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(a){yBe(this.componentEl,this.props,a)}render(){const a=this.props,{children:o,forwardedRef:l,style:c,className:h,ref:p}=a,m=SBe(a,["children","forwardedRef","style","className","ref"]);let g=Object.keys(m).reduce((b,w)=>{const _=m[w];if(w.indexOf("on")===0&&w[2]===w[2].toUpperCase()){const x=w.substring(2).toLowerCase();typeof document<"u"&&mle(x)&&(b[w]=_)}else{const x=typeof _;(x==="string"||x==="boolean"||x==="number")&&(b[fle(w)]=_)}return b},{});i&&(g=i(this.props,g));const y=Object.assign(Object.assign({},g),{ref:_Be(l,this.setComponentElRef),style:c});return ye.createElement(e,y,o)}static get displayName(){return r}};return t&&(s.contextType=t),xBe(s,r)},WP=qr("calcite-action"),EBe=qr("calcite-action-bar"),kBe=qr("calcite-button"),IBe=qr("calcite-dropdown"),JG=qr("calcite-dropdown-group"),zM=qr("calcite-dropdown-item"),CBe=qr("calcite-list"),l_=qr("calcite-list-item"),TBe=qr("calcite-loader"),$Be=qr("calcite-segmented-control"),ABe=qr("calcite-segmented-control-item"),MBe=qr("calcite-shell"),DBe=qr("calcite-tab-nav"),OBe=qr("calcite-tab-title"),RBe=qr("calcite-tabs");function gle(e){return"graphic"in e}const PBe=e=>{const[t,i]=ye.useState(e),n=ye.useCallback(s=>{i(s.target.value)},[]),r=ye.useCallback((s,a)=>({value:s,...s===t?{checked:!0}:{},children:a||s}),[t]);return{selected:t,handleSelectionChange:n,itemProps:r}};function yle(e,t,i,n){ye.useEffect(()=>{const r=gs(()=>e,t,i,n);return()=>r.remove()},[i,t,n,e])}var KP=(e=>(e.Hockey="hockey",e.Football="football",e.Basketball="basketball",e.Baseball="baseball",e))(KP||{});const vle={hockey:"nhl",football:"nfl",basketball:"nba",baseball:"mlb"},LBe=(e,t,{h:i=100,w:n=100})=>`https://a.espncdn.com/combiner/i?img=/i/headshots/${vle[t]}/players/full/${e}.png&h=${i}&w=${n}&scale=crop`,ZG=(e,{h:t=100,w:i=100,transparent:n=!0})=>`https://a.espncdn.com/combiner/i?img=/i/teamlogos/leagues/500/${vle[e]}.png?w=${i}&h=${t}&transparent=${n}`,FBe=({athlete:{id:e,fullName:t,birthPlace:i,type:n,jersey:r,displayHeight:s,displayWeight:a,dateOfBirth:o},onClick:l,teamLogoUrl:c,mode:h="card"})=>{const[p,m]=zE.useState(!0);return h==="card"?_i(l_,{label:t,description:i,onClick:l,children:[_i("div",{slot:"content-start",className:"relative overflow-y-clip w-[140px] h-[100px]",children:[we("img",{src:c,alt:"Team Logo",height:"100px",className:"opacity-20 scale-125 ml-2",loading:"lazy"}),p&&we("img",{src:LBe(e,n,{h:100,w:140}),alt:"Athlete Headshot",height:"100px",width:"140px",loading:"lazy",className:"absolute inset-0",onLoad:g=>{m(!0)},onError:g=>{m(!1)}})]}),_i("div",{slot:"content",children:[_i("div",{className:"flex items-baseline gap-1",children:[we("span",{className:"text-1",children:t}),_i("span",{className:"text-n3 text-color-3",children:["#",r]})]}),we("div",{className:"flex items-center text-n3",children:we("span",{children:i})})]}),_i("div",{slot:"content-end",className:"flex flex-col mr-2 text-n3 items-end",children:[we("span",{children:s}),we("span",{children:a}),o!==null&&we("span",{children:new Date(Number(o)).toLocaleDateString("en-US")})]})]}):we(l_,{label:t,description:i,onClick:l})};function NBe({team:e,onClick:t}){return _i(l_,{label:e.name,onClick:()=>t(e),children:[we("div",{slot:"content-start",className:"flex relative overflow-y-clip w-[100px] h-[100px] content-center",children:we("img",{src:e.logo,alt:"Team Logo",height:"100px",width:"140px",loading:"lazy"})}),_i("div",{slot:"content",className:"flex flex-col items-end",children:[we("div",{className:"flex items-center text-2 text-end",children:e.displayName}),we("div",{className:"flex items-center text-n2 text-end",children:we("span",{children:e.venueAddress})})]})]})}let zc=class extends O4(J4(C0)){constructor(e){super(e),this.elevationInfo=null,this.graphics=new Wf,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,t){return super.on(e,t)}graphicChanged(e){this.emit("graphic-update",e)}};u([d({type:Ere})],zc.prototype,"elevationInfo",void 0),u([d(uP(Wf,"graphics"))],zc.prototype,"graphics",void 0),u([d({type:["show","hide"]})],zc.prototype,"listMode",void 0),u([d()],zc.prototype,"screenSizePerspectiveEnabled",void 0),u([d({readOnly:!0})],zc.prototype,"type",void 0),u([d({constructOnly:!0})],zc.prototype,"internal",void 0),zc=u([I("esri.layers.GraphicsLayer")],zc);const cXe=zc;function UI(e,t,i=0){const n=ye.useId(),r=ye.useRef(new Q4({...t,id:n}));return ye.useEffect(()=>{if(!e)return;const s=r.current,a=e.map.findLayerById(n);return a&&e.map.remove(a),e.map.add(s,i),()=>{e.map.remove(s)}},[n,r,i,e]),r.current}const _z=(e,t)=>{const[i,n]=ye.useState();return ye.useEffect(()=>{!t||!e||e.whenLayerView(t).then(r=>{n(r)})},[t,e]),i},zBe="https://services1.arcgis.com/wQnFk5ouCfPzTlPw/arcgis/rest/services/ESPN_API_Athletes/FeatureServer/0";function VBe(e,t,i){const n=UI(e,{url:zBe,title:"NHL Players",outFields:["*"],labelingInfo:[{labelExpressionInfo:{expression:"$feature.birthCity"},symbol:{type:"text",color:"#fff",haloColor:"black",haloSize:"1px",font:{size:8,family:"Noto Sans",weight:"bold"}},maxScale:0,minScale:15e5,labelPlacement:"above-center"}]});ye.useEffect(()=>{n.effect="bloom(1, 1px, 99%)",n.renderer=new Eu({symbol:new Pu({color:[255,255,255,1],size:5,outline:{color:[255,255,255,.1],width:1}})})},[n]);const r=_z(e,n);return ye.useEffect(()=>{if(!e||!r)return;const s=new R4({where:`type = '${i}'`});r.filter=s},[e,r,i]),ye.useEffect(()=>{var s;if(!t){(s=n.featureEffect)==null||s.destroy();return}n.featureEffect=new P4({excludedEffect:"opacity(20%)",includedEffect:"drop-shadow(1px, 1px, 1px, black)",filter:{where:`teamId = ${t==null?void 0:t.attributes.id}`}})},[n,t]),{athletesLayer:n}}function jBe({sort:e,setSort:t,setSortDirection:i,sortDirection:n,fields:r}){return _i(IBe,{children:[we(kBe,{slot:"trigger",iconStart:"sort-descending",kind:"neutral",appearance:"outline-fill",children:e.label}),we(JG,{groupTitle:"Sort Fields",children:r.map(s=>we(zM,{label:s.label,onCalciteDropdownItemSelect:()=>t(s),selected:s.label===e.label?!0:void 0,children:s.label},s.field))}),_i(JG,{groupTitle:"Sort Direction",children:[we(zM,{label:"Ascending",onCalciteDropdownItemSelect:()=>i("asc"),selected:n==="asc"?!0:void 0,children:"Ascending"}),we(zM,{label:"Descending",onCalciteDropdownItemSelect:()=>i("desc"),selected:n==="desc"?!0:void 0,children:"Descending"})]})]})}const GS=({bgColor:e="black",onBackClick:t,logo:i,title:n,subtitle:r})=>_i("div",{className:"flex justify-stretch overflow-hidden",style:{backgroundColor:e},children:[t&&we(WP,{text:"Back",icon:"chevron-left",scale:"s",style:{"--calcite-ui-text-3":"white",justifySelf:"flex-start"},appearance:"transparent",onClick:()=>t()}),_i("div",{className:"py-2 px-4 flex-1",children:[we("h1",{className:"text-4h text-color-1 uppercase italic whitespace-nowrap",children:n}),we("h1",{className:" text-3h text-color-1 uppercase italic whitespace-nowrap",children:r})]}),we("img",{className:"scale-150 opacity-30 flex-1 w-[100px] h-[100px] object-cover",src:i,alt:"Team Logo"})]});function UBe(e,t,i){const n=ye.useMemo(()=>{if(!e)return;const s=e.reduce((a,o)=>{const l=o[t.field]?t.field:t.altField??t.field,c=o[l];if(!c)return a;const h=t.transform?t.transform(c):c.toString();return a[h]?(a[h].push(o),a):{...a,[h]:[o]}},{});return Object.entries(s)},[e,t]);return ye.useMemo(()=>n==null?void 0:n.sort(([s],[a])=>{if(!s&&!a)return 0;if(!s)return-1;if(!a)return 1;const o=i==="asc"?1:-1;return s.localeCompare(a,void 0,{numeric:!0,sensitivity:"base"})*o}),[n,i])}const QG={AK:"Alaska",AL:"Alabama",AR:"Arkansas",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"District of Columbia",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming",AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NF:"Newfoundland",NT:"Northwest Territory",NS:"Nova Scotia",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon",ACT:"Australian Capital Territory",NSW:"New South Wales",QLD:"Queensland",SA:"South Australia",TAS:"Tasmania",VIC:"Victoria"};function BBe(e,t){return t in e}const ble=e=>{const t=e==null?void 0:e.toUpperCase();return t&&BBe(QG,t)?QG[t]:e};class ex{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.push(t),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(i=>i!==t),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const c_=typeof window>"u"||"Deno"in window;function Aa(){}function HBe(e,t){return typeof e=="function"?e(t):e}function YP(e){return typeof e=="number"&&e>=0&&e!==1/0}function wle(e,t){return Math.max(e+(t||0)-Date.now(),0)}function h1(e,t,i){return OT(e)?typeof t=="function"?{...i,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function Hd(e,t,i){return OT(e)?[{...t,queryKey:e},i]:[e||{},t]}function XG(e,t){const{type:i="all",exact:n,fetchStatus:r,predicate:s,queryKey:a,stale:o}=e;if(OT(a)){if(n){if(t.queryHash!==xz(a,t.options))return!1}else if(!BI(t.queryKey,a))return!1}if(i!=="all"){const l=t.isActive();if(i==="active"&&!l||i==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||typeof r<"u"&&r!==t.state.fetchStatus||s&&!s(t))}function eq(e,t){const{exact:i,fetching:n,predicate:r,mutationKey:s}=e;if(OT(s)){if(!t.options.mutationKey)return!1;if(i){if(Nf(t.options.mutationKey)!==Nf(s))return!1}else if(!BI(t.options.mutationKey,s))return!1}return!(typeof n=="boolean"&&t.state.status==="loading"!==n||r&&!r(t))}function xz(e,t){return((t==null?void 0:t.queryKeyHashFn)||Nf)(e)}function Nf(e){return JSON.stringify(e,(t,i)=>JP(i)?Object.keys(i).sort().reduce((n,r)=>(n[r]=i[r],n),{}):i)}function BI(e,t){return _le(e,t)}function _le(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(i=>!_le(e[i],t[i])):!1}function xle(e,t){if(e===t)return e;const i=iq(e)&&iq(t);if(i||JP(e)&&JP(t)){const n=i?e.length:Object.keys(e).length,r=i?t:Object.keys(t),s=r.length,a=i?[]:{};let o=0;for(let l=0;l<s;l++){const c=i?l:r[l];a[c]=xle(e[c],t[c]),a[c]===e[c]&&o++}return n===s&&o===n?e:a}return t}function tq(e,t){if(e&&!t||t&&!e)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}function iq(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function JP(e){if(!nq(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const i=t.prototype;return!(!nq(i)||!i.hasOwnProperty("isPrototypeOf"))}function nq(e){return Object.prototype.toString.call(e)==="[object Object]"}function OT(e){return Array.isArray(e)}function Sle(e){return new Promise(t=>{setTimeout(t,e)})}function rq(e){Sle(0).then(e)}function GBe(){if(typeof AbortController=="function")return new AbortController}function ZP(e,t,i){return i.isDataEqual!=null&&i.isDataEqual(e,t)?e:typeof i.structuralSharing=="function"?i.structuralSharing(e,t):i.structuralSharing!==!1?xle(e,t):t}class qBe extends ex{constructor(){super(),this.setup=t=>{if(!c_&&window.addEventListener){const i=()=>t();return window.addEventListener("visibilitychange",i,!1),window.addEventListener("focus",i,!1),()=>{window.removeEventListener("visibilitychange",i),window.removeEventListener("focus",i)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var i;this.setup=t,(i=this.cleanup)==null||i.call(this),this.cleanup=t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(t){this.focused=t,t&&this.onFocus()}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const HI=new qBe;class WBe extends ex{constructor(){super(),this.setup=t=>{if(!c_&&window.addEventListener){const i=()=>t();return window.addEventListener("online",i,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",i)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var i;this.setup=t,(i=this.cleanup)==null||i.call(this),this.cleanup=t(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(t){this.online=t,t&&this.onOnline()}onOnline(){this.listeners.forEach(t=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const GI=new WBe;function KBe(e){return Math.min(1e3*2**e,3e4)}function RT(e){return(e??"online")==="online"?GI.isOnline():!0}class Ele{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function RE(e){return e instanceof Ele}function kle(e){let t=!1,i=0,n=!1,r,s,a;const o=new Promise((w,_)=>{s=w,a=_}),l=w=>{n||(g(new Ele(w)),e.abort==null||e.abort())},c=()=>{t=!0},h=()=>{t=!1},p=()=>!HI.isFocused()||e.networkMode!=="always"&&!GI.isOnline(),m=w=>{n||(n=!0,e.onSuccess==null||e.onSuccess(w),r==null||r(),s(w))},g=w=>{n||(n=!0,e.onError==null||e.onError(w),r==null||r(),a(w))},y=()=>new Promise(w=>{r=_=>{const x=n||!p();return x&&w(_),x},e.onPause==null||e.onPause()}).then(()=>{r=void 0,n||e.onContinue==null||e.onContinue()}),b=()=>{if(n)return;let w;try{w=e.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(m).catch(_=>{var x,S;if(n)return;const k=(x=e.retry)!=null?x:3,A=(S=e.retryDelay)!=null?S:KBe,T=typeof A=="function"?A(i,_):A,C=k===!0||typeof k=="number"&&i<k||typeof k=="function"&&k(i,_);if(t||!C){g(_);return}i++,e.onFail==null||e.onFail(i,_),Sle(T).then(()=>{if(p())return y()}).then(()=>{t?g(_):b()})})};return RT(e.networkMode)?b():y().then(b),{promise:o,cancel:l,continue:()=>(r==null?void 0:r())?o:Promise.resolve(),cancelRetry:c,continueRetry:h}}const Sz=console;function YBe(){let e=[],t=0,i=h=>{h()},n=h=>{h()};const r=h=>{let p;t++;try{p=h()}finally{t--,t||o()}return p},s=h=>{t?e.push(h):rq(()=>{i(h)})},a=h=>(...p)=>{s(()=>{h(...p)})},o=()=>{const h=e;e=[],h.length&&rq(()=>{n(()=>{h.forEach(p=>{i(p)})})})};return{batch:r,batchCalls:a,schedule:s,setNotifyFunction:h=>{i=h},setBatchNotifyFunction:h=>{n=h}}}const tn=YBe();class Ile{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YP(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(c_?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class JBe extends Ile{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||Sz,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||ZBe(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,i){const n=ZP(this.state.data,t,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),n}setState(t,i){this.dispatch({type:"setState",state:t,setStateOptions:i})}cancel(t){var i;const n=this.promise;return(i=this.retryer)==null||i.cancel(t),n?n.then(Aa).catch(Aa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!wle(this.state.dataUpdatedAt,t)}onFocus(){var t;const i=this.observers.find(n=>n.shouldFetchOnWindowFocus());i&&i.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const i=this.observers.find(n=>n.shouldFetchOnReconnect());i&&i.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(i=>i!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,i){var n,r;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&i!=null&&i.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(y=>y.options.queryFn);g&&this.setOptions(g.options)}Array.isArray(this.options.queryKey);const a=GBe(),o={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>{if(a)return this.abortSignalConsumed=!0,a.signal}})};l(o);const c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(o)):Promise.reject("Missing queryFn"),h={fetchOptions:i,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};if(l(h),(n=this.options.behavior)==null||n.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((r=h.fetchOptions)==null?void 0:r.meta)){var p;this.dispatch({type:"fetch",meta:(p=h.fetchOptions)==null?void 0:p.meta})}const m=g=>{if(RE(g)&&g.silent||this.dispatch({type:"error",error:g}),!RE(g)){var y,b,w,_;(y=(b=this.cache.config).onError)==null||y.call(b,g,this),(w=(_=this.cache.config).onSettled)==null||w.call(_,this.state.data,g,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=kle({fn:h.fetchFn,abort:a==null?void 0:a.abort.bind(a),onSuccess:g=>{var y,b,w,_;if(typeof g>"u"){m(new Error("undefined"));return}this.setData(g),(y=(b=this.cache.config).onSuccess)==null||y.call(b,g,this),(w=(_=this.cache.config).onSettled)==null||w.call(_,g,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:m,onFail:(g,y)=>{this.dispatch({type:"failed",failureCount:g,error:y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const i=n=>{var r,s;switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(r=t.meta)!=null?r:null,fetchStatus:RT(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(s=t.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return RE(a)&&a.revert&&this.revertState?{...this.revertState}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=i(this.state),tn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function ZBe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,i=typeof t<"u",n=i?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:i?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"loading",fetchStatus:"idle"}}class QBe extends ex{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,i,n){var r;const s=i.queryKey,a=(r=i.queryHash)!=null?r:xz(s,i);let o=this.get(a);return o||(o=new JBe({cache:this,logger:t.getLogger(),queryKey:s,queryHash:a,options:t.defaultQueryOptions(i),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const i=this.queriesMap[t.queryHash];i&&(t.destroy(),this.queries=this.queries.filter(n=>n!==t),i===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){tn.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,i){const[n]=Hd(t,i);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(r=>XG(n,r))}findAll(t,i){const[n]=Hd(t,i);return Object.keys(n).length>0?this.queries.filter(r=>XG(n,r)):this.queries}notify(t){tn.batch(()=>{this.listeners.forEach(i=>{i(t)})})}onFocus(){tn.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){tn.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class XBe extends Ile{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||Sz,this.observers=[],this.state=t.state||e7e(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(i=>i!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,i;return(t=(i=this.retryer)==null?void 0:i.continue())!=null?t:this.execute()}async execute(){const t=()=>{var C;return this.retryer=kle({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(M,L)=>{this.dispatch({type:"failed",failureCount:M,error:L})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(C=this.options.retry)!=null?C:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},i=this.state.status==="loading";try{var n,r,s,a,o,l,c,h;if(!i){var p,m,g,y;this.dispatch({type:"loading",variables:this.options.variables}),await((p=(m=this.mutationCache.config).onMutate)==null?void 0:p.call(m,this.state.variables,this));const M=await((g=(y=this.options).onMutate)==null?void 0:g.call(y,this.state.variables));M!==this.state.context&&this.dispatch({type:"loading",context:M,variables:this.state.variables})}const C=await t();return await((n=(r=this.mutationCache.config).onSuccess)==null?void 0:n.call(r,C,this.state.variables,this.state.context,this)),await((s=(a=this.options).onSuccess)==null?void 0:s.call(a,C,this.state.variables,this.state.context)),await((o=(l=this.mutationCache.config).onSettled)==null?void 0:o.call(l,C,null,this.state.variables,this.state.context,this)),await((c=(h=this.options).onSettled)==null?void 0:c.call(h,C,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:C}),C}catch(C){try{var b,w,_,x,S,k,A,T;throw await((b=(w=this.mutationCache.config).onError)==null?void 0:b.call(w,C,this.state.variables,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,C,this.state.variables,this.state.context)),await((S=(k=this.mutationCache.config).onSettled)==null?void 0:S.call(k,void 0,C,this.state.variables,this.state.context,this)),await((A=(T=this.options).onSettled)==null?void 0:A.call(T,void 0,C,this.state.variables,this.state.context)),C}finally{this.dispatch({type:"error",error:C})}}}dispatch(t){const i=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!RT(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...n,...t.state}}};this.state=i(this.state),tn.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function e7e(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class t7e extends ex{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,i,n){const r=new XBe({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(i),state:n,defaultOptions:i.mutationKey?t.getMutationDefaults(i.mutationKey):void 0});return this.add(r),r}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(i=>i!==t),this.notify({type:"removed",mutation:t})}clear(){tn.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(i=>eq(t,i))}findAll(t){return this.mutations.filter(i=>eq(t,i))}notify(t){tn.batch(()=>{this.listeners.forEach(i=>{i(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const i=this.mutations.filter(n=>n.state.isPaused);return tn.batch(()=>i.reduce((n,r)=>n.then(()=>r.continue().catch(Aa)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function i7e(){return{onFetch:e=>{e.fetchFn=()=>{var t,i,n,r,s,a;const o=(t=e.fetchOptions)==null||(i=t.meta)==null?void 0:i.refetchPage,l=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.fetchMore,c=l==null?void 0:l.pageParam,h=(l==null?void 0:l.direction)==="forward",p=(l==null?void 0:l.direction)==="backward",m=((s=e.state.data)==null?void 0:s.pages)||[],g=((a=e.state.data)==null?void 0:a.pageParams)||[];let y=g,b=!1;const w=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>{var C;if((C=e.signal)!=null&&C.aborted)b=!0;else{var M;(M=e.signal)==null||M.addEventListener("abort",()=>{b=!0})}return e.signal}})},_=e.options.queryFn||(()=>Promise.reject("Missing queryFn")),x=(T,C,M,L)=>(y=L?[C,...y]:[...y,C],L?[M,...T]:[...T,M]),S=(T,C,M,L)=>{if(b)return Promise.reject("Cancelled");if(typeof M>"u"&&!C&&T.length)return Promise.resolve(T);const V={queryKey:e.queryKey,pageParam:M,meta:e.options.meta};w(V);const P=_(V);return Promise.resolve(P).then(oe=>x(T,M,oe,L))};let k;if(!m.length)k=S([]);else if(h){const T=typeof c<"u",C=T?c:sq(e.options,m);k=S(m,T,C)}else if(p){const T=typeof c<"u",C=T?c:n7e(e.options,m);k=S(m,T,C,!0)}else{y=[];const T=typeof e.options.getNextPageParam>"u";k=(o&&m[0]?o(m[0],0,m):!0)?S([],T,g[0]):Promise.resolve(x([],g[0],m[0]));for(let M=1;M<m.length;M++)k=k.then(L=>{if(o&&m[M]?o(m[M],M,m):!0){const P=T?g[M]:sq(e.options,L);return S(L,T,P)}return Promise.resolve(x(L,g[M],m[M]))})}return k.then(T=>({pages:T,pageParams:y}))}}}}function sq(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function n7e(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class r7e{constructor(t={}){this.queryCache=t.queryCache||new QBe,this.mutationCache=t.mutationCache||new t7e,this.logger=t.logger||Sz,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=HI.subscribe(()=>{HI.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=GI.subscribe(()=>{GI.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,i;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(i=this.unsubscribeOnline)==null||i.call(this),this.unsubscribeOnline=void 0)}isFetching(t,i){const[n]=Hd(t,i);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,i){var n;return(n=this.queryCache.find(t,i))==null?void 0:n.state.data}ensureQueryData(t,i,n){const r=h1(t,i,n),s=this.getQueryData(r.queryKey);return s?Promise.resolve(s):this.fetchQuery(r)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:i,state:n})=>{const r=n.data;return[i,r]})}setQueryData(t,i,n){const r=this.queryCache.find(t),s=r==null?void 0:r.state.data,a=HBe(i,s);if(typeof a>"u")return;const o=h1(t),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(a,{...n,manual:!0})}setQueriesData(t,i,n){return tn.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,i,n)]))}getQueryState(t,i){var n;return(n=this.queryCache.find(t,i))==null?void 0:n.state}removeQueries(t,i){const[n]=Hd(t,i),r=this.queryCache;tn.batch(()=>{r.findAll(n).forEach(s=>{r.remove(s)})})}resetQueries(t,i,n){const[r,s]=Hd(t,i,n),a=this.queryCache,o={type:"active",...r};return tn.batch(()=>(a.findAll(r).forEach(l=>{l.reset()}),this.refetchQueries(o,s)))}cancelQueries(t,i,n){const[r,s={}]=Hd(t,i,n);typeof s.revert>"u"&&(s.revert=!0);const a=tn.batch(()=>this.queryCache.findAll(r).map(o=>o.cancel(s)));return Promise.all(a).then(Aa).catch(Aa)}invalidateQueries(t,i,n){const[r,s]=Hd(t,i,n);return tn.batch(()=>{var a,o;if(this.queryCache.findAll(r).forEach(c=>{c.invalidate()}),r.refetchType==="none")return Promise.resolve();const l={...r,type:(a=(o=r.refetchType)!=null?o:r.type)!=null?a:"active"};return this.refetchQueries(l,s)})}refetchQueries(t,i,n){const[r,s]=Hd(t,i,n),a=tn.batch(()=>this.queryCache.findAll(r).filter(l=>!l.isDisabled()).map(l=>{var c;return l.fetch(void 0,{...s,cancelRefetch:(c=s==null?void 0:s.cancelRefetch)!=null?c:!0,meta:{refetchPage:r.refetchPage}})}));let o=Promise.all(a).then(Aa);return s!=null&&s.throwOnError||(o=o.catch(Aa)),o}fetchQuery(t,i,n){const r=h1(t,i,n),s=this.defaultQueryOptions(r);typeof s.retry>"u"&&(s.retry=!1);const a=this.queryCache.build(this,s);return a.isStaleByTime(s.staleTime)?a.fetch(s):Promise.resolve(a.state.data)}prefetchQuery(t,i,n){return this.fetchQuery(t,i,n).then(Aa).catch(Aa)}fetchInfiniteQuery(t,i,n){const r=h1(t,i,n);return r.behavior=i7e(),this.fetchQuery(r)}prefetchInfiniteQuery(t,i,n){return this.fetchInfiniteQuery(t,i,n).then(Aa).catch(Aa)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,i){const n=this.queryDefaults.find(r=>Nf(t)===Nf(r.queryKey));n?n.defaultOptions=i:this.queryDefaults.push({queryKey:t,defaultOptions:i})}getQueryDefaults(t){if(!t)return;const i=this.queryDefaults.find(n=>BI(t,n.queryKey));return i==null?void 0:i.defaultOptions}setMutationDefaults(t,i){const n=this.mutationDefaults.find(r=>Nf(t)===Nf(r.mutationKey));n?n.defaultOptions=i:this.mutationDefaults.push({mutationKey:t,defaultOptions:i})}getMutationDefaults(t){if(!t)return;const i=this.mutationDefaults.find(n=>BI(t,n.mutationKey));return i==null?void 0:i.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const i={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!i.queryHash&&i.queryKey&&(i.queryHash=xz(i.queryKey,i)),typeof i.refetchOnReconnect>"u"&&(i.refetchOnReconnect=i.networkMode!=="always"),typeof i.useErrorBoundary>"u"&&(i.useErrorBoundary=!!i.suspense),i}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class s7e extends ex{constructor(t,i){super(),this.client=t,this.options=i,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(i)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),aq(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return QP(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return QP(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,i){const n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),tq(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const s=this.hasListeners();s&&oq(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(i),s&&(this.currentQuery!==r||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const a=this.computeRefetchInterval();s&&(this.currentQuery!==r||this.options.enabled!==n.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)}getOptimisticResult(t){const i=this.client.getQueryCache().build(this.client,t);return this.createResult(i,t)}getCurrentResult(){return this.currentResult}trackResult(t){const i={};return Object.keys(t).forEach(n=>{Object.defineProperty(i,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),t[n])})}),i}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...i}={}){return this.fetch({...i,meta:{refetchPage:t}})}fetchOptimistic(t){const i=this.client.defaultQueryOptions(t),n=this.client.getQueryCache().build(this.client,i);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,i))}fetch(t){var i;return this.executeFetch({...t,cancelRefetch:(i=t.cancelRefetch)!=null?i:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let i=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(i=i.catch(Aa)),i}updateStaleTimeout(){if(this.clearStaleTimeout(),c_||this.currentResult.isStale||!YP(this.options.staleTime))return;const i=wle(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},i)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(c_||this.options.enabled===!1||!YP(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||HI.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,i){const n=this.currentQuery,r=this.options,s=this.currentResult,a=this.currentResultState,o=this.currentResultOptions,l=t!==n,c=l?t.state:this.currentQueryInitialState,h=l?this.currentResult:this.previousQueryResult,{state:p}=t;let{dataUpdatedAt:m,error:g,errorUpdatedAt:y,fetchStatus:b,status:w}=p,_=!1,x=!1,S;if(i._optimisticResults){const M=this.hasListeners(),L=!M&&aq(t,i),V=M&&oq(t,n,i,r);(L||V)&&(b=RT(t.options.networkMode)?"fetching":"paused",m||(w="loading")),i._optimisticResults==="isRestoring"&&(b="idle")}if(i.keepPreviousData&&!p.dataUpdatedAt&&h!=null&&h.isSuccess&&w!=="error")S=h.data,m=h.dataUpdatedAt,w=h.status,_=!0;else if(i.select&&typeof p.data<"u")if(s&&p.data===(a==null?void 0:a.data)&&i.select===this.selectFn)S=this.selectResult;else try{this.selectFn=i.select,S=i.select(p.data),S=ZP(s==null?void 0:s.data,S,i),this.selectResult=S,this.selectError=null}catch(M){this.selectError=M}else S=p.data;if(typeof i.placeholderData<"u"&&typeof S>"u"&&w==="loading"){let M;if(s!=null&&s.isPlaceholderData&&i.placeholderData===(o==null?void 0:o.placeholderData))M=s.data;else if(M=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof M<"u")try{M=i.select(M),this.selectError=null}catch(L){this.selectError=L}typeof M<"u"&&(w="success",S=ZP(s==null?void 0:s.data,M,i),x=!0)}this.selectError&&(g=this.selectError,S=this.selectResult,y=Date.now(),w="error");const k=b==="fetching",A=w==="loading",T=w==="error";return{status:w,fetchStatus:b,isLoading:A,isSuccess:w==="success",isError:T,isInitialLoading:A&&k,data:S,dataUpdatedAt:m,error:g,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:k,isRefetching:k&&!A,isLoadingError:T&&p.dataUpdatedAt===0,isPaused:b==="paused",isPlaceholderData:x,isPreviousData:_,isRefetchError:T&&p.dataUpdatedAt!==0,isStale:Ez(t,i),refetch:this.refetch,remove:this.remove}}updateResult(t){const i=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,tq(n,i))return;this.currentResult=n;const r={cache:!0},s=()=>{if(!i)return!0;const{notifyOnChangeProps:a}=this.options;if(a==="all"||!a&&!this.trackedProps.size)return!0;const o=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&o.add("error"),Object.keys(this.currentResult).some(l=>{const c=l;return this.currentResult[c]!==i[c]&&o.has(c)})};(t==null?void 0:t.listeners)!==!1&&s()&&(r.listeners=!0),this.notify({...r,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const i=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const i={};t.type==="success"?i.onSuccess=!t.manual:t.type==="error"&&!RE(t.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()}notify(t){tn.batch(()=>{if(t.onSuccess){var i,n,r,s;(i=(n=this.options).onSuccess)==null||i.call(n,this.currentResult.data),(r=(s=this.options).onSettled)==null||r.call(s,this.currentResult.data,null)}else if(t.onError){var a,o,l,c;(a=(o=this.options).onError)==null||a.call(o,this.currentResult.error),(l=(c=this.options).onSettled)==null||l.call(c,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(h=>{h(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function a7e(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function aq(e,t){return a7e(e,t)||e.state.dataUpdatedAt>0&&QP(e,t,t.refetchOnMount)}function QP(e,t,i){if(t.enabled!==!1){const n=typeof i=="function"?i(e):i;return n==="always"||n!==!1&&Ez(e,t)}return!1}function oq(e,t,i,n){return i.enabled!==!1&&(e!==t||n.enabled===!1)&&(!i.suspense||e.state.status!=="error")&&Ez(e,i)}function Ez(e,t){return e.isStaleByTime(t.staleTime)}var XP={},o7e={get exports(){return XP},set exports(e){XP=e}},Cle={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0=ye;function l7e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c7e=typeof Object.is=="function"?Object.is:l7e,u7e=O0.useState,d7e=O0.useEffect,h7e=O0.useLayoutEffect,p7e=O0.useDebugValue;function f7e(e,t){var i=t(),n=u7e({inst:{value:i,getSnapshot:t}}),r=n[0].inst,s=n[1];return h7e(function(){r.value=i,r.getSnapshot=t,VM(r)&&s({inst:r})},[e,i,t]),d7e(function(){return VM(r)&&s({inst:r}),e(function(){VM(r)&&s({inst:r})})},[e]),p7e(i),i}function VM(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!c7e(e,i)}catch{return!0}}function m7e(e,t){return t()}var g7e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m7e:f7e;Cle.useSyncExternalStore=O0.useSyncExternalStore!==void 0?O0.useSyncExternalStore:g7e;(function(e){e.exports=Cle})(o7e);const y7e=XP.useSyncExternalStore,lq=ye.createContext(void 0),Tle=ye.createContext(!1);function $le(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=lq),window.ReactQueryClientContext):lq)}const v7e=({context:e}={})=>{const t=ye.useContext($le(e,ye.useContext(Tle)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},b7e=({client:e,children:t,context:i,contextSharing:n=!1})=>{ye.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const r=$le(i,n);return ye.createElement(Tle.Provider,{value:!i&&n},ye.createElement(r.Provider,{value:e},t))},Ale=ye.createContext(!1),w7e=()=>ye.useContext(Ale);Ale.Provider;function _7e(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const x7e=ye.createContext(_7e()),S7e=()=>ye.useContext(x7e);function E7e(e,t){return typeof e=="function"?e(...t):!!e}const k7e=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},I7e=e=>{ye.useEffect(()=>{e.clearReset()},[e])},C7e=({result:e,errorResetBoundary:t,useErrorBoundary:i,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&E7e(i,[e.error,n]),T7e=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},$7e=(e,t)=>e.isLoading&&e.isFetching&&!t,A7e=(e,t,i)=>(e==null?void 0:e.suspense)&&$7e(t,i),M7e=(e,t,i)=>t.fetchOptimistic(e).then(({data:n})=>{e.onSuccess==null||e.onSuccess(n),e.onSettled==null||e.onSettled(n,null)}).catch(n=>{i.clearReset(),e.onError==null||e.onError(n),e.onSettled==null||e.onSettled(void 0,n)});function D7e(e,t){const i=v7e({context:e.context}),n=w7e(),r=S7e(),s=i.defaultQueryOptions(e);s._optimisticResults=n?"isRestoring":"optimistic",s.onError&&(s.onError=tn.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=tn.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=tn.batchCalls(s.onSettled)),T7e(s),k7e(s,r),I7e(r);const[a]=ye.useState(()=>new t(i,s)),o=a.getOptimisticResult(s);if(y7e(ye.useCallback(l=>n?()=>{}:a.subscribe(tn.batchCalls(l)),[a,n]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),ye.useEffect(()=>{a.setOptions(s,{listeners:!1})},[s,a]),A7e(s,o,n))throw M7e(s,a,r);if(C7e({result:o,errorResetBoundary:r,useErrorBoundary:s.useErrorBoundary,query:a.getCurrentQuery()}))throw o.error;return s.notifyOnChangeProps?o:a.trackResult(o)}function PE(e,t,i){const n=h1(e,t,i);return D7e(n,s7e)}function Nm(e){this._maxSize=e,this.clear()}Nm.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Nm.prototype.get=function(e){return this._values[e]};Nm.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var O7e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Mle=/^\d+$/,R7e=/^\d/,P7e=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,L7e=/^\s*(['"]?)(.*?)(\1)\s*$/,kz=512,cq=new Nm(kz),uq=new Nm(kz),dq=new Nm(kz),Yf={Cache:Nm,split:eL,normalizePath:jM,setter:function(e){var t=jM(e);return uq.get(e)||uq.set(e,function(n,r){for(var s=0,a=t.length,o=n;s<a-1;){var l=t[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return n;o=o[t[s++]]}o[t[s]]=r})},getter:function(e,t){var i=jM(e);return dq.get(e)||dq.set(e,function(r){for(var s=0,a=i.length;s<a;)if(r!=null||!t)r=r[i[s++]];else return;return r})},join:function(e){return e.reduce(function(t,i){return t+(Iz(i)||Mle.test(i)?"["+i+"]":(t?".":"")+i)},"")},forEach:function(e,t,i){F7e(Array.isArray(e)?e:eL(e),t,i)}};function jM(e){return cq.get(e)||cq.set(e,eL(e).map(function(t){return t.replace(L7e,"$2")}))}function eL(e){return e.match(O7e)||[""]}function F7e(e,t,i){var n=e.length,r,s,a,o;for(s=0;s<n;s++)r=e[s],r&&(V7e(r)&&(r='"'+r+'"'),o=Iz(r),a=!o&&/^\d+$/.test(r),t.call(i,r,o,a,s,e))}function Iz(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function N7e(e){return e.match(R7e)&&!e.match(Mle)}function z7e(e){return P7e.test(e)}function V7e(e){return!Iz(e)&&(N7e(e)||z7e(e))}const j7e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,PT=e=>e.match(j7e)||[],LT=e=>e[0].toUpperCase()+e.slice(1),Cz=(e,t)=>PT(e).join(t).toLowerCase(),Dle=e=>PT(e).reduce((t,i)=>`${t}${t?i[0].toUpperCase()+i.slice(1).toLowerCase():i.toLowerCase()}`,""),U7e=e=>LT(Dle(e)),B7e=e=>Cz(e,"_"),H7e=e=>Cz(e,"-"),G7e=e=>LT(Cz(e," ")),q7e=e=>PT(e).map(LT).join(" ");var UM={words:PT,upperFirst:LT,camelCase:Dle,pascalCase:U7e,snakeCase:B7e,kebabCase:H7e,sentenceCase:G7e,titleCase:q7e},qI={},W7e={get exports(){return qI},set exports(e){qI=e}};W7e.exports=function(e){return Ole(K7e(e),e)};qI.array=Ole;function Ole(e,t){var i=e.length,n=new Array(i),r={},s=i,a=Y7e(t),o=J7e(e);for(t.forEach(function(c){if(!o.has(c[0])||!o.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)r[s]||l(e[s],s,new Set);return n;function l(c,h,p){if(p.has(c)){var m;try{m=", node was:"+JSON.stringify(c)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!o.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!r[h]){r[h]=!0;var g=a.get(c)||new Set;if(g=Array.from(g),h=g.length){p.add(c);do{var y=g[--h];l(y,o.get(y),p)}while(h);p.delete(c)}n[--i]=c}}}function K7e(e){for(var t=new Set,i=0,n=e.length;i<n;i++){var r=e[i];t.add(r[0]),t.add(r[1])}return Array.from(t)}function Y7e(e){for(var t=new Map,i=0,n=e.length;i<n;i++){var r=e[i];t.has(r[0])||t.set(r[0],new Set),t.has(r[1])||t.set(r[1],new Set),t.get(r[0]).add(r[1])}return t}function J7e(e){for(var t=new Map,i=0,n=e.length;i<n;i++)t.set(e[i],i);return t}const Z7e=Object.prototype.toString,Q7e=Error.prototype.toString,X7e=RegExp.prototype.toString,eHe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",tHe=/^Symbol\((.*)\)(.*)$/;function iHe(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function hq(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const i=typeof e;if(i==="number")return iHe(e);if(i==="string")return t?`"${e}"`:e;if(i==="function")return"[Function "+(e.name||"anonymous")+"]";if(i==="symbol")return eHe.call(e).replace(tHe,"Symbol($1)");const n=Z7e.call(e).slice(8,-1);return n==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):n==="Error"||e instanceof Error?"["+Q7e.call(e)+"]":n==="RegExp"?X7e.call(e):null}function Jf(e,t){let i=hq(e,t);return i!==null?i:JSON.stringify(e,function(n,r){let s=hq(this[n],t);return s!==null?s:r},2)}function Rle(e){return e==null?[]:[].concat(e)}let nHe=/\$\{\s*(\w+)\s*\}/g;class js extends Error{static formatError(t,i){const n=i.label||i.path||"this";return n!==i.path&&(i=Object.assign({},i,{path:n})),typeof t=="string"?t.replace(nHe,(r,s)=>Jf(i[s])):typeof t=="function"?t(i):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,i,n,r){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=i,this.path=n,this.type=r,this.errors=[],this.inner=[],Rle(t).forEach(s=>{js.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,js)}}let Bc={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:i,originalValue:n})=>{const r=n!=null&&n!==i?` (cast from the value \`${Jf(n,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Jf(i,!0)}\``+r:`${e} must match the configured type. The validated value was: \`${Jf(i,!0)}\``+r}},Po={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Dd={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},tL={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},iL={isValue:"${path} field must be ${value}"},nL={noUnknown:"${path} field has unspecified keys: ${unknown}"},LE={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Bc,string:Po,number:Dd,date:tL,object:nL,array:LE,boolean:iL});const FT=e=>e&&e.__isYupSchema__;class WI{static fromOptions(t,i){if(!i.then&&!i.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:s}=i,a=typeof n=="function"?n:(...o)=>o.every(l=>l===n);return new WI(t,(o,l)=>{var c;let h=a(...o)?r:s;return(c=h==null?void 0:h(l))!=null?c:l})}constructor(t,i){this.fn=void 0,this.refs=t,this.refs=t,this.fn=i}resolve(t,i){let n=this.refs.map(s=>s.getValue(i==null?void 0:i.value,i==null?void 0:i.parent,i==null?void 0:i.context)),r=this.fn(n,t,i);if(r===void 0||r===t)return t;if(!FT(r))throw new TypeError("conditions must return a schema object");return r.resolve(i)}}const qS={context:"$",value:"."};class zm{constructor(t,i={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===qS.context,this.isValue=this.key[0]===qS.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?qS.context:this.isValue?qS.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Yf.getter(this.path,!0),this.map=i.map}getValue(t,i,n){let r=this.isContext?n:this.isValue?t:i;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(t,i){return this.getValue(t,i==null?void 0:i.parent,i==null?void 0:i.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}zm.prototype.__isYupRef=!0;const Ga=e=>e==null;function dg(e){function t({value:i,path:n="",options:r,originalValue:s,schema:a},o,l){const{name:c,test:h,params:p,message:m,skipAbsent:g}=e;let{parent:y,context:b,abortEarly:w=a.spec.abortEarly}=r;function _(V){return zm.isRef(V)?V.getValue(i,y,b):V}function x(V={}){const P=Object.assign({value:i,originalValue:s,label:a.spec.label,path:V.path||n,spec:a.spec},p,V.params);for(const oe of Object.keys(P))P[oe]=_(P[oe]);const J=new js(js.formatError(V.message||m,P),i,P.path,V.type||c);return J.params=P,J}const S=w?o:l;let k={path:n,parent:y,type:c,from:r.from,createError:x,resolve:_,options:r,originalValue:s,schema:a};const A=V=>{js.isError(V)?S(V):V?l(null):S(x())},T=V=>{js.isError(V)?S(V):o(V)},C=g&&Ga(i);if(!r.sync){try{Promise.resolve(C?!0:h.call(k,i,k)).then(A,T)}catch(V){T(V)}return}let M;try{var L;if(M=C?!0:h.call(k,i,k),typeof((L=M)==null?void 0:L.then)=="function")throw new Error(`Validation test of type: "${k.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(V){T(V);return}A(M)}return t.OPTIONS=e,t}function rHe(e,t,i,n=i){let r,s,a;return t?(Yf.forEach(t,(o,l,c)=>{let h=l?o.slice(1,o.length-1):o;e=e.resolve({context:n,parent:r,value:i});let p=e.type==="tuple",m=c?parseInt(h,10):0;if(e.innerType||p){if(p&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(i&&m>=i.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${t}. because there is no value at that index. `);r=i,i=i&&i[m],e=p?e.spec.types[m]:e.innerType}if(!c){if(!e.fields||!e.fields[h])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e.type}")`);r=i,i=i&&i[h],e=e.fields[h]}s=h,a=l?"["+o+"]":"."+o}),{schema:e,parent:r,parentPath:s}):{parent:r,parentPath:t,schema:e}}class KI extends Set{describe(){const t=[];for(const i of this.values())t.push(zm.isRef(i)?i.describe():i);return t}resolveAll(t){let i=[];for(const n of this.values())i.push(t(n));return i}clone(){return new KI(this.values())}merge(t,i){const n=this.clone();return t.forEach(r=>n.add(r)),i.forEach(r=>n.delete(r)),n}}function _y(e,t=new Map){if(FT(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let i;if(e instanceof Date)i=new Date(e.getTime()),t.set(e,i);else if(e instanceof RegExp)i=new RegExp(e),t.set(e,i);else if(Array.isArray(e)){i=new Array(e.length),t.set(e,i);for(let n=0;n<e.length;n++)i[n]=_y(e[n],t)}else if(e instanceof Map){i=new Map,t.set(e,i);for(const[n,r]of e.entries())i.set(n,_y(r,t))}else if(e instanceof Set){i=new Set,t.set(e,i);for(const n of e)i.add(_y(n,t))}else if(e instanceof Object){i={},t.set(e,i);for(const[n,r]of Object.entries(e))i[n]=_y(r,t)}else throw Error(`Unable to clone ${e}`);return i}class ea{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new KI,this._blacklist=new KI,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Bc.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(i=>{i.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const i=Object.create(Object.getPrototypeOf(this));return i.type=this.type,i._typeCheck=this._typeCheck,i._whitelist=this._whitelist.clone(),i._blacklist=this._blacklist.clone(),i.internalTests=Object.assign({},this.internalTests),i.exclusiveTests=Object.assign({},this.exclusiveTests),i.deps=[...this.deps],i.conditions=[...this.conditions],i.tests=[...this.tests],i.transforms=[...this.transforms],i.spec=_y(Object.assign({},this.spec,t)),i}label(t){let i=this.clone();return i.spec.label=t,i}meta(...t){if(t.length===0)return this.spec.meta;let i=this.clone();return i.spec.meta=Object.assign(i.spec.meta||{},t[0]),i}withMutation(t){let i=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=i,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let i=this,n=t.clone();const r=Object.assign({},i.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},i.internalTests,n.internalTests),n._whitelist=i._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=i._blacklist.merge(t._blacklist,t._whitelist),n.tests=i.tests,n.exclusiveTests=i.exclusiveTests,n.withMutation(s=>{t.tests.forEach(a=>{s.test(a.OPTIONS)})}),n.transforms=[...i.transforms,...n.transforms],n}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let i=this;if(i.conditions.length){let n=i.conditions;i=i.clone(),i.conditions=[],i=n.reduce((r,s)=>s.resolve(r,t),i),i=i.resolve(t)}return i}resolveOptions(t){var i,n,r;return Object.assign({},t,{from:t.from||[],strict:(i=t.strict)!=null?i:this.spec.strict,abortEarly:(n=t.abortEarly)!=null?n:this.spec.abortEarly,recursive:(r=t.recursive)!=null?r:this.spec.recursive})}cast(t,i={}){let n=this.resolve(Object.assign({value:t},i)),r=i.assert==="ignore-optionality",s=n._cast(t,i);if(i.assert!==!1&&!n.isType(s)){if(r&&Ga(s))return s;let a=Jf(t),o=Jf(s);throw new TypeError(`The value of ${i.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return s}_cast(t,i){let n=t===void 0?t:this.transforms.reduce((r,s)=>s.call(this,r,t,this),t);return n===void 0&&(n=this.getDefault()),n}_validate(t,i={},n,r){let{path:s,originalValue:a=t,strict:o=this.spec.strict}=i,l=t;o||(l=this._cast(l,Object.assign({assert:!1},i)));let c=[];for(let h of Object.values(this.internalTests))h&&c.push(h);this.runTests({path:s,value:l,originalValue:a,options:i,tests:c},n,h=>{if(h.length)return r(h,l);this.runTests({path:s,value:l,originalValue:a,options:i,tests:this.tests},n,r)})}runTests(t,i,n){let r=!1,{tests:s,value:a,originalValue:o,path:l,options:c}=t,h=b=>{r||(r=!0,i(b,a))},p=b=>{r||(r=!0,n(b,a))},m=s.length,g=[];if(!m)return p([]);let y={value:a,originalValue:o,path:l,options:c,schema:this};for(let b=0;b<s.length;b++){const w=s[b];w(y,h,function(x){x&&(g=g.concat(x)),--m<=0&&p(g)})}}asNestedTest({key:t,index:i,parent:n,parentPath:r,originalParent:s,options:a}){const o=t??i;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let c=n[o];const h=Object.assign({},a,{strict:!0,parent:n,value:c,originalValue:s[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${r||""}[${c?o:`"${o}"`}]`:(r?`${r}.`:"")+t});return(p,m,g)=>this.resolve(h)._validate(c,h,m,g)}validate(t,i){let n=this.resolve(Object.assign({},i,{value:t}));return new Promise((r,s)=>n._validate(t,i,(a,o)=>{js.isError(a)&&(a.value=o),s(a)},(a,o)=>{a.length?s(new js(a,o)):r(o)}))}validateSync(t,i){let n=this.resolve(Object.assign({},i,{value:t})),r;return n._validate(t,Object.assign({},i,{sync:!0}),(s,a)=>{throw js.isError(s)&&(s.value=a),s},(s,a)=>{if(s.length)throw new js(s,t);r=a}),r}isValid(t,i){return this.validate(t,i).then(()=>!0,n=>{if(js.isError(n))return!1;throw n})}isValidSync(t,i){try{return this.validateSync(t,i),!0}catch(n){if(js.isError(n))return!1;throw n}}_getDefault(){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this):_y(t)}getDefault(t){return this.resolve(t||{})._getDefault()}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,i){const n=this.clone({nullable:t});return n.internalTests.nullable=dg({message:i,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),n}optionality(t,i){const n=this.clone({optional:t});return n.internalTests.optionality=dg({message:i,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(t=Bc.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=Bc.notNull){return this.nullability(!1,t)}required(t=Bc.required){return this.clone().withMutation(i=>i.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let i=this.clone();return i.transforms.push(t),i}test(...t){let i;if(t.length===1?typeof t[0]=="function"?i={test:t[0]}:i=t[0]:t.length===2?i={name:t[0],test:t[1]}:i={name:t[0],message:t[1],test:t[2]},i.message===void 0&&(i.message=Bc.default),typeof i.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),r=dg(i),s=i.exclusive||i.name&&n.exclusiveTests[i.name]===!0;if(i.exclusive&&!i.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return i.name&&(n.exclusiveTests[i.name]=!!i.exclusive),n.tests=n.tests.filter(a=>!(a.OPTIONS.name===i.name&&(s||a.OPTIONS.test===r.OPTIONS.test))),n.tests.push(r),n}when(t,i){!Array.isArray(t)&&typeof t!="string"&&(i=t,t=".");let n=this.clone(),r=Rle(t).map(s=>new zm(s));return r.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof i=="function"?new WI(r,i):WI.fromOptions(r,i)),n}typeError(t){let i=this.clone();return i.internalTests.typeError=dg({message:t,name:"typeError",test(n){return!Ga(n)&&!this.schema._typeCheck(n)?this.createError({params:{type:this.schema.type}}):!0}}),i}oneOf(t,i=Bc.oneOf){let n=this.clone();return t.forEach(r=>{n._whitelist.add(r),n._blacklist.delete(r)}),n.internalTests.whiteList=dg({message:i,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),n}notOneOf(t,i=Bc.notOneOf){let n=this.clone();return t.forEach(r=>{n._blacklist.add(r),n._whitelist.delete(r)}),n.internalTests.blacklist=dg({message:i,name:"notOneOf",test(r){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),n}strip(t=!0){let i=this.clone();return i.spec.strip=t,i}describe(t){const i=(t?this.resolve(t):this).clone(),{label:n,meta:r,optional:s,nullable:a}=i.spec;return{meta:r,label:n,optional:s,nullable:a,default:i.getDefault(t),type:i.type,oneOf:i._whitelist.describe(),notOneOf:i._blacklist.describe(),tests:i.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,h)=>h.findIndex(p=>p.name===l.name)===c)}}}ea.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])ea.prototype[`${e}At`]=function(t,i,n={}){const{parent:r,parentPath:s,schema:a}=rHe(this,t,i,n.context);return a[e](r&&r[s],Object.assign({},n,{parent:r,path:t}))};for(const e of["equals","is"])ea.prototype[e]=ea.prototype.oneOf;for(const e of["not","nope"])ea.prototype[e]=ea.prototype.notOneOf;function Tz(){return new Ple}class Ple extends ea{constructor(){super({type:"boolean",check(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}}),this.withMutation(()=>{this.transform((t,i,n)=>{if(n.spec.coerce&&!n.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}isTrue(t=iL.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(i){return Ga(i)||i===!0}})}isFalse(t=iL.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(i){return Ga(i)||i===!1}})}default(t){return super.default(t)}defined(t){return super.defined(t)}optional(){return super.optional()}required(t){return super.required(t)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(t){return super.nonNullable(t)}strip(t){return super.strip(t)}}Tz.prototype=Ple.prototype;let sHe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,aHe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,oHe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,lHe=e=>Ga(e)||e===e.trim(),cHe={}.toString();function Be(){return new Lle}class Lle extends ea{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,i,n)=>{if(!n.spec.coerce||n.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===cHe?t:r})})}required(t){return super.required(t).withMutation(i=>i.test({message:t||Bc.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(i=>i.OPTIONS.name!=="required"),t))}length(t,i=Po.length){return this.test({message:i,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,i=Po.min){return this.test({message:i,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,i=Po.max){return this.test({name:"max",exclusive:!0,message:i,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}matches(t,i){let n=!1,r,s;return i&&(typeof i=="object"?{excludeEmptyString:n=!1,message:r,name:s}=i:r=i),this.test({name:s||"matches",message:r||Po.matches,params:{regex:t},skipAbsent:!0,test:a=>a===""&&n||a.search(t)!==-1})}email(t=Po.email){return this.matches(sHe,{name:"email",message:t,excludeEmptyString:!0})}url(t=Po.url){return this.matches(aHe,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Po.uuid){return this.matches(oHe,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Po.trim){return this.transform(i=>i!=null?i.trim():i).test({message:t,name:"trim",test:lHe})}lowercase(t=Po.lowercase){return this.transform(i=>Ga(i)?i:i.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:i=>Ga(i)||i===i.toLowerCase()})}uppercase(t=Po.uppercase){return this.transform(i=>Ga(i)?i:i.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:i=>Ga(i)||i===i.toUpperCase()})}}Be.prototype=Lle.prototype;let uHe=e=>e!=+e;function Jc(){return new Fle}class Fle extends ea{constructor(){super({type:"number",check(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!uHe(t)}}),this.withMutation(()=>{this.transform((t,i,n)=>{if(!n.spec.coerce)return t;let r=t;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return n.isType(r)?r:parseFloat(r)})})}min(t,i=Dd.min){return this.test({message:i,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n>=this.resolve(t)}})}max(t,i=Dd.max){return this.test({message:i,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(n){return n<=this.resolve(t)}})}lessThan(t,i=Dd.lessThan){return this.test({message:i,name:"max",exclusive:!0,params:{less:t},skipAbsent:!0,test(n){return n<this.resolve(t)}})}moreThan(t,i=Dd.moreThan){return this.test({message:i,name:"min",exclusive:!0,params:{more:t},skipAbsent:!0,test(n){return n>this.resolve(t)}})}positive(t=Dd.positive){return this.moreThan(0,t)}negative(t=Dd.negative){return this.lessThan(0,t)}integer(t=Dd.integer){return this.test({name:"integer",message:t,skipAbsent:!0,test:i=>Number.isInteger(i)})}truncate(){return this.transform(t=>Ga(t)?t:t|0)}round(t){var i;let n=["ceil","floor","round","trunc"];if(t=((i=t)==null?void 0:i.toLowerCase())||"round",t==="trunc")return this.truncate();if(n.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(r=>Ga(r)?r:Math[t](r))}}Jc.prototype=Fle.prototype;var dHe=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function hHe(e){var t=[1,4,5,6,7,10,11],i=0,n,r;if(r=dHe.exec(e)){for(var s=0,a;a=t[s];++s)r[a]=+r[a]||0;r[2]=(+r[2]||1)-1,r[3]=+r[3]||1,r[7]=r[7]?String(r[7]).substr(0,3):0,(r[8]===void 0||r[8]==="")&&(r[9]===void 0||r[9]==="")?n=+new Date(r[1],r[2],r[3],r[4],r[5],r[6],r[7]):(r[8]!=="Z"&&r[9]!==void 0&&(i=r[10]*60+r[11],r[9]==="+"&&(i=0-i)),n=Date.UTC(r[1],r[2],r[3],r[4],r[5]+i,r[6],r[7]))}else n=Date.parse?Date.parse(e):NaN;return n}let pHe=new Date(""),fHe=e=>Object.prototype.toString.call(e)==="[object Date]";class NT extends ea{constructor(){super({type:"date",check(t){return fHe(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,i,n)=>!n.spec.coerce||n.isType(t)?t:(t=hHe(t),isNaN(t)?NT.INVALID_DATE:new Date(t)))})}prepareParam(t,i){let n;if(zm.isRef(t))n=t;else{let r=this.cast(t);if(!this._typeCheck(r))throw new TypeError(`\`${i}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(t,i=tL.min){let n=this.prepareParam(t,"min");return this.test({message:i,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(n)}})}max(t,i=tL.max){let n=this.prepareParam(t,"max");return this.test({message:i,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(n)}})}}NT.INVALID_DATE=pHe;NT.prototype;function mHe(e,t=[]){let i=[],n=new Set,r=new Set(t.map(([a,o])=>`${a}-${o}`));function s(a,o){let l=Yf.split(a)[0];n.add(l),r.has(`${o}-${l}`)||i.push([o,l])}for(const a of Object.keys(e)){let o=e[a];n.add(a),zm.isRef(o)&&o.isSibling?s(o.path,a):FT(o)&&"deps"in o&&o.deps.forEach(l=>s(l,a))}return qI.array(Array.from(n),i).reverse()}function pq(e,t){let i=1/0;return e.some((n,r)=>{var s;if((s=t.path)!=null&&s.includes(n))return i=r,!0}),i}function Nle(e){return(t,i)=>pq(e,t)-pq(e,i)}const zle=(e,t,i)=>{if(typeof e!="string")return e;let n=e;try{n=JSON.parse(e)}catch{}return i.isType(n)?n:e};function FE(e){if("fields"in e){const t={};for(const[i,n]of Object.entries(e.fields))t[i]=FE(n);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=FE(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(FE)}):"optional"in e?e.optional():e}const gHe=(e,t)=>{const i=[...Yf.normalizePath(t)];if(i.length===1)return i[0]in e;let n=i.pop(),r=Yf.getter(Yf.join(i),!0)(e);return!!(r&&n in r)};let fq=e=>Object.prototype.toString.call(e)==="[object Object]";function yHe(e,t){let i=Object.keys(e.fields);return Object.keys(t).filter(n=>i.indexOf(n)===-1)}const vHe=Nle([]);function u_(e){return new Vle(e)}class Vle extends ea{constructor(t){super({type:"object",check(i){return fq(i)||typeof i=="function"}}),this.fields=Object.create(null),this._sortErrors=vHe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,i={}){var n;let r=super._cast(t,i);if(r===void 0)return this.getDefault();if(!this._typeCheck(r))return r;let s=this.fields,a=(n=i.stripUnknown)!=null?n:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(r).filter(p=>!this._nodes.includes(p))),l={},c=Object.assign({},i,{parent:l,__validating:i.__validating||!1}),h=!1;for(const p of o){let m=s[p],g=p in r;if(m){let y,b=r[p];c.path=(i.path?`${i.path}.`:"")+p,m=m.resolve({value:b,context:i.context,parent:l});let w=m instanceof ea?m.spec:void 0,_=w==null?void 0:w.strict;if(w!=null&&w.strip){h=h||p in r;continue}y=!i.__validating||!_?m.cast(r[p],c):r[p],y!==void 0&&(l[p]=y)}else g&&!a&&(l[p]=r[p]);(g!==p in l||l[p]!==r[p])&&(h=!0)}return h?l:r}_validate(t,i={},n,r){let{from:s=[],originalValue:a=t,recursive:o=this.spec.recursive}=i;i.from=[{schema:this,value:a},...s],i.__validating=!0,i.originalValue=a,super._validate(t,i,n,(l,c)=>{if(!o||!fq(c)){r(l,c);return}a=a||c;let h=[];for(let p of this._nodes){let m=this.fields[p];!m||zm.isRef(m)||h.push(m.asNestedTest({options:i,key:p,parent:c,parentPath:i.path,originalParent:a}))}this.runTests({tests:h,value:c,originalValue:a,options:i},n,p=>{r(p.sort(this._sortErrors).concat(l),c)})})}clone(t){const i=super.clone(t);return i.fields=Object.assign({},this.fields),i._nodes=this._nodes,i._excludedEdges=this._excludedEdges,i._sortErrors=this._sortErrors,i}concat(t){let i=super.concat(t),n=i.fields;for(let[r,s]of Object.entries(this.fields)){const a=n[r];n[r]=a===void 0?s:a}return i.withMutation(r=>r.setFields(n,this._excludedEdges))}_getDefault(){if("default"in this.spec)return super._getDefault();if(!this._nodes.length)return;let t={};return this._nodes.forEach(i=>{const n=this.fields[i];t[i]=n&&"getDefault"in n?n.getDefault():void 0}),t}setFields(t,i){let n=this.clone();return n.fields=t,n._nodes=mHe(t,i),n._sortErrors=Nle(Object.keys(t)),i&&(n._excludedEdges=i),n}shape(t,i=[]){return this.clone().withMutation(n=>{let r=n._excludedEdges;return i.length&&(Array.isArray(i[0])||(i=[i]),r=[...n._excludedEdges,...i]),n.setFields(Object.assign(n.fields,t),r)})}partial(){const t={};for(const[i,n]of Object.entries(this.fields))t[i]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(t)}deepPartial(){return FE(this)}pick(t){const i={};for(const n of t)this.fields[n]&&(i[n]=this.fields[n]);return this.setFields(i)}omit(t){const i=Object.assign({},this.fields);for(const n of t)delete i[n];return this.setFields(i)}from(t,i,n){let r=Yf.getter(t,!0);return this.transform(s=>{if(!s)return s;let a=s;return gHe(s,t)&&(a=Object.assign({},s),n||delete a[t],a[i]=r(s)),a})}json(){return this.transform(zle)}noUnknown(t=!0,i=nL.noUnknown){typeof t!="boolean"&&(i=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:i,test(r){if(r==null)return!0;const s=yHe(this.schema,r);return!t||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,i=nL.noUnknown){return this.noUnknown(!t,i)}transformKeys(t){return this.transform(i=>{if(!i)return i;const n={};for(const r of Object.keys(i))n[t(r)]=i[r];return n})}camelCase(){return this.transformKeys(UM.camelCase)}snakeCase(){return this.transformKeys(UM.snakeCase)}constantCase(){return this.transformKeys(t=>UM.snakeCase(t).toUpperCase())}describe(t){let i=super.describe(t);i.fields={};for(const[r,s]of Object.entries(this.fields)){var n;let a=t;(n=a)!=null&&n.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),i.fields[r]=s.describe(a)}return i}}u_.prototype=Vle.prototype;function YI(e){return new jle(e)}class jle extends ea{constructor(t){super({type:"array",check(i){return Array.isArray(i)}}),this.innerType=void 0,this.innerType=t}_cast(t,i){const n=super._cast(t,i);if(!this._typeCheck(n)||!this.innerType)return n;let r=!1;const s=n.map((a,o)=>{const l=this.innerType.cast(a,Object.assign({},i,{path:`${i.path||""}[${o}]`}));return l!==a&&(r=!0),l});return r?s:n}_validate(t,i={},n,r){var s;let a=this.innerType,o=(s=i.recursive)!=null?s:this.spec.recursive;i.originalValue!=null&&i.originalValue,super._validate(t,i,n,(l,c)=>{var h;if(!o||!a||!this._typeCheck(c)){r(l,c);return}let p=new Array(c.length);for(let g=0;g<c.length;g++){var m;p[g]=a.asNestedTest({options:i,index:g,parent:c,parentPath:i.path,originalParent:(m=i.originalValue)!=null?m:t})}this.runTests({value:c,tests:p,originalValue:(h=i.originalValue)!=null?h:t,options:i},n,g=>r(g.concat(l),c))})}clone(t){const i=super.clone(t);return i.innerType=this.innerType,i}json(){return this.transform(zle)}concat(t){let i=super.concat(t);return i.innerType=this.innerType,t.innerType&&(i.innerType=i.innerType?i.innerType.concat(t.innerType):t.innerType),i}of(t){let i=this.clone();if(!FT(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Jf(t));return i.innerType=t,i}length(t,i=LE.length){return this.test({message:i,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,i){return i=i||LE.min,this.test({message:i,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,i){return i=i||LE.max,this.test({message:i,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,i)=>this._typeCheck(t)?t:i==null?[]:[].concat(i))}compact(t){let i=t?(n,r,s)=>!t(n,r,s):n=>!!n;return this.transform(n=>n!=null?n.filter(i):n)}describe(t){let i=super.describe(t);if(this.innerType){var n;let r=t;(n=r)!=null&&n.value&&(r=Object.assign({},r,{parent:r.value,value:r.value[0]})),i.innerType=this.innerType.describe(t)}return i}}YI.prototype=jle.prototype;const WS=u_().shape({id:Jc().required(),type:Be().required(),firstName:Be().required(),lastName:Be().required(),fullName:Be().required(),displayName:Be().required(),shortName:Be().required(),weight:Jc().required(),displayWeight:Be().required(),height:Jc().required(),displayHeight:Be().required(),age:Jc().required().nullable(),dateOfBirth:Be().required().nullable(),debutYear:Jc().nullable(),headshotUrl:Be().url().nullable(),jersey:Be().nullable(),positionName:Be().required(),positionDisplayName:Be().required(),birthCity:Be().required(),birthState:Be().nullable(),birthCountry:Be().required(),birthPlace:Be().required(),teamId:Be().required(),teamUrl:Be().required().url(),statsUrl:Be().url().nullable(),active:Tz().required(),statusType:Be().required(),statusName:Be().required(),league:Be().required()});function Ule(e){return u_().shape({attributes:e,geometry:u_().shape({latitude:Jc().required(),longitude:Jc().required()})})}const bHe=[{name:"Afghanistan",code:"AF"},{name:"Åland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Bosnia & Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Democratic Republic of Congo",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Curacao",code:"CW"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Czechoslovakia",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"West Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"South Korea",code:"KP"},{name:"North Korea",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia",code:"MK"},{name:"Yugoslavia",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia",code:"FM"},{name:"Moldova",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russia",code:"RU"},{name:"USSR",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Serbia",code:"RS"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syria",code:"SY"},{name:"Taiwan",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Wales",code:"GB-WLS"},{name:"Scotland",code:"GB-SCT"},{name:"Northern Ireland",code:"GB-NIR"},{name:"England",code:"GB-ENG"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}];function mq({r:e,g:t,b:i}){return .2126*e+.7152*t+.0722*i}const rL=(e,t)=>e.queryFeatures().then(i=>e.applyEdits({deleteFeatures:i.features,addFeatures:t})),BM=({children:e,loading:t,enabled:i})=>i?we("div",{className:"overflow-auto flex-1",children:_i(CBe,{className:"min-h-full",children:[t&&we(TBe,{type:"indeterminate",label:"Loading..."}),e]})}):null,gq=[{field:"birthState",altField:"birthCountry",label:"Birthplace",group:!0,transform:e=>typeof e!="string"?e.toString():ble(e)},{field:"lastName",label:"Last Name"},{field:"weight",label:"Weight"},{field:"height",label:"Height"},{field:"dateOfBirth",label:"Age",transform:Number},{field:"positionName",label:"Position",group:!0},{field:"jersey",label:"Jersey",transform:Number}],wHe=["Teams","Regions"],yq=e=>{const t=bHe.find(i=>i.name.toLowerCase()===e.toLowerCase());return t?`https://flagcdn.com/144x108/${t.code.toLowerCase()}.png`:e};function _He({teamId:e,mapView:t,onAthleteSelect:i,teamQuery:n,sport:r,onTeamSelect:s,mode:a,onModeChange:o}){const[l,c]=ye.useState("Country"),[h,p]=ye.useState(),m=n.data,g=ye.useMemo(()=>m==null?void 0:m.find(te=>te.attributes.id.toString()===e),[m,e]),{athletesLayer:y}=VBe(t,g,r),b=a==="Regions"&&!!h,w=a==="Teams"&&!!g,_=b||w,x=a==="Teams"&&!g,S=a==="Regions"&&!h;yle(t,"click",async te=>{const $e=await(t==null?void 0:t.hitTest(te,{include:[y]}));if(!$e||$e.results.length===0)throw new Error("Could not get map hit");const[Ue]=$e.results;if(gle(Ue)){const{graphic:Mi}=Ue;if(!Object.hasOwn(Mi.attributes,"id"))throw new Error("Could not get team id");const Ot=Mi.attributes;console.log(Ot),o("Regions"),c("City"),p({img:yq(Ot.birthCountry),count:1,Country:Ot.birthCountry,State:Ot.birthState??void 0,City:Ot.birthCity,label:Ot.birthCity})}});const k=_z(t,y),{data:A,isLoading:T}=PE({queryKey:["Regions",r,l],enabled:S,queryFn:async({signal:te})=>{const Ue={City:["birthCity","birthState","birthCountry"],State:["birthState","birthCountry"],Country:["birthCountry"]}[l],Mi=await(y==null?void 0:y.queryFeatures({where:`type = '${r}'`,returnGeometry:!1,groupByFieldsForStatistics:Ue,orderByFields:["count(*) desc"],outStatistics:[{statisticType:"count",onStatisticField:"*",outStatisticFieldName:"countOFExpr"}]},{signal:te}));return Mi==null?void 0:Mi.features.filter(Ot=>Ot.attributes[Ue[0]]).map(({attributes:Ot})=>({img:yq(Ot.birthCountry),Country:Ot.birthCountry,State:Ot.birthState??void 0,City:Ot.birthCity,count:Ot.countOFExpr,label:ble(Ot[Ue[0]])}))}}),{data:C,isLoading:M}=PE({queryKey:["regionAth",r,WS,l,h],enabled:b,queryFn:async({signal:te})=>{if(!h)return[];const{State:$e}=h,Ue=h[l],Mi=l==="State"?`type = '${r}' AND birthState = '${Ue}'`:l==="City"?`type = '${r}' AND birthCity = '${Ue}'${$e?` AND birthState = '${$e}'`:""}`:`type = '${r}' AND birthCountry = '${Ue}'`,Ot=await(y==null?void 0:y.queryFeatures({where:Mi,outFields:["*"]},{signal:te}));return Ot?YI().of(WS).validate(Ot.features.map(lc=>lc.attributes)):[]}}),{data:L,isLoading:V}=PE({queryKey:["relatedPlayers",g,r,WS],enabled:w,queryFn:async({signal:te})=>{if(!g)return[];const $e=await(k==null?void 0:k.queryFeatures({where:`type = '${r}' AND teamId = ${g==null?void 0:g.attributes.id}`,outFields:["*"],returnGeometry:!0},{signal:te}));return $e?YI().of(Ule(WS)).validate($e.features):[]},onError:te=>{console.log(te)},select:te=>(te==null?void 0:te.length)===0?void 0:te}),P=UI(t,{title:"Player Lines",source:[],objectIdField:"id",geometryType:"polyline",spatialReference:{wkid:4326},fields:[{name:"id",alias:"id",type:"oid"}],renderer:new Eu({symbol:new ms({color:[255,0,0,.25],width:1})}),effect:"bloom(1.7, 0.5px, 2%)"});ye.useEffect(()=>{let te=!1;async function $e(){if(te||(te=!0,await rL(P,[]),!L||!g))return;const Ue=new de(g.attributes.color),Mi=new de(g.attributes.alternateColor),Ot=mq(Ue)>mq(Mi)?Ue:Mi;Ot.a=.25,P.renderer=new Eu({symbol:new ms({color:Ot,width:2})});const lc=[g.geometry.longitude,g.geometry.latitude],oo=L.map(async({geometry:tx,attributes:zT})=>{const VT=new ja({paths:[[[tx.longitude,tx.latitude],lc]]});return new yr({geometry:VT,attributes:{...zT}})}),cc=await Promise.all(oo);await rL(P,cc),te=!1}return $e(),()=>{te=!0}},[L,P,g]);const[J,oe]=ye.useState(gq[0]),[se,rt]=ye.useState("asc"),[tt,lt]=ye.useState("card"),Z=UBe((L==null?void 0:L.map(te=>te.attributes))??C??[],J,se),ge=ye.useMemo(()=>m==null?void 0:m.reduce((te,$e)=>({...te,[$e.attributes.id]:$e.attributes}),{}),[m]);return we("div",{className:"bg-foreground-2 h-full",children:_i(RBe,{layout:"center",className:"h-full",children:[!_&&we(DBe,{slot:"title-group",children:wHe.map((te,$e)=>we(OBe,{title:te,tabIndex:$e,selected:a===te?!0:void 0,onCalciteTabsActivate:Ue=>{o(Ue.target.title)},children:te},te))}),_i("div",{className:"flex flex-col bg-foreground-2 w-[400px] h-full",children:[w&&we(GS,{bgColor:g.attributes.color,onBackClick:()=>s(void 0),title:g.attributes.location,subtitle:g.attributes.name,logo:g.attributes.logo}),b&&we(GS,{onBackClick:()=>p(void 0),title:h.label,subtitle:null,logo:h.img}),S&&we(GS,{title:"Players By",subtitle:_i("select",{className:"text-3 pt-1 uppercase bg-transparent",onChange:te=>{c(te.target.value)},value:l,children:[we("option",{children:"Country"}),we("option",{children:"State"}),we("option",{children:"City"})]}),logo:ZG(r,{w:500,h:500})}),x&&we(GS,{title:(m==null?void 0:m[0].attributes.league)??"Teams",subtitle:"Teams",logo:ZG(r,{w:500,h:500})}),_&&_i("div",{className:"px-2 py-1 flex items-center justify-between",children:[_i(EBe,{layout:"horizontal",expandDisabled:!0,children:[we(WP,{icon:"embedded-card",active:tt==="card"?!0:void 0,onClick:()=>lt("card"),text:"Card",scale:"s"}),we(WP,{icon:"list",onClick:()=>lt("list"),active:tt==="list"?!0:void 0,text:"List",scale:"s"})]}),we(jBe,{fields:gq,sort:J,setSort:oe,sortDirection:se,setSortDirection:rt})]}),we(BM,{loading:w?V:M,enabled:_,children:Z==null?void 0:Z.map(([te,$e])=>_i(ye.Fragment,{children:[J.group&&we(l_,{label:te,className:"sticky top-0 z-sticky pointer-events-none bg-brand",style:{"--calcite-ui-foreground-1":"var(--calcite-ui-foreground-2)"}}),$e.map(Ue=>{var Mi;return we(FBe,{mode:tt,athlete:Ue,teamLogoUrl:(Mi=ge==null?void 0:ge[Ue.teamId])==null?void 0:Mi.logo,onClick:()=>i(Ue.id.toString())},`${Ue.type}-${Ue.id}`)})]},te))}),we(BM,{loading:n.isLoading,enabled:x,children:m==null?void 0:m.sort((te,$e)=>te.attributes.location.localeCompare($e.attributes.location)).map(te=>we(NBe,{team:te.attributes,onClick:s},te.attributes.id))}),we(BM,{loading:T,enabled:S,children:A==null?void 0:A.map((te,$e)=>_i(l_,{label:te.label,onClick:()=>{p(te)},children:[we("div",{slot:"content-start",className:"flex relative overflow-y-clip w-[100px] h-[100px] content-center",children:we("img",{src:te.img,alt:"Team Logo",height:"108px",width:"144px",loading:"lazy",className:"absolute inset-0 m-auto pl-2"})}),_i("div",{slot:"content",className:"flex flex-col items-end",children:[we("div",{className:"flex items-center text-2 text-end",children:te.label}),we("div",{className:"flex items-center text-n2 text-end",children:we("span",{children:te.count})})]})]},te[l]+$e))})]})]})})}const vq=u_().shape({id:Jc().required(),slug:Be().required(),location:Be().required(),name:Be().required(),nickname:Be().nullable(),abbreviation:Be().required(),displayName:Be().required(),shortDisplayName:Be().required(),color:Be().required().transform(e=>`#${e}`),alternateColor:Be().required().transform(e=>`#${e}`),isActive:Tz().required(),logo:Be().required(),athletesUrl:Be().required().url(),venueUrl:Be().url().nullable(),venueId:Be().nullable(),venueName:Be().nullable(),venueCity:Be().nullable(),venueState:Be().nullable(),venueCountry:Be().nullable(),venueAddress:Be().required(),league:Be().required()}),xHe="https://services1.arcgis.com/wQnFk5ouCfPzTlPw/arcgis/rest/services/ESPN_Big_Four_Teams/FeatureServer/0";function SHe(e,t,i){const n=UI(e,{url:xHe,title:"NHL Teams",outFields:["*"],visible:!1}),r=UI(e,{title:"Team Points",source:[],objectIdField:"ObjectId",geometryType:"point",spatialReference:{wkid:4326},outFields:["*"],fields:[{name:"ObjectId",alias:"ObjectId",type:"oid"},{name:"id",alias:"id",type:"string"},{name:"logo",alias:"logo",type:"string"},{name:"name",alias:"name",type:"string"}]}),s=_z(e,n);ye.useEffect(()=>{if(!e||!s)return;const o=new R4({where:`type = '${i}'`});s.filter=o},[e,i,s]),ye.useEffect(()=>{var o;if(!e||!t){(o=r.featureEffect)==null||o.destroy();return}r.featureEffect=new P4({excludedEffect:"opacity(20%)",filter:{where:`id = '${t}'`},excludedLabelsVisible:!1})},[r,e,t]);const a=PE({queryKey:["teamInfo",i,vq],queryFn:async({signal:o})=>{const l=await n.queryFeatures({where:`type = '${i}'`,outFields:["*"],returnGeometry:!0},{signal:o});return YI().of(Ule(vq)).validate(l.features)}});return ye.useEffect(()=>{const{data:o}=a;if(!o||!r)return;r.renderer=new iv({field:"logo",uniqueValueInfos:o.map(({attributes:c})=>({value:c==null?void 0:c.logo,symbol:new L_({url:c==null?void 0:c.logo,width:"48px",height:"48px"})}))});const l=o.map(({geometry:c,attributes:h})=>new yr({geometry:new Le({longitude:c.longitude,latitude:c.latitude}),attributes:{...h}}));rL(r,l)},[n.fields,a,r]),{teamsLayer:r,teamQuery:a}}function EHe(){const[e,t]=ye.useState(),[i,n]=ye.useState(),[r,s]=ye.useState(),[a,o]=ye.useState("Teams"),{selected:l,handleSelectionChange:c,itemProps:h}=PBe(KP.Hockey);ye.useEffect(()=>{n(void 0)},[l]);const{teamsLayer:p,teamQuery:m}=SHe(e,i,l);return ye.useEffect(()=>{a==="Regions"?(n(void 0),p.visible=!1):p.visible=!0},[a,p]),yle(e,"click",async g=>{const y=await(e==null?void 0:e.hitTest(g,{include:[p]}));if(!y||y.results.length===0)return n(void 0);const[b]=y.results;if(gle(b)){const{graphic:w}=b;if(!Object.hasOwn(w.attributes,"id"))throw new Error("Could not get team id");n(w.attributes.id)}}),we("div",{children:_i(MBe,{className:"calcite-mode-dark",children:[we(a9e,{mapProps:{basemap:new r_({baseLayers:[new ple({portalItem:{id:"4319987495b946418b1cde2f7c29ab1c"}})]})},mapViewProps:{ui:{components:[]},center:[-98,38.88],zoom:4,padding:{right:300},constraints:{minZoom:2,maxZoom:10,rotationEnabled:!1}},onMapViewLoad:g=>{t(g)},style:{height:"100vh"}}),_i("div",{className:"absolute inset-4 flex justify-between items-start pointer-events-none [&>*]:pointer-events-auto ",children:[we("div",{children:we($Be,{onCalciteSegmentedControlChange:c,children:Object.values(KP).map(g=>we(ABe,{...h(g,g)},g))})}),e&&we(_He,{mapView:e,teamId:i,teamQuery:m,onAthleteSelect:g=>{s(g)},sport:l,onTeamSelect:g=>{n(g==null?void 0:g.id.toString())},mode:a,onModeChange:o})]})]})})}NK(window.location.href);const kHe=PK(document.querySelector("#root")),IHe=new r7e({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});kHe.render(we(ye.StrictMode,{children:we(r9e,{children:we(b7e,{client:IHe,children:we(EHe,{})})})}));export{OC as $,SG as A,gQe as B,yQe as C,Nxe as D,fG as E,$G as F,CG as G,LQe as H,wG as I,EQe as J,$Qe as K,Cu as L,xP as M,TQe as N,_G as O,kG as P,hee as Q,mG as R,LHe as S,TG as T,Tt as U,OG as V,CHe as W,G as X,DG as Y,_oe as Z,h0 as _,Ui as a,vG as a$,Hi as a0,oZe as a1,H as a2,vs as a3,Si as a4,Rk as a5,X as a6,gt as a7,fs as a8,o4 as a9,bI as aA,Fd as aB,XKe as aC,Kl as aD,Le as aE,soe as aF,A0 as aG,jVe as aH,pz as aI,sVe as aJ,IG as aK,oQe as aL,Dh as aM,_Ve as aN,CP as aO,eu as aP,roe as aQ,rIe as aR,Pm as aS,PG as aT,bm as aU,je as aV,Bee as aW,$ee as aX,rne as aY,mm as aZ,gG as a_,zqe as aa,ps as ab,Z4e as ac,ew as ad,Ie as ae,Wf as af,Eje as ag,PJe as ah,FJe as ai,vn as aj,Iu as ak,Y as al,u as am,d as an,I as ao,m4 as ap,M_ as aq,VKe as ar,Eu as as,yr as at,Vee as au,x0 as av,ym as aw,ve as ax,fQ as ay,Gt as az,iXe as b,Wl as b$,bG as b0,RG as b1,yG as b2,G0 as b3,pG as b4,PZe as b5,nh as b6,MG as b7,DF as b8,jG as b9,jWe as bA,Qo as bB,HQ as bC,l2e as bD,ZGe as bE,SD as bF,z5 as bG,ds as bH,ui as bI,VQe as bJ,fH as bK,poe as bL,ut as bM,fQe as bN,pQe as bO,loe as bP,nXe as bQ,Ru as bR,gn as bS,k4 as bT,RQe as bU,PQe as bV,Yh as bW,Uy as bX,xh as bY,gN as bZ,YX as b_,VG as ba,PC as bb,FG as bc,VC as bd,yPe as be,Dm as bf,Ah as bg,oc as bh,W as bi,FF as bj,ee as bk,ue as bl,bj as bm,one as bn,$Oe as bo,VWe as bp,gs as bq,Pu as br,PF as bs,B0 as bt,wu as bu,Vi as bv,io as bw,JGe as bx,Tn as by,Rr as bz,sc as c,VN as c$,CT as c0,sqe as c1,Zae as c2,Lae as c3,Qae as c4,hVe as c5,xJe as c6,SVe as c7,a_ as c8,SJe as c9,pYe as cA,dYe as cB,AC as cC,R4 as cD,oI as cE,Ly as cF,QTe as cG,M0 as cH,P4 as cI,fX as cJ,DGe as cK,NGe as cL,OGe as cM,PGe as cN,RGe as cO,LGe as cP,Fw as cQ,Ws as cR,vEe as cS,xie as cT,z as cU,Nse as cV,zse as cW,fYe as cX,x4e as cY,w4e as cZ,DQe as c_,Hw as ca,bu as cb,eKe as cc,Bf as cd,x2e as ce,vqe as cf,Sne as cg,oKe as ch,r9 as ci,_ne as cj,tl as ck,NI as cl,bqe as cm,dqe as cn,EGe as co,A_ as cp,kIe as cq,IIe as cr,Vs as cs,MF as ct,eN as cu,cX as cv,_Ge as cw,XF as cx,QF as cy,hYe as cz,UF as d,C_e as d$,mt as d0,iPe as d1,CYe as d2,nt as d3,ou as d4,qne as d5,dG as d6,aje as d7,DP as d8,Yl as d9,ja as dA,CIe as dB,hr as dC,br as dD,R as dE,Ol as dF,mI as dG,j0 as dH,Lie as dI,xt as dJ,TZ as dK,Ti as dL,Qs as dM,w0 as dN,Ny as dO,Pqe as dP,qIe as dQ,Ys as dR,WC as dS,S_ as dT,Fa as dU,Uqe as dV,rv as dW,NPe as dX,Nqe as dY,_We as dZ,k_e as d_,yf as da,gf as db,Ni as dc,mBe as dd,hG as de,tPe as df,pqe as dg,lQe as dh,kKe as di,cQe as dj,de as dk,Hh as dl,woe as dm,JC as dn,Yie as dp,TDe as dq,$De as dr,yqe as ds,FC as dt,J$e as du,hqe as dv,pQ as dw,Lte as dx,oT as dy,zC as dz,_E as e,Rf as e$,LG as e0,LZe as e1,AG as e2,RHe as e3,Ns as e4,AP as e5,MP as e6,Ma as e7,zZe as e8,TH as e9,EIe as eA,dQe as eB,uQe as eC,xu as eD,zH as eE,BH as eF,Bh as eG,bH as eH,uH as eI,dH as eJ,hH as eK,DH as eL,sG as eM,lG as eN,wH as eO,aG as eP,BZe as eQ,fqe as eR,HQe as eS,MGe as eT,RF as eU,aH as eV,nN as eW,um as eX,dS as eY,sne as eZ,_2e as e_,SH as ea,EH as eb,VH as ec,kH as ed,MH as ee,KH as ef,lH as eg,YH as eh,W$ as ei,JH as ej,KQ as ek,YF as el,S2e as em,y2e as en,DD as eo,YQ as ep,wGe as eq,ZH as er,SGe as es,pae as et,gae as eu,mae as ev,Xze as ew,Nl as ex,n_ as ey,ET as ez,gi as f,MQe as f$,hy as f0,F1 as f1,Dn as f2,v2 as f3,iU as f4,jQe as f5,UQe as f6,dKe as f7,iKe as f8,BQe as f9,rKe as fA,tKe as fB,jOe as fC,uKe as fD,s9 as fE,OQe as fF,AQe as fG,sQe as fH,AHe as fI,MHe as fJ,H4e as fK,mQe as fL,vQe as fM,bQe as fN,wQe as fO,_Qe as fP,kQe as fQ,IQe as fR,FQe as fS,zQe as fT,NQe as fU,C5e as fV,Ine as fW,i6e as fX,xQe as fY,hb as fZ,CQe as f_,hQe as fa,az as fb,WQe as fc,qQe as fd,GQe as fe,KQe as ff,YQe as fg,aQe as fh,fBe as fi,QQe as fj,ZQe as fk,JQe as fl,XQe as fm,eXe as fn,oPe as fo,zKe as fp,lPe as fq,FKe as fr,gr as fs,W0 as ft,NKe as fu,n4e as fv,r4e as fw,s4e as fx,T5e as fy,Cne as fz,GX as g,kae as g$,wt as g0,lI as g1,Om as g2,CN as g3,ku as g4,qe as g5,H_ as g6,ur as g7,rNe as g8,O4e as g9,Wt as gA,Hf as gB,xe as gC,w_e as gD,c9e as gE,bre as gF,Vse as gG,Bse as gH,A4 as gI,$He as gJ,gT as gK,QPe as gL,nc as gM,EZ as gN,Vqe as gO,ESe as gP,TKe as gQ,YRe as gR,Z2e as gS,aEe as gT,Ph as gU,kSe as gV,$qe as gW,lKe as gX,Zie as gY,PWe as gZ,DIe as g_,_9e as ga,C0 as gb,KKe as gc,mGe as gd,FGe as ge,at as gf,ct as gg,vm as gh,Rh as gi,r5 as gj,ai as gk,n5 as gl,a5 as gm,hI as gn,K$e as go,BHe as gp,bN as gq,$j as gr,kGe as gs,Sqe as gt,Aqe as gu,dWe as gv,fke as gw,LVe as gx,NVe as gy,qn as gz,THe as h,$Se as h$,cD as h0,kZ as h1,XNe as h2,e4e as h3,t4e as h4,wqe as h5,IGe as h6,VQ as h7,OQ as h8,cKe as h9,Dke as hA,YGe as hB,zHe as hC,lee as hD,b$e as hE,wte as hF,pke as hG,fWe as hH,_te as hI,z_ as hJ,R$e as hK,_ke as hL,O$e as hM,zEe as hN,RVe as hO,vGe as hP,pGe as hQ,GF as hR,WF as hS,KVe as hT,nje as hU,r$e as hV,p0 as hW,ga as hX,TSe as hY,RQ as hZ,PQ as h_,ZWe as ha,Ene as hb,vne as hc,QDe as hd,zGe as he,oX as hf,xGe as hg,s2e as hh,h2e as hi,NC as hj,bGe as hk,Wa as hl,VHe as hm,vh as hn,OHe as ho,oUe as hp,FHe as hq,JX as hr,oO as hs,XX as ht,XGe as hu,Ske as hv,lke as hw,qX as hx,lO as hy,ZEe as hz,VVe as i,Nt as i$,ao as i0,Mke as i1,Oke as i2,zke as i3,Hke as i4,oee as i5,see as i6,aee as i7,Bke as i8,Yke as i9,UGe as iA,VGe as iB,eqe as iC,$te as iD,f4 as iE,vKe as iF,P1 as iG,r5e as iH,QOe as iI,KU as iJ,l5e as iK,aKe as iL,ITe as iM,DKe as iN,Fxe as iO,RA as iP,PA as iQ,QWe as iR,Xt as iS,UWe as iT,DHe as iU,hUe as iV,OIe as iW,nKe as iX,une as iY,__e as iZ,mke as i_,Jke as ia,$ke as ib,HC as ic,ZKe as id,OWe as ie,CC as ig,vre as ih,YWe as ii,qWe as ij,HWe as ik,sKe as il,o5e as im,Jw as io,KWe as ip,bWe as iq,wWe as ir,gqe as is,vu as it,jy as iu,Ere as iv,kOe as iw,XWe as ix,sN as iy,jGe as iz,Vr as j,wYe as j$,Gy as j0,dDe as j1,d5 as j2,FYe as j3,WB as j4,KB as j5,i_ as j6,tRe as j7,iRe as j8,Ij as j9,RP as jA,sXe as jB,aXe as jC,PP as jD,OP as jE,WZe as jF,Ar as jG,jZe as jH,nfe as jI,ys as jJ,Fve as jK,TJ as jL,Ope as jM,Te as jN,Su as jO,DPe as jP,fr as jQ,jo as jR,g5e as jS,WWe as jT,DZe as jU,QN as jV,yYe as jW,PHe as jX,Q4 as jY,bYe as jZ,vYe as j_,ZX as ja,cke as jb,ske as jc,QX as jd,Gk as je,rVe as jf,jEe as jg,NRe as jh,fT as ji,tv as jj,u$e as jk,tqe as jl,HHe as jm,dCe as jn,$N as jo,wxe as jp,L2e as jq,Ia as jr,GZe as js,gz as jt,VI as ju,A9e as jv,qZe as jw,HZe as jx,E9e as jy,Or as jz,aoe as k,ZPe as k$,xWe as k0,Ou as k1,WQ as k2,Mee as k3,lh as k4,Ree as k5,wKe as k6,_0 as k7,B1 as k8,HO as k9,iLe as kA,zPe as kB,D4 as kC,jPe as kD,UPe as kE,E_e as kF,I_e as kG,AN as kH,gm as kI,T_ as kJ,wj as kK,gTe as kL,Ra as kM,W$e as kN,T4e as kO,wre as kP,E4e as kQ,GPe as kR,U4e as kS,_j as kT,pX as kU,F4 as kV,_T as kW,LB as kX,XPe as kY,VR as kZ,mT as k_,Gi as ka,DOe as kb,JKe as kc,BPe as kd,d3e as ke,LMe as kf,kqe as kg,Mqe as kh,Dqe as ki,O4 as kj,J4 as kk,V4e as kl,qc as km,QKe as kn,O9 as ko,eze as kp,hPe as kq,L4 as kr,G4e as ks,eo as kt,P6e as ku,pee as kv,fre as kw,xae as kx,eYe as ky,eLe as kz,UVe as l,H8e as l$,Z4 as l0,Yse as l1,Pw as l2,bs as l3,ms as l4,L_ as l5,Wh as l6,t8e as l7,e8e as l8,Q6e as l9,MC as lA,R_ as lB,Bw as lC,rh as lD,Lr as lE,xCe as lF,KC as lG,SCe as lH,jqe as lI,jHe as lJ,p_e as lK,wN as lL,Eqe as lM,xqe as lN,$0 as lO,Tse as lP,LF as lQ,Mg as lR,b5 as lS,INe as lT,Hk as lU,J0 as lV,mqe as lW,_qe as lX,cXe as lY,Tj as lZ,FVe as l_,s7 as la,mr as lb,pT as lc,qSe as ld,GSe as le,gGe as lf,OA as lg,exe as lh,J4e as li,X0 as lj,E4 as lk,Rne as ll,dOe as lm,xRe as ln,hOe as lo,zne as lp,Gne as lq,SI as lr,iv as ls,Ane as lt,J1 as lu,VPe as lv,zoe as lw,ka as lx,hWe as ly,KZ as lz,Z_ as m,IN as m$,z8e as m0,hN as m1,Lqe as m2,to as m3,ec as m4,RX as m5,YC as m6,jV as m7,e_ as m8,HPe as m9,gNe as mA,yNe as mB,vNe as mC,bNe as mD,Kse as mE,U0 as mF,YEe as mG,QGe as mH,KX as mI,VEe as mJ,WX as mK,tLe as mL,YKe as mM,Rqe as mN,vSe as mO,oj as mP,E as mQ,fGe as mR,CKe as mS,IKe as mT,Y4 as mU,AGe as mV,_u as mW,Mh as mX,$se as mY,cN as mZ,pWe as m_,LKe as ma,_h as mb,CB as mc,Uw as md,rLe as me,nLe as mf,Uh as mg,tT as mh,p4 as mi,wNe as mj,$Pe as mk,Fu as ml,uYe as mm,cYe as mn,lYe as mo,zNe as mp,SNe as mq,ENe as mr,lNe as ms,cNe as mt,uNe as mu,dNe as mv,hNe as mw,pNe as mx,fNe as my,mNe as mz,iGe as n,UEe as n0,lne as n1,k0 as n2,Bqe as n3,l3e as n4,hS as n5,V5 as n6,Fse as n7,ig as n8,fne as n9,lXe as nA,dje as na,hje as nb,oje as nc,Cke as nd,S_e as ne,ACe as nf,Iqe as ng,Cqe as nh,L$e as ni,P$e as nj,n$e as nk,lT as nl,PI as nm,i3e as nn,Tqe as no,oCe as np,d$e as nq,s$e as nr,HX as ns,Fqe as nt,iqe as nu,GCe as nv,hKe as nw,C4 as nx,SKe as ny,TYe as nz,lZe as o,mN as p,xG as q,$ as r,N as s,j as t,SQe as u,Vn as v,Ze as w,tXe as x,f_e as y,EG as z};
